(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var dZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vy={exports:{}},kd={};var hE;function dk(){if(hE)return kd;hE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return kd.Fragment=e,kd.jsx=n,kd.jsxs=n,kd}var dE;function pk(){return dE||(dE=1,Vy.exports=dk()),Vy.exports}var ne=pk(),qy={exports:{}},kn={};var pE;function mk(){if(pE)return kn;pE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function m(re){return re===null||typeof re!="object"?null:(re=y&&re[y]||re["@@iterator"],typeof re=="function"?re:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,R={};function E(re,O,ee){this.props=re,this.context=O,this.refs=R,this.updater=ee||x}E.prototype.isReactComponent={},E.prototype.setState=function(re,O){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,O,"setState")},E.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function M(){}M.prototype=E.prototype;function P(re,O,ee){this.props=re,this.context=O,this.refs=R,this.updater=ee||x}var N=P.prototype=new M;N.constructor=P,S(N,E.prototype),N.isPureReactComponent=!0;var $=Array.isArray;function Q(){}var V={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function C(re,O,ee){var se=ee.ref;return{$$typeof:t,type:re,key:O,ref:se!==void 0?se:null,props:ee}}function X(re,O){return C(re.type,O,re.props)}function W(re){return typeof re=="object"&&re!==null&&re.$$typeof===t}function D(re){var O={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(ee){return O[ee]})}var B=/\/+/g;function F(re,O){return typeof re=="object"&&re!==null&&re.key!=null?D(""+re.key):O.toString(36)}function ve(re){switch(re.status){case"fulfilled":return re.value;case"rejected":throw re.reason;default:switch(typeof re.status=="string"?re.then(Q,Q):(re.status="pending",re.then(function(O){re.status==="pending"&&(re.status="fulfilled",re.value=O)},function(O){re.status==="pending"&&(re.status="rejected",re.reason=O)})),re.status){case"fulfilled":return re.value;case"rejected":throw re.reason}}throw re}function ce(re,O,ee,se,me){var ue=typeof re;(ue==="undefined"||ue==="boolean")&&(re=null);var H=!1;if(re===null)H=!0;else switch(ue){case"bigint":case"string":case"number":H=!0;break;case"object":switch(re.$$typeof){case t:case e:H=!0;break;case d:return H=re._init,ce(H(re._payload),O,ee,se,me)}}if(H)return me=me(re),H=se===""?"."+F(re,0):se,$(me)?(ee="",H!=null&&(ee=H.replace(B,"$&/")+"/"),ce(me,O,ee,"",function(he){return he})):me!=null&&(W(me)&&(me=X(me,ee+(me.key==null||re&&re.key===me.key?"":(""+me.key).replace(B,"$&/")+"/")+H)),O.push(me)),1;H=0;var j=se===""?".":se+":";if($(re))for(var ge=0;ge<re.length;ge++)se=re[ge],ue=j+F(se,ge),H+=ce(se,O,ee,ue,me);else if(ge=m(re),typeof ge=="function")for(re=ge.call(re),ge=0;!(se=re.next()).done;)se=se.value,ue=j+F(se,ge++),H+=ce(se,O,ee,ue,me);else if(ue==="object"){if(typeof re.then=="function")return ce(ve(re),O,ee,se,me);throw O=String(re),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return H}function ae(re,O,ee){if(re==null)return re;var se=[],me=0;return ce(re,se,"","",function(ue){return O.call(ee,ue,me++)}),se}function _e(re){if(re._status===-1){var O=re._result;O=O(),O.then(function(ee){(re._status===0||re._status===-1)&&(re._status=1,re._result=ee)},function(ee){(re._status===0||re._status===-1)&&(re._status=2,re._result=ee)}),re._status===-1&&(re._status=0,re._result=O)}if(re._status===1)return re._result.default;throw re._result}var xe=typeof reportError=="function"?reportError:function(re){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof re=="object"&&re!==null&&typeof re.message=="string"?String(re.message):String(re),error:re});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",re);return}console.error(re)},Ue={map:ae,forEach:function(re,O,ee){ae(re,function(){O.apply(this,arguments)},ee)},count:function(re){var O=0;return ae(re,function(){O++}),O},toArray:function(re){return ae(re,function(O){return O})||[]},only:function(re){if(!W(re))throw Error("React.Children.only expected to receive a single React element child.");return re}};return kn.Activity=g,kn.Children=Ue,kn.Component=E,kn.Fragment=n,kn.Profiler=i,kn.PureComponent=P,kn.StrictMode=r,kn.Suspense=c,kn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,kn.__COMPILER_RUNTIME={__proto__:null,c:function(re){return V.H.useMemoCache(re)}},kn.cache=function(re){return function(){return re.apply(null,arguments)}},kn.cacheSignal=function(){return null},kn.cloneElement=function(re,O,ee){if(re==null)throw Error("The argument must be a React element, but you passed "+re+".");var se=S({},re.props),me=re.key;if(O!=null)for(ue in O.key!==void 0&&(me=""+O.key),O)!G.call(O,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&O.ref===void 0||(se[ue]=O[ue]);var ue=arguments.length-2;if(ue===1)se.children=ee;else if(1<ue){for(var H=Array(ue),j=0;j<ue;j++)H[j]=arguments[j+2];se.children=H}return C(re.type,me,se)},kn.createContext=function(re){return re={$$typeof:l,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null},re.Provider=re,re.Consumer={$$typeof:s,_context:re},re},kn.createElement=function(re,O,ee){var se,me={},ue=null;if(O!=null)for(se in O.key!==void 0&&(ue=""+O.key),O)G.call(O,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(me[se]=O[se]);var H=arguments.length-2;if(H===1)me.children=ee;else if(1<H){for(var j=Array(H),ge=0;ge<H;ge++)j[ge]=arguments[ge+2];me.children=j}if(re&&re.defaultProps)for(se in H=re.defaultProps,H)me[se]===void 0&&(me[se]=H[se]);return C(re,ue,me)},kn.createRef=function(){return{current:null}},kn.forwardRef=function(re){return{$$typeof:u,render:re}},kn.isValidElement=W,kn.lazy=function(re){return{$$typeof:d,_payload:{_status:-1,_result:re},_init:_e}},kn.memo=function(re,O){return{$$typeof:f,type:re,compare:O===void 0?null:O}},kn.startTransition=function(re){var O=V.T,ee={};V.T=ee;try{var se=re(),me=V.S;me!==null&&me(ee,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Q,xe)}catch(ue){xe(ue)}finally{O!==null&&ee.types!==null&&(O.types=ee.types),V.T=O}},kn.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},kn.use=function(re){return V.H.use(re)},kn.useActionState=function(re,O,ee){return V.H.useActionState(re,O,ee)},kn.useCallback=function(re,O){return V.H.useCallback(re,O)},kn.useContext=function(re){return V.H.useContext(re)},kn.useDebugValue=function(){},kn.useDeferredValue=function(re,O){return V.H.useDeferredValue(re,O)},kn.useEffect=function(re,O){return V.H.useEffect(re,O)},kn.useEffectEvent=function(re){return V.H.useEffectEvent(re)},kn.useId=function(){return V.H.useId()},kn.useImperativeHandle=function(re,O,ee){return V.H.useImperativeHandle(re,O,ee)},kn.useInsertionEffect=function(re,O){return V.H.useInsertionEffect(re,O)},kn.useLayoutEffect=function(re,O){return V.H.useLayoutEffect(re,O)},kn.useMemo=function(re,O){return V.H.useMemo(re,O)},kn.useOptimistic=function(re,O){return V.H.useOptimistic(re,O)},kn.useReducer=function(re,O,ee){return V.H.useReducer(re,O,ee)},kn.useRef=function(re){return V.H.useRef(re)},kn.useState=function(re){return V.H.useState(re)},kn.useSyncExternalStore=function(re,O,ee){return V.H.useSyncExternalStore(re,O,ee)},kn.useTransition=function(){return V.H.useTransition()},kn.version="19.2.4",kn}var mE;function Nw(){return mE||(mE=1,qy.exports=mk()),qy.exports}var tt=Nw();const gk=eC(tt);var zy={exports:{}},Ld={},Hy={exports:{}},Gy={};var gE;function yk(){return gE||(gE=1,(function(t){function e(ce,ae){var _e=ce.length;ce.push(ae);e:for(;0<_e;){var xe=_e-1>>>1,Ue=ce[xe];if(0<i(Ue,ae))ce[xe]=ae,ce[_e]=Ue,_e=xe;else break e}}function n(ce){return ce.length===0?null:ce[0]}function r(ce){if(ce.length===0)return null;var ae=ce[0],_e=ce.pop();if(_e!==ae){ce[0]=_e;e:for(var xe=0,Ue=ce.length,re=Ue>>>1;xe<re;){var O=2*(xe+1)-1,ee=ce[O],se=O+1,me=ce[se];if(0>i(ee,_e))se<Ue&&0>i(me,ee)?(ce[xe]=me,ce[se]=_e,xe=se):(ce[xe]=ee,ce[O]=_e,xe=O);else if(se<Ue&&0>i(me,_e))ce[xe]=me,ce[se]=_e,xe=se;else break e}}return ae}function i(ce,ae){var _e=ce.sortIndex-ae.sortIndex;return _e!==0?_e:ce.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],f=[],d=1,g=null,y=3,m=!1,x=!1,S=!1,R=!1,E=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function N(ce){for(var ae=n(f);ae!==null;){if(ae.callback===null)r(f);else if(ae.startTime<=ce)r(f),ae.sortIndex=ae.expirationTime,e(c,ae);else break;ae=n(f)}}function $(ce){if(S=!1,N(ce),!x)if(n(c)!==null)x=!0,Q||(Q=!0,D());else{var ae=n(f);ae!==null&&ve($,ae.startTime-ce)}}var Q=!1,V=-1,G=5,C=-1;function X(){return R?!0:!(t.unstable_now()-C<G)}function W(){if(R=!1,Q){var ce=t.unstable_now();C=ce;var ae=!0;try{e:{x=!1,S&&(S=!1,M(V),V=-1),m=!0;var _e=y;try{t:{for(N(ce),g=n(c);g!==null&&!(g.expirationTime>ce&&X());){var xe=g.callback;if(typeof xe=="function"){g.callback=null,y=g.priorityLevel;var Ue=xe(g.expirationTime<=ce);if(ce=t.unstable_now(),typeof Ue=="function"){g.callback=Ue,N(ce),ae=!0;break t}g===n(c)&&r(c),N(ce)}else r(c);g=n(c)}if(g!==null)ae=!0;else{var re=n(f);re!==null&&ve($,re.startTime-ce),ae=!1}}break e}finally{g=null,y=_e,m=!1}ae=void 0}}finally{ae?D():Q=!1}}}var D;if(typeof P=="function")D=function(){P(W)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,F=B.port2;B.port1.onmessage=W,D=function(){F.postMessage(null)}}else D=function(){E(W,0)};function ve(ce,ae){V=E(function(){ce(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ce){ce.callback=null},t.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<ce?Math.floor(1e3/ce):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(ce){switch(y){case 1:case 2:case 3:var ae=3;break;default:ae=y}var _e=y;y=ae;try{return ce()}finally{y=_e}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(ce,ae){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var _e=y;y=ce;try{return ae()}finally{y=_e}},t.unstable_scheduleCallback=function(ce,ae,_e){var xe=t.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?xe+_e:xe):_e=xe,ce){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=_e+Ue,ce={id:d++,callback:ae,priorityLevel:ce,startTime:_e,expirationTime:Ue,sortIndex:-1},_e>xe?(ce.sortIndex=_e,e(f,ce),n(c)===null&&ce===n(f)&&(S?(M(V),V=-1):S=!0,ve($,_e-xe))):(ce.sortIndex=Ue,e(c,ce),x||m||(x=!0,Q||(Q=!0,D()))),ce},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(ce){var ae=y;return function(){var _e=y;y=ae;try{return ce.apply(this,arguments)}finally{y=_e}}}})(Gy)),Gy}var yE;function vk(){return yE||(yE=1,Hy.exports=yk()),Hy.exports}var jy={exports:{}},zs={};var vE;function wk(){if(vE)return zs;vE=1;var t=Nw();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,f,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:c,containerInfo:f,implementation:d}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return zs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,zs.createPortal=function(c,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(c,f,null,d)},zs.flushSync=function(c){var f=l.T,d=r.p;try{if(l.T=null,r.p=2,c)return c()}finally{l.T=f,r.p=d,r.d.f()}},zs.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},zs.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},zs.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var d=f.as,g=u(d,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,m=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:m}):d==="script"&&r.d.X(c,{crossOrigin:g,integrity:y,fetchPriority:m,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},zs.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},zs.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,g=u(d,f.crossOrigin);r.d.L(c,d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},zs.preloadModule=function(c,f){if(typeof c=="string")if(f){var d=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},zs.requestFormReset=function(c){r.d.r(c)},zs.unstable_batchedUpdates=function(c,f){return c(f)},zs.useFormState=function(c,f,d){return l.H.useFormState(c,f,d)},zs.useFormStatus=function(){return l.H.useHostTransitionStatus()},zs.version="19.2.4",zs}var wE;function _k(){if(wE)return jy.exports;wE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jy.exports=wk(),jy.exports}var _E;function bk(){if(_E)return Ld;_E=1;var t=vk(),e=Nw(),n=_k();function r(o){var a="https://react.dev/errors/"+o;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var a=o,h=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(h=a.return),o=a.return;while(o)}return a.tag===3?h:null}function l(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function u(o){if(o.tag===31){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function c(o){if(s(o)!==o)throw Error(r(188))}function f(o){var a=o.alternate;if(!a){if(a=s(o),a===null)throw Error(r(188));return a!==o?null:o}for(var h=o,p=a;;){var A=h.return;if(A===null)break;var k=A.alternate;if(k===null){if(p=A.return,p!==null){h=p;continue}break}if(A.child===k.child){for(k=A.child;k;){if(k===h)return c(A),o;if(k===p)return c(A),a;k=k.sibling}throw Error(r(188))}if(h.return!==p.return)h=A,p=k;else{for(var ie=!1,Ee=A.child;Ee;){if(Ee===h){ie=!0,h=A,p=k;break}if(Ee===p){ie=!0,p=A,h=k;break}Ee=Ee.sibling}if(!ie){for(Ee=k.child;Ee;){if(Ee===h){ie=!0,h=k,p=A;break}if(Ee===p){ie=!0,p=k,h=A;break}Ee=Ee.sibling}if(!ie)throw Error(r(189))}}if(h.alternate!==p)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:a}function d(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o;for(o=o.child;o!==null;){if(a=d(o),a!==null)return a;o=o.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),P=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function D(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var B=Symbol.for("react.client.reference");function F(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===B?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case E:return"Profiler";case R:return"StrictMode";case $:return"Suspense";case Q:return"SuspenseList";case C:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case x:return"Portal";case P:return o.displayName||"Context";case M:return(o._context.displayName||"Context")+".Consumer";case N:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case V:return a=o.displayName||null,a!==null?a:F(o.type)||"Memo";case G:a=o._payload,o=o._init;try{return F(o(a))}catch{}}return null}var ve=Array.isArray,ce=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},xe=[],Ue=-1;function re(o){return{current:o}}function O(o){0>Ue||(o.current=xe[Ue],xe[Ue]=null,Ue--)}function ee(o,a){Ue++,xe[Ue]=o.current,o.current=a}var se=re(null),me=re(null),ue=re(null),H=re(null);function j(o,a){switch(ee(ue,a),ee(me,o),ee(se,null),a.nodeType){case 9:case 11:o=(o=a.documentElement)&&(o=o.namespaceURI)?M5(o):0;break;default:if(o=a.tagName,a=a.namespaceURI)a=M5(a),o=O5(a,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}O(se),ee(se,o)}function ge(){O(se),O(me),O(ue)}function he(o){o.memoizedState!==null&&ee(H,o);var a=se.current,h=O5(a,o.type);a!==h&&(ee(me,o),ee(se,h))}function le(o){me.current===o&&(O(se),O(me)),H.current===o&&(O(H),Cd._currentValue=_e)}var pe,De;function z(o){if(pe===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);pe=a&&a[1]||"",De=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+o+De}var Z=!1;function Y(o,a){if(!o||Z)return"";Z=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(a){var bt=function(){throw Error()};if(Object.defineProperty(bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(bt,[])}catch(ot){var it=ot}Reflect.construct(o,[],bt)}else{try{bt.call()}catch(ot){it=ot}o.call(bt.prototype)}}else{try{throw Error()}catch(ot){it=ot}(bt=o())&&typeof bt.catch=="function"&&bt.catch(function(){})}}catch(ot){if(ot&&it&&typeof ot.stack=="string")return[ot.stack,it.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=p.DetermineComponentFrameRoot(),ie=k[0],Ee=k[1];if(ie&&Ee){var Me=ie.split(`
`),Qe=Ee.split(`
`);for(A=p=0;p<Me.length&&!Me[p].includes("DetermineComponentFrameRoot");)p++;for(;A<Qe.length&&!Qe[A].includes("DetermineComponentFrameRoot");)A++;if(p===Me.length||A===Qe.length)for(p=Me.length-1,A=Qe.length-1;1<=p&&0<=A&&Me[p]!==Qe[A];)A--;for(;1<=p&&0<=A;p--,A--)if(Me[p]!==Qe[A]){if(p!==1||A!==1)do if(p--,A--,0>A||Me[p]!==Qe[A]){var pt=`
`+Me[p].replace(" at new "," at ");return o.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",o.displayName)),pt}while(1<=p&&0<=A);break}}}finally{Z=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?z(h):""}function I(o,a){switch(o.tag){case 26:case 27:case 5:return z(o.type);case 16:return z("Lazy");case 13:return o.child!==a&&a!==null?z("Suspense Fallback"):z("Suspense");case 19:return z("SuspenseList");case 0:case 15:return Y(o.type,!1);case 11:return Y(o.type.render,!1);case 1:return Y(o.type,!0);case 31:return z("Activity");default:return""}}function L(o){try{var a="",h=null;do a+=I(o,h),h=o,o=o.return;while(o);return a}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var q=Object.prototype.hasOwnProperty,ye=t.unstable_scheduleCallback,Ce=t.unstable_cancelCallback,Ae=t.unstable_shouldYield,Oe=t.unstable_requestPaint,We=t.unstable_now,He=t.unstable_getCurrentPriorityLevel,Ze=t.unstable_ImmediatePriority,_t=t.unstable_UserBlockingPriority,xt=t.unstable_NormalPriority,Nt=t.unstable_LowPriority,Ft=t.unstable_IdlePriority,Dt=t.log,gn=t.unstable_setDisableYieldValue,Mt=null,Ot=null;function tn(o){if(typeof Dt=="function"&&gn(o),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Mt,o)}catch{}}var sn=Math.clz32?Math.clz32:Kt,zt=Math.log,Pn=Math.LN2;function Kt(o){return o>>>=0,o===0?32:31-(zt(o)/Pn|0)|0}var on=256,Hn=262144,Ut=4194304;function qt(o){var a=o&42;if(a!==0)return a;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Tn(o,a,h){var p=o.pendingLanes;if(p===0)return 0;var A=0,k=o.suspendedLanes,ie=o.pingedLanes;o=o.warmLanes;var Ee=p&134217727;return Ee!==0?(p=Ee&~k,p!==0?A=qt(p):(ie&=Ee,ie!==0?A=qt(ie):h||(h=Ee&~o,h!==0&&(A=qt(h))))):(Ee=p&~k,Ee!==0?A=qt(Ee):ie!==0?A=qt(ie):h||(h=p&~o,h!==0&&(A=qt(h)))),A===0?0:a!==0&&a!==A&&(a&k)===0&&(k=A&-A,h=a&-a,k>=h||k===32&&(h&4194048)!==0)?a:A}function pi(o,a){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&a)===0}function je(o,a){switch(o){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lt(){var o=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),o}function Pe(o){for(var a=[],h=0;31>h;h++)a.push(o);return a}function et(o,a){o.pendingLanes|=a,a!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function kt(o,a,h,p,A,k){var ie=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var Ee=o.entanglements,Me=o.expirationTimes,Qe=o.hiddenUpdates;for(h=ie&~h;0<h;){var pt=31-sn(h),bt=1<<pt;Ee[pt]=0,Me[pt]=-1;var it=Qe[pt];if(it!==null)for(Qe[pt]=null,pt=0;pt<it.length;pt++){var ot=it[pt];ot!==null&&(ot.lane&=-536870913)}h&=~bt}p!==0&&Yt(o,p,0),k!==0&&A===0&&o.tag!==0&&(o.suspendedLanes|=k&~(ie&~a))}function Yt(o,a,h){o.pendingLanes|=a,o.suspendedLanes&=~a;var p=31-sn(a);o.entangledLanes|=a,o.entanglements[p]=o.entanglements[p]|1073741824|h&261930}function un(o,a){var h=o.entangledLanes|=a;for(o=o.entanglements;h;){var p=31-sn(h),A=1<<p;A&a|o[p]&a&&(o[p]|=a),h&=~A}}function Yn(o,a){var h=a&-a;return h=(h&42)!==0?1:bn(h),(h&(o.suspendedLanes|a))!==0?0:h}function bn(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function yn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function $n(){var o=ae.p;return o!==0?o:(o=window.event,o===void 0?32:sE(o.type))}function Gn(o,a){var h=ae.p;try{return ae.p=o,a()}finally{ae.p=h}}var Ie=Math.random().toString(36).slice(2),rt="__reactFiber$"+Ie,vt="__reactProps$"+Ie,ut="__reactContainer$"+Ie,ht="__reactEvents$"+Ie,gt="__reactListeners$"+Ie,Ct="__reactHandles$"+Ie,En="__reactResources$"+Ie,On="__reactMarker$"+Ie;function nn(o){delete o[rt],delete o[vt],delete o[ht],delete o[gt],delete o[Ct]}function Sr(o){var a=o[rt];if(a)return a;for(var h=o.parentNode;h;){if(a=h[ut]||h[rt]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(o=H5(o);o!==null;){if(h=o[rt])return h;o=H5(o)}return a}o=h,h=o.parentNode}return null}function xr(o){if(o=o[rt]||o[ut]){var a=o.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return o}return null}function hr(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o.stateNode;throw Error(r(33))}function ei(o){var a=o[En];return a||(a=o[En]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Gr(o){o[On]=!0}var Bo=new Set,Gi={};function Zi(o,a){fs(o,a),fs(o+"Capture",a)}function fs(o,a){for(Gi[o]=a,o=0;o<a.length;o++)Bo.add(a[o])}var Bn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jr={},_r={};function ai(o){return q.call(_r,o)?!0:q.call(jr,o)?!1:Bn.test(o)?_r[o]=!0:(jr[o]=!0,!1)}function Qr(o,a,h){if(ai(a))if(h===null)o.removeAttribute(a);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(a);return;case"boolean":var p=a.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(a);return}}o.setAttribute(a,""+h)}}function Ei(o,a,h){if(h===null)o.removeAttribute(a);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(a);return}o.setAttribute(a,""+h)}}function $r(o,a,h,p){if(p===null)o.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(a,h,""+p)}}function In(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Zs(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Us(o,a,h){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,a);if(!o.hasOwnProperty(a)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var A=p.get,k=p.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return A.call(this)},set:function(ie){h=""+ie,k.call(this,ie)}}),Object.defineProperty(o,a,{enumerable:p.enumerable}),{getValue:function(){return h},setValue:function(ie){h=""+ie},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function Zn(o){if(!o._valueTracker){var a=Zs(o)?"checked":"value";o._valueTracker=Us(o,a,""+o[a])}}function ta(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var h=a.getValue(),p="";return o&&(p=Zs(o)?o.checked?"true":"false":o.value),o=p,o!==h?(a.setValue(o),!0):!1}function mi(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Wr=/[\n"\\]/g;function li(o){return o.replace(Wr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function xa(o,a,h,p,A,k,ie,Ee){o.name="",ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?o.type=ie:o.removeAttribute("type"),a!=null?ie==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+In(a)):o.value!==""+In(a)&&(o.value=""+In(a)):ie!=="submit"&&ie!=="reset"||o.removeAttribute("value"),a!=null?Fl(o,ie,In(a)):h!=null?Fl(o,ie,In(h)):p!=null&&o.removeAttribute("value"),A==null&&k!=null&&(o.defaultChecked=!!k),A!=null&&(o.checked=A&&typeof A!="function"&&typeof A!="symbol"),Ee!=null&&typeof Ee!="function"&&typeof Ee!="symbol"&&typeof Ee!="boolean"?o.name=""+In(Ee):o.removeAttribute("name")}function Tu(o,a,h,p,A,k,ie,Ee){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(o.type=k),a!=null||h!=null){if(!(k!=="submit"&&k!=="reset"||a!=null)){Zn(o);return}h=h!=null?""+In(h):"",a=a!=null?""+In(a):h,Ee||a===o.value||(o.value=a),o.defaultValue=a}p=p??A,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=Ee?o.checked:!!p,o.defaultChecked=!!p,ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"&&(o.name=ie),Zn(o)}function Fl(o,a,h){a==="number"&&mi(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function es(o,a,h,p){if(o=o.options,a){a={};for(var A=0;A<h.length;A++)a["$"+h[A]]=!0;for(h=0;h<o.length;h++)A=a.hasOwnProperty("$"+o[h].value),o[h].selected!==A&&(o[h].selected=A),A&&p&&(o[h].defaultSelected=!0)}else{for(h=""+In(h),a=null,A=0;A<o.length;A++){if(o[A].value===h){o[A].selected=!0,p&&(o[A].defaultSelected=!0);return}a!==null||o[A].disabled||(a=o[A])}a!==null&&(a.selected=!0)}}function Ul(o,a,h){if(a!=null&&(a=""+In(a),a!==o.value&&(o.value=a),h==null)){o.defaultValue!==a&&(o.defaultValue=a);return}o.defaultValue=h!=null?""+In(h):""}function Vo(o,a,h,p){if(a==null){if(p!=null){if(h!=null)throw Error(r(92));if(ve(p)){if(1<p.length)throw Error(r(93));p=p[0]}h=p}h==null&&(h=""),a=h}h=In(a),o.defaultValue=h,p=o.textContent,p===h&&p!==""&&p!==null&&(o.value=p),Zn(o)}function Pi(o,a){if(a){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=a;return}}o.textContent=a}var na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bl(o,a,h){var p=a.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?p?o.setProperty(a,""):a==="float"?o.cssFloat="":o[a]="":p?o.setProperty(a,h):typeof h!="number"||h===0||na.has(a)?a==="float"?o.cssFloat=h:o[a]=(""+h).trim():o[a]=h+"px"}function Vl(o,a,h){if(a!=null&&typeof a!="object")throw Error(r(62));if(o=o.style,h!=null){for(var p in h)!h.hasOwnProperty(p)||a!=null&&a.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var A in a)p=a[A],a.hasOwnProperty(A)&&h[A]!==p&&Bl(o,A,p)}else for(var k in a)a.hasOwnProperty(k)&&Bl(o,k,a[k])}function nl(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hs(o){return qo.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function eo(){}var zo=null;function ds(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ra=null,cn=null;function Ta(o){var a=xr(o);if(a&&(o=a.stateNode)){var h=o[vt]||null;e:switch(o=a.stateNode,a.type){case"input":if(xa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),a=h.name,h.type==="radio"&&a!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+li(""+a)+'"][type="radio"]'),a=0;a<h.length;a++){var p=h[a];if(p!==o&&p.form===o.form){var A=p[vt]||null;if(!A)throw Error(r(90));xa(p,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(a=0;a<h.length;a++)p=h[a],p.form===o.form&&ta(p)}break e;case"textarea":Ul(o,h.value,h.defaultValue);break e;case"select":a=h.value,a!=null&&es(o,!!h.multiple,a,!1)}}}var il=!1;function ia(o,a,h){if(il)return o(a,h);il=!0;try{var p=o(a);return p}finally{if(il=!1,(ra!==null||cn!==null)&&(em(),ra&&(a=ra,o=cn,cn=ra=null,Ta(a),o)))for(a=0;a<o.length;a++)Ta(o[a])}}function Mi(o,a){var h=o.stateNode;if(h===null)return null;var p=h[vt]||null;if(p===null)return null;h=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,a,typeof h));return h}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ca=!1;if(Ai)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{Ca=!1}var Ss=null,Na=null,to=null;function ql(){if(to)return to;var o,a=Na,h=a.length,p,A="value"in Ss?Ss.value:Ss.textContent,k=A.length;for(o=0;o<h&&a[o]===A[o];o++);var ie=h-o;for(p=1;p<=ie&&a[h-p]===A[k-p];p++);return to=A.slice(o,1<p?1-p:void 0)}function xs(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Ho(){return!0}function Ts(){return!1}function gi(o){function a(h,p,A,k,ie){this._reactName=h,this._targetInst=A,this.type=p,this.nativeEvent=k,this.target=ie,this.currentTarget=null;for(var Ee in o)o.hasOwnProperty(Ee)&&(h=o[Ee],this[Ee]=h?h(k):k[Ee]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Ho:Ts,this.isPropagationStopped=Ts,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),a}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=gi(ho),po=g({},ho,{view:0,detail:0}),sa=gi(po),mo,go,Bs,Ia=g({},po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hn,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Bs&&(Bs&&o.type==="mousemove"?(mo=o.screenX-Bs.screenX,go=o.screenY-Bs.screenY):go=mo=0,Bs=o),mo)},movementY:function(o){return"movementY"in o?o.movementY:go}}),sl=gi(Ia),Cs=g({},Ia,{dataTransfer:0}),yo=gi(Cs),zl=g({},po,{relatedTarget:0}),no=gi(zl),ol=g({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),U=gi(ol),fe=g({},ho,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ke=gi(fe),Fe=g({},ho,{data:0}),ze=gi(Fe),dt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},At={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qt(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=jt[o])?!!a[o]:!1}function hn(){return Qt}var an=g({},po,{key:function(o){if(o.key){var a=dt[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=xs(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?At[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hn,charCode:function(o){return o.type==="keypress"?xs(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?xs(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Wn=gi(an),Mr=g({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tr=gi(Mr),b=g({},po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hn}),J=gi(b),oe=g({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),Te=gi(oe),$e=g({},Ia,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=gi($e),Rt=g({},ho,{newState:0,oldState:0}),An=gi(Rt),Or=[9,13,27,32],Vn=Ai&&"CompositionEvent"in window,gr=null;Ai&&"documentMode"in document&&(gr=document.documentMode);var $i=Ai&&"TextEvent"in window&&!gr,ts=Ai&&(!Vn||gr&&8<gr&&11>=gr),Nr=" ",ns=!1;function ro(o,a){switch(o){case"keyup":return Or.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var aa=!1;function Ns(o,a){switch(o){case"compositionend":return oa(a);case"keypress":return a.which!==32?null:(ns=!0,Nr);case"textInput":return o=a.data,o===Nr&&ns?null:o;default:return null}}function Ra(o,a){if(aa)return o==="compositionend"||!Vn&&ro(o,a)?(o=ql(),to=Na=Ss=null,aa=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ts&&a.locale!=="ko"?null:a.data;default:return null}}var Cu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tc(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!Cu[o.type]:a==="textarea"}function io(o,a,h,p){ra?cn?cn.push(p):cn=[p]:ra=p,a=am(a,"onChange"),0<a.length&&(h=new ji("onChange","change",null,h,p),o.push({event:h,listeners:a}))}var Go=null,ka=null;function Cc(o){I5(o,0)}function jo(o){var a=hr(o);if(ta(a))return o}function al(o,a){if(o==="change")return a}var Vs=!1;if(Ai){var Is;if(Ai){var la="oninput"in document;if(!la){var ua=document.createElement("div");ua.setAttribute("oninput","return;"),la=typeof ua.oninput=="function"}Is=la}else Is=!1;Vs=Is&&(!document.documentMode||9<document.documentMode)}function La(){Go&&(Go.detachEvent("onpropertychange",Nu),ka=Go=null)}function Nu(o){if(o.propertyName==="value"&&jo(ka)){var a=[];io(a,ka,o,ds(o)),ia(Cc,a)}}function Iu(o,a,h){o==="focusin"?(La(),Go=a,ka=h,Go.attachEvent("onpropertychange",Nu)):o==="focusout"&&La()}function yi(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return jo(ka)}function wf(o,a){if(o==="click")return jo(a)}function ca(o,a){if(o==="input"||o==="change")return jo(a)}function fa(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var rs=typeof Object.is=="function"?Object.is:fa;function Da(o,a){if(rs(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var h=Object.keys(o),p=Object.keys(a);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var A=h[p];if(!q.call(a,A)||!rs(o[A],a[A]))return!1}return!0}function Ru(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function ku(o,a){var h=Ru(o);o=0;for(var p;h;){if(h.nodeType===3){if(p=o+h.textContent.length,o<=a&&p>=a)return{node:h,offset:a-o};o=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Ru(h)}}function Pa(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?Pa(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function Ma(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var a=mi(o.document);a instanceof o.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)o=a.contentWindow;else break;a=mi(o.document)}return a}function ha(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}var Hl=Ai&&"documentMode"in document&&11>=document.documentMode,so=null,Oa=null,ps=null,vo=!1;function dr(o,a,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;vo||so==null||so!==mi(p)||(p=so,"selectionStart"in p&&ha(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ps&&Da(ps,p)||(ps=p,p=am(Oa,"onSelect"),0<p.length&&(a=new ji("onSelect","select",null,a,h),o.push({event:a,listeners:p}),a.target=so)))}function ir(o,a){var h={};return h[o.toLowerCase()]=a.toLowerCase(),h["Webkit"+o]="webkit"+a,h["Moz"+o]="moz"+a,h}var Fr={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},vi={},da={};Ai&&(da=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function $o(o){if(vi[o])return vi[o];if(!Fr[o])return o;var a=Fr[o],h;for(h in a)if(a.hasOwnProperty(h)&&h in da)return vi[o]=a[h];return o}var Gl=$o("animationend"),Nc=$o("animationiteration"),Jh=$o("animationstart"),Rp=$o("transitionrun"),kp=$o("transitionstart"),Lp=$o("transitioncancel"),Xh=$o("transitionend"),Qh=new Map,jl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jl.push("scrollEnd");function wo(o,a){Qh.set(o,a),Zi(a,[o])}var Ic=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},oo=[],$l=0,_f=0;function Rc(){for(var o=$l,a=_f=$l=0;a<o;){var h=oo[a];oo[a++]=null;var p=oo[a];oo[a++]=null;var A=oo[a];oo[a++]=null;var k=oo[a];if(oo[a++]=null,p!==null&&A!==null){var ie=p.pending;ie===null?A.next=A:(A.next=ie.next,ie.next=A),p.pending=A}k!==0&&Lc(h,A,k)}}function kc(o,a,h,p){oo[$l++]=o,oo[$l++]=a,oo[$l++]=h,oo[$l++]=p,_f|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function bf(o,a,h,p){return kc(o,a,h,p),ms(o)}function Fa(o,a){return kc(o,null,null,a),ms(o)}function Lc(o,a,h){o.lanes|=h;var p=o.alternate;p!==null&&(p.lanes|=h);for(var A=!1,k=o.return;k!==null;)k.childLanes|=h,p=k.alternate,p!==null&&(p.childLanes|=h),k.tag===22&&(o=k.stateNode,o===null||o._visibility&1||(A=!0)),o=k,k=k.return;return o.tag===3?(k=o.stateNode,A&&a!==null&&(A=31-sn(h),o=k.hiddenUpdates,p=o[A],p===null?o[A]=[a]:p.push(a),a.lane=h|536870912),k):null}function ms(o){if(50<_d)throw _d=0,cy=null,Error(r(185));for(var a=o.return;a!==null;)o=a,a=o.return;return o.tag===3?o.stateNode:null}var is={};function Ef(o,a,h,p){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gs(o,a,h,p){return new Ef(o,a,h,p)}function Af(o){return o=o.prototype,!(!o||!o.isReactComponent)}function _o(o,a){var h=o.alternate;return h===null?(h=gs(o.tag,a,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=a,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,a=o.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function Dc(o,a){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=a,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,a=h.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),o}function Lu(o,a,h,p,A,k){var ie=0;if(p=o,typeof o=="function")Af(o)&&(ie=1);else if(typeof o=="string")ie=tk(o,h,se.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case C:return o=gs(31,h,a,A),o.elementType=C,o.lanes=k,o;case S:return ll(h.children,A,k,a);case R:ie=8,A|=24;break;case E:return o=gs(12,h,a,A|2),o.elementType=E,o.lanes=k,o;case $:return o=gs(13,h,a,A),o.elementType=$,o.lanes=k,o;case Q:return o=gs(19,h,a,A),o.elementType=Q,o.lanes=k,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case P:ie=10;break e;case M:ie=9;break e;case N:ie=11;break e;case V:ie=14;break e;case G:ie=16,p=null;break e}ie=29,h=Error(r(130,o===null?"null":typeof o,"")),p=null}return a=gs(ie,h,a,A),a.elementType=o,a.type=p,a.lanes=k,a}function ll(o,a,h,p){return o=gs(7,o,p,a),o.lanes=h,o}function Pc(o,a,h){return o=gs(6,o,null,a),o.lanes=h,o}function Sf(o){var a=gs(18,null,null,0);return a.stateNode=o,a}function Du(o,a,h){return a=gs(4,o.children!==null?o.children:[],o.key,a),a.lanes=h,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}var xf=new WeakMap;function bo(o,a){if(typeof o=="object"&&o!==null){var h=xf.get(o);return h!==void 0?h:(a={value:o,source:a,stack:L(a)},xf.set(o,a),a)}return{value:o,source:a,stack:L(a)}}var Pu=[],Wl=0,Tf=null,Mc=0,Eo=[],Ao=0,ul=null,So=1,xo="";function ao(o,a){Pu[Wl++]=Mc,Pu[Wl++]=Tf,Tf=o,Mc=a}function Dp(o,a,h){Eo[Ao++]=So,Eo[Ao++]=xo,Eo[Ao++]=ul,ul=o;var p=So;o=xo;var A=32-sn(p)-1;p&=~(1<<A),h+=1;var k=32-sn(a)+A;if(30<k){var ie=A-A%5;k=(p&(1<<ie)-1).toString(32),p>>=ie,A-=ie,So=1<<32-sn(a)+A|h<<A|p,xo=k+o}else So=1<<k|h<<A|p,xo=o}function Zh(o){o.return!==null&&(ao(o,1),Dp(o,1,0))}function Cf(o){for(;o===Tf;)Tf=Pu[--Wl],Pu[Wl]=null,Mc=Pu[--Wl],Pu[Wl]=null;for(;o===ul;)ul=Eo[--Ao],Eo[Ao]=null,xo=Eo[--Ao],Eo[Ao]=null,So=Eo[--Ao],Eo[Ao]=null}function Pp(o,a){Eo[Ao++]=So,Eo[Ao++]=xo,Eo[Ao++]=ul,So=a.id,xo=a.overflow,ul=o}var ss=null,Kr=null,Jn=!1,Rs=null,ui=!1,Wo=Error(r(519));function cl(o){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mu(bo(a,o)),Wo}function ed(o){var a=o.stateNode,h=o.type,p=o.memoizedProps;switch(a[rt]=o,a[vt]=p,h){case"dialog":Qn("cancel",a),Qn("close",a);break;case"iframe":case"object":case"embed":Qn("load",a);break;case"video":case"audio":for(h=0;h<Ed.length;h++)Qn(Ed[h],a);break;case"source":Qn("error",a);break;case"img":case"image":case"link":Qn("error",a),Qn("load",a);break;case"details":Qn("toggle",a);break;case"input":Qn("invalid",a),Tu(a,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Qn("invalid",a);break;case"textarea":Qn("invalid",a),Vo(a,p.value,p.defaultValue,p.children)}h=p.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||a.textContent===""+h||p.suppressHydrationWarning===!0||D5(a.textContent,h)?(p.popover!=null&&(Qn("beforetoggle",a),Qn("toggle",a)),p.onScroll!=null&&Qn("scroll",a),p.onScrollEnd!=null&&Qn("scrollend",a),p.onClick!=null&&(a.onclick=eo),a=!0):a=!1,a||cl(o,!0)}function Ua(o){for(ss=o.return;ss;)switch(ss.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:ss=ss.return}}function os(o){if(o!==ss)return!1;if(!Jn)return Ua(o),Jn=!0,!1;var a=o.tag,h;if((h=a!==3&&a!==27)&&((h=a===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||xy(o.type,o.memoizedProps)),h=!h),h&&Kr&&cl(o),Ua(o),a===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Kr=z5(o)}else if(a===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Kr=z5(o)}else a===27?(a=Kr,Yu(o.type)?(o=Ry,Ry=null,Kr=o):Kr=a):Kr=ss?ya(o.stateNode.nextSibling):null;return!0}function Kl(){Kr=ss=null,Jn=!1}function td(){var o=Rs;return o!==null&&(ko===null?ko=o:ko.push.apply(ko,o),Rs=null),o}function Mu(o){Rs===null?Rs=[o]:Rs.push(o)}var Nf=re(null),fl=null,pa=null;function hl(o,a,h){ee(Nf,a._currentValue),a._currentValue=h}function To(o){o._currentValue=Nf.current,O(Nf)}function Ou(o,a,h){for(;o!==null;){var p=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),o===h)break;o=o.return}}function Yl(o,a,h,p){var A=o.child;for(A!==null&&(A.return=o);A!==null;){var k=A.dependencies;if(k!==null){var ie=A.child;k=k.firstContext;e:for(;k!==null;){var Ee=k;k=A;for(var Me=0;Me<a.length;Me++)if(Ee.context===a[Me]){k.lanes|=h,Ee=k.alternate,Ee!==null&&(Ee.lanes|=h),Ou(k.return,h,o),p||(ie=null);break e}k=Ee.next}}else if(A.tag===18){if(ie=A.return,ie===null)throw Error(r(341));ie.lanes|=h,k=ie.alternate,k!==null&&(k.lanes|=h),Ou(ie,h,o),ie=null}else ie=A.child;if(ie!==null)ie.return=A;else for(ie=A;ie!==null;){if(ie===o){ie=null;break}if(A=ie.sibling,A!==null){A.return=ie.return,ie=A;break}ie=ie.return}A=ie}}function dl(o,a,h,p){o=null;for(var A=a,k=!1;A!==null;){if(!k){if((A.flags&524288)!==0)k=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var ie=A.alternate;if(ie===null)throw Error(r(387));if(ie=ie.memoizedProps,ie!==null){var Ee=A.type;rs(A.pendingProps.value,ie.value)||(o!==null?o.push(Ee):o=[Ee])}}else if(A===H.current){if(ie=A.alternate,ie===null)throw Error(r(387));ie.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(o!==null?o.push(Cd):o=[Cd])}A=A.return}o!==null&&Yl(a,o,h,p),a.flags|=262144}function If(o){for(o=o.firstContext;o!==null;){if(!rs(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function pl(o){fl=o,pa=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function as(o){return Mp(fl,o)}function Rf(o,a){return fl===null&&pl(o),Mp(o,a)}function Mp(o,a){var h=a._currentValue;if(a={context:a,memoizedValue:h,next:null},pa===null){if(o===null)throw Error(r(308));pa=a,o.dependencies={lanes:0,firstContext:a},o.flags|=524288}else pa=pa.next=a;return h}var I0=typeof AbortController<"u"?AbortController:function(){var o=[],a=this.signal={aborted:!1,addEventListener:function(h,p){o.push(p)}};this.abort=function(){a.aborted=!0,o.forEach(function(h){return h()})}},R0=t.unstable_scheduleCallback,k0=t.unstable_NormalPriority,wi={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fu(){return{controller:new I0,data:new Map,refCount:0}}function Oc(o){o.refCount--,o.refCount===0&&R0(k0,function(){o.controller.abort()})}var Fc=null,kf=0,w=0,T=null;function K(o,a){if(Fc===null){var h=Fc=[];kf=0,w=gy(),T={status:"pending",value:void 0,then:function(p){h.push(p)}}}return kf++,a.then(te,te),a}function te(){if(--kf===0&&Fc!==null){T!==null&&(T.status="fulfilled");var o=Fc;Fc=null,w=0,T=null;for(var a=0;a<o.length;a++)(0,o[a])()}}function de(o,a){var h=[],p={status:"pending",value:null,reason:null,then:function(A){h.push(A)}};return o.then(function(){p.status="fulfilled",p.value=a;for(var A=0;A<h.length;A++)(0,h[A])(a)},function(A){for(p.status="rejected",p.reason=A,A=0;A<h.length;A++)(0,h[A])(void 0)}),p}var we=ce.S;ce.S=function(o,a){r5=We(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&K(o,a),we!==null&&we(o,a)};var be=re(null);function Se(){var o=be.current;return o!==null?o:Jr.pooledCache}function Ne(o,a){a===null?ee(be,be.current):ee(be,a.pool)}function Le(){var o=Se();return o===null?null:{parent:wi._currentValue,pool:o}}var Be=Error(r(460)),Je=Error(r(474)),Re=Error(r(542)),qe={then:function(){}};function Ke(o){return o=o.status,o==="fulfilled"||o==="rejected"}function ft(o,a,h){switch(h=o[h],h===void 0?o.push(a):h!==a&&(a.then(eo,eo),a=h),a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,It(o),o;default:if(typeof a.status=="string")a.then(eo,eo);else{if(o=Jr,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=a,o.status="pending",o.then(function(p){if(a.status==="pending"){var A=a;A.status="fulfilled",A.value=p}},function(p){if(a.status==="pending"){var A=a;A.status="rejected",A.reason=p}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,It(o),o}throw ct=a,Be}}function Ye(o){try{var a=o._init;return a(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(ct=h,Be):h}}var ct=null;function mt(){if(ct===null)throw Error(r(459));var o=ct;return ct=null,o}function It(o){if(o===Be||o===Re)throw Error(r(483))}var Et=null,Zt=0;function Ht(o){var a=Zt;return Zt+=1,Et===null&&(Et=[]),ft(Et,o,a)}function Sn(o,a){a=a.props.ref,o.ref=a!==void 0?a:null}function Jt(o,a){throw a.$$typeof===y?Error(r(525)):(o=Object.prototype.toString.call(a),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o)))}function Kn(o){function a(Ge,Ve){if(o){var Xe=Ge.deletions;Xe===null?(Ge.deletions=[Ve],Ge.flags|=16):Xe.push(Ve)}}function h(Ge,Ve){if(!o)return null;for(;Ve!==null;)a(Ge,Ve),Ve=Ve.sibling;return null}function p(Ge){for(var Ve=new Map;Ge!==null;)Ge.key!==null?Ve.set(Ge.key,Ge):Ve.set(Ge.index,Ge),Ge=Ge.sibling;return Ve}function A(Ge,Ve){return Ge=_o(Ge,Ve),Ge.index=0,Ge.sibling=null,Ge}function k(Ge,Ve,Xe){return Ge.index=Xe,o?(Xe=Ge.alternate,Xe!==null?(Xe=Xe.index,Xe<Ve?(Ge.flags|=67108866,Ve):Xe):(Ge.flags|=67108866,Ve)):(Ge.flags|=1048576,Ve)}function ie(Ge){return o&&Ge.alternate===null&&(Ge.flags|=67108866),Ge}function Ee(Ge,Ve,Xe,yt){return Ve===null||Ve.tag!==6?(Ve=Pc(Xe,Ge.mode,yt),Ve.return=Ge,Ve):(Ve=A(Ve,Xe),Ve.return=Ge,Ve)}function Me(Ge,Ve,Xe,yt){var pn=Xe.type;return pn===S?pt(Ge,Ve,Xe.props.children,yt,Xe.key):Ve!==null&&(Ve.elementType===pn||typeof pn=="object"&&pn!==null&&pn.$$typeof===G&&Ye(pn)===Ve.type)?(Ve=A(Ve,Xe.props),Sn(Ve,Xe),Ve.return=Ge,Ve):(Ve=Lu(Xe.type,Xe.key,Xe.props,null,Ge.mode,yt),Sn(Ve,Xe),Ve.return=Ge,Ve)}function Qe(Ge,Ve,Xe,yt){return Ve===null||Ve.tag!==4||Ve.stateNode.containerInfo!==Xe.containerInfo||Ve.stateNode.implementation!==Xe.implementation?(Ve=Du(Xe,Ge.mode,yt),Ve.return=Ge,Ve):(Ve=A(Ve,Xe.children||[]),Ve.return=Ge,Ve)}function pt(Ge,Ve,Xe,yt,pn){return Ve===null||Ve.tag!==7?(Ve=ll(Xe,Ge.mode,yt,pn),Ve.return=Ge,Ve):(Ve=A(Ve,Xe),Ve.return=Ge,Ve)}function bt(Ge,Ve,Xe){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Ve=Pc(""+Ve,Ge.mode,Xe),Ve.return=Ge,Ve;if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case m:return Xe=Lu(Ve.type,Ve.key,Ve.props,null,Ge.mode,Xe),Sn(Xe,Ve),Xe.return=Ge,Xe;case x:return Ve=Du(Ve,Ge.mode,Xe),Ve.return=Ge,Ve;case G:return Ve=Ye(Ve),bt(Ge,Ve,Xe)}if(ve(Ve)||D(Ve))return Ve=ll(Ve,Ge.mode,Xe,null),Ve.return=Ge,Ve;if(typeof Ve.then=="function")return bt(Ge,Ht(Ve),Xe);if(Ve.$$typeof===P)return bt(Ge,Rf(Ge,Ve),Xe);Jt(Ge,Ve)}return null}function it(Ge,Ve,Xe,yt){var pn=Ve!==null?Ve.key:null;if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return pn!==null?null:Ee(Ge,Ve,""+Xe,yt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case m:return Xe.key===pn?Me(Ge,Ve,Xe,yt):null;case x:return Xe.key===pn?Qe(Ge,Ve,Xe,yt):null;case G:return Xe=Ye(Xe),it(Ge,Ve,Xe,yt)}if(ve(Xe)||D(Xe))return pn!==null?null:pt(Ge,Ve,Xe,yt,null);if(typeof Xe.then=="function")return it(Ge,Ve,Ht(Xe),yt);if(Xe.$$typeof===P)return it(Ge,Ve,Rf(Ge,Xe),yt);Jt(Ge,Xe)}return null}function ot(Ge,Ve,Xe,yt,pn){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return Ge=Ge.get(Xe)||null,Ee(Ve,Ge,""+yt,pn);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case m:return Ge=Ge.get(yt.key===null?Xe:yt.key)||null,Me(Ve,Ge,yt,pn);case x:return Ge=Ge.get(yt.key===null?Xe:yt.key)||null,Qe(Ve,Ge,yt,pn);case G:return yt=Ye(yt),ot(Ge,Ve,Xe,yt,pn)}if(ve(yt)||D(yt))return Ge=Ge.get(Xe)||null,pt(Ve,Ge,yt,pn,null);if(typeof yt.then=="function")return ot(Ge,Ve,Xe,Ht(yt),pn);if(yt.$$typeof===P)return ot(Ge,Ve,Xe,Rf(Ve,yt),pn);Jt(Ve,yt)}return null}function Xt(Ge,Ve,Xe,yt){for(var pn=null,yr=null,rn=Ve,Fn=Ve=0,tr=null;rn!==null&&Fn<Xe.length;Fn++){rn.index>Fn?(tr=rn,rn=null):tr=rn.sibling;var vr=it(Ge,rn,Xe[Fn],yt);if(vr===null){rn===null&&(rn=tr);break}o&&rn&&vr.alternate===null&&a(Ge,rn),Ve=k(vr,Ve,Fn),yr===null?pn=vr:yr.sibling=vr,yr=vr,rn=tr}if(Fn===Xe.length)return h(Ge,rn),Jn&&ao(Ge,Fn),pn;if(rn===null){for(;Fn<Xe.length;Fn++)rn=bt(Ge,Xe[Fn],yt),rn!==null&&(Ve=k(rn,Ve,Fn),yr===null?pn=rn:yr.sibling=rn,yr=rn);return Jn&&ao(Ge,Fn),pn}for(rn=p(rn);Fn<Xe.length;Fn++)tr=ot(rn,Ge,Fn,Xe[Fn],yt),tr!==null&&(o&&tr.alternate!==null&&rn.delete(tr.key===null?Fn:tr.key),Ve=k(tr,Ve,Fn),yr===null?pn=tr:yr.sibling=tr,yr=tr);return o&&rn.forEach(function(ec){return a(Ge,ec)}),Jn&&ao(Ge,Fn),pn}function wn(Ge,Ve,Xe,yt){if(Xe==null)throw Error(r(151));for(var pn=null,yr=null,rn=Ve,Fn=Ve=0,tr=null,vr=Xe.next();rn!==null&&!vr.done;Fn++,vr=Xe.next()){rn.index>Fn?(tr=rn,rn=null):tr=rn.sibling;var ec=it(Ge,rn,vr.value,yt);if(ec===null){rn===null&&(rn=tr);break}o&&rn&&ec.alternate===null&&a(Ge,rn),Ve=k(ec,Ve,Fn),yr===null?pn=ec:yr.sibling=ec,yr=ec,rn=tr}if(vr.done)return h(Ge,rn),Jn&&ao(Ge,Fn),pn;if(rn===null){for(;!vr.done;Fn++,vr=Xe.next())vr=bt(Ge,vr.value,yt),vr!==null&&(Ve=k(vr,Ve,Fn),yr===null?pn=vr:yr.sibling=vr,yr=vr);return Jn&&ao(Ge,Fn),pn}for(rn=p(rn);!vr.done;Fn++,vr=Xe.next())vr=ot(rn,Ge,Fn,vr.value,yt),vr!==null&&(o&&vr.alternate!==null&&rn.delete(vr.key===null?Fn:vr.key),Ve=k(vr,Ve,Fn),yr===null?pn=vr:yr.sibling=vr,yr=vr);return o&&rn.forEach(function(hk){return a(Ge,hk)}),Jn&&ao(Ge,Fn),pn}function qr(Ge,Ve,Xe,yt){if(typeof Xe=="object"&&Xe!==null&&Xe.type===S&&Xe.key===null&&(Xe=Xe.props.children),typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case m:e:{for(var pn=Xe.key;Ve!==null;){if(Ve.key===pn){if(pn=Xe.type,pn===S){if(Ve.tag===7){h(Ge,Ve.sibling),yt=A(Ve,Xe.props.children),yt.return=Ge,Ge=yt;break e}}else if(Ve.elementType===pn||typeof pn=="object"&&pn!==null&&pn.$$typeof===G&&Ye(pn)===Ve.type){h(Ge,Ve.sibling),yt=A(Ve,Xe.props),Sn(yt,Xe),yt.return=Ge,Ge=yt;break e}h(Ge,Ve);break}else a(Ge,Ve);Ve=Ve.sibling}Xe.type===S?(yt=ll(Xe.props.children,Ge.mode,yt,Xe.key),yt.return=Ge,Ge=yt):(yt=Lu(Xe.type,Xe.key,Xe.props,null,Ge.mode,yt),Sn(yt,Xe),yt.return=Ge,Ge=yt)}return ie(Ge);case x:e:{for(pn=Xe.key;Ve!==null;){if(Ve.key===pn)if(Ve.tag===4&&Ve.stateNode.containerInfo===Xe.containerInfo&&Ve.stateNode.implementation===Xe.implementation){h(Ge,Ve.sibling),yt=A(Ve,Xe.children||[]),yt.return=Ge,Ge=yt;break e}else{h(Ge,Ve);break}else a(Ge,Ve);Ve=Ve.sibling}yt=Du(Xe,Ge.mode,yt),yt.return=Ge,Ge=yt}return ie(Ge);case G:return Xe=Ye(Xe),qr(Ge,Ve,Xe,yt)}if(ve(Xe))return Xt(Ge,Ve,Xe,yt);if(D(Xe)){if(pn=D(Xe),typeof pn!="function")throw Error(r(150));return Xe=pn.call(Xe),wn(Ge,Ve,Xe,yt)}if(typeof Xe.then=="function")return qr(Ge,Ve,Ht(Xe),yt);if(Xe.$$typeof===P)return qr(Ge,Ve,Rf(Ge,Xe),yt);Jt(Ge,Xe)}return typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint"?(Xe=""+Xe,Ve!==null&&Ve.tag===6?(h(Ge,Ve.sibling),yt=A(Ve,Xe),yt.return=Ge,Ge=yt):(h(Ge,Ve),yt=Pc(Xe,Ge.mode,yt),yt.return=Ge,Ge=yt),ie(Ge)):h(Ge,Ve)}return function(Ge,Ve,Xe,yt){try{Zt=0;var pn=qr(Ge,Ve,Xe,yt);return Et=null,pn}catch(rn){if(rn===Be||rn===Re)throw rn;var yr=gs(29,rn,null,Ge.mode);return yr.lanes=yt,yr.return=Ge,yr}}}var Yr=Kn(!0),Rn=Kn(!1),Gt=!1;function Lt(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ti(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function vn(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Mn(o,a,h){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Ar&2)!==0){var A=p.pending;return A===null?a.next=a:(a.next=A.next,A.next=a),p.pending=a,a=ms(o),Lc(o,null,h),a}return kc(o,p,a,h),ms(o)}function br(o,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194048)!==0)){var p=a.lanes;p&=o.pendingLanes,h|=p,a.lanes=h,un(o,h)}}function Oi(o,a){var h=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var A=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var ie={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};k===null?A=k=ie:k=k.next=ie,h=h.next}while(h!==null);k===null?A=k=a:k=k.next=a}else A=k=a;h={baseState:p.baseState,firstBaseUpdate:A,lastBaseUpdate:k,shared:p.shared,callbacks:p.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=a:o.next=a,h.lastBaseUpdate=a}var ls=!1;function Ur(){if(ls){var o=T;if(o!==null)throw o}}function Si(o,a,h,p){ls=!1;var A=o.updateQueue;Gt=!1;var k=A.firstBaseUpdate,ie=A.lastBaseUpdate,Ee=A.shared.pending;if(Ee!==null){A.shared.pending=null;var Me=Ee,Qe=Me.next;Me.next=null,ie===null?k=Qe:ie.next=Qe,ie=Me;var pt=o.alternate;pt!==null&&(pt=pt.updateQueue,Ee=pt.lastBaseUpdate,Ee!==ie&&(Ee===null?pt.firstBaseUpdate=Qe:Ee.next=Qe,pt.lastBaseUpdate=Me))}if(k!==null){var bt=A.baseState;ie=0,pt=Qe=Me=null,Ee=k;do{var it=Ee.lane&-536870913,ot=it!==Ee.lane;if(ot?(er&it)===it:(p&it)===it){it!==0&&it===w&&(ls=!0),pt!==null&&(pt=pt.next={lane:0,tag:Ee.tag,payload:Ee.payload,callback:null,next:null});e:{var Xt=o,wn=Ee;it=a;var qr=h;switch(wn.tag){case 1:if(Xt=wn.payload,typeof Xt=="function"){bt=Xt.call(qr,bt,it);break e}bt=Xt;break e;case 3:Xt.flags=Xt.flags&-65537|128;case 0:if(Xt=wn.payload,it=typeof Xt=="function"?Xt.call(qr,bt,it):Xt,it==null)break e;bt=g({},bt,it);break e;case 2:Gt=!0}}it=Ee.callback,it!==null&&(o.flags|=64,ot&&(o.flags|=8192),ot=A.callbacks,ot===null?A.callbacks=[it]:ot.push(it))}else ot={lane:it,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null},pt===null?(Qe=pt=ot,Me=bt):pt=pt.next=ot,ie|=it;if(Ee=Ee.next,Ee===null){if(Ee=A.shared.pending,Ee===null)break;ot=Ee,Ee=ot.next,ot.next=null,A.lastBaseUpdate=ot,A.shared.pending=null}}while(!0);pt===null&&(Me=bt),A.baseState=Me,A.firstBaseUpdate=Qe,A.lastBaseUpdate=pt,k===null&&(A.shared.lanes=0),Gu|=ie,o.lanes=ie,o.memoizedState=bt}}function ys(o,a){if(typeof o!="function")throw Error(r(191,o));o.call(a)}function xi(o,a){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)ys(h[o],a)}var qn=re(null),or=re(0);function ni(o,a){o=su,ee(or,o),ee(qn,a),su=o|a.baseLanes}function pr(){ee(or,su),ee(qn,qn.current)}function Fi(){su=or.current,O(qn),O(or)}var ri=re(null),ar=null;function _i(o){var a=o.alternate;ee(sr,sr.current&1),ee(ri,o),ar===null&&(a===null||qn.current!==null||a.memoizedState!==null)&&(ar=o)}function Er(o){ee(sr,sr.current),ee(ri,o),ar===null&&(ar=o)}function Ti(o){o.tag===22?(ee(sr,sr.current),ee(ri,o),ar===null&&(ar=o)):Ci()}function Ci(){ee(sr,sr.current),ee(ri,ri.current)}function Ir(o){O(ri),ar===o&&(ar=null),O(sr)}var sr=re(0);function vs(o){for(var a=o;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Ny(h)||Iy(h)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ci=0,fn=null,dn=null,lr=null,qs=!1,Co=!1,ks=!1,Ni=0,ml=0,gl=null,Lf=0;function Br(){throw Error(r(321))}function nd(o,a){if(a===null)return!1;for(var h=0;h<a.length&&h<o.length;h++)if(!rs(o[h],a[h]))return!1;return!0}function rd(o,a,h,p,A,k){return ci=k,fn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ce.H=o===null||o.memoizedState===null?pb:B0,ks=!1,k=h(p,A),ks=!1,Co&&(k=Ba(a,h,p,A)),Df(o),k}function Df(o){ce.H=fd;var a=dn!==null&&dn.next!==null;if(ci=0,lr=dn=fn=null,qs=!1,ml=0,gl=null,a)throw Error(r(300));o===null||Ki||(o=o.dependencies,o!==null&&If(o)&&(Ki=!0))}function Ba(o,a,h,p){fn=o;var A=0;do{if(Co&&(gl=null),ml=0,Co=!1,25<=A)throw Error(r(301));if(A+=1,lr=dn=null,o.updateQueue!=null){var k=o.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}ce.H=mb,k=a(h,p)}while(Co);return k}function L0(){var o=ce.H,a=o.useState()[0];return a=typeof a.then=="function"?yl(a):a,o=o.useState()[0],(dn!==null?dn.memoizedState:null)!==o&&(fn.flags|=1024),a}function id(){var o=Ni!==0;return Ni=0,o}function sd(o,a,h){a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~h}function Pf(o){if(qs){for(o=o.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}qs=!1}ci=0,lr=dn=fn=null,Co=!1,ml=Ni=0,gl=null}function Wi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?fn.memoizedState=lr=o:lr=lr.next=o,lr}function fi(){if(dn===null){var o=fn.alternate;o=o!==null?o.memoizedState:null}else o=dn.next;var a=lr===null?fn.memoizedState:lr.next;if(a!==null)lr=a,dn=o;else{if(o===null)throw fn.alternate===null?Error(r(467)):Error(r(310));dn=o,o={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},lr===null?fn.memoizedState=lr=o:lr=lr.next=o}return lr}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(o){var a=ml;return ml+=1,gl===null&&(gl=[]),o=ft(gl,o,a),a=fn,(lr===null?a.memoizedState:lr.next)===null&&(a=a.alternate,ce.H=a===null||a.memoizedState===null?pb:B0),o}function Uu(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return yl(o);if(o.$$typeof===P)return as(o)}throw Error(r(438,String(o)))}function Jl(o){var a=null,h=fn.updateQueue;if(h!==null&&(a=h.memoCache),a==null){var p=fn.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(a={data:p.data.map(function(A){return A.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),h===null&&(h=Uc(),fn.updateQueue=h),h.memoCache=a,h=a.data[a.index],h===void 0)for(h=a.data[a.index]=Array(o),p=0;p<o;p++)h[p]=X;return a.index++,h}function ma(o,a){return typeof a=="function"?a(o):a}function Mf(o){var a=fi();return Bu(a,dn,o)}function Bu(o,a,h){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=h;var A=o.baseQueue,k=p.pending;if(k!==null){if(A!==null){var ie=A.next;A.next=k.next,k.next=ie}a.baseQueue=A=k,p.pending=null}if(k=o.baseState,A===null)o.memoizedState=k;else{a=A.next;var Ee=ie=null,Me=null,Qe=a,pt=!1;do{var bt=Qe.lane&-536870913;if(bt!==Qe.lane?(er&bt)===bt:(ci&bt)===bt){var it=Qe.revertLane;if(it===0)Me!==null&&(Me=Me.next={lane:0,revertLane:0,gesture:null,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),bt===w&&(pt=!0);else if((ci&it)===it){Qe=Qe.next,it===w&&(pt=!0);continue}else bt={lane:0,revertLane:Qe.revertLane,gesture:null,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null},Me===null?(Ee=Me=bt,ie=k):Me=Me.next=bt,fn.lanes|=it,Gu|=it;bt=Qe.action,ks&&h(k,bt),k=Qe.hasEagerState?Qe.eagerState:h(k,bt)}else it={lane:bt,revertLane:Qe.revertLane,gesture:Qe.gesture,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null},Me===null?(Ee=Me=it,ie=k):Me=Me.next=it,fn.lanes|=bt,Gu|=bt;Qe=Qe.next}while(Qe!==null&&Qe!==a);if(Me===null?ie=k:Me.next=Ee,!rs(k,o.memoizedState)&&(Ki=!0,pt&&(h=T,h!==null)))throw h;o.memoizedState=k,o.baseState=ie,o.baseQueue=Me,p.lastRenderedState=k}return A===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function Of(o){var a=fi(),h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var p=h.dispatch,A=h.pending,k=a.memoizedState;if(A!==null){h.pending=null;var ie=A=A.next;do k=o(k,ie.action),ie=ie.next;while(ie!==A);rs(k,a.memoizedState)||(Ki=!0),a.memoizedState=k,a.baseQueue===null&&(a.baseState=k),h.lastRenderedState=k}return[k,p]}function Ff(o,a,h){var p=fn,A=fi(),k=Jn;if(k){if(h===void 0)throw Error(r(407));h=h()}else h=a();var ie=!rs((dn||A).memoizedState,h);if(ie&&(A.memoizedState=h,Ki=!0),A=A.queue,D0(ad.bind(null,p,A,o),[o]),A.getSnapshot!==a||ie||lr!==null&&lr.memoizedState.tag&1){if(p.flags|=2048,Ql(9,{destroy:void 0},od.bind(null,p,A,h,a),null),Jr===null)throw Error(r(349));k||(ci&127)!==0||Va(p,a,h)}return h}function Va(o,a,h){o.flags|=16384,o={getSnapshot:a,value:h},a=fn.updateQueue,a===null?(a=Uc(),fn.updateQueue=a,a.stores=[o]):(h=a.stores,h===null?a.stores=[o]:h.push(o))}function od(o,a,h,p){a.value=h,a.getSnapshot=p,Op(a)&&ld(o)}function ad(o,a,h){return h(function(){Op(a)&&ld(o)})}function Op(o){var a=o.getSnapshot;o=o.value;try{var h=a();return!rs(o,h)}catch{return!0}}function ld(o){var a=Fa(o,2);a!==null&&Lo(a,o,2)}function vl(o){var a=Wi();if(typeof o=="function"){var h=o;if(o=h(),ks){tn(!0);try{h()}finally{tn(!1)}}}return a.memoizedState=a.baseState=o,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:o},a}function Fp(o,a,h,p){return o.baseState=h,Bu(o,dn,typeof p=="function"?p:ma)}function Up(o,a,h,p,A){if(zp(o))throw Error(r(485));if(o=a.action,o!==null){var k={payload:A,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ie){k.listeners.push(ie)}};ce.T!==null?h(!0):k.isTransition=!1,p(k),h=a.pending,h===null?(k.next=a.pending=k,Bp(a,k)):(k.next=h.next,a.pending=h.next=k)}}function Bp(o,a){var h=a.action,p=a.payload,A=o.state;if(a.isTransition){var k=ce.T,ie={};ce.T=ie;try{var Ee=h(A,p),Me=ce.S;Me!==null&&Me(ie,Ee),ud(o,a,Ee)}catch(Qe){Xl(o,a,Qe)}finally{k!==null&&ie.types!==null&&(k.types=ie.types),ce.T=k}}else try{k=h(A,p),ud(o,a,k)}catch(Qe){Xl(o,a,Qe)}}function ud(o,a,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(p){Vp(o,a,p)},function(p){return Xl(o,a,p)}):Vp(o,a,h)}function Vp(o,a,h){a.status="fulfilled",a.value=h,Uf(a),o.state=h,a=o.pending,a!==null&&(h=a.next,h===a?o.pending=null:(h=h.next,a.next=h,Bp(o,h)))}function Xl(o,a,h){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do a.status="rejected",a.reason=h,Uf(a),a=a.next;while(a!==p)}o.action=null}function Uf(o){o=o.listeners;for(var a=0;a<o.length;a++)(0,o[a])()}function Bc(o,a){return a}function ga(o,a){if(Jn){var h=Jr.formState;if(h!==null){e:{var p=fn;if(Jn){if(Kr){t:{for(var A=Kr,k=ui;A.nodeType!==8;){if(!k){A=null;break t}if(A=ya(A.nextSibling),A===null){A=null;break t}}k=A.data,A=k==="F!"||k==="F"?A:null}if(A){Kr=ya(A.nextSibling),p=A.data==="F!";break e}}cl(p)}p=!1}p&&(a=h[0])}}return h=Wi(),h.memoizedState=h.baseState=a,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:a},h.queue=p,h=fb.bind(null,fn,p),p.dispatch=h,p=vl(!1),k=U0.bind(null,fn,!1,p.queue),p=Wi(),A={state:a,dispatch:null,action:o,pending:null},p.queue=A,h=Up.bind(null,fn,A,k,h),A.dispatch=h,p.memoizedState=o,[a,h,!1]}function qa(o){var a=fi();return za(a,dn,o)}function za(o,a,h){if(a=Bu(o,a,Bc)[0],o=Mf(ma)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var p=yl(a)}catch(ie){throw ie===Be?Re:ie}else p=a;a=fi();var A=a.queue,k=A.dispatch;return h!==a.memoizedState&&(fn.flags|=2048,Ql(9,{destroy:void 0},Bf.bind(null,A,h),null)),[p,k,o]}function Bf(o,a){o.action=a}function Vf(o){var a=fi(),h=dn;if(h!==null)return za(a,h,o);fi(),a=a.memoizedState,h=fi();var p=h.queue.dispatch;return h.memoizedState=o,[a,p,!1]}function Ql(o,a,h,p){return o={tag:o,create:h,deps:p,inst:a,next:null},a=fn.updateQueue,a===null&&(a=Uc(),fn.updateQueue=a),h=a.lastEffect,h===null?a.lastEffect=o.next=o:(p=h.next,h.next=o,o.next=p,a.lastEffect=o),o}function qp(){return fi().memoizedState}function Vu(o,a,h,p){var A=Wi();fn.flags|=o,A.memoizedState=Ql(1|a,{destroy:void 0},h,p===void 0?null:p)}function qu(o,a,h,p){var A=fi();p=p===void 0?null:p;var k=A.memoizedState.inst;dn!==null&&p!==null&&nd(p,dn.memoizedState.deps)?A.memoizedState=Ql(a,k,h,p):(fn.flags|=o,A.memoizedState=Ql(1|a,k,h,p))}function X_(o,a){Vu(8390656,8,o,a)}function D0(o,a){qu(2048,8,o,a)}function o8(o){fn.flags|=4;var a=fn.updateQueue;if(a===null)a=Uc(),fn.updateQueue=a,a.events=[o];else{var h=a.events;h===null?a.events=[o]:h.push(o)}}function Q_(o){var a=fi().memoizedState;return o8({ref:a,nextImpl:o}),function(){if((Ar&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Z_(o,a){return qu(4,2,o,a)}function eb(o,a){return qu(4,4,o,a)}function tb(o,a){if(typeof a=="function"){o=o();var h=a(o);return function(){typeof h=="function"?h():a(null)}}if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function nb(o,a,h){h=h!=null?h.concat([o]):null,qu(4,4,tb.bind(null,a,o),h)}function P0(){}function rb(o,a){var h=fi();a=a===void 0?null:a;var p=h.memoizedState;return a!==null&&nd(a,p[1])?p[0]:(h.memoizedState=[o,a],o)}function ib(o,a){var h=fi();a=a===void 0?null:a;var p=h.memoizedState;if(a!==null&&nd(a,p[1]))return p[0];if(p=o(),ks){tn(!0);try{o()}finally{tn(!1)}}return h.memoizedState=[p,a],p}function M0(o,a,h){return h===void 0||(ci&1073741824)!==0&&(er&261930)===0?o.memoizedState=a:(o.memoizedState=h,o=s5(),fn.lanes|=o,Gu|=o,h)}function sb(o,a,h,p){return rs(h,a)?h:qn.current!==null?(o=M0(o,h,p),rs(o,a)||(Ki=!0),o):(ci&42)===0||(ci&1073741824)!==0&&(er&261930)===0?(Ki=!0,o.memoizedState=h):(o=s5(),fn.lanes|=o,Gu|=o,a)}function ob(o,a,h,p,A){var k=ae.p;ae.p=k!==0&&8>k?k:8;var ie=ce.T,Ee={};ce.T=Ee,U0(o,!1,a,h);try{var Me=A(),Qe=ce.S;if(Qe!==null&&Qe(Ee,Me),Me!==null&&typeof Me=="object"&&typeof Me.then=="function"){var pt=de(Me,p);cd(o,a,pt,Jo(o))}else cd(o,a,p,Jo(o))}catch(bt){cd(o,a,{then:function(){},status:"rejected",reason:bt},Jo())}finally{ae.p=k,ie!==null&&Ee.types!==null&&(ie.types=Ee.types),ce.T=ie}}function a8(){}function O0(o,a,h,p){if(o.tag!==5)throw Error(r(476));var A=ab(o).queue;ob(o,A,a,_e,h===null?a8:function(){return lb(o),h(p)})}function ab(o){var a=o.memoizedState;if(a!==null)return a;a={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:_e},next:null};var h={};return a.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:h},next:null},o.memoizedState=a,o=o.alternate,o!==null&&(o.memoizedState=a),a}function lb(o){var a=ab(o);a.next===null&&(a=o.alternate.memoizedState),cd(o,a.next.queue,{},Jo())}function F0(){return as(Cd)}function ub(){return fi().memoizedState}function cb(){return fi().memoizedState}function l8(o){for(var a=o.return;a!==null;){switch(a.tag){case 24:case 3:var h=Jo();o=vn(h);var p=Mn(a,o,h);p!==null&&(Lo(p,a,h),br(p,a,h)),a={cache:Fu()},o.payload=a;return}a=a.return}}function u8(o,a,h){var p=Jo();h={lane:p,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},zp(o)?hb(a,h):(h=bf(o,a,h,p),h!==null&&(Lo(h,o,p),db(h,a,p)))}function fb(o,a,h){var p=Jo();cd(o,a,h,p)}function cd(o,a,h,p){var A={lane:p,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(zp(o))hb(a,A);else{var k=o.alternate;if(o.lanes===0&&(k===null||k.lanes===0)&&(k=a.lastRenderedReducer,k!==null))try{var ie=a.lastRenderedState,Ee=k(ie,h);if(A.hasEagerState=!0,A.eagerState=Ee,rs(Ee,ie))return kc(o,a,A,0),Jr===null&&Rc(),!1}catch{}if(h=bf(o,a,A,p),h!==null)return Lo(h,o,p),db(h,a,p),!0}return!1}function U0(o,a,h,p){if(p={lane:2,revertLane:gy(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},zp(o)){if(a)throw Error(r(479))}else a=bf(o,h,p,2),a!==null&&Lo(a,o,2)}function zp(o){var a=o.alternate;return o===fn||a!==null&&a===fn}function hb(o,a){Co=qs=!0;var h=o.pending;h===null?a.next=a:(a.next=h.next,h.next=a),o.pending=a}function db(o,a,h){if((h&4194048)!==0){var p=a.lanes;p&=o.pendingLanes,h|=p,a.lanes=h,un(o,h)}}var fd={readContext:as,use:Uu,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useLayoutEffect:Br,useInsertionEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useSyncExternalStore:Br,useId:Br,useHostTransitionStatus:Br,useFormState:Br,useActionState:Br,useOptimistic:Br,useMemoCache:Br,useCacheRefresh:Br};fd.useEffectEvent=Br;var pb={readContext:as,use:Uu,useCallback:function(o,a){return Wi().memoizedState=[o,a===void 0?null:a],o},useContext:as,useEffect:X_,useImperativeHandle:function(o,a,h){h=h!=null?h.concat([o]):null,Vu(4194308,4,tb.bind(null,a,o),h)},useLayoutEffect:function(o,a){return Vu(4194308,4,o,a)},useInsertionEffect:function(o,a){Vu(4,2,o,a)},useMemo:function(o,a){var h=Wi();a=a===void 0?null:a;var p=o();if(ks){tn(!0);try{o()}finally{tn(!1)}}return h.memoizedState=[p,a],p},useReducer:function(o,a,h){var p=Wi();if(h!==void 0){var A=h(a);if(ks){tn(!0);try{h(a)}finally{tn(!1)}}}else A=a;return p.memoizedState=p.baseState=A,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:A},p.queue=o,o=o.dispatch=u8.bind(null,fn,o),[p.memoizedState,o]},useRef:function(o){var a=Wi();return o={current:o},a.memoizedState=o},useState:function(o){o=vl(o);var a=o.queue,h=fb.bind(null,fn,a);return a.dispatch=h,[o.memoizedState,h]},useDebugValue:P0,useDeferredValue:function(o,a){var h=Wi();return M0(h,o,a)},useTransition:function(){var o=vl(!1);return o=ob.bind(null,fn,o.queue,!0,!1),Wi().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,a,h){var p=fn,A=Wi();if(Jn){if(h===void 0)throw Error(r(407));h=h()}else{if(h=a(),Jr===null)throw Error(r(349));(er&127)!==0||Va(p,a,h)}A.memoizedState=h;var k={value:h,getSnapshot:a};return A.queue=k,X_(ad.bind(null,p,k,o),[o]),p.flags|=2048,Ql(9,{destroy:void 0},od.bind(null,p,k,h,a),null),h},useId:function(){var o=Wi(),a=Jr.identifierPrefix;if(Jn){var h=xo,p=So;h=(p&~(1<<32-sn(p)-1)).toString(32)+h,a="_"+a+"R_"+h,h=Ni++,0<h&&(a+="H"+h.toString(32)),a+="_"}else h=Lf++,a="_"+a+"r_"+h.toString(32)+"_";return o.memoizedState=a},useHostTransitionStatus:F0,useFormState:ga,useActionState:ga,useOptimistic:function(o){var a=Wi();a.memoizedState=a.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=h,a=U0.bind(null,fn,!0,h),h.dispatch=a,[o,a]},useMemoCache:Jl,useCacheRefresh:function(){return Wi().memoizedState=l8.bind(null,fn)},useEffectEvent:function(o){var a=Wi(),h={impl:o};return a.memoizedState=h,function(){if((Ar&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},B0={readContext:as,use:Uu,useCallback:rb,useContext:as,useEffect:D0,useImperativeHandle:nb,useInsertionEffect:Z_,useLayoutEffect:eb,useMemo:ib,useReducer:Mf,useRef:qp,useState:function(){return Mf(ma)},useDebugValue:P0,useDeferredValue:function(o,a){var h=fi();return sb(h,dn.memoizedState,o,a)},useTransition:function(){var o=Mf(ma)[0],a=fi().memoizedState;return[typeof o=="boolean"?o:yl(o),a]},useSyncExternalStore:Ff,useId:ub,useHostTransitionStatus:F0,useFormState:qa,useActionState:qa,useOptimistic:function(o,a){var h=fi();return Fp(h,dn,o,a)},useMemoCache:Jl,useCacheRefresh:cb};B0.useEffectEvent=Q_;var mb={readContext:as,use:Uu,useCallback:rb,useContext:as,useEffect:D0,useImperativeHandle:nb,useInsertionEffect:Z_,useLayoutEffect:eb,useMemo:ib,useReducer:Of,useRef:qp,useState:function(){return Of(ma)},useDebugValue:P0,useDeferredValue:function(o,a){var h=fi();return dn===null?M0(h,o,a):sb(h,dn.memoizedState,o,a)},useTransition:function(){var o=Of(ma)[0],a=fi().memoizedState;return[typeof o=="boolean"?o:yl(o),a]},useSyncExternalStore:Ff,useId:ub,useHostTransitionStatus:F0,useFormState:Vf,useActionState:Vf,useOptimistic:function(o,a){var h=fi();return dn!==null?Fp(h,dn,o,a):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:Jl,useCacheRefresh:cb};mb.useEffectEvent=Q_;function V0(o,a,h,p){a=o.memoizedState,h=h(p,a),h=h==null?a:g({},a,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var q0={enqueueSetState:function(o,a,h){o=o._reactInternals;var p=Jo(),A=vn(p);A.payload=a,h!=null&&(A.callback=h),a=Mn(o,A,p),a!==null&&(Lo(a,o,p),br(a,o,p))},enqueueReplaceState:function(o,a,h){o=o._reactInternals;var p=Jo(),A=vn(p);A.tag=1,A.payload=a,h!=null&&(A.callback=h),a=Mn(o,A,p),a!==null&&(Lo(a,o,p),br(a,o,p))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var h=Jo(),p=vn(h);p.tag=2,a!=null&&(p.callback=a),a=Mn(o,p,h),a!==null&&(Lo(a,o,h),br(a,o,h))}};function gb(o,a,h,p,A,k,ie){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,k,ie):a.prototype&&a.prototype.isPureReactComponent?!Da(h,p)||!Da(A,k):!0}function yb(o,a,h,p){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,p),a.state!==o&&q0.enqueueReplaceState(a,a.state,null)}function Vc(o,a){var h=a;if("ref"in a){h={};for(var p in a)p!=="ref"&&(h[p]=a[p])}if(o=o.defaultProps){h===a&&(h=g({},h));for(var A in o)h[A]===void 0&&(h[A]=o[A])}return h}function vb(o){Ic(o)}function wb(o){console.error(o)}function _b(o){Ic(o)}function Hp(o,a){try{var h=o.onUncaughtError;h(a.value,{componentStack:a.stack})}catch(p){setTimeout(function(){throw p})}}function bb(o,a,h){try{var p=o.onCaughtError;p(h.value,{componentStack:h.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function z0(o,a,h){return h=vn(h),h.tag=3,h.payload={element:null},h.callback=function(){Hp(o,a)},h}function Eb(o){return o=vn(o),o.tag=3,o}function Ab(o,a,h,p){var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var k=p.value;o.payload=function(){return A(k)},o.callback=function(){bb(a,h,p)}}var ie=h.stateNode;ie!==null&&typeof ie.componentDidCatch=="function"&&(o.callback=function(){bb(a,h,p),typeof A!="function"&&(ju===null?ju=new Set([this]):ju.add(this));var Ee=p.stack;this.componentDidCatch(p.value,{componentStack:Ee!==null?Ee:""})})}function c8(o,a,h,p,A){if(h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(a=h.alternate,a!==null&&dl(a,h,A,!0),h=ri.current,h!==null){switch(h.tag){case 31:case 13:return ar===null?tm():h.alternate===null&&Ii===0&&(Ii=3),h.flags&=-257,h.flags|=65536,h.lanes=A,p===qe?h.flags|=16384:(a=h.updateQueue,a===null?h.updateQueue=new Set([p]):a.add(p),dy(o,p,A)),!1;case 22:return h.flags|=65536,p===qe?h.flags|=16384:(a=h.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([p])},h.updateQueue=a):(h=a.retryQueue,h===null?a.retryQueue=new Set([p]):h.add(p)),dy(o,p,A)),!1}throw Error(r(435,h.tag))}return dy(o,p,A),tm(),!1}if(Jn)return a=ri.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=A,p!==Wo&&(o=Error(r(422),{cause:p}),Mu(bo(o,h)))):(p!==Wo&&(a=Error(r(423),{cause:p}),Mu(bo(a,h))),o=o.current.alternate,o.flags|=65536,A&=-A,o.lanes|=A,p=bo(p,h),A=z0(o.stateNode,p,A),Oi(o,A),Ii!==4&&(Ii=2)),!1;var k=Error(r(520),{cause:p});if(k=bo(k,h),wd===null?wd=[k]:wd.push(k),Ii!==4&&(Ii=2),a===null)return!0;p=bo(p,h),h=a;do{switch(h.tag){case 3:return h.flags|=65536,o=A&-A,h.lanes|=o,o=z0(h.stateNode,p,o),Oi(h,o),!1;case 1:if(a=h.type,k=h.stateNode,(h.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ju===null||!ju.has(k))))return h.flags|=65536,A&=-A,h.lanes|=A,A=Eb(A),Ab(A,o,h,p),Oi(h,A),!1}h=h.return}while(h!==null);return!1}var H0=Error(r(461)),Ki=!1;function Ls(o,a,h,p){a.child=o===null?Rn(a,null,h,p):Yr(a,o.child,h,p)}function Sb(o,a,h,p,A){h=h.render;var k=a.ref;if("ref"in p){var ie={};for(var Ee in p)Ee!=="ref"&&(ie[Ee]=p[Ee])}else ie=p;return pl(a),p=rd(o,a,h,ie,k,A),Ee=id(),o!==null&&!Ki?(sd(o,a,A),Zl(o,a,A)):(Jn&&Ee&&Zh(a),a.flags|=1,Ls(o,a,p,A),a.child)}function xb(o,a,h,p,A){if(o===null){var k=h.type;return typeof k=="function"&&!Af(k)&&k.defaultProps===void 0&&h.compare===null?(a.tag=15,a.type=k,Tb(o,a,k,p,A)):(o=Lu(h.type,null,p,a,a.mode,A),o.ref=a.ref,o.return=a,a.child=o)}if(k=o.child,!X0(o,A)){var ie=k.memoizedProps;if(h=h.compare,h=h!==null?h:Da,h(ie,p)&&o.ref===a.ref)return Zl(o,a,A)}return a.flags|=1,o=_o(k,p),o.ref=a.ref,o.return=a,a.child=o}function Tb(o,a,h,p,A){if(o!==null){var k=o.memoizedProps;if(Da(k,p)&&o.ref===a.ref)if(Ki=!1,a.pendingProps=p=k,X0(o,A))(o.flags&131072)!==0&&(Ki=!0);else return a.lanes=o.lanes,Zl(o,a,A)}return G0(o,a,h,p,A)}function Cb(o,a,h,p){var A=p.children,k=o!==null?o.memoizedState:null;if(o===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((a.flags&128)!==0){if(k=k!==null?k.baseLanes|h:h,o!==null){for(p=a.child=o.child,A=0;p!==null;)A=A|p.lanes|p.childLanes,p=p.sibling;p=A&~k}else p=0,a.child=null;return Nb(o,a,k,h,p)}if((h&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},o!==null&&Ne(a,k!==null?k.cachePool:null),k!==null?ni(a,k):pr(),Ti(a);else return p=a.lanes=536870912,Nb(o,a,k!==null?k.baseLanes|h:h,h,p)}else k!==null?(Ne(a,k.cachePool),ni(a,k),Ci(),a.memoizedState=null):(o!==null&&Ne(a,null),pr(),Ci());return Ls(o,a,A,h),a.child}function hd(o,a){return o!==null&&o.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Nb(o,a,h,p,A){var k=Se();return k=k===null?null:{parent:wi._currentValue,pool:k},a.memoizedState={baseLanes:h,cachePool:k},o!==null&&Ne(a,null),pr(),Ti(a),o!==null&&dl(o,a,p,!0),a.childLanes=A,null}function Gp(o,a){return a=$p({mode:a.mode,children:a.children},o.mode),a.ref=o.ref,o.child=a,a.return=o,a}function Ib(o,a,h){return Yr(a,o.child,null,h),o=Gp(a,a.pendingProps),o.flags|=2,Ir(a),a.memoizedState=null,o}function f8(o,a,h){var p=a.pendingProps,A=(a.flags&128)!==0;if(a.flags&=-129,o===null){if(Jn){if(p.mode==="hidden")return o=Gp(a,p),a.lanes=536870912,hd(null,o);if(Er(a),(o=Kr)?(o=q5(o,ui),o=o!==null&&o.data==="&"?o:null,o!==null&&(a.memoizedState={dehydrated:o,treeContext:ul!==null?{id:So,overflow:xo}:null,retryLane:536870912,hydrationErrors:null},h=Sf(o),h.return=a,a.child=h,ss=a,Kr=null)):o=null,o===null)throw cl(a);return a.lanes=536870912,null}return Gp(a,p)}var k=o.memoizedState;if(k!==null){var ie=k.dehydrated;if(Er(a),A)if(a.flags&256)a.flags&=-257,a=Ib(o,a,h);else if(a.memoizedState!==null)a.child=o.child,a.flags|=128,a=null;else throw Error(r(558));else if(Ki||dl(o,a,h,!1),A=(h&o.childLanes)!==0,Ki||A){if(p=Jr,p!==null&&(ie=Yn(p,h),ie!==0&&ie!==k.retryLane))throw k.retryLane=ie,Fa(o,ie),Lo(p,o,ie),H0;tm(),a=Ib(o,a,h)}else o=k.treeContext,Kr=ya(ie.nextSibling),ss=a,Jn=!0,Rs=null,ui=!1,o!==null&&Pp(a,o),a=Gp(a,p),a.flags|=4096;return a}return o=_o(o.child,{mode:p.mode,children:p.children}),o.ref=a.ref,a.child=o,o.return=a,o}function jp(o,a){var h=a.ref;if(h===null)o!==null&&o.ref!==null&&(a.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(a.flags|=4194816)}}function G0(o,a,h,p,A){return pl(a),h=rd(o,a,h,p,void 0,A),p=id(),o!==null&&!Ki?(sd(o,a,A),Zl(o,a,A)):(Jn&&p&&Zh(a),a.flags|=1,Ls(o,a,h,A),a.child)}function Rb(o,a,h,p,A,k){return pl(a),a.updateQueue=null,h=Ba(a,p,h,A),Df(o),p=id(),o!==null&&!Ki?(sd(o,a,k),Zl(o,a,k)):(Jn&&p&&Zh(a),a.flags|=1,Ls(o,a,h,k),a.child)}function kb(o,a,h,p,A){if(pl(a),a.stateNode===null){var k=is,ie=h.contextType;typeof ie=="object"&&ie!==null&&(k=as(ie)),k=new h(p,k),a.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=q0,a.stateNode=k,k._reactInternals=a,k=a.stateNode,k.props=p,k.state=a.memoizedState,k.refs={},Lt(a),ie=h.contextType,k.context=typeof ie=="object"&&ie!==null?as(ie):is,k.state=a.memoizedState,ie=h.getDerivedStateFromProps,typeof ie=="function"&&(V0(a,h,ie,p),k.state=a.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(ie=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),ie!==k.state&&q0.enqueueReplaceState(k,k.state,null),Si(a,p,k,A),Ur(),k.state=a.memoizedState),typeof k.componentDidMount=="function"&&(a.flags|=4194308),p=!0}else if(o===null){k=a.stateNode;var Ee=a.memoizedProps,Me=Vc(h,Ee);k.props=Me;var Qe=k.context,pt=h.contextType;ie=is,typeof pt=="object"&&pt!==null&&(ie=as(pt));var bt=h.getDerivedStateFromProps;pt=typeof bt=="function"||typeof k.getSnapshotBeforeUpdate=="function",Ee=a.pendingProps!==Ee,pt||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Ee||Qe!==ie)&&yb(a,k,p,ie),Gt=!1;var it=a.memoizedState;k.state=it,Si(a,p,k,A),Ur(),Qe=a.memoizedState,Ee||it!==Qe||Gt?(typeof bt=="function"&&(V0(a,h,bt,p),Qe=a.memoizedState),(Me=Gt||gb(a,h,Me,p,it,Qe,ie))?(pt||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(a.flags|=4194308)):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=Qe),k.props=p,k.state=Qe,k.context=ie,p=Me):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{k=a.stateNode,ti(o,a),ie=a.memoizedProps,pt=Vc(h,ie),k.props=pt,bt=a.pendingProps,it=k.context,Qe=h.contextType,Me=is,typeof Qe=="object"&&Qe!==null&&(Me=as(Qe)),Ee=h.getDerivedStateFromProps,(Qe=typeof Ee=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(ie!==bt||it!==Me)&&yb(a,k,p,Me),Gt=!1,it=a.memoizedState,k.state=it,Si(a,p,k,A),Ur();var ot=a.memoizedState;ie!==bt||it!==ot||Gt||o!==null&&o.dependencies!==null&&If(o.dependencies)?(typeof Ee=="function"&&(V0(a,h,Ee,p),ot=a.memoizedState),(pt=Gt||gb(a,h,pt,p,it,ot,Me)||o!==null&&o.dependencies!==null&&If(o.dependencies))?(Qe||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(p,ot,Me),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(p,ot,Me)),typeof k.componentDidUpdate=="function"&&(a.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof k.componentDidUpdate!="function"||ie===o.memoizedProps&&it===o.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||ie===o.memoizedProps&&it===o.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=ot),k.props=p,k.state=ot,k.context=Me,p=pt):(typeof k.componentDidUpdate!="function"||ie===o.memoizedProps&&it===o.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||ie===o.memoizedProps&&it===o.memoizedState||(a.flags|=1024),p=!1)}return k=p,jp(o,a),p=(a.flags&128)!==0,k||p?(k=a.stateNode,h=p&&typeof h.getDerivedStateFromError!="function"?null:k.render(),a.flags|=1,o!==null&&p?(a.child=Yr(a,o.child,null,A),a.child=Yr(a,null,h,A)):Ls(o,a,h,A),a.memoizedState=k.state,o=a.child):o=Zl(o,a,A),o}function Lb(o,a,h,p){return Kl(),a.flags|=256,Ls(o,a,h,p),a.child}var j0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $0(o){return{baseLanes:o,cachePool:Le()}}function W0(o,a,h){return o=o!==null?o.childLanes&~h:0,a&&(o|=Yo),o}function Db(o,a,h){var p=a.pendingProps,A=!1,k=(a.flags&128)!==0,ie;if((ie=k)||(ie=o!==null&&o.memoizedState===null?!1:(sr.current&2)!==0),ie&&(A=!0,a.flags&=-129),ie=(a.flags&32)!==0,a.flags&=-33,o===null){if(Jn){if(A?_i(a):Ci(),(o=Kr)?(o=q5(o,ui),o=o!==null&&o.data!=="&"?o:null,o!==null&&(a.memoizedState={dehydrated:o,treeContext:ul!==null?{id:So,overflow:xo}:null,retryLane:536870912,hydrationErrors:null},h=Sf(o),h.return=a,a.child=h,ss=a,Kr=null)):o=null,o===null)throw cl(a);return Iy(o)?a.lanes=32:a.lanes=536870912,null}var Ee=p.children;return p=p.fallback,A?(Ci(),A=a.mode,Ee=$p({mode:"hidden",children:Ee},A),p=ll(p,A,h,null),Ee.return=a,p.return=a,Ee.sibling=p,a.child=Ee,p=a.child,p.memoizedState=$0(h),p.childLanes=W0(o,ie,h),a.memoizedState=j0,hd(null,p)):(_i(a),K0(a,Ee))}var Me=o.memoizedState;if(Me!==null&&(Ee=Me.dehydrated,Ee!==null)){if(k)a.flags&256?(_i(a),a.flags&=-257,a=Y0(o,a,h)):a.memoizedState!==null?(Ci(),a.child=o.child,a.flags|=128,a=null):(Ci(),Ee=p.fallback,A=a.mode,p=$p({mode:"visible",children:p.children},A),Ee=ll(Ee,A,h,null),Ee.flags|=2,p.return=a,Ee.return=a,p.sibling=Ee,a.child=p,Yr(a,o.child,null,h),p=a.child,p.memoizedState=$0(h),p.childLanes=W0(o,ie,h),a.memoizedState=j0,a=hd(null,p));else if(_i(a),Iy(Ee)){if(ie=Ee.nextSibling&&Ee.nextSibling.dataset,ie)var Qe=ie.dgst;ie=Qe,p=Error(r(419)),p.stack="",p.digest=ie,Mu({value:p,source:null,stack:null}),a=Y0(o,a,h)}else if(Ki||dl(o,a,h,!1),ie=(h&o.childLanes)!==0,Ki||ie){if(ie=Jr,ie!==null&&(p=Yn(ie,h),p!==0&&p!==Me.retryLane))throw Me.retryLane=p,Fa(o,p),Lo(ie,o,p),H0;Ny(Ee)||tm(),a=Y0(o,a,h)}else Ny(Ee)?(a.flags|=192,a.child=o.child,a=null):(o=Me.treeContext,Kr=ya(Ee.nextSibling),ss=a,Jn=!0,Rs=null,ui=!1,o!==null&&Pp(a,o),a=K0(a,p.children),a.flags|=4096);return a}return A?(Ci(),Ee=p.fallback,A=a.mode,Me=o.child,Qe=Me.sibling,p=_o(Me,{mode:"hidden",children:p.children}),p.subtreeFlags=Me.subtreeFlags&65011712,Qe!==null?Ee=_o(Qe,Ee):(Ee=ll(Ee,A,h,null),Ee.flags|=2),Ee.return=a,p.return=a,p.sibling=Ee,a.child=p,hd(null,p),p=a.child,Ee=o.child.memoizedState,Ee===null?Ee=$0(h):(A=Ee.cachePool,A!==null?(Me=wi._currentValue,A=A.parent!==Me?{parent:Me,pool:Me}:A):A=Le(),Ee={baseLanes:Ee.baseLanes|h,cachePool:A}),p.memoizedState=Ee,p.childLanes=W0(o,ie,h),a.memoizedState=j0,hd(o.child,p)):(_i(a),h=o.child,o=h.sibling,h=_o(h,{mode:"visible",children:p.children}),h.return=a,h.sibling=null,o!==null&&(ie=a.deletions,ie===null?(a.deletions=[o],a.flags|=16):ie.push(o)),a.child=h,a.memoizedState=null,h)}function K0(o,a){return a=$p({mode:"visible",children:a},o.mode),a.return=o,o.child=a}function $p(o,a){return o=gs(22,o,null,a),o.lanes=0,o}function Y0(o,a,h){return Yr(a,o.child,null,h),o=K0(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function Pb(o,a,h){o.lanes|=a;var p=o.alternate;p!==null&&(p.lanes|=a),Ou(o.return,a,h)}function J0(o,a,h,p,A,k){var ie=o.memoizedState;ie===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:A,treeForkCount:k}:(ie.isBackwards=a,ie.rendering=null,ie.renderingStartTime=0,ie.last=p,ie.tail=h,ie.tailMode=A,ie.treeForkCount=k)}function Mb(o,a,h){var p=a.pendingProps,A=p.revealOrder,k=p.tail;p=p.children;var ie=sr.current,Ee=(ie&2)!==0;if(Ee?(ie=ie&1|2,a.flags|=128):ie&=1,ee(sr,ie),Ls(o,a,p,h),p=Jn?Mc:0,!Ee&&o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Pb(o,h,a);else if(o.tag===19)Pb(o,h,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(A){case"forwards":for(h=a.child,A=null;h!==null;)o=h.alternate,o!==null&&vs(o)===null&&(A=h),h=h.sibling;h=A,h===null?(A=a.child,a.child=null):(A=h.sibling,h.sibling=null),J0(a,!1,A,h,k,p);break;case"backwards":case"unstable_legacy-backwards":for(h=null,A=a.child,a.child=null;A!==null;){if(o=A.alternate,o!==null&&vs(o)===null){a.child=A;break}o=A.sibling,A.sibling=h,h=A,A=o}J0(a,!0,h,null,k,p);break;case"together":J0(a,!1,null,null,void 0,p);break;default:a.memoizedState=null}return a.child}function Zl(o,a,h){if(o!==null&&(a.dependencies=o.dependencies),Gu|=a.lanes,(h&a.childLanes)===0)if(o!==null){if(dl(o,a,h,!1),(h&a.childLanes)===0)return null}else return null;if(o!==null&&a.child!==o.child)throw Error(r(153));if(a.child!==null){for(o=a.child,h=_o(o,o.pendingProps),a.child=h,h.return=a;o.sibling!==null;)o=o.sibling,h=h.sibling=_o(o,o.pendingProps),h.return=a;h.sibling=null}return a.child}function X0(o,a){return(o.lanes&a)!==0?!0:(o=o.dependencies,!!(o!==null&&If(o)))}function h8(o,a,h){switch(a.tag){case 3:j(a,a.stateNode.containerInfo),hl(a,wi,o.memoizedState.cache),Kl();break;case 27:case 5:he(a);break;case 4:j(a,a.stateNode.containerInfo);break;case 10:hl(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Er(a),null;break;case 13:var p=a.memoizedState;if(p!==null)return p.dehydrated!==null?(_i(a),a.flags|=128,null):(h&a.child.childLanes)!==0?Db(o,a,h):(_i(a),o=Zl(o,a,h),o!==null?o.sibling:null);_i(a);break;case 19:var A=(o.flags&128)!==0;if(p=(h&a.childLanes)!==0,p||(dl(o,a,h,!1),p=(h&a.childLanes)!==0),A){if(p)return Mb(o,a,h);a.flags|=128}if(A=a.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ee(sr,sr.current),p)break;return null;case 22:return a.lanes=0,Cb(o,a,h,a.pendingProps);case 24:hl(a,wi,o.memoizedState.cache)}return Zl(o,a,h)}function Ob(o,a,h){if(o!==null)if(o.memoizedProps!==a.pendingProps)Ki=!0;else{if(!X0(o,h)&&(a.flags&128)===0)return Ki=!1,h8(o,a,h);Ki=(o.flags&131072)!==0}else Ki=!1,Jn&&(a.flags&1048576)!==0&&Dp(a,Mc,a.index);switch(a.lanes=0,a.tag){case 16:e:{var p=a.pendingProps;if(o=Ye(a.elementType),a.type=o,typeof o=="function")Af(o)?(p=Vc(o,p),a.tag=1,a=kb(null,a,o,p,h)):(a.tag=0,a=G0(null,a,o,p,h));else{if(o!=null){var A=o.$$typeof;if(A===N){a.tag=11,a=Sb(null,a,o,p,h);break e}else if(A===V){a.tag=14,a=xb(null,a,o,p,h);break e}}throw a=F(o)||o,Error(r(306,a,""))}}return a;case 0:return G0(o,a,a.type,a.pendingProps,h);case 1:return p=a.type,A=Vc(p,a.pendingProps),kb(o,a,p,A,h);case 3:e:{if(j(a,a.stateNode.containerInfo),o===null)throw Error(r(387));p=a.pendingProps;var k=a.memoizedState;A=k.element,ti(o,a),Si(a,p,null,h);var ie=a.memoizedState;if(p=ie.cache,hl(a,wi,p),p!==k.cache&&Yl(a,[wi],h,!0),Ur(),p=ie.element,k.isDehydrated)if(k={element:p,isDehydrated:!1,cache:ie.cache},a.updateQueue.baseState=k,a.memoizedState=k,a.flags&256){a=Lb(o,a,p,h);break e}else if(p!==A){A=bo(Error(r(424)),a),Mu(A),a=Lb(o,a,p,h);break e}else for(o=a.stateNode.containerInfo,o.nodeType===9?o=o.body:o=o.nodeName==="HTML"?o.ownerDocument.body:o,Kr=ya(o.firstChild),ss=a,Jn=!0,Rs=null,ui=!0,h=Rn(a,null,p,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Kl(),p===A){a=Zl(o,a,h);break e}Ls(o,a,p,h)}a=a.child}return a;case 26:return jp(o,a),o===null?(h=W5(a.type,null,a.pendingProps,null))?a.memoizedState=h:Jn||(h=a.type,o=a.pendingProps,p=lm(ue.current).createElement(h),p[rt]=a,p[vt]=o,Ds(p,h,o),Gr(p),a.stateNode=p):a.memoizedState=W5(a.type,o.memoizedProps,a.pendingProps,o.memoizedState),null;case 27:return he(a),o===null&&Jn&&(p=a.stateNode=G5(a.type,a.pendingProps,ue.current),ss=a,ui=!0,A=Kr,Yu(a.type)?(Ry=A,Kr=ya(p.firstChild)):Kr=A),Ls(o,a,a.pendingProps.children,h),jp(o,a),o===null&&(a.flags|=4194304),a.child;case 5:return o===null&&Jn&&((A=p=Kr)&&(p=z8(p,a.type,a.pendingProps,ui),p!==null?(a.stateNode=p,ss=a,Kr=ya(p.firstChild),ui=!1,A=!0):A=!1),A||cl(a)),he(a),A=a.type,k=a.pendingProps,ie=o!==null?o.memoizedProps:null,p=k.children,xy(A,k)?p=null:ie!==null&&xy(A,ie)&&(a.flags|=32),a.memoizedState!==null&&(A=rd(o,a,L0,null,null,h),Cd._currentValue=A),jp(o,a),Ls(o,a,p,h),a.child;case 6:return o===null&&Jn&&((o=h=Kr)&&(h=H8(h,a.pendingProps,ui),h!==null?(a.stateNode=h,ss=a,Kr=null,o=!0):o=!1),o||cl(a)),null;case 13:return Db(o,a,h);case 4:return j(a,a.stateNode.containerInfo),p=a.pendingProps,o===null?a.child=Yr(a,null,p,h):Ls(o,a,p,h),a.child;case 11:return Sb(o,a,a.type,a.pendingProps,h);case 7:return Ls(o,a,a.pendingProps,h),a.child;case 8:return Ls(o,a,a.pendingProps.children,h),a.child;case 12:return Ls(o,a,a.pendingProps.children,h),a.child;case 10:return p=a.pendingProps,hl(a,a.type,p.value),Ls(o,a,p.children,h),a.child;case 9:return A=a.type._context,p=a.pendingProps.children,pl(a),A=as(A),p=p(A),a.flags|=1,Ls(o,a,p,h),a.child;case 14:return xb(o,a,a.type,a.pendingProps,h);case 15:return Tb(o,a,a.type,a.pendingProps,h);case 19:return Mb(o,a,h);case 31:return f8(o,a,h);case 22:return Cb(o,a,h,a.pendingProps);case 24:return pl(a),p=as(wi),o===null?(A=Se(),A===null&&(A=Jr,k=Fu(),A.pooledCache=k,k.refCount++,k!==null&&(A.pooledCacheLanes|=h),A=k),a.memoizedState={parent:p,cache:A},Lt(a),hl(a,wi,A)):((o.lanes&h)!==0&&(ti(o,a),Si(a,null,null,h),Ur()),A=o.memoizedState,k=a.memoizedState,A.parent!==p?(A={parent:p,cache:p},a.memoizedState=A,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=A),hl(a,wi,p)):(p=k.cache,hl(a,wi,p),p!==A.cache&&Yl(a,[wi],h,!0))),Ls(o,a,a.pendingProps.children,h),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function eu(o){o.flags|=4}function Q0(o,a,h,p,A){if((a=(o.mode&32)!==0)&&(a=!1),a){if(o.flags|=16777216,(A&335544128)===A)if(o.stateNode.complete)o.flags|=8192;else if(u5())o.flags|=8192;else throw ct=qe,Je}else o.flags&=-16777217}function Fb(o,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Q5(a))if(u5())o.flags|=8192;else throw ct=qe,Je}function Wp(o,a){a!==null&&(o.flags|=4),o.flags&16384&&(a=o.tag!==22?lt():536870912,o.lanes|=a,Gf|=a)}function dd(o,a){if(!Jn)switch(o.tailMode){case"hidden":a=o.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function ii(o){var a=o.alternate!==null&&o.alternate.child===o.child,h=0,p=0;if(a)for(var A=o.child;A!==null;)h|=A.lanes|A.childLanes,p|=A.subtreeFlags&65011712,p|=A.flags&65011712,A.return=o,A=A.sibling;else for(A=o.child;A!==null;)h|=A.lanes|A.childLanes,p|=A.subtreeFlags,p|=A.flags,A.return=o,A=A.sibling;return o.subtreeFlags|=p,o.childLanes=h,a}function d8(o,a,h){var p=a.pendingProps;switch(Cf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ii(a),null;case 1:return ii(a),null;case 3:return h=a.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),a.memoizedState.cache!==p&&(a.flags|=2048),To(wi),ge(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(os(a)?eu(a):o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,td())),ii(a),null;case 26:var A=a.type,k=a.memoizedState;return o===null?(eu(a),k!==null?(ii(a),Fb(a,k)):(ii(a),Q0(a,A,null,p,h))):k?k!==o.memoizedState?(eu(a),ii(a),Fb(a,k)):(ii(a),a.flags&=-16777217):(o=o.memoizedProps,o!==p&&eu(a),ii(a),Q0(a,A,o,p,h)),null;case 27:if(le(a),h=ue.current,A=a.type,o!==null&&a.stateNode!=null)o.memoizedProps!==p&&eu(a);else{if(!p){if(a.stateNode===null)throw Error(r(166));return ii(a),null}o=se.current,os(a)?ed(a):(o=G5(A,p,h),a.stateNode=o,eu(a))}return ii(a),null;case 5:if(le(a),A=a.type,o!==null&&a.stateNode!=null)o.memoizedProps!==p&&eu(a);else{if(!p){if(a.stateNode===null)throw Error(r(166));return ii(a),null}if(k=se.current,os(a))ed(a);else{var ie=lm(ue.current);switch(k){case 1:k=ie.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:k=ie.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":k=ie.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":k=ie.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":k=ie.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof p.is=="string"?ie.createElement("select",{is:p.is}):ie.createElement("select"),p.multiple?k.multiple=!0:p.size&&(k.size=p.size);break;default:k=typeof p.is=="string"?ie.createElement(A,{is:p.is}):ie.createElement(A)}}k[rt]=a,k[vt]=p;e:for(ie=a.child;ie!==null;){if(ie.tag===5||ie.tag===6)k.appendChild(ie.stateNode);else if(ie.tag!==4&&ie.tag!==27&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===a)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===a)break e;ie=ie.return}ie.sibling.return=ie.return,ie=ie.sibling}a.stateNode=k;e:switch(Ds(k,A,p),A){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&eu(a)}}return ii(a),Q0(a,a.type,o===null?null:o.memoizedProps,a.pendingProps,h),null;case 6:if(o&&a.stateNode!=null)o.memoizedProps!==p&&eu(a);else{if(typeof p!="string"&&a.stateNode===null)throw Error(r(166));if(o=ue.current,os(a)){if(o=a.stateNode,h=a.memoizedProps,p=null,A=ss,A!==null)switch(A.tag){case 27:case 5:p=A.memoizedProps}o[rt]=a,o=!!(o.nodeValue===h||p!==null&&p.suppressHydrationWarning===!0||D5(o.nodeValue,h)),o||cl(a,!0)}else o=lm(o).createTextNode(p),o[rt]=a,a.stateNode=o}return ii(a),null;case 31:if(h=a.memoizedState,o===null||o.memoizedState!==null){if(p=os(a),h!==null){if(o===null){if(!p)throw Error(r(318));if(o=a.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[rt]=a}else Kl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ii(a),o=!1}else h=td(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return a.flags&256?(Ir(a),a):(Ir(a),null);if((a.flags&128)!==0)throw Error(r(558))}return ii(a),null;case 13:if(p=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(A=os(a),p!==null&&p.dehydrated!==null){if(o===null){if(!A)throw Error(r(318));if(A=a.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[rt]=a}else Kl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ii(a),A=!1}else A=td(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=A),A=!0;if(!A)return a.flags&256?(Ir(a),a):(Ir(a),null)}return Ir(a),(a.flags&128)!==0?(a.lanes=h,a):(h=p!==null,o=o!==null&&o.memoizedState!==null,h&&(p=a.child,A=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(A=p.alternate.memoizedState.cachePool.pool),k=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(k=p.memoizedState.cachePool.pool),k!==A&&(p.flags|=2048)),h!==o&&h&&(a.child.flags|=8192),Wp(a,a.updateQueue),ii(a),null);case 4:return ge(),o===null&&_y(a.stateNode.containerInfo),ii(a),null;case 10:return To(a.type),ii(a),null;case 19:if(O(sr),p=a.memoizedState,p===null)return ii(a),null;if(A=(a.flags&128)!==0,k=p.rendering,k===null)if(A)dd(p,!1);else{if(Ii!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(k=vs(o),k!==null){for(a.flags|=128,dd(p,!1),o=k.updateQueue,a.updateQueue=o,Wp(a,o),a.subtreeFlags=0,o=h,h=a.child;h!==null;)Dc(h,o),h=h.sibling;return ee(sr,sr.current&1|2),Jn&&ao(a,p.treeForkCount),a.child}o=o.sibling}p.tail!==null&&We()>Qp&&(a.flags|=128,A=!0,dd(p,!1),a.lanes=4194304)}else{if(!A)if(o=vs(k),o!==null){if(a.flags|=128,A=!0,o=o.updateQueue,a.updateQueue=o,Wp(a,o),dd(p,!0),p.tail===null&&p.tailMode==="hidden"&&!k.alternate&&!Jn)return ii(a),null}else 2*We()-p.renderingStartTime>Qp&&h!==536870912&&(a.flags|=128,A=!0,dd(p,!1),a.lanes=4194304);p.isBackwards?(k.sibling=a.child,a.child=k):(o=p.last,o!==null?o.sibling=k:a.child=k,p.last=k)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=We(),o.sibling=null,h=sr.current,ee(sr,A?h&1|2:h&1),Jn&&ao(a,p.treeForkCount),o):(ii(a),null);case 22:case 23:return Ir(a),Fi(),p=a.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(a.flags|=8192):p&&(a.flags|=8192),p?(h&536870912)!==0&&(a.flags&128)===0&&(ii(a),a.subtreeFlags&6&&(a.flags|=8192)):ii(a),h=a.updateQueue,h!==null&&Wp(a,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==h&&(a.flags|=2048),o!==null&&O(be),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),To(wi),ii(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function p8(o,a){switch(Cf(a),a.tag){case 1:return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return To(wi),ge(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 26:case 27:case 5:return le(a),null;case 31:if(a.memoizedState!==null){if(Ir(a),a.alternate===null)throw Error(r(340));Kl()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 13:if(Ir(a),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Kl()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return O(sr),null;case 4:return ge(),null;case 10:return To(a.type),null;case 22:case 23:return Ir(a),Fi(),o!==null&&O(be),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 24:return To(wi),null;case 25:return null;default:return null}}function Ub(o,a){switch(Cf(a),a.tag){case 3:To(wi),ge();break;case 26:case 27:case 5:le(a);break;case 4:ge();break;case 31:a.memoizedState!==null&&Ir(a);break;case 13:Ir(a);break;case 19:O(sr);break;case 10:To(a.type);break;case 22:case 23:Ir(a),Fi(),o!==null&&O(be);break;case 24:To(wi)}}function pd(o,a){try{var h=a.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var A=p.next;h=A;do{if((h.tag&o)===o){p=void 0;var k=h.create,ie=h.inst;p=k(),ie.destroy=p}h=h.next}while(h!==A)}}catch(Ee){kr(a,a.return,Ee)}}function zu(o,a,h){try{var p=a.updateQueue,A=p!==null?p.lastEffect:null;if(A!==null){var k=A.next;p=k;do{if((p.tag&o)===o){var ie=p.inst,Ee=ie.destroy;if(Ee!==void 0){ie.destroy=void 0,A=a;var Me=h,Qe=Ee;try{Qe()}catch(pt){kr(A,Me,pt)}}}p=p.next}while(p!==k)}}catch(pt){kr(a,a.return,pt)}}function Bb(o){var a=o.updateQueue;if(a!==null){var h=o.stateNode;try{xi(a,h)}catch(p){kr(o,o.return,p)}}}function Vb(o,a,h){h.props=Vc(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(p){kr(o,a,p)}}function md(o,a){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof h=="function"?o.refCleanup=h(p):h.current=p}}catch(A){kr(o,a,A)}}function wl(o,a){var h=o.ref,p=o.refCleanup;if(h!==null)if(typeof p=="function")try{p()}catch(A){kr(o,a,A)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(A){kr(o,a,A)}else h.current=null}function qb(o){var a=o.type,h=o.memoizedProps,p=o.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":h.autoFocus&&p.focus();break e;case"img":h.src?p.src=h.src:h.srcSet&&(p.srcset=h.srcSet)}}catch(A){kr(o,o.return,A)}}function Z0(o,a,h){try{var p=o.stateNode;O8(p,o.type,h,a),p[vt]=a}catch(A){kr(o,o.return,A)}}function zb(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Yu(o.type)||o.tag===4}function ey(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||zb(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Yu(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ty(o,a,h){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,a):(a=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,a.appendChild(o),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=eo));else if(p!==4&&(p===27&&Yu(o.type)&&(h=o.stateNode,a=null),o=o.child,o!==null))for(ty(o,a,h),o=o.sibling;o!==null;)ty(o,a,h),o=o.sibling}function Kp(o,a,h){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?h.insertBefore(o,a):h.appendChild(o);else if(p!==4&&(p===27&&Yu(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(Kp(o,a,h),o=o.sibling;o!==null;)Kp(o,a,h),o=o.sibling}function Hb(o){var a=o.stateNode,h=o.memoizedProps;try{for(var p=o.type,A=a.attributes;A.length;)a.removeAttributeNode(A[0]);Ds(a,p,h),a[rt]=o,a[vt]=h}catch(k){kr(o,o.return,k)}}var tu=!1,Yi=!1,ny=!1,Gb=typeof WeakSet=="function"?WeakSet:Set,ws=null;function m8(o,a){if(o=o.containerInfo,Ay=mm,o=Ma(o),ha(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var A=p.anchorOffset,k=p.focusNode;p=p.focusOffset;try{h.nodeType,k.nodeType}catch{h=null;break e}var ie=0,Ee=-1,Me=-1,Qe=0,pt=0,bt=o,it=null;t:for(;;){for(var ot;bt!==h||A!==0&&bt.nodeType!==3||(Ee=ie+A),bt!==k||p!==0&&bt.nodeType!==3||(Me=ie+p),bt.nodeType===3&&(ie+=bt.nodeValue.length),(ot=bt.firstChild)!==null;)it=bt,bt=ot;for(;;){if(bt===o)break t;if(it===h&&++Qe===A&&(Ee=ie),it===k&&++pt===p&&(Me=ie),(ot=bt.nextSibling)!==null)break;bt=it,it=bt.parentNode}bt=ot}h=Ee===-1||Me===-1?null:{start:Ee,end:Me}}else h=null}h=h||{start:0,end:0}}else h=null;for(Sy={focusedElem:o,selectionRange:h},mm=!1,ws=a;ws!==null;)if(a=ws,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,ws=o;else for(;ws!==null;){switch(a=ws,k=a.alternate,o=a.flags,a.tag){case 0:if((o&4)!==0&&(o=a.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)A=o[h],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&k!==null){o=void 0,h=a,A=k.memoizedProps,k=k.memoizedState,p=h.stateNode;try{var Xt=Vc(h.type,A);o=p.getSnapshotBeforeUpdate(Xt,k),p.__reactInternalSnapshotBeforeUpdate=o}catch(wn){kr(h,h.return,wn)}}break;case 3:if((o&1024)!==0){if(o=a.stateNode.containerInfo,h=o.nodeType,h===9)Cy(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Cy(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=a.sibling,o!==null){o.return=a.return,ws=o;break}ws=a.return}}function jb(o,a,h){var p=h.flags;switch(h.tag){case 0:case 11:case 15:ru(o,h),p&4&&pd(5,h);break;case 1:if(ru(o,h),p&4)if(o=h.stateNode,a===null)try{o.componentDidMount()}catch(ie){kr(h,h.return,ie)}else{var A=Vc(h.type,a.memoizedProps);a=a.memoizedState;try{o.componentDidUpdate(A,a,o.__reactInternalSnapshotBeforeUpdate)}catch(ie){kr(h,h.return,ie)}}p&64&&Bb(h),p&512&&md(h,h.return);break;case 3:if(ru(o,h),p&64&&(o=h.updateQueue,o!==null)){if(a=null,h.child!==null)switch(h.child.tag){case 27:case 5:a=h.child.stateNode;break;case 1:a=h.child.stateNode}try{xi(o,a)}catch(ie){kr(h,h.return,ie)}}break;case 27:a===null&&p&4&&Hb(h);case 26:case 5:ru(o,h),a===null&&p&4&&qb(h),p&512&&md(h,h.return);break;case 12:ru(o,h);break;case 31:ru(o,h),p&4&&Kb(o,h);break;case 13:ru(o,h),p&4&&Yb(o,h),p&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=S8.bind(null,h),G8(o,h))));break;case 22:if(p=h.memoizedState!==null||tu,!p){a=a!==null&&a.memoizedState!==null||Yi,A=tu;var k=Yi;tu=p,(Yi=a)&&!k?iu(o,h,(h.subtreeFlags&8772)!==0):ru(o,h),tu=A,Yi=k}break;case 30:break;default:ru(o,h)}}function $b(o){var a=o.alternate;a!==null&&(o.alternate=null,$b(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&nn(a)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var hi=null,No=!1;function nu(o,a,h){for(h=h.child;h!==null;)Wb(o,a,h),h=h.sibling}function Wb(o,a,h){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Mt,h)}catch{}switch(h.tag){case 26:Yi||wl(h,a),nu(o,a,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Yi||wl(h,a);var p=hi,A=No;Yu(h.type)&&(hi=h.stateNode,No=!1),nu(o,a,h),Sd(h.stateNode),hi=p,No=A;break;case 5:Yi||wl(h,a);case 6:if(p=hi,A=No,hi=null,nu(o,a,h),hi=p,No=A,hi!==null)if(No)try{(hi.nodeType===9?hi.body:hi.nodeName==="HTML"?hi.ownerDocument.body:hi).removeChild(h.stateNode)}catch(k){kr(h,a,k)}else try{hi.removeChild(h.stateNode)}catch(k){kr(h,a,k)}break;case 18:hi!==null&&(No?(o=hi,B5(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Qf(o)):B5(hi,h.stateNode));break;case 4:p=hi,A=No,hi=h.stateNode.containerInfo,No=!0,nu(o,a,h),hi=p,No=A;break;case 0:case 11:case 14:case 15:zu(2,h,a),Yi||zu(4,h,a),nu(o,a,h);break;case 1:Yi||(wl(h,a),p=h.stateNode,typeof p.componentWillUnmount=="function"&&Vb(h,a,p)),nu(o,a,h);break;case 21:nu(o,a,h);break;case 22:Yi=(p=Yi)||h.memoizedState!==null,nu(o,a,h),Yi=p;break;default:nu(o,a,h)}}function Kb(o,a){if(a.memoizedState===null&&(o=a.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Qf(o)}catch(h){kr(a,a.return,h)}}}function Yb(o,a){if(a.memoizedState===null&&(o=a.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Qf(o)}catch(h){kr(a,a.return,h)}}function g8(o){switch(o.tag){case 31:case 13:case 19:var a=o.stateNode;return a===null&&(a=o.stateNode=new Gb),a;case 22:return o=o.stateNode,a=o._retryCache,a===null&&(a=o._retryCache=new Gb),a;default:throw Error(r(435,o.tag))}}function Yp(o,a){var h=g8(o);a.forEach(function(p){if(!h.has(p)){h.add(p);var A=x8.bind(null,o,p);p.then(A,A)}})}function Io(o,a){var h=a.deletions;if(h!==null)for(var p=0;p<h.length;p++){var A=h[p],k=o,ie=a,Ee=ie;e:for(;Ee!==null;){switch(Ee.tag){case 27:if(Yu(Ee.type)){hi=Ee.stateNode,No=!1;break e}break;case 5:hi=Ee.stateNode,No=!1;break e;case 3:case 4:hi=Ee.stateNode.containerInfo,No=!0;break e}Ee=Ee.return}if(hi===null)throw Error(r(160));Wb(k,ie,A),hi=null,No=!1,k=A.alternate,k!==null&&(k.return=null),A.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Jb(a,o),a=a.sibling}var Ha=null;function Jb(o,a){var h=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Io(a,o),Ro(o),p&4&&(zu(3,o,o.return),pd(3,o),zu(5,o,o.return));break;case 1:Io(a,o),Ro(o),p&512&&(Yi||h===null||wl(h,h.return)),p&64&&tu&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?p:h.concat(p))));break;case 26:var A=Ha;if(Io(a,o),Ro(o),p&512&&(Yi||h===null||wl(h,h.return)),p&4){var k=h!==null?h.memoizedState:null;if(p=o.memoizedState,h===null)if(p===null)if(o.stateNode===null){e:{p=o.type,h=o.memoizedProps,A=A.ownerDocument||A;t:switch(p){case"title":k=A.getElementsByTagName("title")[0],(!k||k[On]||k[rt]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=A.createElement(p),A.head.insertBefore(k,A.querySelector("head > title"))),Ds(k,p,h),k[rt]=o,Gr(k),p=k;break e;case"link":var ie=J5("link","href",A).get(p+(h.href||""));if(ie){for(var Ee=0;Ee<ie.length;Ee++)if(k=ie[Ee],k.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&k.getAttribute("rel")===(h.rel==null?null:h.rel)&&k.getAttribute("title")===(h.title==null?null:h.title)&&k.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){ie.splice(Ee,1);break t}}k=A.createElement(p),Ds(k,p,h),A.head.appendChild(k);break;case"meta":if(ie=J5("meta","content",A).get(p+(h.content||""))){for(Ee=0;Ee<ie.length;Ee++)if(k=ie[Ee],k.getAttribute("content")===(h.content==null?null:""+h.content)&&k.getAttribute("name")===(h.name==null?null:h.name)&&k.getAttribute("property")===(h.property==null?null:h.property)&&k.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&k.getAttribute("charset")===(h.charSet==null?null:h.charSet)){ie.splice(Ee,1);break t}}k=A.createElement(p),Ds(k,p,h),A.head.appendChild(k);break;default:throw Error(r(468,p))}k[rt]=o,Gr(k),p=k}o.stateNode=p}else X5(A,o.type,o.stateNode);else o.stateNode=Y5(A,p,o.memoizedProps);else k!==p?(k===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):k.count--,p===null?X5(A,o.type,o.stateNode):Y5(A,p,o.memoizedProps)):p===null&&o.stateNode!==null&&Z0(o,o.memoizedProps,h.memoizedProps)}break;case 27:Io(a,o),Ro(o),p&512&&(Yi||h===null||wl(h,h.return)),h!==null&&p&4&&Z0(o,o.memoizedProps,h.memoizedProps);break;case 5:if(Io(a,o),Ro(o),p&512&&(Yi||h===null||wl(h,h.return)),o.flags&32){A=o.stateNode;try{Pi(A,"")}catch(Xt){kr(o,o.return,Xt)}}p&4&&o.stateNode!=null&&(A=o.memoizedProps,Z0(o,A,h!==null?h.memoizedProps:A)),p&1024&&(ny=!0);break;case 6:if(Io(a,o),Ro(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,h=o.stateNode;try{h.nodeValue=p}catch(Xt){kr(o,o.return,Xt)}}break;case 3:if(fm=null,A=Ha,Ha=um(a.containerInfo),Io(a,o),Ha=A,Ro(o),p&4&&h!==null&&h.memoizedState.isDehydrated)try{Qf(a.containerInfo)}catch(Xt){kr(o,o.return,Xt)}ny&&(ny=!1,Xb(o));break;case 4:p=Ha,Ha=um(o.stateNode.containerInfo),Io(a,o),Ro(o),Ha=p;break;case 12:Io(a,o),Ro(o);break;case 31:Io(a,o),Ro(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Yp(o,p)));break;case 13:Io(a,o),Ro(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Xp=We()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Yp(o,p)));break;case 22:A=o.memoizedState!==null;var Me=h!==null&&h.memoizedState!==null,Qe=tu,pt=Yi;if(tu=Qe||A,Yi=pt||Me,Io(a,o),Yi=pt,tu=Qe,Ro(o),p&8192)e:for(a=o.stateNode,a._visibility=A?a._visibility&-2:a._visibility|1,A&&(h===null||Me||tu||Yi||qc(o)),h=null,a=o;;){if(a.tag===5||a.tag===26){if(h===null){Me=h=a;try{if(k=Me.stateNode,A)ie=k.style,typeof ie.setProperty=="function"?ie.setProperty("display","none","important"):ie.display="none";else{Ee=Me.stateNode;var bt=Me.memoizedProps.style,it=bt!=null&&bt.hasOwnProperty("display")?bt.display:null;Ee.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(Xt){kr(Me,Me.return,Xt)}}}else if(a.tag===6){if(h===null){Me=a;try{Me.stateNode.nodeValue=A?"":Me.memoizedProps}catch(Xt){kr(Me,Me.return,Xt)}}}else if(a.tag===18){if(h===null){Me=a;try{var ot=Me.stateNode;A?V5(ot,!0):V5(Me.stateNode,!1)}catch(Xt){kr(Me,Me.return,Xt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===o)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;h===a&&(h=null),a=a.return}h===a&&(h=null),a.sibling.return=a.return,a=a.sibling}p&4&&(p=o.updateQueue,p!==null&&(h=p.retryQueue,h!==null&&(p.retryQueue=null,Yp(o,h))));break;case 19:Io(a,o),Ro(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Yp(o,p)));break;case 30:break;case 21:break;default:Io(a,o),Ro(o)}}function Ro(o){var a=o.flags;if(a&2){try{for(var h,p=o.return;p!==null;){if(zb(p)){h=p;break}p=p.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var A=h.stateNode,k=ey(o);Kp(o,k,A);break;case 5:var ie=h.stateNode;h.flags&32&&(Pi(ie,""),h.flags&=-33);var Ee=ey(o);Kp(o,Ee,ie);break;case 3:case 4:var Me=h.stateNode.containerInfo,Qe=ey(o);ty(o,Qe,Me);break;default:throw Error(r(161))}}catch(pt){kr(o,o.return,pt)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function Xb(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var a=o;Xb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),o=o.sibling}}function ru(o,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)jb(o,a.alternate,a),a=a.sibling}function qc(o){for(o=o.child;o!==null;){var a=o;switch(a.tag){case 0:case 11:case 14:case 15:zu(4,a,a.return),qc(a);break;case 1:wl(a,a.return);var h=a.stateNode;typeof h.componentWillUnmount=="function"&&Vb(a,a.return,h),qc(a);break;case 27:Sd(a.stateNode);case 26:case 5:wl(a,a.return),qc(a);break;case 22:a.memoizedState===null&&qc(a);break;case 30:qc(a);break;default:qc(a)}o=o.sibling}}function iu(o,a,h){for(h=h&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var p=a.alternate,A=o,k=a,ie=k.flags;switch(k.tag){case 0:case 11:case 15:iu(A,k,h),pd(4,k);break;case 1:if(iu(A,k,h),p=k,A=p.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Qe){kr(p,p.return,Qe)}if(p=k,A=p.updateQueue,A!==null){var Ee=p.stateNode;try{var Me=A.shared.hiddenCallbacks;if(Me!==null)for(A.shared.hiddenCallbacks=null,A=0;A<Me.length;A++)ys(Me[A],Ee)}catch(Qe){kr(p,p.return,Qe)}}h&&ie&64&&Bb(k),md(k,k.return);break;case 27:Hb(k);case 26:case 5:iu(A,k,h),h&&p===null&&ie&4&&qb(k),md(k,k.return);break;case 12:iu(A,k,h);break;case 31:iu(A,k,h),h&&ie&4&&Kb(A,k);break;case 13:iu(A,k,h),h&&ie&4&&Yb(A,k);break;case 22:k.memoizedState===null&&iu(A,k,h),md(k,k.return);break;case 30:break;default:iu(A,k,h)}a=a.sibling}}function ry(o,a){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&Oc(h))}function iy(o,a){o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&Oc(o))}function Ga(o,a,h,p){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Qb(o,a,h,p),a=a.sibling}function Qb(o,a,h,p){var A=a.flags;switch(a.tag){case 0:case 11:case 15:Ga(o,a,h,p),A&2048&&pd(9,a);break;case 1:Ga(o,a,h,p);break;case 3:Ga(o,a,h,p),A&2048&&(o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&Oc(o)));break;case 12:if(A&2048){Ga(o,a,h,p),o=a.stateNode;try{var k=a.memoizedProps,ie=k.id,Ee=k.onPostCommit;typeof Ee=="function"&&Ee(ie,a.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Me){kr(a,a.return,Me)}}else Ga(o,a,h,p);break;case 31:Ga(o,a,h,p);break;case 13:Ga(o,a,h,p);break;case 23:break;case 22:k=a.stateNode,ie=a.alternate,a.memoizedState!==null?k._visibility&2?Ga(o,a,h,p):gd(o,a):k._visibility&2?Ga(o,a,h,p):(k._visibility|=2,qf(o,a,h,p,(a.subtreeFlags&10256)!==0||!1)),A&2048&&ry(ie,a);break;case 24:Ga(o,a,h,p),A&2048&&iy(a.alternate,a);break;default:Ga(o,a,h,p)}}function qf(o,a,h,p,A){for(A=A&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var k=o,ie=a,Ee=h,Me=p,Qe=ie.flags;switch(ie.tag){case 0:case 11:case 15:qf(k,ie,Ee,Me,A),pd(8,ie);break;case 23:break;case 22:var pt=ie.stateNode;ie.memoizedState!==null?pt._visibility&2?qf(k,ie,Ee,Me,A):gd(k,ie):(pt._visibility|=2,qf(k,ie,Ee,Me,A)),A&&Qe&2048&&ry(ie.alternate,ie);break;case 24:qf(k,ie,Ee,Me,A),A&&Qe&2048&&iy(ie.alternate,ie);break;default:qf(k,ie,Ee,Me,A)}a=a.sibling}}function gd(o,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var h=o,p=a,A=p.flags;switch(p.tag){case 22:gd(h,p),A&2048&&ry(p.alternate,p);break;case 24:gd(h,p),A&2048&&iy(p.alternate,p);break;default:gd(h,p)}a=a.sibling}}var yd=8192;function zf(o,a,h){if(o.subtreeFlags&yd)for(o=o.child;o!==null;)Zb(o,a,h),o=o.sibling}function Zb(o,a,h){switch(o.tag){case 26:zf(o,a,h),o.flags&yd&&o.memoizedState!==null&&nk(h,Ha,o.memoizedState,o.memoizedProps);break;case 5:zf(o,a,h);break;case 3:case 4:var p=Ha;Ha=um(o.stateNode.containerInfo),zf(o,a,h),Ha=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=yd,yd=16777216,zf(o,a,h),yd=p):zf(o,a,h));break;default:zf(o,a,h)}}function e5(o){var a=o.alternate;if(a!==null&&(o=a.child,o!==null)){a.child=null;do a=o.sibling,o.sibling=null,o=a;while(o!==null)}}function vd(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var h=0;h<a.length;h++){var p=a[h];ws=p,n5(p,o)}e5(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)t5(o),o=o.sibling}function t5(o){switch(o.tag){case 0:case 11:case 15:vd(o),o.flags&2048&&zu(9,o,o.return);break;case 3:vd(o);break;case 12:vd(o);break;case 22:var a=o.stateNode;o.memoizedState!==null&&a._visibility&2&&(o.return===null||o.return.tag!==13)?(a._visibility&=-3,Jp(o)):vd(o);break;default:vd(o)}}function Jp(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var h=0;h<a.length;h++){var p=a[h];ws=p,n5(p,o)}e5(o)}for(o=o.child;o!==null;){switch(a=o,a.tag){case 0:case 11:case 15:zu(8,a,a.return),Jp(a);break;case 22:h=a.stateNode,h._visibility&2&&(h._visibility&=-3,Jp(a));break;default:Jp(a)}o=o.sibling}}function n5(o,a){for(;ws!==null;){var h=ws;switch(h.tag){case 0:case 11:case 15:zu(8,h,a);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var p=h.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Oc(h.memoizedState.cache)}if(p=h.child,p!==null)p.return=h,ws=p;else e:for(h=o;ws!==null;){p=ws;var A=p.sibling,k=p.return;if($b(p),p===h){ws=null;break e}if(A!==null){A.return=k,ws=A;break e}ws=k}}}var y8={getCacheForType:function(o){var a=as(wi),h=a.data.get(o);return h===void 0&&(h=o(),a.data.set(o,h)),h},cacheSignal:function(){return as(wi).controller.signal}},v8=typeof WeakMap=="function"?WeakMap:Map,Ar=0,Jr=null,Xn=null,er=0,Rr=0,Ko=null,Hu=!1,Hf=!1,sy=!1,su=0,Ii=0,Gu=0,zc=0,oy=0,Yo=0,Gf=0,wd=null,ko=null,ay=!1,Xp=0,r5=0,Qp=1/0,Zp=null,ju=null,us=0,$u=null,jf=null,ou=0,ly=0,uy=null,i5=null,_d=0,cy=null;function Jo(){return(Ar&2)!==0&&er!==0?er&-er:ce.T!==null?gy():$n()}function s5(){if(Yo===0)if((er&536870912)===0||Jn){var o=Hn;Hn<<=1,(Hn&3932160)===0&&(Hn=262144),Yo=o}else Yo=536870912;return o=ri.current,o!==null&&(o.flags|=32),Yo}function Lo(o,a,h){(o===Jr&&(Rr===2||Rr===9)||o.cancelPendingCommit!==null)&&($f(o,0),Wu(o,er,Yo,!1)),et(o,h),((Ar&2)===0||o!==Jr)&&(o===Jr&&((Ar&2)===0&&(zc|=h),Ii===4&&Wu(o,er,Yo,!1)),_l(o))}function o5(o,a,h){if((Ar&6)!==0)throw Error(r(327));var p=!h&&(a&127)===0&&(a&o.expiredLanes)===0||pi(o,a),A=p?b8(o,a):hy(o,a,!0),k=p;do{if(A===0){Hf&&!p&&Wu(o,a,0,!1);break}else{if(h=o.current.alternate,k&&!w8(h)){A=hy(o,a,!1),k=!1;continue}if(A===2){if(k=a,o.errorRecoveryDisabledLanes&k)var ie=0;else ie=o.pendingLanes&-536870913,ie=ie!==0?ie:ie&536870912?536870912:0;if(ie!==0){a=ie;e:{var Ee=o;A=wd;var Me=Ee.current.memoizedState.isDehydrated;if(Me&&($f(Ee,ie).flags|=256),ie=hy(Ee,ie,!1),ie!==2){if(sy&&!Me){Ee.errorRecoveryDisabledLanes|=k,zc|=k,A=4;break e}k=ko,ko=A,k!==null&&(ko===null?ko=k:ko.push.apply(ko,k))}A=ie}if(k=!1,A!==2)continue}}if(A===1){$f(o,0),Wu(o,a,0,!0);break}e:{switch(p=o,k=A,k){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Wu(p,a,Yo,!Hu);break e;case 2:ko=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(A=Xp+300-We(),10<A)){if(Wu(p,a,Yo,!Hu),Tn(p,0,!0)!==0)break e;ou=a,p.timeoutHandle=F5(a5.bind(null,p,h,ko,Zp,ay,a,Yo,zc,Gf,Hu,k,"Throttled",-0,0),A);break e}a5(p,h,ko,Zp,ay,a,Yo,zc,Gf,Hu,k,null,-0,0)}}break}while(!0);_l(o)}function a5(o,a,h,p,A,k,ie,Ee,Me,Qe,pt,bt,it,ot){if(o.timeoutHandle=-1,bt=a.subtreeFlags,bt&8192||(bt&16785408)===16785408){bt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:eo},Zb(a,k,bt);var Xt=(k&62914560)===k?Xp-We():(k&4194048)===k?r5-We():0;if(Xt=rk(bt,Xt),Xt!==null){ou=k,o.cancelPendingCommit=Xt(m5.bind(null,o,a,k,h,p,A,ie,Ee,Me,pt,bt,null,it,ot)),Wu(o,k,ie,!Qe);return}}m5(o,a,k,h,p,A,ie,Ee,Me)}function w8(o){for(var a=o;;){var h=a.tag;if((h===0||h===11||h===15)&&a.flags&16384&&(h=a.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var p=0;p<h.length;p++){var A=h[p],k=A.getSnapshot;A=A.value;try{if(!rs(k(),A))return!1}catch{return!1}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Wu(o,a,h,p){a&=~oy,a&=~zc,o.suspendedLanes|=a,o.pingedLanes&=~a,p&&(o.warmLanes|=a),p=o.expirationTimes;for(var A=a;0<A;){var k=31-sn(A),ie=1<<k;p[k]=-1,A&=~ie}h!==0&&Yt(o,h,a)}function em(){return(Ar&6)===0?(bd(0),!1):!0}function fy(){if(Xn!==null){if(Rr===0)var o=Xn.return;else o=Xn,pa=fl=null,Pf(o),Et=null,Zt=0,o=Xn;for(;o!==null;)Ub(o.alternate,o),o=o.return;Xn=null}}function $f(o,a){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,B8(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),ou=0,fy(),Jr=o,Xn=h=_o(o.current,null),er=a,Rr=0,Ko=null,Hu=!1,Hf=pi(o,a),sy=!1,Gf=Yo=oy=zc=Gu=Ii=0,ko=wd=null,ay=!1,(a&8)!==0&&(a|=a&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=a;0<p;){var A=31-sn(p),k=1<<A;a|=o[A],p&=~k}return su=a,Rc(),h}function l5(o,a){fn=null,ce.H=fd,a===Be||a===Re?(a=mt(),Rr=3):a===Je?(a=mt(),Rr=4):Rr=a===H0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ko=a,Xn===null&&(Ii=1,Hp(o,bo(a,o.current)))}function u5(){var o=ri.current;return o===null?!0:(er&4194048)===er?ar===null:(er&62914560)===er||(er&536870912)!==0?o===ar:!1}function c5(){var o=ce.H;return ce.H=fd,o===null?fd:o}function f5(){var o=ce.A;return ce.A=y8,o}function tm(){Ii=4,Hu||(er&4194048)!==er&&ri.current!==null||(Hf=!0),(Gu&134217727)===0&&(zc&134217727)===0||Jr===null||Wu(Jr,er,Yo,!1)}function hy(o,a,h){var p=Ar;Ar|=2;var A=c5(),k=f5();(Jr!==o||er!==a)&&(Zp=null,$f(o,a)),a=!1;var ie=Ii;e:do try{if(Rr!==0&&Xn!==null){var Ee=Xn,Me=Ko;switch(Rr){case 8:fy(),ie=6;break e;case 3:case 2:case 9:case 6:ri.current===null&&(a=!0);var Qe=Rr;if(Rr=0,Ko=null,Wf(o,Ee,Me,Qe),h&&Hf){ie=0;break e}break;default:Qe=Rr,Rr=0,Ko=null,Wf(o,Ee,Me,Qe)}}_8(),ie=Ii;break}catch(pt){l5(o,pt)}while(!0);return a&&o.shellSuspendCounter++,pa=fl=null,Ar=p,ce.H=A,ce.A=k,Xn===null&&(Jr=null,er=0,Rc()),ie}function _8(){for(;Xn!==null;)h5(Xn)}function b8(o,a){var h=Ar;Ar|=2;var p=c5(),A=f5();Jr!==o||er!==a?(Zp=null,Qp=We()+500,$f(o,a)):Hf=pi(o,a);e:do try{if(Rr!==0&&Xn!==null){a=Xn;var k=Ko;t:switch(Rr){case 1:Rr=0,Ko=null,Wf(o,a,k,1);break;case 2:case 9:if(Ke(k)){Rr=0,Ko=null,d5(a);break}a=function(){Rr!==2&&Rr!==9||Jr!==o||(Rr=7),_l(o)},k.then(a,a);break e;case 3:Rr=7;break e;case 4:Rr=5;break e;case 7:Ke(k)?(Rr=0,Ko=null,d5(a)):(Rr=0,Ko=null,Wf(o,a,k,7));break;case 5:var ie=null;switch(Xn.tag){case 26:ie=Xn.memoizedState;case 5:case 27:var Ee=Xn;if(ie?Q5(ie):Ee.stateNode.complete){Rr=0,Ko=null;var Me=Ee.sibling;if(Me!==null)Xn=Me;else{var Qe=Ee.return;Qe!==null?(Xn=Qe,nm(Qe)):Xn=null}break t}}Rr=0,Ko=null,Wf(o,a,k,5);break;case 6:Rr=0,Ko=null,Wf(o,a,k,6);break;case 8:fy(),Ii=6;break e;default:throw Error(r(462))}}E8();break}catch(pt){l5(o,pt)}while(!0);return pa=fl=null,ce.H=p,ce.A=A,Ar=h,Xn!==null?0:(Jr=null,er=0,Rc(),Ii)}function E8(){for(;Xn!==null&&!Ae();)h5(Xn)}function h5(o){var a=Ob(o.alternate,o,su);o.memoizedProps=o.pendingProps,a===null?nm(o):Xn=a}function d5(o){var a=o,h=a.alternate;switch(a.tag){case 15:case 0:a=Rb(h,a,a.pendingProps,a.type,void 0,er);break;case 11:a=Rb(h,a,a.pendingProps,a.type.render,a.ref,er);break;case 5:Pf(a);default:Ub(h,a),a=Xn=Dc(a,su),a=Ob(h,a,su)}o.memoizedProps=o.pendingProps,a===null?nm(o):Xn=a}function Wf(o,a,h,p){pa=fl=null,Pf(a),Et=null,Zt=0;var A=a.return;try{if(c8(o,A,a,h,er)){Ii=1,Hp(o,bo(h,o.current)),Xn=null;return}}catch(k){if(A!==null)throw Xn=A,k;Ii=1,Hp(o,bo(h,o.current)),Xn=null;return}a.flags&32768?(Jn||p===1?o=!0:Hf||(er&536870912)!==0?o=!1:(Hu=o=!0,(p===2||p===9||p===3||p===6)&&(p=ri.current,p!==null&&p.tag===13&&(p.flags|=16384))),p5(a,o)):nm(a)}function nm(o){var a=o;do{if((a.flags&32768)!==0){p5(a,Hu);return}o=a.return;var h=d8(a.alternate,a,su);if(h!==null){Xn=h;return}if(a=a.sibling,a!==null){Xn=a;return}Xn=a=o}while(a!==null);Ii===0&&(Ii=5)}function p5(o,a){do{var h=p8(o.alternate,o);if(h!==null){h.flags&=32767,Xn=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!a&&(o=o.sibling,o!==null)){Xn=o;return}Xn=o=h}while(o!==null);Ii=6,Xn=null}function m5(o,a,h,p,A,k,ie,Ee,Me){o.cancelPendingCommit=null;do rm();while(us!==0);if((Ar&6)!==0)throw Error(r(327));if(a!==null){if(a===o.current)throw Error(r(177));if(k=a.lanes|a.childLanes,k|=_f,kt(o,h,k,ie,Ee,Me),o===Jr&&(Xn=Jr=null,er=0),jf=a,$u=o,ou=h,ly=k,uy=A,i5=p,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,T8(xt,function(){return _5(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||p){p=ce.T,ce.T=null,A=ae.p,ae.p=2,ie=Ar,Ar|=4;try{m8(o,a,h)}finally{Ar=ie,ae.p=A,ce.T=p}}us=1,g5(),y5(),v5()}}function g5(){if(us===1){us=0;var o=$u,a=jf,h=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||h){h=ce.T,ce.T=null;var p=ae.p;ae.p=2;var A=Ar;Ar|=4;try{Jb(a,o);var k=Sy,ie=Ma(o.containerInfo),Ee=k.focusedElem,Me=k.selectionRange;if(ie!==Ee&&Ee&&Ee.ownerDocument&&Pa(Ee.ownerDocument.documentElement,Ee)){if(Me!==null&&ha(Ee)){var Qe=Me.start,pt=Me.end;if(pt===void 0&&(pt=Qe),"selectionStart"in Ee)Ee.selectionStart=Qe,Ee.selectionEnd=Math.min(pt,Ee.value.length);else{var bt=Ee.ownerDocument||document,it=bt&&bt.defaultView||window;if(it.getSelection){var ot=it.getSelection(),Xt=Ee.textContent.length,wn=Math.min(Me.start,Xt),qr=Me.end===void 0?wn:Math.min(Me.end,Xt);!ot.extend&&wn>qr&&(ie=qr,qr=wn,wn=ie);var Ge=ku(Ee,wn),Ve=ku(Ee,qr);if(Ge&&Ve&&(ot.rangeCount!==1||ot.anchorNode!==Ge.node||ot.anchorOffset!==Ge.offset||ot.focusNode!==Ve.node||ot.focusOffset!==Ve.offset)){var Xe=bt.createRange();Xe.setStart(Ge.node,Ge.offset),ot.removeAllRanges(),wn>qr?(ot.addRange(Xe),ot.extend(Ve.node,Ve.offset)):(Xe.setEnd(Ve.node,Ve.offset),ot.addRange(Xe))}}}}for(bt=[],ot=Ee;ot=ot.parentNode;)ot.nodeType===1&&bt.push({element:ot,left:ot.scrollLeft,top:ot.scrollTop});for(typeof Ee.focus=="function"&&Ee.focus(),Ee=0;Ee<bt.length;Ee++){var yt=bt[Ee];yt.element.scrollLeft=yt.left,yt.element.scrollTop=yt.top}}mm=!!Ay,Sy=Ay=null}finally{Ar=A,ae.p=p,ce.T=h}}o.current=a,us=2}}function y5(){if(us===2){us=0;var o=$u,a=jf,h=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||h){h=ce.T,ce.T=null;var p=ae.p;ae.p=2;var A=Ar;Ar|=4;try{jb(o,a.alternate,a)}finally{Ar=A,ae.p=p,ce.T=h}}us=3}}function v5(){if(us===4||us===3){us=0,Oe();var o=$u,a=jf,h=ou,p=i5;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?us=5:(us=0,jf=$u=null,w5(o,o.pendingLanes));var A=o.pendingLanes;if(A===0&&(ju=null),yn(h),a=a.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Mt,a,void 0,(a.current.flags&128)===128)}catch{}if(p!==null){a=ce.T,A=ae.p,ae.p=2,ce.T=null;try{for(var k=o.onRecoverableError,ie=0;ie<p.length;ie++){var Ee=p[ie];k(Ee.value,{componentStack:Ee.stack})}}finally{ce.T=a,ae.p=A}}(ou&3)!==0&&rm(),_l(o),A=o.pendingLanes,(h&261930)!==0&&(A&42)!==0?o===cy?_d++:(_d=0,cy=o):_d=0,bd(0)}}function w5(o,a){(o.pooledCacheLanes&=a)===0&&(a=o.pooledCache,a!=null&&(o.pooledCache=null,Oc(a)))}function rm(){return g5(),y5(),v5(),_5()}function _5(){if(us!==5)return!1;var o=$u,a=ly;ly=0;var h=yn(ou),p=ce.T,A=ae.p;try{ae.p=32>h?32:h,ce.T=null,h=uy,uy=null;var k=$u,ie=ou;if(us=0,jf=$u=null,ou=0,(Ar&6)!==0)throw Error(r(331));var Ee=Ar;if(Ar|=4,t5(k.current),Qb(k,k.current,ie,h),Ar=Ee,bd(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Mt,k)}catch{}return!0}finally{ae.p=A,ce.T=p,w5(o,a)}}function b5(o,a,h){a=bo(h,a),a=z0(o.stateNode,a,2),o=Mn(o,a,2),o!==null&&(et(o,2),_l(o))}function kr(o,a,h){if(o.tag===3)b5(o,o,h);else for(;a!==null;){if(a.tag===3){b5(a,o,h);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ju===null||!ju.has(p))){o=bo(h,o),h=Eb(2),p=Mn(a,h,2),p!==null&&(Ab(h,p,a,o),et(p,2),_l(p));break}}a=a.return}}function dy(o,a,h){var p=o.pingCache;if(p===null){p=o.pingCache=new v8;var A=new Set;p.set(a,A)}else A=p.get(a),A===void 0&&(A=new Set,p.set(a,A));A.has(h)||(sy=!0,A.add(h),o=A8.bind(null,o,a,h),a.then(o,o))}function A8(o,a,h){var p=o.pingCache;p!==null&&p.delete(a),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Jr===o&&(er&h)===h&&(Ii===4||Ii===3&&(er&62914560)===er&&300>We()-Xp?(Ar&2)===0&&$f(o,0):oy|=h,Gf===er&&(Gf=0)),_l(o)}function E5(o,a){a===0&&(a=lt()),o=Fa(o,a),o!==null&&(et(o,a),_l(o))}function S8(o){var a=o.memoizedState,h=0;a!==null&&(h=a.retryLane),E5(o,h)}function x8(o,a){var h=0;switch(o.tag){case 31:case 13:var p=o.stateNode,A=o.memoizedState;A!==null&&(h=A.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(a),E5(o,h)}function T8(o,a){return ye(o,a)}var im=null,Kf=null,py=!1,sm=!1,my=!1,Ku=0;function _l(o){o!==Kf&&o.next===null&&(Kf===null?im=Kf=o:Kf=Kf.next=o),sm=!0,py||(py=!0,N8())}function bd(o,a){if(!my&&sm){my=!0;do for(var h=!1,p=im;p!==null;){if(o!==0){var A=p.pendingLanes;if(A===0)var k=0;else{var ie=p.suspendedLanes,Ee=p.pingedLanes;k=(1<<31-sn(42|o)+1)-1,k&=A&~(ie&~Ee),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(h=!0,T5(p,k))}else k=er,k=Tn(p,p===Jr?k:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(k&3)===0||pi(p,k)||(h=!0,T5(p,k));p=p.next}while(h);my=!1}}function C8(){A5()}function A5(){sm=py=!1;var o=0;Ku!==0&&U8()&&(o=Ku);for(var a=We(),h=null,p=im;p!==null;){var A=p.next,k=S5(p,a);k===0?(p.next=null,h===null?im=A:h.next=A,A===null&&(Kf=h)):(h=p,(o!==0||(k&3)!==0)&&(sm=!0)),p=A}us!==0&&us!==5||bd(o),Ku!==0&&(Ku=0)}function S5(o,a){for(var h=o.suspendedLanes,p=o.pingedLanes,A=o.expirationTimes,k=o.pendingLanes&-62914561;0<k;){var ie=31-sn(k),Ee=1<<ie,Me=A[ie];Me===-1?((Ee&h)===0||(Ee&p)!==0)&&(A[ie]=je(Ee,a)):Me<=a&&(o.expiredLanes|=Ee),k&=~Ee}if(a=Jr,h=er,h=Tn(o,o===a?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,h===0||o===a&&(Rr===2||Rr===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&Ce(p),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||pi(o,h)){if(a=h&-h,a===o.callbackPriority)return a;switch(p!==null&&Ce(p),yn(h)){case 2:case 8:h=_t;break;case 32:h=xt;break;case 268435456:h=Ft;break;default:h=xt}return p=x5.bind(null,o),h=ye(h,p),o.callbackPriority=a,o.callbackNode=h,a}return p!==null&&p!==null&&Ce(p),o.callbackPriority=2,o.callbackNode=null,2}function x5(o,a){if(us!==0&&us!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(rm()&&o.callbackNode!==h)return null;var p=er;return p=Tn(o,o===Jr?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(o5(o,p,a),S5(o,We()),o.callbackNode!=null&&o.callbackNode===h?x5.bind(null,o):null)}function T5(o,a){if(rm())return null;o5(o,a,!0)}function N8(){V8(function(){(Ar&6)!==0?ye(Ze,C8):A5()})}function gy(){if(Ku===0){var o=w;o===0&&(o=on,on<<=1,(on&261888)===0&&(on=256)),Ku=o}return Ku}function C5(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:hs(""+o)}function N5(o,a){var h=a.ownerDocument.createElement("input");return h.name=a.name,h.value=a.value,o.id&&h.setAttribute("form",o.id),a.parentNode.insertBefore(h,a),o=new FormData(o),h.parentNode.removeChild(h),o}function I8(o,a,h,p,A){if(a==="submit"&&h&&h.stateNode===A){var k=C5((A[vt]||null).action),ie=p.submitter;ie&&(a=(a=ie[vt]||null)?C5(a.formAction):ie.getAttribute("formAction"),a!==null&&(k=a,ie=null));var Ee=new ji("action","action",null,p,A);o.push({event:Ee,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ku!==0){var Me=ie?N5(A,ie):new FormData(A);O0(h,{pending:!0,data:Me,method:A.method,action:k},null,Me)}}else typeof k=="function"&&(Ee.preventDefault(),Me=ie?N5(A,ie):new FormData(A),O0(h,{pending:!0,data:Me,method:A.method,action:k},k,Me))},currentTarget:A}]})}}for(var yy=0;yy<jl.length;yy++){var vy=jl[yy],R8=vy.toLowerCase(),k8=vy[0].toUpperCase()+vy.slice(1);wo(R8,"on"+k8)}wo(Gl,"onAnimationEnd"),wo(Nc,"onAnimationIteration"),wo(Jh,"onAnimationStart"),wo("dblclick","onDoubleClick"),wo("focusin","onFocus"),wo("focusout","onBlur"),wo(Rp,"onTransitionRun"),wo(kp,"onTransitionStart"),wo(Lp,"onTransitionCancel"),wo(Xh,"onTransitionEnd"),fs("onMouseEnter",["mouseout","mouseover"]),fs("onMouseLeave",["mouseout","mouseover"]),fs("onPointerEnter",["pointerout","pointerover"]),fs("onPointerLeave",["pointerout","pointerover"]),Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ed));function I5(o,a){a=(a&4)!==0;for(var h=0;h<o.length;h++){var p=o[h],A=p.event;p=p.listeners;e:{var k=void 0;if(a)for(var ie=p.length-1;0<=ie;ie--){var Ee=p[ie],Me=Ee.instance,Qe=Ee.currentTarget;if(Ee=Ee.listener,Me!==k&&A.isPropagationStopped())break e;k=Ee,A.currentTarget=Qe;try{k(A)}catch(pt){Ic(pt)}A.currentTarget=null,k=Me}else for(ie=0;ie<p.length;ie++){if(Ee=p[ie],Me=Ee.instance,Qe=Ee.currentTarget,Ee=Ee.listener,Me!==k&&A.isPropagationStopped())break e;k=Ee,A.currentTarget=Qe;try{k(A)}catch(pt){Ic(pt)}A.currentTarget=null,k=Me}}}}function Qn(o,a){var h=a[ht];h===void 0&&(h=a[ht]=new Set);var p=o+"__bubble";h.has(p)||(R5(a,o,2,!1),h.add(p))}function wy(o,a,h){var p=0;a&&(p|=4),R5(h,o,p,a)}var om="_reactListening"+Math.random().toString(36).slice(2);function _y(o){if(!o[om]){o[om]=!0,Bo.forEach(function(h){h!=="selectionchange"&&(L8.has(h)||wy(h,!1,o),wy(h,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[om]||(a[om]=!0,wy("selectionchange",!1,a))}}function R5(o,a,h,p){switch(sE(a)){case 2:var A=ok;break;case 8:A=ak;break;default:A=My}h=A.bind(null,a,h,o),A=void 0,!Ca||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(A=!0),p?A!==void 0?o.addEventListener(a,h,{capture:!0,passive:A}):o.addEventListener(a,h,!0):A!==void 0?o.addEventListener(a,h,{passive:A}):o.addEventListener(a,h,!1)}function by(o,a,h,p,A){var k=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var ie=p.tag;if(ie===3||ie===4){var Ee=p.stateNode.containerInfo;if(Ee===A)break;if(ie===4)for(ie=p.return;ie!==null;){var Me=ie.tag;if((Me===3||Me===4)&&ie.stateNode.containerInfo===A)return;ie=ie.return}for(;Ee!==null;){if(ie=Sr(Ee),ie===null)return;if(Me=ie.tag,Me===5||Me===6||Me===26||Me===27){p=k=ie;continue e}Ee=Ee.parentNode}}p=p.return}ia(function(){var Qe=k,pt=ds(h),bt=[];e:{var it=Qh.get(o);if(it!==void 0){var ot=ji,Xt=o;switch(o){case"keypress":if(xs(h)===0)break e;case"keydown":case"keyup":ot=Wn;break;case"focusin":Xt="focus",ot=no;break;case"focusout":Xt="blur",ot=no;break;case"beforeblur":case"afterblur":ot=no;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=yo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=J;break;case Gl:case Nc:case Jh:ot=U;break;case Xh:ot=Te;break;case"scroll":case"scrollend":ot=sa;break;case"wheel":ot=nt;break;case"copy":case"cut":case"paste":ot=ke;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=Tr;break;case"toggle":case"beforetoggle":ot=An}var wn=(a&4)!==0,qr=!wn&&(o==="scroll"||o==="scrollend"),Ge=wn?it!==null?it+"Capture":null:it;wn=[];for(var Ve=Qe,Xe;Ve!==null;){var yt=Ve;if(Xe=yt.stateNode,yt=yt.tag,yt!==5&&yt!==26&&yt!==27||Xe===null||Ge===null||(yt=Mi(Ve,Ge),yt!=null&&wn.push(Ad(Ve,yt,Xe))),qr)break;Ve=Ve.return}0<wn.length&&(it=new ot(it,Xt,null,h,pt),bt.push({event:it,listeners:wn}))}}if((a&7)===0){e:{if(it=o==="mouseover"||o==="pointerover",ot=o==="mouseout"||o==="pointerout",it&&h!==zo&&(Xt=h.relatedTarget||h.fromElement)&&(Sr(Xt)||Xt[ut]))break e;if((ot||it)&&(it=pt.window===pt?pt:(it=pt.ownerDocument)?it.defaultView||it.parentWindow:window,ot?(Xt=h.relatedTarget||h.toElement,ot=Qe,Xt=Xt?Sr(Xt):null,Xt!==null&&(qr=s(Xt),wn=Xt.tag,Xt!==qr||wn!==5&&wn!==27&&wn!==6)&&(Xt=null)):(ot=null,Xt=Qe),ot!==Xt)){if(wn=sl,yt="onMouseLeave",Ge="onMouseEnter",Ve="mouse",(o==="pointerout"||o==="pointerover")&&(wn=Tr,yt="onPointerLeave",Ge="onPointerEnter",Ve="pointer"),qr=ot==null?it:hr(ot),Xe=Xt==null?it:hr(Xt),it=new wn(yt,Ve+"leave",ot,h,pt),it.target=qr,it.relatedTarget=Xe,yt=null,Sr(pt)===Qe&&(wn=new wn(Ge,Ve+"enter",Xt,h,pt),wn.target=Xe,wn.relatedTarget=qr,yt=wn),qr=yt,ot&&Xt)t:{for(wn=D8,Ge=ot,Ve=Xt,Xe=0,yt=Ge;yt;yt=wn(yt))Xe++;yt=0;for(var pn=Ve;pn;pn=wn(pn))yt++;for(;0<Xe-yt;)Ge=wn(Ge),Xe--;for(;0<yt-Xe;)Ve=wn(Ve),yt--;for(;Xe--;){if(Ge===Ve||Ve!==null&&Ge===Ve.alternate){wn=Ge;break t}Ge=wn(Ge),Ve=wn(Ve)}wn=null}else wn=null;ot!==null&&k5(bt,it,ot,wn,!1),Xt!==null&&qr!==null&&k5(bt,qr,Xt,wn,!0)}}e:{if(it=Qe?hr(Qe):window,ot=it.nodeName&&it.nodeName.toLowerCase(),ot==="select"||ot==="input"&&it.type==="file")var yr=al;else if(Tc(it))if(Vs)yr=ca;else{yr=yi;var rn=Iu}else ot=it.nodeName,!ot||ot.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?Qe&&nl(Qe.elementType)&&(yr=al):yr=wf;if(yr&&(yr=yr(o,Qe))){io(bt,yr,h,pt);break e}rn&&rn(o,it,Qe),o==="focusout"&&Qe&&it.type==="number"&&Qe.memoizedProps.value!=null&&Fl(it,"number",it.value)}switch(rn=Qe?hr(Qe):window,o){case"focusin":(Tc(rn)||rn.contentEditable==="true")&&(so=rn,Oa=Qe,ps=null);break;case"focusout":ps=Oa=so=null;break;case"mousedown":vo=!0;break;case"contextmenu":case"mouseup":case"dragend":vo=!1,dr(bt,h,pt);break;case"selectionchange":if(Hl)break;case"keydown":case"keyup":dr(bt,h,pt)}var Fn;if(Vn)e:{switch(o){case"compositionstart":var tr="onCompositionStart";break e;case"compositionend":tr="onCompositionEnd";break e;case"compositionupdate":tr="onCompositionUpdate";break e}tr=void 0}else aa?ro(o,h)&&(tr="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(tr="onCompositionStart");tr&&(ts&&h.locale!=="ko"&&(aa||tr!=="onCompositionStart"?tr==="onCompositionEnd"&&aa&&(Fn=ql()):(Ss=pt,Na="value"in Ss?Ss.value:Ss.textContent,aa=!0)),rn=am(Qe,tr),0<rn.length&&(tr=new ze(tr,o,null,h,pt),bt.push({event:tr,listeners:rn}),Fn?tr.data=Fn:(Fn=oa(h),Fn!==null&&(tr.data=Fn)))),(Fn=$i?Ns(o,h):Ra(o,h))&&(tr=am(Qe,"onBeforeInput"),0<tr.length&&(rn=new ze("onBeforeInput","beforeinput",null,h,pt),bt.push({event:rn,listeners:tr}),rn.data=Fn)),I8(bt,o,Qe,h,pt)}I5(bt,a)})}function Ad(o,a,h){return{instance:o,listener:a,currentTarget:h}}function am(o,a){for(var h=a+"Capture",p=[];o!==null;){var A=o,k=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||k===null||(A=Mi(o,h),A!=null&&p.unshift(Ad(o,A,k)),A=Mi(o,a),A!=null&&p.push(Ad(o,A,k))),o.tag===3)return p;o=o.return}return[]}function D8(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function k5(o,a,h,p,A){for(var k=a._reactName,ie=[];h!==null&&h!==p;){var Ee=h,Me=Ee.alternate,Qe=Ee.stateNode;if(Ee=Ee.tag,Me!==null&&Me===p)break;Ee!==5&&Ee!==26&&Ee!==27||Qe===null||(Me=Qe,A?(Qe=Mi(h,k),Qe!=null&&ie.unshift(Ad(h,Qe,Me))):A||(Qe=Mi(h,k),Qe!=null&&ie.push(Ad(h,Qe,Me)))),h=h.return}ie.length!==0&&o.push({event:a,listeners:ie})}var P8=/\r\n?/g,M8=/\u0000|\uFFFD/g;function L5(o){return(typeof o=="string"?o:""+o).replace(P8,`
`).replace(M8,"")}function D5(o,a){return a=L5(a),L5(o)===a}function Vr(o,a,h,p,A,k){switch(h){case"children":typeof p=="string"?a==="body"||a==="textarea"&&p===""||Pi(o,p):(typeof p=="number"||typeof p=="bigint")&&a!=="body"&&Pi(o,""+p);break;case"className":Ei(o,"class",p);break;case"tabIndex":Ei(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Ei(o,h,p);break;case"style":Vl(o,p,k);break;case"data":if(a!=="object"){Ei(o,"data",p);break}case"src":case"href":if(p===""&&(a!=="a"||h!=="href")){o.removeAttribute(h);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(h);break}p=hs(""+p),o.setAttribute(h,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(h==="formAction"?(a!=="input"&&Vr(o,a,"name",A.name,A,null),Vr(o,a,"formEncType",A.formEncType,A,null),Vr(o,a,"formMethod",A.formMethod,A,null),Vr(o,a,"formTarget",A.formTarget,A,null)):(Vr(o,a,"encType",A.encType,A,null),Vr(o,a,"method",A.method,A,null),Vr(o,a,"target",A.target,A,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(h);break}p=hs(""+p),o.setAttribute(h,p);break;case"onClick":p!=null&&(o.onclick=eo);break;case"onScroll":p!=null&&Qn("scroll",o);break;case"onScrollEnd":p!=null&&Qn("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(h=p.__html,h!=null){if(A.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}h=hs(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(h,""+p):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":p===!0?o.setAttribute(h,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(h,p):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(h,p):o.removeAttribute(h);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(h):o.setAttribute(h,p);break;case"popover":Qn("beforetoggle",o),Qn("toggle",o),Qr(o,"popover",p);break;case"xlinkActuate":$r(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":$r(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":$r(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":$r(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":$r(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":$r(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":$r(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":$r(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":$r(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Qr(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=rl.get(h)||h,Qr(o,h,p))}}function Ey(o,a,h,p,A,k){switch(h){case"style":Vl(o,p,k);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(h=p.__html,h!=null){if(A.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof p=="string"?Pi(o,p):(typeof p=="number"||typeof p=="bigint")&&Pi(o,""+p);break;case"onScroll":p!=null&&Qn("scroll",o);break;case"onScrollEnd":p!=null&&Qn("scrollend",o);break;case"onClick":p!=null&&(o.onclick=eo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gi.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(A=h.endsWith("Capture"),a=h.slice(2,A?h.length-7:void 0),k=o[vt]||null,k=k!=null?k[h]:null,typeof k=="function"&&o.removeEventListener(a,k,A),typeof p=="function")){typeof k!="function"&&k!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(a,p,A);break e}h in o?o[h]=p:p===!0?o.setAttribute(h,""):Qr(o,h,p)}}}function Ds(o,a,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qn("error",o),Qn("load",o);var p=!1,A=!1,k;for(k in h)if(h.hasOwnProperty(k)){var ie=h[k];if(ie!=null)switch(k){case"src":p=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Vr(o,a,k,ie,h,null)}}A&&Vr(o,a,"srcSet",h.srcSet,h,null),p&&Vr(o,a,"src",h.src,h,null);return;case"input":Qn("invalid",o);var Ee=k=ie=A=null,Me=null,Qe=null;for(p in h)if(h.hasOwnProperty(p)){var pt=h[p];if(pt!=null)switch(p){case"name":A=pt;break;case"type":ie=pt;break;case"checked":Me=pt;break;case"defaultChecked":Qe=pt;break;case"value":k=pt;break;case"defaultValue":Ee=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(r(137,a));break;default:Vr(o,a,p,pt,h,null)}}Tu(o,k,Ee,Me,Qe,ie,A,!1);return;case"select":Qn("invalid",o),p=ie=k=null;for(A in h)if(h.hasOwnProperty(A)&&(Ee=h[A],Ee!=null))switch(A){case"value":k=Ee;break;case"defaultValue":ie=Ee;break;case"multiple":p=Ee;default:Vr(o,a,A,Ee,h,null)}a=k,h=ie,o.multiple=!!p,a!=null?es(o,!!p,a,!1):h!=null&&es(o,!!p,h,!0);return;case"textarea":Qn("invalid",o),k=A=p=null;for(ie in h)if(h.hasOwnProperty(ie)&&(Ee=h[ie],Ee!=null))switch(ie){case"value":p=Ee;break;case"defaultValue":A=Ee;break;case"children":k=Ee;break;case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(91));break;default:Vr(o,a,ie,Ee,h,null)}Vo(o,p,A,k);return;case"option":for(Me in h)h.hasOwnProperty(Me)&&(p=h[Me],p!=null)&&(Me==="selected"?o.selected=p&&typeof p!="function"&&typeof p!="symbol":Vr(o,a,Me,p,h,null));return;case"dialog":Qn("beforetoggle",o),Qn("toggle",o),Qn("cancel",o),Qn("close",o);break;case"iframe":case"object":Qn("load",o);break;case"video":case"audio":for(p=0;p<Ed.length;p++)Qn(Ed[p],o);break;case"image":Qn("error",o),Qn("load",o);break;case"details":Qn("toggle",o);break;case"embed":case"source":case"link":Qn("error",o),Qn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Qe in h)if(h.hasOwnProperty(Qe)&&(p=h[Qe],p!=null))switch(Qe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Vr(o,a,Qe,p,h,null)}return;default:if(nl(a)){for(pt in h)h.hasOwnProperty(pt)&&(p=h[pt],p!==void 0&&Ey(o,a,pt,p,h,void 0));return}}for(Ee in h)h.hasOwnProperty(Ee)&&(p=h[Ee],p!=null&&Vr(o,a,Ee,p,h,null))}function O8(o,a,h,p){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,k=null,ie=null,Ee=null,Me=null,Qe=null,pt=null;for(ot in h){var bt=h[ot];if(h.hasOwnProperty(ot)&&bt!=null)switch(ot){case"checked":break;case"value":break;case"defaultValue":Me=bt;default:p.hasOwnProperty(ot)||Vr(o,a,ot,null,p,bt)}}for(var it in p){var ot=p[it];if(bt=h[it],p.hasOwnProperty(it)&&(ot!=null||bt!=null))switch(it){case"type":k=ot;break;case"name":A=ot;break;case"checked":Qe=ot;break;case"defaultChecked":pt=ot;break;case"value":ie=ot;break;case"defaultValue":Ee=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(r(137,a));break;default:ot!==bt&&Vr(o,a,it,ot,p,bt)}}xa(o,ie,Ee,Me,Qe,pt,k,A);return;case"select":ot=ie=Ee=it=null;for(k in h)if(Me=h[k],h.hasOwnProperty(k)&&Me!=null)switch(k){case"value":break;case"multiple":ot=Me;default:p.hasOwnProperty(k)||Vr(o,a,k,null,p,Me)}for(A in p)if(k=p[A],Me=h[A],p.hasOwnProperty(A)&&(k!=null||Me!=null))switch(A){case"value":it=k;break;case"defaultValue":Ee=k;break;case"multiple":ie=k;default:k!==Me&&Vr(o,a,A,k,p,Me)}a=Ee,h=ie,p=ot,it!=null?es(o,!!h,it,!1):!!p!=!!h&&(a!=null?es(o,!!h,a,!0):es(o,!!h,h?[]:"",!1));return;case"textarea":ot=it=null;for(Ee in h)if(A=h[Ee],h.hasOwnProperty(Ee)&&A!=null&&!p.hasOwnProperty(Ee))switch(Ee){case"value":break;case"children":break;default:Vr(o,a,Ee,null,p,A)}for(ie in p)if(A=p[ie],k=h[ie],p.hasOwnProperty(ie)&&(A!=null||k!=null))switch(ie){case"value":it=A;break;case"defaultValue":ot=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==k&&Vr(o,a,ie,A,p,k)}Ul(o,it,ot);return;case"option":for(var Xt in h)it=h[Xt],h.hasOwnProperty(Xt)&&it!=null&&!p.hasOwnProperty(Xt)&&(Xt==="selected"?o.selected=!1:Vr(o,a,Xt,null,p,it));for(Me in p)it=p[Me],ot=h[Me],p.hasOwnProperty(Me)&&it!==ot&&(it!=null||ot!=null)&&(Me==="selected"?o.selected=it&&typeof it!="function"&&typeof it!="symbol":Vr(o,a,Me,it,p,ot));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wn in h)it=h[wn],h.hasOwnProperty(wn)&&it!=null&&!p.hasOwnProperty(wn)&&Vr(o,a,wn,null,p,it);for(Qe in p)if(it=p[Qe],ot=h[Qe],p.hasOwnProperty(Qe)&&it!==ot&&(it!=null||ot!=null))switch(Qe){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,a));break;default:Vr(o,a,Qe,it,p,ot)}return;default:if(nl(a)){for(var qr in h)it=h[qr],h.hasOwnProperty(qr)&&it!==void 0&&!p.hasOwnProperty(qr)&&Ey(o,a,qr,void 0,p,it);for(pt in p)it=p[pt],ot=h[pt],!p.hasOwnProperty(pt)||it===ot||it===void 0&&ot===void 0||Ey(o,a,pt,it,p,ot);return}}for(var Ge in h)it=h[Ge],h.hasOwnProperty(Ge)&&it!=null&&!p.hasOwnProperty(Ge)&&Vr(o,a,Ge,null,p,it);for(bt in p)it=p[bt],ot=h[bt],!p.hasOwnProperty(bt)||it===ot||it==null&&ot==null||Vr(o,a,bt,it,p,ot)}function P5(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function F8(){if(typeof performance.getEntriesByType=="function"){for(var o=0,a=0,h=performance.getEntriesByType("resource"),p=0;p<h.length;p++){var A=h[p],k=A.transferSize,ie=A.initiatorType,Ee=A.duration;if(k&&Ee&&P5(ie)){for(ie=0,Ee=A.responseEnd,p+=1;p<h.length;p++){var Me=h[p],Qe=Me.startTime;if(Qe>Ee)break;var pt=Me.transferSize,bt=Me.initiatorType;pt&&P5(bt)&&(Me=Me.responseEnd,ie+=pt*(Me<Ee?1:(Ee-Qe)/(Me-Qe)))}if(--p,a+=8*(k+ie)/(A.duration/1e3),o++,10<o)break}}if(0<o)return a/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Ay=null,Sy=null;function lm(o){return o.nodeType===9?o:o.ownerDocument}function M5(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O5(o,a){if(o===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&a==="foreignObject"?0:o}function xy(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ty=null;function U8(){var o=window.event;return o&&o.type==="popstate"?o===Ty?!1:(Ty=o,!0):(Ty=null,!1)}var F5=typeof setTimeout=="function"?setTimeout:void 0,B8=typeof clearTimeout=="function"?clearTimeout:void 0,U5=typeof Promise=="function"?Promise:void 0,V8=typeof queueMicrotask=="function"?queueMicrotask:typeof U5<"u"?function(o){return U5.resolve(null).then(o).catch(q8)}:F5;function q8(o){setTimeout(function(){throw o})}function Yu(o){return o==="head"}function B5(o,a){var h=a,p=0;do{var A=h.nextSibling;if(o.removeChild(h),A&&A.nodeType===8)if(h=A.data,h==="/$"||h==="/&"){if(p===0){o.removeChild(A),Qf(a);return}p--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")p++;else if(h==="html")Sd(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,Sd(h);for(var k=h.firstChild;k;){var ie=k.nextSibling,Ee=k.nodeName;k[On]||Ee==="SCRIPT"||Ee==="STYLE"||Ee==="LINK"&&k.rel.toLowerCase()==="stylesheet"||h.removeChild(k),k=ie}}else h==="body"&&Sd(o.ownerDocument.body);h=A}while(h);Qf(a)}function V5(o,a){var h=o;o=0;do{var p=h.nextSibling;if(h.nodeType===1?a?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(a?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),p&&p.nodeType===8)if(h=p.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=p}while(h)}function Cy(o){var a=o.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var h=a;switch(a=a.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Cy(h),nn(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function z8(o,a,h,p){for(;o.nodeType===1;){var A=h;if(o.nodeName.toLowerCase()!==a.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[On])switch(a){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(k=o.getAttribute("rel"),k==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(k!==A.rel||o.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||o.getAttribute("title")!==(A.title==null?null:A.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(k=o.getAttribute("src"),(k!==(A.src==null?null:A.src)||o.getAttribute("type")!==(A.type==null?null:A.type)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&k&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(a==="input"&&o.type==="hidden"){var k=A.name==null?null:""+A.name;if(A.type==="hidden"&&o.getAttribute("name")===k)return o}else return o;if(o=ya(o.nextSibling),o===null)break}return null}function H8(o,a,h){if(a==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=ya(o.nextSibling),o===null))return null;return o}function q5(o,a){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!a||(o=ya(o.nextSibling),o===null))return null;return o}function Ny(o){return o.data==="$?"||o.data==="$~"}function Iy(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function G8(o,a){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=a;else if(o.data!=="$?"||h.readyState!=="loading")a();else{var p=function(){a(),h.removeEventListener("DOMContentLoaded",p)};h.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function ya(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return o}var Ry=null;function z5(o){o=o.nextSibling;for(var a=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(a===0)return ya(o.nextSibling);a--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||a++}o=o.nextSibling}return null}function H5(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(a===0)return o;a--}else h!=="/$"&&h!=="/&"||a++}o=o.previousSibling}return null}function G5(o,a,h){switch(a=lm(h),o){case"html":if(o=a.documentElement,!o)throw Error(r(452));return o;case"head":if(o=a.head,!o)throw Error(r(453));return o;case"body":if(o=a.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Sd(o){for(var a=o.attributes;a.length;)o.removeAttributeNode(a[0]);nn(o)}var va=new Map,j5=new Set;function um(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var au=ae.d;ae.d={f:j8,r:$8,D:W8,C:K8,L:Y8,m:J8,X:Q8,S:X8,M:Z8};function j8(){var o=au.f(),a=em();return o||a}function $8(o){var a=xr(o);a!==null&&a.tag===5&&a.type==="form"?lb(a):au.r(o)}var Yf=typeof document>"u"?null:document;function $5(o,a,h){var p=Yf;if(p&&typeof a=="string"&&a){var A=li(a);A='link[rel="'+o+'"][href="'+A+'"]',typeof h=="string"&&(A+='[crossorigin="'+h+'"]'),j5.has(A)||(j5.add(A),o={rel:o,crossOrigin:h,href:a},p.querySelector(A)===null&&(a=p.createElement("link"),Ds(a,"link",o),Gr(a),p.head.appendChild(a)))}}function W8(o){au.D(o),$5("dns-prefetch",o,null)}function K8(o,a){au.C(o,a),$5("preconnect",o,a)}function Y8(o,a,h){au.L(o,a,h);var p=Yf;if(p&&o&&a){var A='link[rel="preload"][as="'+li(a)+'"]';a==="image"&&h&&h.imageSrcSet?(A+='[imagesrcset="'+li(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(A+='[imagesizes="'+li(h.imageSizes)+'"]')):A+='[href="'+li(o)+'"]';var k=A;switch(a){case"style":k=Jf(o);break;case"script":k=Xf(o)}va.has(k)||(o=g({rel:"preload",href:a==="image"&&h&&h.imageSrcSet?void 0:o,as:a},h),va.set(k,o),p.querySelector(A)!==null||a==="style"&&p.querySelector(xd(k))||a==="script"&&p.querySelector(Td(k))||(a=p.createElement("link"),Ds(a,"link",o),Gr(a),p.head.appendChild(a)))}}function J8(o,a){au.m(o,a);var h=Yf;if(h&&o){var p=a&&typeof a.as=="string"?a.as:"script",A='link[rel="modulepreload"][as="'+li(p)+'"][href="'+li(o)+'"]',k=A;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=Xf(o)}if(!va.has(k)&&(o=g({rel:"modulepreload",href:o},a),va.set(k,o),h.querySelector(A)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Td(k)))return}p=h.createElement("link"),Ds(p,"link",o),Gr(p),h.head.appendChild(p)}}}function X8(o,a,h){au.S(o,a,h);var p=Yf;if(p&&o){var A=ei(p).hoistableStyles,k=Jf(o);a=a||"default";var ie=A.get(k);if(!ie){var Ee={loading:0,preload:null};if(ie=p.querySelector(xd(k)))Ee.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":a},h),(h=va.get(k))&&ky(o,h);var Me=ie=p.createElement("link");Gr(Me),Ds(Me,"link",o),Me._p=new Promise(function(Qe,pt){Me.onload=Qe,Me.onerror=pt}),Me.addEventListener("load",function(){Ee.loading|=1}),Me.addEventListener("error",function(){Ee.loading|=2}),Ee.loading|=4,cm(ie,a,p)}ie={type:"stylesheet",instance:ie,count:1,state:Ee},A.set(k,ie)}}}function Q8(o,a){au.X(o,a);var h=Yf;if(h&&o){var p=ei(h).hoistableScripts,A=Xf(o),k=p.get(A);k||(k=h.querySelector(Td(A)),k||(o=g({src:o,async:!0},a),(a=va.get(A))&&Ly(o,a),k=h.createElement("script"),Gr(k),Ds(k,"link",o),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},p.set(A,k))}}function Z8(o,a){au.M(o,a);var h=Yf;if(h&&o){var p=ei(h).hoistableScripts,A=Xf(o),k=p.get(A);k||(k=h.querySelector(Td(A)),k||(o=g({src:o,async:!0,type:"module"},a),(a=va.get(A))&&Ly(o,a),k=h.createElement("script"),Gr(k),Ds(k,"link",o),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},p.set(A,k))}}function W5(o,a,h,p){var A=(A=ue.current)?um(A):null;if(!A)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(a=Jf(h.href),h=ei(A).hoistableStyles,p=h.get(a),p||(p={type:"style",instance:null,count:0,state:null},h.set(a,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=Jf(h.href);var k=ei(A).hoistableStyles,ie=k.get(o);if(ie||(A=A.ownerDocument||A,ie={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(o,ie),(k=A.querySelector(xd(o)))&&!k._p&&(ie.instance=k,ie.state.loading=5),va.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},va.set(o,h),k||ek(A,o,h,ie.state))),a&&p===null)throw Error(r(528,""));return ie}if(a&&p!==null)throw Error(r(529,""));return null;case"script":return a=h.async,h=h.src,typeof h=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Xf(h),h=ei(A).hoistableScripts,p=h.get(a),p||(p={type:"script",instance:null,count:0,state:null},h.set(a,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Jf(o){return'href="'+li(o)+'"'}function xd(o){return'link[rel="stylesheet"]['+o+"]"}function K5(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function ek(o,a,h,p){o.querySelector('link[rel="preload"][as="style"]['+a+"]")?p.loading=1:(a=o.createElement("link"),p.preload=a,a.addEventListener("load",function(){return p.loading|=1}),a.addEventListener("error",function(){return p.loading|=2}),Ds(a,"link",h),Gr(a),o.head.appendChild(a))}function Xf(o){return'[src="'+li(o)+'"]'}function Td(o){return"script[async]"+o}function Y5(o,a,h){if(a.count++,a.instance===null)switch(a.type){case"style":var p=o.querySelector('style[data-href~="'+li(h.href)+'"]');if(p)return a.instance=p,Gr(p),p;var A=g({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),Gr(p),Ds(p,"style",A),cm(p,h.precedence,o),a.instance=p;case"stylesheet":A=Jf(h.href);var k=o.querySelector(xd(A));if(k)return a.state.loading|=4,a.instance=k,Gr(k),k;p=K5(h),(A=va.get(A))&&ky(p,A),k=(o.ownerDocument||o).createElement("link"),Gr(k);var ie=k;return ie._p=new Promise(function(Ee,Me){ie.onload=Ee,ie.onerror=Me}),Ds(k,"link",p),a.state.loading|=4,cm(k,h.precedence,o),a.instance=k;case"script":return k=Xf(h.src),(A=o.querySelector(Td(k)))?(a.instance=A,Gr(A),A):(p=h,(A=va.get(k))&&(p=g({},h),Ly(p,A)),o=o.ownerDocument||o,A=o.createElement("script"),Gr(A),Ds(A,"link",p),o.head.appendChild(A),a.instance=A);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(p=a.instance,a.state.loading|=4,cm(p,h.precedence,o));return a.instance}function cm(o,a,h){for(var p=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=p.length?p[p.length-1]:null,k=A,ie=0;ie<p.length;ie++){var Ee=p[ie];if(Ee.dataset.precedence===a)k=Ee;else if(k!==A)break}k?k.parentNode.insertBefore(o,k.nextSibling):(a=h.nodeType===9?h.head:h,a.insertBefore(o,a.firstChild))}function ky(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.title==null&&(o.title=a.title)}function Ly(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.integrity==null&&(o.integrity=a.integrity)}var fm=null;function J5(o,a,h){if(fm===null){var p=new Map,A=fm=new Map;A.set(h,p)}else A=fm,p=A.get(h),p||(p=new Map,A.set(h,p));if(p.has(o))return p;for(p.set(o,null),h=h.getElementsByTagName(o),A=0;A<h.length;A++){var k=h[A];if(!(k[On]||k[rt]||o==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var ie=k.getAttribute(a)||"";ie=o+ie;var Ee=p.get(ie);Ee?Ee.push(k):p.set(ie,[k])}}return p}function X5(o,a,h){o=o.ownerDocument||o,o.head.insertBefore(h,a==="title"?o.querySelector("head > title"):null)}function tk(o,a,h){if(h===1||a.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(o=a.disabled,typeof a.precedence=="string"&&o==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Q5(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function nk(o,a,h,p){if(h.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var A=Jf(p.href),k=a.querySelector(xd(A));if(k){a=k._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(o.count++,o=hm.bind(o),a.then(o,o)),h.state.loading|=4,h.instance=k,Gr(k);return}k=a.ownerDocument||a,p=K5(p),(A=va.get(A))&&ky(p,A),k=k.createElement("link"),Gr(k);var ie=k;ie._p=new Promise(function(Ee,Me){ie.onload=Ee,ie.onerror=Me}),Ds(k,"link",p),h.instance=k}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,a),(a=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=hm.bind(o),a.addEventListener("load",h),a.addEventListener("error",h))}}var Dy=0;function rk(o,a){return o.stylesheets&&o.count===0&&pm(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var p=setTimeout(function(){if(o.stylesheets&&pm(o,o.stylesheets),o.unsuspend){var k=o.unsuspend;o.unsuspend=null,k()}},6e4+a);0<o.imgBytes&&Dy===0&&(Dy=62500*F8());var A=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&pm(o,o.stylesheets),o.unsuspend)){var k=o.unsuspend;o.unsuspend=null,k()}},(o.imgBytes>Dy?50:800)+a);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(A)}}:null}function hm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pm(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var dm=null;function pm(o,a){o.stylesheets=null,o.unsuspend!==null&&(o.count++,dm=new Map,a.forEach(ik,o),dm=null,hm.call(o))}function ik(o,a){if(!(a.state.loading&4)){var h=dm.get(o);if(h)var p=h.get(null);else{h=new Map,dm.set(o,h);for(var A=o.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<A.length;k++){var ie=A[k];(ie.nodeName==="LINK"||ie.getAttribute("media")!=="not all")&&(h.set(ie.dataset.precedence,ie),p=ie)}p&&h.set(null,p)}A=a.instance,ie=A.getAttribute("data-precedence"),k=h.get(ie)||p,k===p&&h.set(null,A),h.set(ie,A),this.count++,p=hm.bind(this),A.addEventListener("load",p),A.addEventListener("error",p),k?k.parentNode.insertBefore(A,k.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(A,o.firstChild)),a.state.loading|=4}}var Cd={$$typeof:P,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function sk(o,a,h,p,A,k,ie,Ee,Me){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=p,this.onUncaughtError=A,this.onCaughtError=k,this.onRecoverableError=ie,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Me,this.incompleteTransitions=new Map}function Z5(o,a,h,p,A,k,ie,Ee,Me,Qe,pt,bt){return o=new sk(o,a,h,ie,Me,Qe,pt,bt,Ee),a=1,k===!0&&(a|=24),k=gs(3,null,null,a),o.current=k,k.stateNode=o,a=Fu(),a.refCount++,o.pooledCache=a,a.refCount++,k.memoizedState={element:p,isDehydrated:h,cache:a},Lt(k),o}function eE(o){return o?(o=is,o):is}function tE(o,a,h,p,A,k){A=eE(A),p.context===null?p.context=A:p.pendingContext=A,p=vn(a),p.payload={element:h},k=k===void 0?null:k,k!==null&&(p.callback=k),h=Mn(o,p,a),h!==null&&(Lo(h,o,a),br(h,o,a))}function nE(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<a?h:a}}function Py(o,a){nE(o,a),(o=o.alternate)&&nE(o,a)}function rE(o){if(o.tag===13||o.tag===31){var a=Fa(o,67108864);a!==null&&Lo(a,o,67108864),Py(o,67108864)}}function iE(o){if(o.tag===13||o.tag===31){var a=Jo();a=bn(a);var h=Fa(o,a);h!==null&&Lo(h,o,a),Py(o,a)}}var mm=!0;function ok(o,a,h,p){var A=ce.T;ce.T=null;var k=ae.p;try{ae.p=2,My(o,a,h,p)}finally{ae.p=k,ce.T=A}}function ak(o,a,h,p){var A=ce.T;ce.T=null;var k=ae.p;try{ae.p=8,My(o,a,h,p)}finally{ae.p=k,ce.T=A}}function My(o,a,h,p){if(mm){var A=Oy(p);if(A===null)by(o,a,p,gm,h),oE(o,p);else if(uk(A,o,a,h,p))p.stopPropagation();else if(oE(o,p),a&4&&-1<lk.indexOf(o)){for(;A!==null;){var k=xr(A);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var ie=qt(k.pendingLanes);if(ie!==0){var Ee=k;for(Ee.pendingLanes|=2,Ee.entangledLanes|=2;ie;){var Me=1<<31-sn(ie);Ee.entanglements[1]|=Me,ie&=~Me}_l(k),(Ar&6)===0&&(Qp=We()+500,bd(0))}}break;case 31:case 13:Ee=Fa(k,2),Ee!==null&&Lo(Ee,k,2),em(),Py(k,2)}if(k=Oy(p),k===null&&by(o,a,p,gm,h),k===A)break;A=k}A!==null&&p.stopPropagation()}else by(o,a,p,null,h)}}function Oy(o){return o=ds(o),Fy(o)}var gm=null;function Fy(o){if(gm=null,o=Sr(o),o!==null){var a=s(o);if(a===null)o=null;else{var h=a.tag;if(h===13){if(o=l(a),o!==null)return o;o=null}else if(h===31){if(o=u(a),o!==null)return o;o=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return gm=o,null}function sE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(He()){case Ze:return 2;case _t:return 8;case xt:case Nt:return 32;case Ft:return 268435456;default:return 32}default:return 32}}var Uy=!1,Ju=null,Xu=null,Qu=null,Nd=new Map,Id=new Map,Zu=[],lk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oE(o,a){switch(o){case"focusin":case"focusout":Ju=null;break;case"dragenter":case"dragleave":Xu=null;break;case"mouseover":case"mouseout":Qu=null;break;case"pointerover":case"pointerout":Nd.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Id.delete(a.pointerId)}}function Rd(o,a,h,p,A,k){return o===null||o.nativeEvent!==k?(o={blockedOn:a,domEventName:h,eventSystemFlags:p,nativeEvent:k,targetContainers:[A]},a!==null&&(a=xr(a),a!==null&&rE(a)),o):(o.eventSystemFlags|=p,a=o.targetContainers,A!==null&&a.indexOf(A)===-1&&a.push(A),o)}function uk(o,a,h,p,A){switch(a){case"focusin":return Ju=Rd(Ju,o,a,h,p,A),!0;case"dragenter":return Xu=Rd(Xu,o,a,h,p,A),!0;case"mouseover":return Qu=Rd(Qu,o,a,h,p,A),!0;case"pointerover":var k=A.pointerId;return Nd.set(k,Rd(Nd.get(k)||null,o,a,h,p,A)),!0;case"gotpointercapture":return k=A.pointerId,Id.set(k,Rd(Id.get(k)||null,o,a,h,p,A)),!0}return!1}function aE(o){var a=Sr(o.target);if(a!==null){var h=s(a);if(h!==null){if(a=h.tag,a===13){if(a=l(h),a!==null){o.blockedOn=a,Gn(o.priority,function(){iE(h)});return}}else if(a===31){if(a=u(h),a!==null){o.blockedOn=a,Gn(o.priority,function(){iE(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ym(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var h=Oy(o.nativeEvent);if(h===null){h=o.nativeEvent;var p=new h.constructor(h.type,h);zo=p,h.target.dispatchEvent(p),zo=null}else return a=xr(h),a!==null&&rE(a),o.blockedOn=h,!1;a.shift()}return!0}function lE(o,a,h){ym(o)&&h.delete(a)}function ck(){Uy=!1,Ju!==null&&ym(Ju)&&(Ju=null),Xu!==null&&ym(Xu)&&(Xu=null),Qu!==null&&ym(Qu)&&(Qu=null),Nd.forEach(lE),Id.forEach(lE)}function vm(o,a){o.blockedOn===a&&(o.blockedOn=null,Uy||(Uy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ck)))}var wm=null;function uE(o){wm!==o&&(wm=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wm===o&&(wm=null);for(var a=0;a<o.length;a+=3){var h=o[a],p=o[a+1],A=o[a+2];if(typeof p!="function"){if(Fy(p||h)===null)continue;break}var k=xr(h);k!==null&&(o.splice(a,3),a-=3,O0(k,{pending:!0,data:A,method:h.method,action:p},p,A))}}))}function Qf(o){function a(Me){return vm(Me,o)}Ju!==null&&vm(Ju,o),Xu!==null&&vm(Xu,o),Qu!==null&&vm(Qu,o),Nd.forEach(a),Id.forEach(a);for(var h=0;h<Zu.length;h++){var p=Zu[h];p.blockedOn===o&&(p.blockedOn=null)}for(;0<Zu.length&&(h=Zu[0],h.blockedOn===null);)aE(h),h.blockedOn===null&&Zu.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(p=0;p<h.length;p+=3){var A=h[p],k=h[p+1],ie=A[vt]||null;if(typeof k=="function")ie||uE(h);else if(ie){var Ee=null;if(k&&k.hasAttribute("formAction")){if(A=k,ie=k[vt]||null)Ee=ie.formAction;else if(Fy(A)!==null)continue}else Ee=ie.action;typeof Ee=="function"?h[p+1]=Ee:(h.splice(p,3),p-=3),uE(h)}}}function cE(){function o(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(ie){return A=ie})},focusReset:"manual",scroll:"manual"})}function a(){A!==null&&(A(),A=null),p||setTimeout(h,20)}function h(){if(!p&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,A=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(h,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),A!==null&&(A(),A=null)}}}function By(o){this._internalRoot=o}_m.prototype.render=By.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(r(409));var h=a.current,p=Jo();tE(h,p,o,a,null,null)},_m.prototype.unmount=By.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;tE(o.current,2,null,o,null,null),em(),a[ut]=null}};function _m(o){this._internalRoot=o}_m.prototype.unstable_scheduleHydration=function(o){if(o){var a=$n();o={blockedOn:null,target:o,priority:a};for(var h=0;h<Zu.length&&a!==0&&a<Zu[h].priority;h++);Zu.splice(h,0,o),h===0&&aE(o)}};var fE=e.version;if(fE!=="19.2.4")throw Error(r(527,fE,"19.2.4"));ae.findDOMNode=function(o){var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(a),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var fk={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ce,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bm.isDisabled&&bm.supportsFiber)try{Mt=bm.inject(fk),Ot=bm}catch{}}return Ld.createRoot=function(o,a){if(!i(o))throw Error(r(299));var h=!1,p="",A=vb,k=wb,ie=_b;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(A=a.onUncaughtError),a.onCaughtError!==void 0&&(k=a.onCaughtError),a.onRecoverableError!==void 0&&(ie=a.onRecoverableError)),a=Z5(o,1,!1,null,null,h,p,null,A,k,ie,cE),o[ut]=a.current,_y(o),new By(a)},Ld.hydrateRoot=function(o,a,h){if(!i(o))throw Error(r(299));var p=!1,A="",k=vb,ie=wb,Ee=_b,Me=null;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onUncaughtError!==void 0&&(k=h.onUncaughtError),h.onCaughtError!==void 0&&(ie=h.onCaughtError),h.onRecoverableError!==void 0&&(Ee=h.onRecoverableError),h.formState!==void 0&&(Me=h.formState)),a=Z5(o,1,!0,a,h??null,p,A,Me,k,ie,Ee,cE),a.context=eE(null),h=a.current,p=Jo(),p=bn(p),A=vn(p),A.callback=null,Mn(h,A,p),h=p,a.current.lanes=h,et(a,h),_l(a),o[ut]=a.current,_y(o),new _m(a)},Ld.version="19.2.4",Ld}var bE;function Ek(){if(bE)return zy.exports;bE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zy.exports=bk(),zy.exports}var Ak=Ek();const Sk=eC(Ak);const tC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const xk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Tk=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const EE=t=>{const e=Tk(t);return e.charAt(0).toUpperCase()+e.slice(1)};var Ck={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Nk=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const Ik=tt.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...u},c)=>tt.createElement("svg",{ref:c,...Ck,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:tC("lucide",i),...!s&&!Nk(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,d])=>tt.createElement(f,d)),...Array.isArray(s)?s:[s]]));const zi=(t,e)=>{const n=tt.forwardRef(({className:r,...i},s)=>tt.createElement(Ik,{ref:s,iconNode:e,className:tC(`lucide-${xk(EE(t))}`,`lucide-${t}`,r),...i}));return n.displayName=EE(t),n};const Rk=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Sl=zi("activity",Rk);const kk=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Lk=zi("bell",kk);const Dk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Pk=zi("chevron-right",Dk);const Mk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],S2=zi("circle-alert",Mk);const Ok=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fk=zi("clock",Ok);const Uk=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],AE=zi("download",Uk);const Bk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Vk=zi("file-text",Bk);const qk=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],zk=zi("flame",qk);const Hk=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Gk=zi("funnel",Hk);const jk=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mh=zi("map-pin",jk);const $k=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Wk=zi("mic",$k);const Kk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Yk=zi("search",Kk);const Jk=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Xk=zi("share-2",Jk);const Qk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Zk=zi("shield-alert",Qk);const eL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],SE=zi("shield-check",eL);const tL=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],nL=zi("sliders-horizontal",tL);const rL=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],xE=zi("sparkles",rL);const iL=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],sL=zi("trending-up",iL);const oL=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],aL=zi("volume-2",oL);const lL=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],uL=zi("volume-x",lL);const cL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fL=zi("x",cL),TE=(t,e="en-US")=>{window.speechSynthesis.cancel();const n=new SpeechSynthesisUtterance(t);n.language=e,n.rate=1,n.pitch=1,n.volume=1,window.speechSynthesis.speak(n)},hL=()=>{window.speechSynthesis.cancel()},dL=()=>"speechSynthesis"in window,pL=()=>window.speechSynthesis.speaking,nC=window.SpeechRecognition||window.webkitSpeechRecognition,rC=()=>!!nC,mL=t=>{if(!rC())return t.onError&&t.onError("Speech Recognition not supported in this browser"),null;const e=new nC;return e.language=t.language||"en-US",e.continuous=!1,e.interimResults=!1,e.maxAlternatives=1,e.onstart=()=>{t.onStart&&t.onStart()},e.onresult=n=>{let r="";for(let i=n.resultIndex;i<n.results.length;i++)n.results[i].isFinal&&(r+=n.results[i][0].transcript);r.trim()&&t.onResult(r.trim())},e.onerror=n=>{t.onError&&t.onError(n.error)},e.onend=()=>{t.onEnd&&t.onEnd()},e.start(),e},gL=t=>{t&&t.stop()},yL=({onSearch:t,notificationCases:e,isNotificationsOpen:n,hasUnreadNotifications:r,onToggleNotifications:i,onNotificationClick:s,onLogout:l,firestoreStatus:u,firestoreError:c})=>{const[f,d]=tt.useState(!1),g=tt.useRef(null),[y,m]=tt.useState(""),x=()=>{if(!rC()){alert("Speech Recognition is not supported in your browser");return}if(f){gL(g.current),d(!1);return}d(!0),g.current=mL({language:"en-US",onResult:E=>{m(E),t(E),d(!1)},onError:E=>{console.error("Speech recognition error:",E),d(!1)},onEnd:()=>{d(!1)}})},S={connected:"bg-lime-200/60 border-lime-400 text-lime-800",connecting:"bg-amber-500/10 border-amber-500 text-amber-300",error:"bg-red-500/10 border-red-500 text-red-300",offline:"bg-lime-200/50 border-lime-400 text-green-900"},R={connected:"Live",connecting:"Connecting",error:"Error",offline:"Offline"};return ne.jsxs("header",{className:"h-16 bg-lime-200 border-b border-lime-400/40 flex items-center justify-between px-6 z-20 shadow-lg",children:[ne.jsx("div",{className:"flex items-center gap-4",children:ne.jsxs("div",{className:"flex items-center gap-3",children:[ne.jsxs("svg",{viewBox:"0 0 64 64",className:"h-9 w-9","aria-hidden":"true",children:[ne.jsx("circle",{cx:"32",cy:"32",r:"28",fill:"#ffffff",stroke:"#1d4ed8",strokeWidth:"3"}),ne.jsx("line",{x1:"32",y1:"6",x2:"32",y2:"14",stroke:"#1d4ed8",strokeWidth:"3",strokeLinecap:"round"}),ne.jsx("line",{x1:"32",y1:"50",x2:"32",y2:"58",stroke:"#1d4ed8",strokeWidth:"3",strokeLinecap:"round"}),ne.jsx("line",{x1:"6",y1:"32",x2:"14",y2:"32",stroke:"#1d4ed8",strokeWidth:"3",strokeLinecap:"round"}),ne.jsx("line",{x1:"50",y1:"32",x2:"58",y2:"32",stroke:"#1d4ed8",strokeWidth:"3",strokeLinecap:"round"}),ne.jsx("path",{d:"M18 38c2-6 10-11 18-11 8 0 13 3 16 7-2 1-4 1-6 0-3-2-7-2-11 0l-4 2-2 6-5 2c-4 2-9 1-10-6z",fill:"#111827"}),ne.jsx("path",{d:"M42 26l8-3",stroke:"#ef4444",strokeWidth:"3",strokeLinecap:"round"}),ne.jsx("line",{x1:"14",y1:"50",x2:"50",y2:"14",stroke:"#ef4444",strokeWidth:"4",strokeLinecap:"round"})]}),ne.jsxs("div",{children:[ne.jsx("h1",{className:"text-xl font-bold tracking-tight text-green-950",children:"WILDSCAN"}),ne.jsx("p",{className:"text-[10px] text-lime-700 font-mono uppercase tracking-widest leading-none",children:"Enforcement Dashboard v2.6.0"})]})]})}),ne.jsx("div",{className:"flex-1 max-w-xl mx-8 hidden md:block",children:ne.jsxs("div",{className:"relative group flex items-center",children:[ne.jsx(Yk,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-green-700 group-focus-within:text-lime-700 transition-colors",size:18}),ne.jsx("input",{type:"text",placeholder:"Search by species, location, or source...",value:y,onChange:E=>{m(E.target.value),t(E.target.value)},className:"w-full bg-white border border-lime-300 rounded-lg py-2 pl-10 pr-12 text-sm focus:outline-none focus:border-lime-400/50 focus:ring-1 focus:ring-lime-400/40 transition-all text-green-900"}),ne.jsx("button",{type:"button",onClick:x,className:`absolute right-3 transition-all ${f?"text-lime-700 animate-pulse":"text-green-700 hover:text-lime-700"}`,title:f?"Stop listening":"Start voice search","aria-label":f?"Stop listening":"Start voice search",children:ne.jsx(Wk,{size:18})})]})}),ne.jsxs("div",{className:"flex items-center gap-6",children:[ne.jsx("span",{className:`px-2 py-1 rounded border text-[10px] font-mono uppercase tracking-widest ${S[u]}`,title:c||`Firestore status: ${R[u]}`,children:R[u]}),ne.jsxs("div",{className:"relative",children:[ne.jsxs("button",{type:"button",onClick:i,className:"relative cursor-pointer group","aria-label":"Toggle notifications",children:[ne.jsx(Lk,{className:"text-green-800 group-hover:text-lime-700 transition-colors",size:20}),r&&ne.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full border-2 border-lime-300"})]}),n&&ne.jsxs("div",{className:"absolute right-0 mt-3 w-80 bg-white/95 border border-lime-400/40 rounded-xl shadow-2xl z-50 overflow-hidden",children:[ne.jsx("div",{className:"px-4 py-3 text-[10px] uppercase tracking-widest text-lime-700 font-mono border-b border-lime-300",children:"Notifications"}),ne.jsx("div",{className:"max-h-72 overflow-y-auto",children:e.length===0?ne.jsx("div",{className:"px-4 py-6 text-xs text-green-700 text-center",children:"No new cases yet."}):e.map(E=>ne.jsx("button",{onClick:()=>s(E.caseId),className:`w-full text-left px-4 py-3 border-b border-lime-300 hover:bg-white/70 transition-colors relative ${E.isRead?"opacity-70":""}`,children:ne.jsxs("div",{className:"flex items-start justify-between gap-3",children:[ne.jsxs("div",{className:"flex-1",children:[ne.jsx("div",{className:"text-[11px] uppercase tracking-widest text-lime-700 font-mono",children:E.title}),ne.jsx("div",{className:"mt-1 text-[10px] text-green-800 font-mono uppercase tracking-widest",children:E.location}),ne.jsx("div",{className:"mt-2 text-[10px] text-green-700 font-mono",children:E.time})]}),!E.isRead&&ne.jsx("div",{className:"flex-shrink-0 pt-1",children:ne.jsx("span",{className:"w-2.5 h-2.5 bg-red-500 rounded-full block animate-pulse"})})]})},E.id))})]})]}),ne.jsx("button",{type:"button",onClick:l,className:"rounded-lg border border-red-950 bg-red-950 px-4 py-2 text-[11px] font-mono uppercase tracking-widest text-red-50 hover:bg-red-900",children:"Logout"})]})]})},vL=({detections:t,onSelect:e,selectedId:n})=>ne.jsxs("div",{className:"flex overflow-x-auto gap-4 px-6 py-4 scrollbar-hide h-full",children:[t.length===0&&ne.jsx("div",{className:"flex items-center justify-center w-full text-green-700 text-xs font-mono uppercase tracking-widest",children:"No detections matching criteria"}),t.map(r=>ne.jsx("div",{onClick:()=>e(r),className:`
            flex-shrink-0 w-64 h-28 rounded-xl border p-3 cursor-pointer transition-all duration-300 relative group overflow-hidden
            ${n===r.id?"bg-lime-200/60 border-lime-400 shadow-[0_0_20px_rgba(132,204,22,0.16)]":"bg-lime-200/60 border-lime-300 hover:border-lime-400 hover:bg-lime-200/70"}
          `,children:ne.jsxs("div",{className:"flex gap-3 h-full",children:[ne.jsxs("div",{className:"w-20 h-full rounded-lg overflow-hidden relative bg-lime-200",children:[r.image_url?ne.jsx("img",{src:r.image_url,alt:r.animal_type,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):ne.jsx("div",{className:"w-full h-full flex items-center justify-center text-[9px] text-green-700 font-mono",children:"No Image"}),r.priority==="High"&&ne.jsxs("div",{className:"absolute top-1 left-1 bg-red-600 text-[8px] font-bold px-1 rounded flex items-center gap-0.5",children:[ne.jsx(S2,{size:8}),"HIGH"]})]}),ne.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[ne.jsxs("div",{children:[ne.jsx("h4",{className:"text-sm font-bold text-green-950 truncate",children:r.animal_type}),ne.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-lime-700 font-mono",children:[ne.jsx("span",{className:"opacity-60 uppercase",children:r.source.split(" ")[0]}),ne.jsx("span",{className:"w-1 h-1 rounded-full bg-lime-400"}),ne.jsxs("span",{className:"opacity-60",children:[(r.confidence*100).toFixed(0),"%"]})]})]}),ne.jsxs("div",{className:"flex justify-between items-end",children:[ne.jsx("span",{className:"text-[10px] text-green-700 truncate max-w-[80px]",children:r.location_name}),ne.jsx(Pk,{size:14,className:`transition-transform ${n===r.id?"translate-x-1 text-lime-700":"text-green-800"}`})]})]})]})},r.id)),ne.jsx("style",{children:`
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
        .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
      `})]}),CE=async()=>navigator.geolocation?await new Promise(t=>{navigator.geolocation.getCurrentPosition(e=>{t({lat:e.coords.latitude,lng:e.coords.longitude})},()=>t(null),{enableHighAccuracy:!0,timeout:1e4})}):null,wL=({detections:t,selectedDetection:e,onMarkerClick:n})=>{const r=tt.useRef(null),i=tt.useRef(null),s=tt.useRef({}),l=tt.useRef(null),u=tt.useRef(null),c=tt.useRef(null),[f,d]=tt.useState(null),[g,y]=tt.useState(null),[m,x]=tt.useState(null),[S,R]=tt.useState(null),[E,M]=tt.useState(null),[P,N]=tt.useState([]),[$,Q]=tt.useState(0),[V,G]=tt.useState(!1),[C,X]=tt.useState(null),W=tt.useRef(null),D=tt.useRef(null),B=tt.useRef(null),F=tt.useRef(0),ve=tt.useMemo(()=>t,[t]),ce=tt.useMemo(()=>ve.filter(z=>Number.isFinite(z.lat)&&Number.isFinite(z.lng)),[ve]),ae=tt.useMemo(()=>{const z={},Z=new Map;return ce.forEach(Y=>{const I=`${Y.lat.toFixed(4)},${Y.lng.toFixed(4)}`,L=Z.get(I)||[];L.push(Y),Z.set(I,L)}),Z.forEach(Y=>{if(Y.length===1){const L=Y[0];z[L.id]={lat:L.lat,lng:L.lng};return}const I=2.399963229728653;Y.forEach((L,q)=>{const ye=.001+q*35e-5,Ce=q*I;z[L.id]={lat:L.lat+Math.cos(Ce)*ye,lng:L.lng+Math.sin(Ce)*ye}})}),z},[ce]),_e=tt.useCallback(z=>z.priority==="High"?"#ef4444":z.priority==="Medium"?"#f59e0b":"#65a30d",[]);tt.useEffect(()=>{F.current=$},[$]);const xe=z=>typeof z?.lat=="function"?z.lat():z?.lat,Ue=z=>typeof z?.lng=="function"?z.lng():z?.lng,re=tt.useCallback((z,Z)=>{const Y=Oe=>Oe*Math.PI/180,L=Y(Z.lat-z.lat),q=Y(Z.lng-z.lng),ye=Y(z.lat),Ce=Y(Z.lat),Ae=Math.sin(L/2)**2+Math.cos(ye)*Math.cos(Ce)*Math.sin(q/2)**2;return 2*6371e3*Math.asin(Math.sqrt(Ae))},[]),O=tt.useCallback(z=>{if(typeof window>"u"||!("speechSynthesis"in window))return;const Z=window.speechSynthesis,Y=new SpeechSynthesisUtterance(z);Y.rate=1,Y.pitch=1,Y.volume=1,Z.speak(Y)},[]),ee=tt.useCallback((z,Z)=>{const Y=z.location_name||"",I=`${z.lat.toFixed(6)}, ${z.lng.toFixed(6)}`,L=Number.isFinite(z.confidence)?`${Math.round(z.confidence*100)}%`:"",q=z.priority||"";z.status;const ye=Z?`${Z.lat.toFixed(6)}, ${Z.lng.toFixed(6)}`:"Unknown",Ce=t.filter(Oe=>Oe.id!==z.id&&Oe.location_name&&Oe.location_name===z.location_name),Ae=Ce.slice(0,3).map(Oe=>`${Oe.animal_type||"Case"} (${Oe.id})`).join("  ");return`
      <div style="font-family: 'Inter', sans-serif; font-size: 12px; color: #1f2a1f; background: #f7f9e3; padding: 12px 14px; border-radius: 12px; border: 1px solid rgba(132, 204, 22, 0.5); box-shadow: 0 12px 30px rgba(88, 108, 54, 0.25); min-width: 210px;">
        <div style="font-weight: 800; margin-bottom: 6px; color: #1f2a1f;">${z.animal_type||"Case"}</div>
        <div style="font-size: 10px; color: #3f6212; text-transform: uppercase; letter-spacing: 0.16em; margin-bottom: 6px; font-weight: 700;">Case ${z.id}</div>
        ${Y?`<div style="margin-bottom: 6px; color: #1f2a1f; font-weight: 700;">${Y}</div>`:""}
        <div style="display: flex; gap: 8px; margin-bottom: 8px; flex-wrap: wrap;">
          ${q?`<span style="padding: 2px 6px; border-radius: 999px; border: 1px solid rgba(132, 204, 22, 0.6); background: rgba(132, 204, 22, 0.2); font-size: 10px; text-transform: uppercase; letter-spacing: 0.12em; color: #1f2a1f; font-weight: 700;">${q}</span>`:""}
          ${L?`<span style="padding: 2px 6px; border-radius: 999px; border: 1px solid rgba(101, 163, 13, 0.45); background: rgba(163, 230, 53, 0.25); font-size: 10px; color: #1f2a1f; font-weight: 700;">${L} Conf</span>`:""}
        </div>
        <div style="color: #1f2a1f; font-family: 'JetBrains Mono', monospace; font-size: 11px; font-weight: 700;">Case Coords: ${I}</div>
        <div style="margin-top: 6px; color: #1f2a1f; font-size: 11px; font-weight: 700;">Current Location: ${ye}</div>
        ${Ce.length>0?`
          <div style="margin-top: 8px; color: #5c6a3a; font-size: 10px; font-weight: 700;">
            Other cases nearby (${Ce.length}):
            <div style="margin-top: 4px; color: #1f2a1f; font-weight: 700;">${Ae}${Ce.length>3?" ...":""}</div>
          </div>
        `:""}
      </div>
    `},[t]),se=tt.useCallback((z,Z)=>{const Y=Z?`${Z.lat.toFixed(6)}, ${Z.lng.toFixed(6)}`:"Unknown";return`
      <div style="font-family: 'Inter', sans-serif; font-size: 12px; color: #1f2a1f; background: #f7f9e3; padding: 10px 12px; border-radius: 12px; border: 1px solid rgba(101, 163, 13, 0.35); box-shadow: 0 12px 30px rgba(88, 108, 54, 0.25); min-width: 200px;">
        <div style="font-weight: 700; margin-bottom: 6px; color: #1f2a1f;">Current Location (A)</div>
        <div style="font-size: 10px; color: #5c6a3a; font-weight: 700;">${z||"Address unavailable"}</div>
        <div style="margin-top: 6px; color: #1f2a1f; font-family: 'JetBrains Mono', monospace; font-size: 11px; font-weight: 700;">${Y}</div>
      </div>
    `},[]),me=tt.useCallback(z=>{const Z=window;if(!z||!Z.google?.maps||!i.current)return;new Z.google.maps.Geocoder().geocode({location:z},(I,L)=>{if(console.log(" Geocode Status:",L),console.log(" Geocode Results:",I),L==="OK"&&I?.[0]){const q=I[0].formatted_address;R(q),console.log(" Address Found:",q),c.current&&(c.current.__originData={location:z,address:q})}else R(null),console.log(" Geocoding Failed:",L)})},[]),ue=tt.useMemo(()=>[{elementType:"geometry",stylers:[{color:"#f3f7d5"}]},{elementType:"labels.text.fill",stylers:[{color:"#5c6a3a"}]},{elementType:"labels.text.stroke",stylers:[{color:"#e7efbe"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#e1e7b3"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#cfe1a5"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#e7efbe"}]},{featureType:"poi",stylers:[{visibility:"off"}]}],[]);tt.useEffect(()=>{const z=window;r.current&&!i.current&&z.google&&(i.current=new z.google.maps.Map(r.current,{center:{lat:4.2105,lng:101.9758},zoom:6,disableDefaultUI:!0,styles:ue}),l.current=new z.google.maps.InfoWindow)},[ue]),tt.useEffect(()=>{const z=window;if(z.google?.maps)return;const Z=window.setTimeout(()=>{z.google?.maps||d("")},2500);return()=>window.clearTimeout(Z)},[]),tt.useEffect(()=>{const z=window;!i.current||!z.google||(Object.keys(s.current).forEach(Z=>{ce.find(Y=>Y.id===Z)||(s.current[Z].setMap(null),delete s.current[Z])}),ce.forEach(Z=>{const Y=e?.id===Z.id,I=ae[Z.id]||{lat:Z.lat,lng:Z.lng},L={path:"M12 2C7.59 2 4 5.59 4 10c0 5.47 6.63 11.87 7.02 12.23a1.5 1.5 0 0 0 1.96 0C13.37 21.87 20 15.47 20 10c0-4.41-3.59-8-8-8zm0 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6z",fillColor:_e(Z),fillOpacity:1,strokeWeight:0,scale:Y?2.2:1.5,anchor:new z.google.maps.Point(12,24)};if(s.current[Z.id])s.current[Z.id].setIcon(L),s.current[Z.id].setPosition(I);else{const q=new z.google.maps.Marker({position:I,map:i.current,title:Z.animal_type,icon:L});q.addListener("click",()=>{l.current&&(l.current.setContent(ee(Z,m)),l.current.open({map:i.current,anchor:q})),W.current={detection:Z,marker:q},CE().then(ye=>{ye&&(x(ye),me(ye))}),n(Z)}),s.current[Z.id]=q}}))},[ee,m,ae,_e,ce,n,e?.id]),tt.useEffect(()=>{!m||!W.current||!l.current||!i.current||(l.current.setContent(ee(W.current.detection,m)),l.current.open({map:i.current,anchor:W.current.marker}))},[ee,m]),tt.useEffect(()=>{const z=window;if(!(!i.current||!z.google)){if(e){if(!Number.isFinite(e.lat)||!Number.isFinite(e.lng))return;const Z=ae[e.id]||{lat:e.lat,lng:e.lng};i.current.panTo(Z),i.current.setZoom(10);const Y=s.current[e.id];Y&&(Y.setAnimation(z.google.maps.Animation.BOUNCE),setTimeout(()=>Y.setAnimation(null),1500))}else if(ce.length>0)if(ce.length===1){const Z=ce[0],Y=ae[Z.id]||{lat:Z.lat,lng:Z.lng};Number.isFinite(Y.lat)&&Number.isFinite(Y.lng)&&(i.current.setCenter(Y),i.current.setZoom(8))}else{const Z=new z.google.maps.LatLngBounds;ce.forEach(Y=>{const I=ae[Y.id]||{lat:Y.lat,lng:Y.lng};Number.isFinite(I.lat)&&Number.isFinite(I.lng)&&Z.extend(new z.google.maps.LatLng(I.lat,I.lng))}),i.current.fitBounds(Z,80)}}},[ae,e,ce]),tt.useEffect(()=>{const z=window;if(!i.current||!z.google||ve.length===0||e)return;const Z=ve.map(I=>`${I.id}:${I.lat},${I.lng}`).sort().join("|");if(i.current.__boundsKey===Z)return;if(i.current.__boundsKey=Z,ve.length===1){const I=ve[0],L=ae[I.id]||{lat:I.lat,lng:I.lng};if(!Number.isFinite(L.lat)||!Number.isFinite(L.lng))return;i.current.setCenter(L),i.current.setZoom(8);return}const Y=new z.google.maps.LatLngBounds;ve.forEach(I=>{const L=ae[I.id]||{lat:I.lat,lng:I.lng};!Number.isFinite(L.lat)||!Number.isFinite(L.lng)||Y.extend(new z.google.maps.LatLng(L.lat,L.lng))}),i.current.fitBounds(Y,80)},[ae,ve,e]);const H=tt.useCallback(z=>{const Z=window;if(console.log(" Building route..."),!i.current||!Z.google?.maps){y(" Google Maps not ready."),console.error("Google Maps not initialized");return}if(!e){y(" Select a case to build a route."),console.warn("No detection selected");return}const Y=typeof e.lat=="string"?parseFloat(e.lat):e.lat,I=typeof e.lng=="string"?parseFloat(e.lng):e.lng;if(!Number.isFinite(Y)||!Number.isFinite(I)){y(` Invalid destination coordinates (${Y}, ${I})`),console.error("Invalid destination coordinates:",{destLat:Y,destLng:I});return}if(Math.abs(Y)>90||Math.abs(I)>180){y(" Destination coordinates out of valid range"),console.error("Coordinates out of range:",{destLat:Y,destLng:I});return}if(!z){y(" Unable to determine your location."),console.warn("Origin location not available");return}const L=typeof z.lat=="string"?parseFloat(z.lat):z.lat,q=typeof z.lng=="string"?parseFloat(z.lng):z.lng;if(!Number.isFinite(L)||!Number.isFinite(q)){y(` Invalid origin coordinates (${L}, ${q})`),console.error("Invalid origin coordinates:",{origLat:L,origLng:q});return}if(Math.abs(L)>90||Math.abs(q)>180){y(" Origin coordinates out of valid range"),console.error("Origin coordinates out of range:",{origLat:L,origLng:q});return}try{const ye=new Z.google.maps.LatLng(L,q),Ce=new Z.google.maps.LatLng(Y,I);console.log(" Route coordinates - Origin:",ye,"Destination:",Ce),u.current||(u.current=new Z.google.maps.DirectionsRenderer({suppressMarkers:!0,preserveViewport:!0,polylineOptions:{strokeColor:"#38bdf8",strokeOpacity:.9,strokeWeight:4}})),u.current.setMap(i.current);const Ae=new Z.google.maps.DirectionsService;c.current?(c.current.setPosition(z),c.current.setMap(i.current),c.current.__originData={location:z,address:null}):(c.current=new Z.google.maps.Marker({position:z,map:i.current,label:"A"}),c.current.__originData={location:z,address:null},c.current.addListener("click",()=>{if(l.current){const Oe=c.current.__originData||{location:z,address:null};l.current.setContent(se(Oe.address,Oe.location)),l.current.open({map:i.current,anchor:c.current})}})),me(z),console.log(" Sending route request to Google Directions API..."),y(" Building route..."),Ae.route({origin:ye,destination:Ce,travelMode:Z.google.maps.TravelMode.DRIVING},(Oe,We)=>{if(console.log(" Directions API Response Status:",We),We==="OK"&&Oe&&Oe.routes&&Oe.routes.length>0){console.log(" Route found successfully"),u.current.setDirections(Oe);const He=Oe.routes[0]?.legs?.[0],Ze=He?.duration?.text,_t=He?.distance?.text,xt=He?.duration?.value||0,Nt=Array.isArray(He?.steps)?He.steps.map(Ft=>{const Dt=(Ft?.instructions||"").replace(/<[^>]+>/g,"").trim(),gn=xe(Ft?.end_location),Mt=Ue(Ft?.end_location);return!Dt||!Number.isFinite(gn)||!Number.isFinite(Mt)?null:{instruction:Dt,endLat:gn,endLng:Mt,distance:Ft?.distance?.text,duration:Ft?.duration?.text}}).filter(Boolean):[];M({duration:Ze,distance:_t}),N(Nt),Q(0),B.current=null,y(` Optimized route ready! ${_t}  ${Ze}  ${Nt.length} steps. Click "Start Guidance" to begin.`)}else{let He=`Unable to build route to case (${We})`,Ze="";switch(We){case"ZERO_RESULTS":Ze=" No driving route exists. Try a different location or check coordinates are correct.",console.error("ZERO_RESULTS: No route found between coordinates");break;case"NOT_FOUND":Ze=" One or both locations could not be found on the map.",console.error("NOT_FOUND: Location not found");break;case"MAX_WAYPOINTS_EXCEEDED":Ze=" Too many waypoints. Simplify the route.",console.error("MAX_WAYPOINTS_EXCEEDED");break;case"INVALID_REQUEST":Ze=" Invalid request. Check origin and destination.",console.error("INVALID_REQUEST",{origin:ye,destination:Ce});break;case"OVER_QUERY_LIMIT":Ze=" API rate limit exceeded. Try again later.",console.error("OVER_QUERY_LIMIT");break;case"REQUEST_DENIED":Ze=" Check Maps API key, Directions API enabled, and billing configured.",console.error("REQUEST_DENIED: Check API key and permissions");break;case"UNKNOWN_ERROR":Ze=" Unknown server error. Try again later.",console.error("UNKNOWN_ERROR");break;default:Ze="Please check your location and try again."}y(`${He}. ${Ze}`.trim()),M(null),N([]),Q(0),B.current=null,u.current&&u.current.setMap(null)}})}catch(ye){console.error(" Route building error:",ye),y(` Error building route: ${ye instanceof Error?ye.message:"Unknown error"}`),M(null),N([]),Q(0),u.current&&u.current.setMap(null)}},[se,S,m,e,me]),j=tt.useCallback(async z=>{const Z=window;if(console.log(" Optimizing route for multiple cases..."),!i.current||!Z.google?.maps){y(" Google Maps not ready.");return}if(!ce||ce.length===0){y(" No cases available for multi-case routing.");return}if(!z){y(" Unable to determine your location.");return}try{const Y=new Z.google.maps.DirectionsService,I=ce.map(Ae=>({...Ae,distance:re(z,{lat:Ae.lat,lng:Ae.lng})})).sort((Ae,Oe)=>Ae.distance-Oe.distance).slice(1,Math.min(5,ce.length));if(I.length===0){y(" No cases found near your location.");return}console.log(` Optimizing route for ${I.length} nearby cases`),y(` Optimizing route through ${I.length} cases...`);const L=new Z.google.maps.LatLng(z.lat,z.lng),q=I[I.length-1],ye=new Z.google.maps.LatLng(q.lat,q.lng),Ce=I.slice(0,-1).map(Ae=>({location:new Z.google.maps.LatLng(Ae.lat,Ae.lng),stopover:!0}));Y.route({origin:L,destination:ye,waypoints:Ce,optimizeWaypoints:!0,travelMode:Z.google.maps.TravelMode.DRIVING},(Ae,Oe)=>{if(console.log(" Multi-case route response:",Oe),Oe==="OK"&&Ae){console.log(" Multi-case route optimized successfully"),u.current||(u.current=new Z.google.maps.DirectionsRenderer({suppressMarkers:!0,preserveViewport:!0,polylineOptions:{strokeColor:"#10b981",strokeOpacity:.9,strokeWeight:5}})),u.current.setMap(i.current),u.current.setDirections(Ae);const We=[];let He=0,Ze=0;Ae.routes[0].legs.forEach(gn=>{He+=gn.distance?.value||0,Ze+=gn.duration?.value||0,Array.isArray(gn.steps)&&We.push(...gn.steps)});const _t=`${(He/1e3).toFixed(1)} km`,xt=Math.floor(Ze/3600),Nt=Math.floor(Ze%3600/60),Ft=xt>0?`${xt}h ${Nt}m`:`${Nt}m`,Dt=We.map(gn=>{const Mt=(gn?.instructions||"").replace(/<[^>]+>/g,"").trim(),Ot=xe(gn?.end_location),tn=Ue(gn?.end_location);return!Mt||!Number.isFinite(Ot)||!Number.isFinite(tn)?null:{instruction:Mt,endLat:Ot,endLng:tn,distance:gn?.distance?.text,duration:gn?.duration?.text}}).filter(Boolean);M({duration:Ft,distance:_t}),N(Dt),Q(0),B.current=null,y(` Best route optimized! ${_t}  ${Ft}  ${I.length} cases. Click "Start Guidance" to patrol.`)}else console.error(" Multi-case route failed:",Oe),y(` Could not optimize multi-case route (${Oe}). Try selecting a single case instead.`)})}catch(Y){console.error(" Multi-case route error:",Y),y(` Error optimizing route: ${Y instanceof Error?Y.message:"Unknown error"}`)}},[ce,re]),ge=tt.useCallback(async()=>{console.log(" Starting patrol route building..."),y(" Fetching current location...");const z=await CE();z?(console.log(" Location obtained:",z),x(z),me(z),e?(console.log(" Single case selected, building direct route"),y(" Building direct route to selected case..."),H(z)):(console.log(" No single case selected, optimizing multi-case patrol route"),y(" Optimizing best patrol route through multiple cases..."),j(z))):(console.error(" Location access denied"),y(" Unable to fetch current location. Please enable location permissions and try again."))},[H,e,me,j]);tt.useEffect(()=>{e&&(y(null),M(null),N([]),Q(0),B.current=null,u.current&&u.current.setMap(null),c.current&&c.current.setMap(null))},[e?.id]);const he=tt.useCallback(()=>{typeof window<"u"&&"speechSynthesis"in window&&window.speechSynthesis.cancel(),D.current!==null&&(navigator.geolocation.clearWatch(D.current),D.current=null),G(!1),X("Guidance stopped.")},[]),le=tt.useCallback(()=>{he(),y("Route cleared."),M(null),N([]),Q(0),B.current=null,X(null),u.current&&u.current.setMap(null),c.current&&c.current.setMap(null)},[he]),pe=tt.useCallback(()=>{if(!P.length){X("Build a route first.");return}if(!navigator.geolocation){X("Live guidance requires location access.");return}if(typeof window>"u"||!("speechSynthesis"in window)){X("Voice guidance is not supported in this browser.");return}if(D.current!==null&&navigator.geolocation.clearWatch(D.current),e&&Number.isFinite(e.lat)&&Number.isFinite(e.lng)){const Z=m?`&from=${m.lat},${m.lng}`:"",Y=`https://waze.com/ul?ll=${e.lat},${e.lng}${Z}&navigate=yes`;window.open(Y,"_blank","noopener,noreferrer")}G(!0),X("Live guidance started. Waze navigation opened.");const z=`Route ready. Estimated time ${E?.duration||""}. Distance ${E?.distance||""}.`;O(z),D.current=navigator.geolocation.watchPosition(Z=>{const Y={lat:Z.coords.latitude,lng:Z.coords.longitude};x(Y);const I=F.current,L=P[I];if(!L){O("You have arrived at the destination."),X("Arrived at destination."),he();return}if(re(Y,{lat:L.endLat,lng:L.endLng})<=35){const ye=I+1;if(Q(ye),B.current!==ye){B.current=ye;const Ce=P[ye];Ce?O(Ce.instruction):(O("You have arrived at the destination."),X("Arrived at destination."),he())}}else B.current===null&&(B.current=I,O(L.instruction))},Z=>{console.error("Location watch error:",Z),Z.code===Z.PERMISSION_DENIED?X("Location permission denied. Please enable location access."):Z.code===Z.TIMEOUT?X("Location timeout. Retrying..."):X("Unable to access live location. Check GPS signal.")},{enableHighAccuracy:!0,maximumAge:5e3,timeout:3e4})},[m,re,P,E,e,O,he]);tt.useEffect(()=>()=>{D.current!==null&&navigator.geolocation.clearWatch(D.current),typeof window<"u"&&"speechSynthesis"in window&&window.speechSynthesis.cancel()},[]);const De=tt.useCallback(()=>{const z=window;if(!i.current||!z.google||ce.length===0)return;if(ce.length===1){const Y=ce[0],I=ae[Y.id]||{lat:Y.lat,lng:Y.lng};if(!Number.isFinite(I.lat)||!Number.isFinite(I.lng))return;i.current.setCenter(I),i.current.setZoom(8);return}const Z=new z.google.maps.LatLngBounds;ce.forEach(Y=>{const I=ae[Y.id]||{lat:Y.lat,lng:Y.lng};!Number.isFinite(I.lat)||!Number.isFinite(I.lng)||Z.extend(new z.google.maps.LatLng(I.lat,I.lng))}),i.current.fitBounds(Z,80)},[ae,ce]);return ne.jsxs("div",{className:"w-full h-full relative group",children:[ne.jsx("div",{ref:r,className:"w-full h-full"}),f&&ne.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 text-green-900 text-xs font-mono tracking-widest uppercase",children:f}),ne.jsxs("div",{className:"absolute top-4 right-4 space-y-2",children:[e&&ne.jsx("div",{className:"bg-white/80 border border-lime-400/40 px-3 py-1 rounded backdrop-blur text-[10px] font-mono text-lime-700 pointer-events-none",children:"SAT_LOCK: ACTIVE"}),ne.jsx("button",{type:"button",onClick:De,className:"px-3 py-2 rounded border border-lime-500/60 bg-lime-200/60 text-[10px] font-mono uppercase tracking-widest text-lime-900 hover:border-lime-600 hover:text-lime-800",children:"See All"})]}),e&&ne.jsxs("div",{className:"absolute inset-0 pointer-events-none border border-lime-300/60",children:[ne.jsx("div",{className:"absolute top-1/2 left-0 w-8 h-px bg-lime-300/50"}),ne.jsx("div",{className:"absolute top-1/2 right-0 w-8 h-px bg-lime-300/50"}),ne.jsx("div",{className:"absolute top-0 left-1/2 w-px h-8 bg-lime-300/50"}),ne.jsx("div",{className:"absolute bottom-0 left-1/2 w-px h-8 bg-lime-300/50"})]}),ne.jsx("div",{className:"absolute bottom-4 right-4 z-10 flex flex-col gap-2",children:e&&ne.jsxs("div",{className:"bg-white/85 backdrop-blur-md border border-lime-400/50 p-3 rounded-lg shadow-2xl",children:[ne.jsx("h3",{className:"text-lime-700 text-[10px] uppercase font-mono mb-2",children:"Smart Patrol Route"}),ne.jsx("button",{type:"button",onClick:ge,className:"px-3 py-2 rounded border border-green-900 bg-green-900 text-[10px] font-mono uppercase tracking-widest text-white hover:bg-green-800 hover:border-green-800",children:"Optimize Route"}),(E||P.length>0)&&ne.jsx("button",{type:"button",onClick:le,className:"mt-2 px-3 py-2 rounded border border-rose-400/60 bg-rose-500/10 text-[10px] font-mono uppercase tracking-widest text-rose-200 hover:border-rose-300 hover:text-rose-100",children:"Cancel Route"}),ne.jsx("button",{type:"button",onClick:V?he:pe,className:"mt-2 px-3 py-2 rounded border border-lime-600/60 bg-lime-200/60 text-[10px] font-mono uppercase tracking-widest text-lime-900 hover:border-lime-600 hover:text-lime-800",children:V?"Stop Guidance":"Start Guidance"}),E&&ne.jsxs("div",{className:"mt-2 text-[10px] text-green-900 font-mono",children:["ETA: ",E.duration||"N/A","  ",E.distance||"N/A"]}),P.length>0&&ne.jsxs("div",{className:"mt-2 text-[10px] text-green-900 font-mono",children:["Step ",Math.min($+1,P.length)," of ",P.length]}),P[$]&&ne.jsxs("div",{className:"mt-1 text-[10px] text-green-900 font-mono",children:["Next: ",P[$].instruction]}),g&&ne.jsx("div",{className:"mt-2 text-[10px] text-green-800 font-mono",children:g}),C&&ne.jsx("div",{className:"mt-2 text-[10px] text-lime-800 font-mono",children:C})]})})]})},_L=Object.prototype.toString,bL=t=>_L.call(t)==="[object Error]",EL=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function AL(t){if(!(t&&bL(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:EL.has(n)}function SL(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Em(t,e,{min:n=0,allowInfinity:r=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<n)throw new TypeError(`Expected \`${t}\` to be  ${n}.`)}}class iC extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function xL(t,e){const n=Math.max(1,t+1),r=e.randomize?Math.random()+1:1;let i=Math.round(r*e.minTimeout*e.factor**(n-1));return i=Math.min(i,e.maxTimeout),i}function NE(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function TL({error:t,attemptNumber:e,retriesConsumed:n,startTime:r,options:i}){const s=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(s instanceof iC)throw s.originalError;const l=Number.isFinite(i.retries)?Math.max(0,i.retries-n):i.retries,u=i.maxRetryTime??Number.POSITIVE_INFINITY,c=Object.freeze({error:s,attemptNumber:e,retriesLeft:l,retriesConsumed:n});if(await i.onFailedAttempt(c),NE(r,u)<=0)throw s;const f=await i.shouldConsumeRetry(c),d=NE(r,u);if(d<=0||l<=0)throw s;if(s instanceof TypeError&&!AL(s)){if(f)throw s;return i.signal?.throwIfAborted(),!1}if(!await i.shouldRetry(c))throw s;if(!f)return i.signal?.throwIfAborted(),!1;const g=xL(n,i),y=Math.min(g,d);return i.signal?.throwIfAborted(),y>0&&await new Promise((m,x)=>{const S=()=>{clearTimeout(R),i.signal?.removeEventListener("abort",S),x(i.signal.reason)},R=setTimeout(()=>{i.signal?.removeEventListener("abort",S),m()},y);i.unref&&R.unref?.(),i.signal?.addEventListener("abort",S,{once:!0})}),i.signal?.throwIfAborted(),!0}async function CL(t,e={}){if(e={...e},SL(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??=10,e.factor??=2,e.minTimeout??=1e3,e.maxTimeout??=Number.POSITIVE_INFINITY,e.maxRetryTime??=Number.POSITIVE_INFINITY,e.randomize??=!1,e.onFailedAttempt??=()=>{},e.shouldRetry??=()=>!0,e.shouldConsumeRetry??=()=>!0,Em("factor",e.factor,{min:0,allowInfinity:!1}),Em("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),Em("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),Em("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),e.signal?.throwIfAborted();let n=0,r=0;const i=performance.now();for(;!Number.isFinite(e.retries)||r<=e.retries;){n++;try{e.signal?.throwIfAborted();const s=await t(n);return e.signal?.throwIfAborted(),s}catch(s){await TL({error:s,attemptNumber:n,retriesConsumed:r,startTime:i,options:e})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var NL={};let IL,RL;function kL(){return{geminiUrl:IL,vertexUrl:RL}}function LL(t,e,n,r){var i,s;if(!t?.baseUrl){const l=kL();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(s=l.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}class bu{}function Bt(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function _(t,e,n){for(let s=0;s<e.length-1;s++){const l=e[s];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const d=c[f];_(d,e.slice(s+1),n[f])}else for(const f of c)_(f,e.slice(s+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];_(c[0],e.slice(s+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function v(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const l=t[s];return Array.isArray(l)?l.map(u=>v(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function DL(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),s=r.split("."),l=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&s.length>u)for(let c=u;c<s.length;c++){const f=s[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}x2(t,i,s,0,l)}}function x2(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const l=s.slice(0,-2),u=t;if(l in u&&Array.isArray(u[l]))for(const c of u[l])x2(c,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,u=Object.keys(l).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of u)c[f]=l[f];for(const[f,d]of Object.entries(c)){const g=[];for(const y of n.slice(r))y==="*"?g.push(f):g.push(y);_(l,g,d)}for(const f of u)delete l[f]}}else{const l=t;s in l&&x2(l[s],e,n,r+1,i)}}function Iw(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function PL(t){const e={},n=v(t,["operationName"]);n!=null&&_(e,["operationName"],n);const r=v(t,["resourceName"]);return r!=null&&_(e,["_url","resourceName"],r),e}function ML(t){const e={},n=v(t,["name"]);n!=null&&_(e,["name"],n);const r=v(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=v(t,["done"]);i!=null&&_(e,["done"],i);const s=v(t,["error"]);s!=null&&_(e,["error"],s);const l=v(t,["response","generateVideoResponse"]);return l!=null&&_(e,["response"],FL(l)),e}function OL(t){const e={},n=v(t,["name"]);n!=null&&_(e,["name"],n);const r=v(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=v(t,["done"]);i!=null&&_(e,["done"],i);const s=v(t,["error"]);s!=null&&_(e,["error"],s);const l=v(t,["response"]);return l!=null&&_(e,["response"],UL(l)),e}function FL(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>BL(l))),_(e,["generatedVideos"],s)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&_(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function UL(t){const e={},n=v(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>VL(l))),_(e,["generatedVideos"],s)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&_(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function BL(t){const e={},n=v(t,["video"]);return n!=null&&_(e,["video"],$L(n)),e}function VL(t){const e={},n=v(t,["_self"]);return n!=null&&_(e,["video"],WL(n)),e}function qL(t){const e={},n=v(t,["operationName"]);return n!=null&&_(e,["_url","operationName"],n),e}function zL(t){const e={},n=v(t,["operationName"]);return n!=null&&_(e,["_url","operationName"],n),e}function HL(t){const e={},n=v(t,["name"]);n!=null&&_(e,["name"],n);const r=v(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=v(t,["done"]);i!=null&&_(e,["done"],i);const s=v(t,["error"]);s!=null&&_(e,["error"],s);const l=v(t,["response"]);return l!=null&&_(e,["response"],GL(l)),e}function GL(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&_(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&_(e,["documentName"],i),e}function sC(t){const e={},n=v(t,["name"]);n!=null&&_(e,["name"],n);const r=v(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=v(t,["done"]);i!=null&&_(e,["done"],i);const s=v(t,["error"]);s!=null&&_(e,["error"],s);const l=v(t,["response"]);return l!=null&&_(e,["response"],jL(l)),e}function jL(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&_(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&_(e,["documentName"],i),e}function $L(t){const e={},n=v(t,["uri"]);n!=null&&_(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&_(e,["videoBytes"],Iw(r));const i=v(t,["encoding"]);return i!=null&&_(e,["mimeType"],i),e}function WL(t){const e={},n=v(t,["gcsUri"]);n!=null&&_(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&_(e,["videoBytes"],Iw(r));const i=v(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}var IE;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(IE||(IE={}));var RE;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(RE||(RE={}));var kE;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(kE||(kE={}));var rc;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(rc||(rc={}));var LE;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(LE||(LE={}));var DE;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(DE||(DE={}));var PE;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(PE||(PE={}));var ME;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(ME||(ME={}));var OE;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(OE||(OE={}));var FE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(FE||(FE={}));var UE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(UE||(UE={}));var BE;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(BE||(BE={}));var VE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(VE||(VE={}));var qE;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(qE||(qE={}));var zE;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(zE||(zE={}));var HE;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(HE||(HE={}));var GE;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(GE||(GE={}));var jE;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(jE||(jE={}));var $E;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})($E||($E={}));var WE;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(WE||(WE={}));var KE;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(KE||(KE={}));var vg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(vg||(vg={}));var YE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(YE||(YE={}));var JE;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(JE||(JE={}));var XE;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(XE||(XE={}));var T2;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(T2||(T2={}));var QE;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(QE||(QE={}));var ZE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(ZE||(ZE={}));var C2;(function(t){t.COLLECTION="COLLECTION"})(C2||(C2={}));var eA;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(eA||(eA={}));var tA;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(tA||(tA={}));var nA;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(nA||(nA={}));var rA;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(rA||(rA={}));var iA;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(iA||(iA={}));var sA;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(sA||(sA={}));var oA;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(oA||(oA={}));var aA;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(aA||(aA={}));var lA;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(lA||(lA={}));var uA;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(uA||(uA={}));var cA;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(cA||(cA={}));var fA;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(fA||(fA={}));var hA;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(hA||(hA={}));var dA;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(dA||(dA={}));var pA;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(pA||(pA={}));var mA;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(mA||(mA={}));var gA;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(gA||(gA={}));var yA;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(yA||(yA={}));var vA;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(vA||(vA={}));var wA;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(wA||(wA={}));var _A;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(_A||(_A={}));var bA;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(bA||(bA={}));var EA;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(EA||(EA={}));var AA;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(AA||(AA={}));var SA;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(SA||(SA={}));var xA;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(xA||(xA={}));var TA;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(TA||(TA={}));var hh;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(hh||(hh={}));class N2{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Dd{get text(){var e,n,r,i,s,l,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const g=[];for(const y of(c=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[m,x]of Object.entries(y))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(x!==null||x!==void 0)&&g.push(m);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;d=!0,f+=y.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,n,r,i,s,l,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const g of(c=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[y,m]of Object.entries(g))y!=="inlineData"&&(m!==null||m!==void 0)&&d.push(y);g.inlineData&&typeof g.inlineData.data=="string"&&(f+=atob(g.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,s,l,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if(f?.length!==0)return f}get executableCode(){var e,n,r,i,s,l,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if(d?.length!==0)return(f=d?.[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,s,l,u,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if(d?.length!==0)return(f=d?.[0])===null||f===void 0?void 0:f.output}}class CA{}class NA{}class KL{}class YL{}class JL{}class XL{}class IA{}class RA{}class kA{}class QL{}class wg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new wg;let i;const s=e;return n?i=OL(s):i=ML(s),Object.assign(r,i),r}}class LA{}class DA{}class PA{}class MA{}class ZL{}class eD{}class tD{}class Rw{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Rw,s=HL(e);return Object.assign(r,s),r}}class nD{}class rD{}class iD{}class sD{}class OA{}class oD{get text(){var e,n,r;let i="",s=!1;const l=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;s=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&s.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class aD{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class kw{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new kw,s=sC(e);return Object.assign(r,s),r}}function wr(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function oC(t,e){const n=wr(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function aC(t){return Array.isArray(t)?t.map(e=>_g(e)):[_g(t)]}function _g(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function lC(t){const e=_g(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function uC(t){const e=_g(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function FA(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function cC(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>FA(e)):[FA(t)]}function I2(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function UA(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function BA(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Xs(t){if(t==null)throw new Error("ContentUnion is required");return I2(t)?t:{role:"user",parts:cC(t)}}function Lw(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Xs(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Xs(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Xs(n)):[Xs(e)]}function ba(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(UA(t)||BA(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Xs(t)]}const e=[],n=[],r=I2(t[0]);for(const i of t){const s=I2(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(UA(i)||BA(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:cC(n)}),e}function lD(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(rc).includes(n[0].toUpperCase())?n[0].toUpperCase():rc.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(rc).includes(r.toUpperCase())?r.toUpperCase():rc.TYPE_UNSPECIFIED})}}function gh(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&lD(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(rc).includes(u.toUpperCase())?u.toUpperCase():rc.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=gh(u);else if(r.includes(l)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(gh(f))}e[l]=c}else if(i.includes(l)){const c={};for(const[f,d]of Object.entries(u))c[f]=gh(d);e[l]=c}else{if(l==="additionalProperties")continue;e[l]=u}return e}function Dw(t){return gh(t)}function Pw(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Mw(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Vh(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=gh(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=gh(e.response));return t}function qh(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function uD(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Eu(t,e){if(typeof e!="string")throw new Error("name must be a string");return uD(t,e,"cachedContents")}function fC(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function _c(t){return Iw(t)}function cD(t){return t!=null&&typeof t=="object"&&"name"in t}function fD(t){return t!=null&&typeof t=="object"&&"video"in t}function hD(t){return t!=null&&typeof t=="object"&&"uri"in t}function hC(t){var e;let n;if(cD(t)&&(n=t.name),!(hD(t)&&(n=t.uri,n===void 0))&&!(fD(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function dC(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function pC(t){for(const e of["models","tunedModels","publisherModels"])if(dD(t,e))return t[e];return[]}function dD(t,e){return t!==null&&typeof t=="object"&&e in t}function pD(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function mD(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const l=pD(i,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function mC(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function gD(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function gC(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function zh(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function yC(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function yD(t){const e={},n=v(t,["responsesFile"]);n!=null&&_(e,["fileName"],n);const r=v(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>XD(l))),_(e,["inlinedResponses"],s)}const i=v(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),_(e,["inlinedEmbedContentResponses"],s)}return e}function vD(t){const e={},n=v(t,["predictionsFormat"]);n!=null&&_(e,["format"],n);const r=v(t,["gcsDestination","outputUriPrefix"]);r!=null&&_(e,["gcsUri"],r);const i=v(t,["bigqueryDestination","outputUri"]);return i!=null&&_(e,["bigqueryUri"],i),e}function wD(t){const e={},n=v(t,["format"]);n!=null&&_(e,["predictionsFormat"],n);const r=v(t,["gcsUri"]);r!=null&&_(e,["gcsDestination","outputUriPrefix"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&_(e,["bigqueryDestination","outputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function rg(t){const e={},n=v(t,["name"]);n!=null&&_(e,["name"],n);const r=v(t,["metadata","displayName"]);r!=null&&_(e,["displayName"],r);const i=v(t,["metadata","state"]);i!=null&&_(e,["state"],yC(i));const s=v(t,["metadata","createTime"]);s!=null&&_(e,["createTime"],s);const l=v(t,["metadata","endTime"]);l!=null&&_(e,["endTime"],l);const u=v(t,["metadata","updateTime"]);u!=null&&_(e,["updateTime"],u);const c=v(t,["metadata","model"]);c!=null&&_(e,["model"],c);const f=v(t,["metadata","output"]);return f!=null&&_(e,["dest"],yD(gC(f))),e}function R2(t){const e={},n=v(t,["name"]);n!=null&&_(e,["name"],n);const r=v(t,["displayName"]);r!=null&&_(e,["displayName"],r);const i=v(t,["state"]);i!=null&&_(e,["state"],yC(i));const s=v(t,["error"]);s!=null&&_(e,["error"],s);const l=v(t,["createTime"]);l!=null&&_(e,["createTime"],l);const u=v(t,["startTime"]);u!=null&&_(e,["startTime"],u);const c=v(t,["endTime"]);c!=null&&_(e,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&_(e,["updateTime"],f);const d=v(t,["model"]);d!=null&&_(e,["model"],d);const g=v(t,["inputConfig"]);g!=null&&_(e,["src"],_D(g));const y=v(t,["outputConfig"]);y!=null&&_(e,["dest"],vD(gC(y)));const m=v(t,["completionStats"]);return m!=null&&_(e,["completionStats"],m),e}function _D(t){const e={},n=v(t,["instancesFormat"]);n!=null&&_(e,["format"],n);const r=v(t,["gcsSource","uris"]);r!=null&&_(e,["gcsUri"],r);const i=v(t,["bigquerySource","inputUri"]);return i!=null&&_(e,["bigqueryUri"],i),e}function bD(t,e){const n={};if(v(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(e,["fileName"]);r!=null&&_(n,["fileName"],r);const i=v(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>JD(t,l))),_(n,["requests","requests"],s)}return n}function ED(t){const e={},n=v(t,["format"]);n!=null&&_(e,["instancesFormat"],n);const r=v(t,["gcsUri"]);r!=null&&_(e,["gcsSource","uris"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&_(e,["bigquerySource","inputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function AD(t){const e={},n=v(t,["data"]);if(n!=null&&_(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function SD(t,e){const n={},r=v(e,["name"]);return r!=null&&_(n,["_url","name"],zh(t,r)),n}function xD(t,e){const n={},r=v(e,["name"]);return r!=null&&_(n,["_url","name"],zh(t,r)),n}function TD(t){const e={},n=v(t,["content"]);n!=null&&_(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&_(e,["citationMetadata"],CD(r));const i=v(t,["tokenCount"]);i!=null&&_(e,["tokenCount"],i);const s=v(t,["finishReason"]);s!=null&&_(e,["finishReason"],s);const l=v(t,["avgLogprobs"]);l!=null&&_(e,["avgLogprobs"],l);const u=v(t,["groundingMetadata"]);u!=null&&_(e,["groundingMetadata"],u);const c=v(t,["index"]);c!=null&&_(e,["index"],c);const f=v(t,["logprobsResult"]);f!=null&&_(e,["logprobsResult"],f);const d=v(t,["safetyRatings"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(m=>m)),_(e,["safetyRatings"],y)}const g=v(t,["urlContextMetadata"]);return g!=null&&_(e,["urlContextMetadata"],g),e}function CD(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),_(e,["citations"],r)}return e}function vC(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>iP(s))),_(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&_(e,["role"],r),e}function ND(t,e){const n={},r=v(t,["displayName"]);if(e!==void 0&&r!=null&&_(e,["batch","displayName"],r),v(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function ID(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&_(e,["displayName"],r);const i=v(t,["dest"]);return e!==void 0&&i!=null&&_(e,["outputConfig"],wD(gD(i))),n}function VA(t,e){const n={},r=v(e,["model"]);r!=null&&_(n,["_url","model"],wr(t,r));const i=v(e,["src"]);i!=null&&_(n,["batch","inputConfig"],bD(t,mC(t,i)));const s=v(e,["config"]);return s!=null&&ND(s,n),n}function RD(t,e){const n={},r=v(e,["model"]);r!=null&&_(n,["model"],wr(t,r));const i=v(e,["src"]);i!=null&&_(n,["inputConfig"],ED(mC(t,i)));const s=v(e,["config"]);return s!=null&&ID(s,n),n}function kD(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&_(e,["batch","displayName"],r),n}function LD(t,e){const n={},r=v(e,["model"]);r!=null&&_(n,["_url","model"],wr(t,r));const i=v(e,["src"]);i!=null&&_(n,["batch","inputConfig"],BD(t,i));const s=v(e,["config"]);return s!=null&&kD(s,n),n}function DD(t,e){const n={},r=v(e,["name"]);return r!=null&&_(n,["_url","name"],zh(t,r)),n}function PD(t,e){const n={},r=v(e,["name"]);return r!=null&&_(n,["_url","name"],zh(t,r)),n}function MD(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&_(e,["name"],r);const i=v(t,["done"]);i!=null&&_(e,["done"],i);const s=v(t,["error"]);return s!=null&&_(e,["error"],s),e}function OD(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&_(e,["name"],r);const i=v(t,["done"]);i!=null&&_(e,["done"],i);const s=v(t,["error"]);return s!=null&&_(e,["error"],s),e}function FD(t,e){const n={},r=v(e,["contents"]);if(r!=null){let s=Lw(t,r);Array.isArray(s)&&(s=s.map(l=>l)),_(n,["requests[]","request","content"],s)}const i=v(e,["config"]);return i!=null&&(_(n,["_self"],UD(i,n)),DL(n,{"requests[].*":"requests[].request.*"})),n}function UD(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&_(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&_(e,["requests[]","title"],i);const s=v(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&_(e,["requests[]","outputDimensionality"],s),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function BD(t,e){const n={},r=v(e,["fileName"]);r!=null&&_(n,["file_name"],r);const i=v(e,["inlinedRequests"]);return i!=null&&_(n,["requests"],FD(t,i)),n}function VD(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function qD(t){const e={},n=v(t,["id"]);n!=null&&_(e,["id"],n);const r=v(t,["args"]);r!=null&&_(e,["args"],r);const i=v(t,["name"]);if(i!=null&&_(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zD(t){const e={},n=v(t,["allowedFunctionNames"]);n!=null&&_(e,["allowedFunctionNames"],n);const r=v(t,["mode"]);if(r!=null&&_(e,["mode"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function HD(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&_(n,["systemInstruction"],vC(Xs(i)));const s=v(e,["temperature"]);s!=null&&_(r,["temperature"],s);const l=v(e,["topP"]);l!=null&&_(r,["topP"],l);const u=v(e,["topK"]);u!=null&&_(r,["topK"],u);const c=v(e,["candidateCount"]);c!=null&&_(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&_(r,["maxOutputTokens"],f);const d=v(e,["stopSequences"]);d!=null&&_(r,["stopSequences"],d);const g=v(e,["responseLogprobs"]);g!=null&&_(r,["responseLogprobs"],g);const y=v(e,["logprobs"]);y!=null&&_(r,["logprobs"],y);const m=v(e,["presencePenalty"]);m!=null&&_(r,["presencePenalty"],m);const x=v(e,["frequencyPenalty"]);x!=null&&_(r,["frequencyPenalty"],x);const S=v(e,["seed"]);S!=null&&_(r,["seed"],S);const R=v(e,["responseMimeType"]);R!=null&&_(r,["responseMimeType"],R);const E=v(e,["responseSchema"]);E!=null&&_(r,["responseSchema"],Dw(E));const M=v(e,["responseJsonSchema"]);if(M!=null&&_(r,["responseJsonSchema"],M),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=v(e,["safetySettings"]);if(n!==void 0&&P!=null){let B=P;Array.isArray(B)&&(B=B.map(F=>sP(F))),_(n,["safetySettings"],B)}const N=v(e,["tools"]);if(n!==void 0&&N!=null){let B=qh(N);Array.isArray(B)&&(B=B.map(F=>aP(Vh(F)))),_(n,["tools"],B)}const $=v(e,["toolConfig"]);if(n!==void 0&&$!=null&&_(n,["toolConfig"],oP($)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=v(e,["cachedContent"]);n!==void 0&&Q!=null&&_(n,["cachedContent"],Eu(t,Q));const V=v(e,["responseModalities"]);V!=null&&_(r,["responseModalities"],V);const G=v(e,["mediaResolution"]);G!=null&&_(r,["mediaResolution"],G);const C=v(e,["speechConfig"]);if(C!=null&&_(r,["speechConfig"],Pw(C)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=v(e,["thinkingConfig"]);X!=null&&_(r,["thinkingConfig"],X);const W=v(e,["imageConfig"]);W!=null&&_(r,["imageConfig"],YD(W));const D=v(e,["enableEnhancedCivicAnswers"]);if(D!=null&&_(r,["enableEnhancedCivicAnswers"],D),v(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function GD(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>TD(f))),_(e,["candidates"],c)}const i=v(t,["modelVersion"]);i!=null&&_(e,["modelVersion"],i);const s=v(t,["promptFeedback"]);s!=null&&_(e,["promptFeedback"],s);const l=v(t,["responseId"]);l!=null&&_(e,["responseId"],l);const u=v(t,["usageMetadata"]);return u!=null&&_(e,["usageMetadata"],u),e}function jD(t,e){const n={},r=v(e,["name"]);return r!=null&&_(n,["_url","name"],zh(t,r)),n}function $D(t,e){const n={},r=v(e,["name"]);return r!=null&&_(n,["_url","name"],zh(t,r)),n}function WD(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function KD(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function YD(t){const e={},n=v(t,["aspectRatio"]);n!=null&&_(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&_(e,["imageSize"],r),v(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function JD(t,e){const n={},r=v(e,["model"]);r!=null&&_(n,["request","model"],wr(t,r));const i=v(e,["contents"]);if(i!=null){let u=ba(i);Array.isArray(u)&&(u=u.map(c=>vC(c))),_(n,["request","contents"],u)}const s=v(e,["metadata"]);s!=null&&_(n,["metadata"],s);const l=v(e,["config"]);return l!=null&&_(n,["request","generationConfig"],HD(t,l,v(n,["request"],{}))),n}function XD(t){const e={},n=v(t,["response"]);n!=null&&_(e,["response"],GD(n));const r=v(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=v(t,["error"]);return i!=null&&_(e,["error"],i),e}function QD(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);if(e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),v(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function ZD(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&_(e,["_query","pageToken"],i);const s=v(t,["filter"]);return e!==void 0&&s!=null&&_(e,["_query","filter"],s),n}function eP(t){const e={},n=v(t,["config"]);return n!=null&&QD(n,e),e}function tP(t){const e={},n=v(t,["config"]);return n!=null&&ZD(n,e),e}function nP(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=v(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>rg(l))),_(e,["batchJobs"],s)}return e}function rP(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=v(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>R2(l))),_(e,["batchJobs"],s)}return e}function iP(t){const e={},n=v(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const s=v(t,["fileData"]);s!=null&&_(e,["fileData"],VD(s));const l=v(t,["functionCall"]);l!=null&&_(e,["functionCall"],qD(l));const u=v(t,["functionResponse"]);u!=null&&_(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&_(e,["inlineData"],AD(c));const f=v(t,["text"]);f!=null&&_(e,["text"],f);const d=v(t,["thought"]);d!=null&&_(e,["thought"],d);const g=v(t,["thoughtSignature"]);g!=null&&_(e,["thoughtSignature"],g);const y=v(t,["videoMetadata"]);return y!=null&&_(e,["videoMetadata"],y),e}function sP(t){const e={},n=v(t,["category"]);if(n!=null&&_(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&_(e,["threshold"],r),e}function oP(t){const e={},n=v(t,["retrievalConfig"]);n!=null&&_(e,["retrievalConfig"],n);const r=v(t,["functionCallingConfig"]);return r!=null&&_(e,["functionCallingConfig"],zD(r)),e}function aP(t){const e={};if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(t,["computerUse"]);n!=null&&_(e,["computerUse"],n);const r=v(t,["fileSearch"]);r!=null&&_(e,["fileSearch"],r);const i=v(t,["codeExecution"]);if(i!=null&&_(e,["codeExecution"],i),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=v(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(g=>g)),_(e,["functionDeclarations"],d)}const l=v(t,["googleMaps"]);l!=null&&_(e,["googleMaps"],WD(l));const u=v(t,["googleSearch"]);u!=null&&_(e,["googleSearch"],KD(u));const c=v(t,["googleSearchRetrieval"]);c!=null&&_(e,["googleSearchRetrieval"],c);const f=v(t,["urlContext"]);return f!=null&&_(e,["urlContext"],f),e}var mu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(mu||(mu={}));class ff{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(s=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}class lP extends bu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ff(mu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=VA(this.apiClient,e),r=n._url,i=Bt("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,f=[];for(const d of c){const g=Object.assign({},d);if(g.systemInstruction){const y=g.systemInstruction;delete g.systemInstruction;const m=g.request;m.systemInstruction=y,g.request=m}f.push(g)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),l=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=RD(this.apiClient,e);return u=Bt("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>R2(d))}else{const f=VA(this.apiClient,e);return u=Bt("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>rg(d))}}async createEmbeddingsInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=LD(this.apiClient,e);return s=Bt("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>rg(c))}}async get(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=$D(this.apiClient,e);return u=Bt("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>R2(d))}else{const f=jD(this.apiClient,e);return u=Bt("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>rg(d))}}async cancel(e){var n,r,i,s;let l="",u={};if(this.apiClient.isVertexAI()){const c=xD(this.apiClient,e);l=Bt("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=SD(this.apiClient,e);l=Bt("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=tP(e);return u=Bt("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=rP(d),y=new OA;return Object.assign(y,g),y})}else{const f=eP(e);return u=Bt("batches",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=nP(d),y=new OA;return Object.assign(y,g),y})}}async delete(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=PD(this.apiClient,e);return u=Bt("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>OD(d))}else{const f=DD(this.apiClient,e);return u=Bt("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>MD(d))}}}function uP(t){const e={},n=v(t,["data"]);if(n!=null&&_(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function qA(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>LP(s))),_(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&_(e,["role"],r),e}function cP(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&_(e,["expireTime"],i);const s=v(t,["displayName"]);e!==void 0&&s!=null&&_(e,["displayName"],s);const l=v(t,["contents"]);if(e!==void 0&&l!=null){let d=ba(l);Array.isArray(d)&&(d=d.map(g=>qA(g))),_(e,["contents"],d)}const u=v(t,["systemInstruction"]);e!==void 0&&u!=null&&_(e,["systemInstruction"],qA(Xs(u)));const c=v(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>PP(g))),_(e,["tools"],d)}const f=v(t,["toolConfig"]);if(e!==void 0&&f!=null&&_(e,["toolConfig"],DP(f)),v(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function fP(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&_(e,["expireTime"],i);const s=v(t,["displayName"]);e!==void 0&&s!=null&&_(e,["displayName"],s);const l=v(t,["contents"]);if(e!==void 0&&l!=null){let g=ba(l);Array.isArray(g)&&(g=g.map(y=>y)),_(e,["contents"],g)}const u=v(t,["systemInstruction"]);e!==void 0&&u!=null&&_(e,["systemInstruction"],Xs(u));const c=v(t,["tools"]);if(e!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>MP(y))),_(e,["tools"],g)}const f=v(t,["toolConfig"]);e!==void 0&&f!=null&&_(e,["toolConfig"],f);const d=v(t,["kmsKeyName"]);return e!==void 0&&d!=null&&_(e,["encryption_spec","kmsKeyName"],d),n}function hP(t,e){const n={},r=v(e,["model"]);r!=null&&_(n,["model"],oC(t,r));const i=v(e,["config"]);return i!=null&&cP(i,n),n}function dP(t,e){const n={},r=v(e,["model"]);r!=null&&_(n,["model"],oC(t,r));const i=v(e,["config"]);return i!=null&&fP(i,n),n}function pP(t,e){const n={},r=v(e,["name"]);return r!=null&&_(n,["_url","name"],Eu(t,r)),n}function mP(t,e){const n={},r=v(e,["name"]);return r!=null&&_(n,["_url","name"],Eu(t,r)),n}function gP(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function yP(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function vP(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function wP(t){const e={},n=v(t,["id"]);n!=null&&_(e,["id"],n);const r=v(t,["args"]);r!=null&&_(e,["args"],r);const i=v(t,["name"]);if(i!=null&&_(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _P(t){const e={},n=v(t,["allowedFunctionNames"]);n!=null&&_(e,["allowedFunctionNames"],n);const r=v(t,["mode"]);if(r!=null&&_(e,["mode"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bP(t){const e={},n=v(t,["description"]);n!=null&&_(e,["description"],n);const r=v(t,["name"]);r!=null&&_(e,["name"],r);const i=v(t,["parameters"]);i!=null&&_(e,["parameters"],i);const s=v(t,["parametersJsonSchema"]);s!=null&&_(e,["parametersJsonSchema"],s);const l=v(t,["response"]);l!=null&&_(e,["response"],l);const u=v(t,["responseJsonSchema"]);if(u!=null&&_(e,["responseJsonSchema"],u),v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function EP(t,e){const n={},r=v(e,["name"]);return r!=null&&_(n,["_url","name"],Eu(t,r)),n}function AP(t,e){const n={},r=v(e,["name"]);return r!=null&&_(n,["_url","name"],Eu(t,r)),n}function SP(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function xP(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function TP(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function CP(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function NP(t){const e={},n=v(t,["config"]);return n!=null&&TP(n,e),e}function IP(t){const e={},n=v(t,["config"]);return n!=null&&CP(n,e),e}function RP(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),_(e,["cachedContents"],s)}return e}function kP(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),_(e,["cachedContents"],s)}return e}function LP(t){const e={},n=v(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const s=v(t,["fileData"]);s!=null&&_(e,["fileData"],vP(s));const l=v(t,["functionCall"]);l!=null&&_(e,["functionCall"],wP(l));const u=v(t,["functionResponse"]);u!=null&&_(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&_(e,["inlineData"],uP(c));const f=v(t,["text"]);f!=null&&_(e,["text"],f);const d=v(t,["thought"]);d!=null&&_(e,["thought"],d);const g=v(t,["thoughtSignature"]);g!=null&&_(e,["thoughtSignature"],g);const y=v(t,["videoMetadata"]);return y!=null&&_(e,["videoMetadata"],y),e}function DP(t){const e={},n=v(t,["retrievalConfig"]);n!=null&&_(e,["retrievalConfig"],n);const r=v(t,["functionCallingConfig"]);return r!=null&&_(e,["functionCallingConfig"],_P(r)),e}function PP(t){const e={};if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(t,["computerUse"]);n!=null&&_(e,["computerUse"],n);const r=v(t,["fileSearch"]);r!=null&&_(e,["fileSearch"],r);const i=v(t,["codeExecution"]);if(i!=null&&_(e,["codeExecution"],i),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=v(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(g=>g)),_(e,["functionDeclarations"],d)}const l=v(t,["googleMaps"]);l!=null&&_(e,["googleMaps"],SP(l));const u=v(t,["googleSearch"]);u!=null&&_(e,["googleSearch"],xP(u));const c=v(t,["googleSearchRetrieval"]);c!=null&&_(e,["googleSearchRetrieval"],c);const f=v(t,["urlContext"]);return f!=null&&_(e,["urlContext"],f),e}function MP(t){const e={},n=v(t,["retrieval"]);n!=null&&_(e,["retrieval"],n);const r=v(t,["computerUse"]);if(r!=null&&_(e,["computerUse"],r),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=v(t,["codeExecution"]);i!=null&&_(e,["codeExecution"],i);const s=v(t,["enterpriseWebSearch"]);s!=null&&_(e,["enterpriseWebSearch"],s);const l=v(t,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>bP(y))),_(e,["functionDeclarations"],g)}const u=v(t,["googleMaps"]);u!=null&&_(e,["googleMaps"],u);const c=v(t,["googleSearch"]);c!=null&&_(e,["googleSearch"],c);const f=v(t,["googleSearchRetrieval"]);f!=null&&_(e,["googleSearchRetrieval"],f);const d=v(t,["urlContext"]);return d!=null&&_(e,["urlContext"],d),e}function OP(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&_(e,["expireTime"],i),n}function FP(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&_(e,["expireTime"],i),n}function UP(t,e){const n={},r=v(e,["name"]);r!=null&&_(n,["_url","name"],Eu(t,r));const i=v(e,["config"]);return i!=null&&OP(i,n),n}function BP(t,e){const n={},r=v(e,["name"]);r!=null&&_(n,["_url","name"],Eu(t,r));const i=v(e,["config"]);return i!=null&&FP(i,n),n}class VP extends bu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ff(mu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=dP(this.apiClient,e);return u=Bt("cachedContents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{const f=hP(this.apiClient,e);return u=Bt("cachedContents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async get(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=AP(this.apiClient,e);return u=Bt("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{const f=EP(this.apiClient,e);return u=Bt("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async delete(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=mP(this.apiClient,e);return u=Bt("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=yP(d),y=new PA;return Object.assign(y,g),y})}else{const f=pP(this.apiClient,e);return u=Bt("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=gP(d),y=new PA;return Object.assign(y,g),y})}}async update(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=BP(this.apiClient,e);return u=Bt("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{const f=UP(this.apiClient,e);return u=Bt("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async listInternal(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=IP(e);return u=Bt("cachedContents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=kP(d),y=new MA;return Object.assign(y,g),y})}else{const f=NP(e);return u=Bt("cachedContents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=RP(d),y=new MA;return Object.assign(y,g),y})}}}function bg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zA(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cn(t){return this instanceof Cn?(this.v=t,this):new Cn(t)}function Ka(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(m){return function(x){return Promise.resolve(x).then(m,g)}}function u(m,x){r[m]&&(i[m]=function(S){return new Promise(function(R,E){s.push([m,S,R,E])>1||c(m,S)})},x&&(i[m]=x(i[m])))}function c(m,x){try{f(r[m](x))}catch(S){y(s[0][3],S)}}function f(m){m.value instanceof Cn?Promise.resolve(m.value.v).then(d,g):y(s[0][2],m)}function d(m){c("next",m)}function g(m){c("throw",m)}function y(m,x){m(x),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Ya(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof zA=="function"?zA(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(l){return new Promise(function(u,c){l=t[s](l),i(u,c,l.done,l.value)})}}function i(s,l,u,c){Promise.resolve(c).then(function(f){s({value:f,done:u})},l)}}function qP(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:wC(n)}function wC(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function zP(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function HA(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!wC(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class HP{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new GP(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class GP{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),zP(s)}async sendMessage(e){var n;await this.sendPromise;const r=Xs(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,l,u;const c=await i,f=(l=(s=c.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content,d=c.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let y=[];d!=null&&(y=(u=d.slice(g))!==null&&u!==void 0?u:[]);const m=f?[f]:[];this.recordHistory(r,m,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Xs(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?HA(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Ka(this,arguments,function*(){var i,s,l,u,c,f;const d=[];try{for(var g=!0,y=Ya(e),m;m=yield Cn(y.next()),i=m.done,!i;g=!0){u=m.value,g=!1;const x=u;if(qP(x)){const S=(f=(c=x.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;S!==void 0&&d.push(S)}yield yield Cn(x)}}catch(x){s={error:x}}finally{try{!g&&!i&&(l=y.return)&&(yield Cn(l.call(y)))}finally{if(s)throw s.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...HA(r)):this.history.push(e),this.history.push(...i)}}class np extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,np.prototype)}}function jP(t){const e={},n=v(t,["file"]);return n!=null&&_(e,["file"],n),e}function $P(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function WP(t){const e={},n=v(t,["name"]);return n!=null&&_(e,["_url","file"],hC(n)),e}function KP(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function YP(t){const e={},n=v(t,["name"]);return n!=null&&_(e,["_url","file"],hC(n)),e}function JP(t){const e={},n=v(t,["uris"]);return n!=null&&_(e,["uris"],n),e}function XP(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function QP(t){const e={},n=v(t,["config"]);return n!=null&&XP(n,e),e}function ZP(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=v(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),_(e,["files"],s)}return e}function eM(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=v(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),_(e,["files"],i)}return e}class tM extends bu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ff(mu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=QP(e);return s=Bt("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const f=ZP(c),d=new nD;return Object.assign(d,f),d})}}async createInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=jP(e);return s=Bt("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=$P(c),d=new rD;return Object.assign(d,f),d})}}async get(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=YP(e);return s=Bt("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=WP(e);return s=Bt("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const f=KP(c),d=new iD;return Object.assign(d,f),d})}}async registerFilesInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=JP(e);return s=Bt("files:register",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=eM(c),d=new sD;return Object.assign(d,f),d})}}}function ig(t){const e={},n=v(t,["data"]);if(n!=null&&_(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function nM(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>vM(s))),_(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&_(e,["role"],r),e}function rM(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function iM(t){const e={},n=v(t,["id"]);n!=null&&_(e,["id"],n);const r=v(t,["args"]);r!=null&&_(e,["args"],r);const i=v(t,["name"]);if(i!=null&&_(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sM(t){const e={},n=v(t,["description"]);n!=null&&_(e,["description"],n);const r=v(t,["name"]);r!=null&&_(e,["name"],r);const i=v(t,["parameters"]);i!=null&&_(e,["parameters"],i);const s=v(t,["parametersJsonSchema"]);s!=null&&_(e,["parametersJsonSchema"],s);const l=v(t,["response"]);l!=null&&_(e,["response"],l);const u=v(t,["responseJsonSchema"]);if(u!=null&&_(e,["responseJsonSchema"],u),v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function oM(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&_(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&_(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&_(e,["audioTimestamp"],i);const s=v(t,["candidateCount"]);s!=null&&_(e,["candidateCount"],s);const l=v(t,["enableAffectiveDialog"]);l!=null&&_(e,["enableAffectiveDialog"],l);const u=v(t,["frequencyPenalty"]);u!=null&&_(e,["frequencyPenalty"],u);const c=v(t,["logprobs"]);c!=null&&_(e,["logprobs"],c);const f=v(t,["maxOutputTokens"]);f!=null&&_(e,["maxOutputTokens"],f);const d=v(t,["mediaResolution"]);d!=null&&_(e,["mediaResolution"],d);const g=v(t,["presencePenalty"]);g!=null&&_(e,["presencePenalty"],g);const y=v(t,["responseLogprobs"]);y!=null&&_(e,["responseLogprobs"],y);const m=v(t,["responseMimeType"]);m!=null&&_(e,["responseMimeType"],m);const x=v(t,["responseModalities"]);x!=null&&_(e,["responseModalities"],x);const S=v(t,["responseSchema"]);S!=null&&_(e,["responseSchema"],S);const R=v(t,["routingConfig"]);R!=null&&_(e,["routingConfig"],R);const E=v(t,["seed"]);E!=null&&_(e,["seed"],E);const M=v(t,["speechConfig"]);M!=null&&_(e,["speechConfig"],M);const P=v(t,["stopSequences"]);P!=null&&_(e,["stopSequences"],P);const N=v(t,["temperature"]);N!=null&&_(e,["temperature"],N);const $=v(t,["thinkingConfig"]);$!=null&&_(e,["thinkingConfig"],$);const Q=v(t,["topK"]);Q!=null&&_(e,["topK"],Q);const V=v(t,["topP"]);if(V!=null&&_(e,["topP"],V),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function aM(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function lM(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function uM(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&_(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const s=v(t,["temperature"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","temperature"],s);const l=v(t,["topP"]);e!==void 0&&l!=null&&_(e,["setup","generationConfig","topP"],l);const u=v(t,["topK"]);e!==void 0&&u!=null&&_(e,["setup","generationConfig","topK"],u);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&_(e,["setup","generationConfig","mediaResolution"],f);const d=v(t,["seed"]);e!==void 0&&d!=null&&_(e,["setup","generationConfig","seed"],d);const g=v(t,["speechConfig"]);e!==void 0&&g!=null&&_(e,["setup","generationConfig","speechConfig"],Mw(g));const y=v(t,["thinkingConfig"]);e!==void 0&&y!=null&&_(e,["setup","generationConfig","thinkingConfig"],y);const m=v(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],m);const x=v(t,["systemInstruction"]);e!==void 0&&x!=null&&_(e,["setup","systemInstruction"],nM(Xs(x)));const S=v(t,["tools"]);if(e!==void 0&&S!=null){let Q=qh(S);Array.isArray(Q)&&(Q=Q.map(V=>_M(Vh(V)))),_(e,["setup","tools"],Q)}const R=v(t,["sessionResumption"]);e!==void 0&&R!=null&&_(e,["setup","sessionResumption"],wM(R));const E=v(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&_(e,["setup","inputAudioTranscription"],E);const M=v(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&_(e,["setup","outputAudioTranscription"],M);const P=v(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&_(e,["setup","realtimeInputConfig"],P);const N=v(t,["contextWindowCompression"]);e!==void 0&&N!=null&&_(e,["setup","contextWindowCompression"],N);const $=v(t,["proactivity"]);if(e!==void 0&&$!=null&&_(e,["setup","proactivity"],$),v(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function cM(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&_(e,["setup","generationConfig"],oM(r));const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const s=v(t,["temperature"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","temperature"],s);const l=v(t,["topP"]);e!==void 0&&l!=null&&_(e,["setup","generationConfig","topP"],l);const u=v(t,["topK"]);e!==void 0&&u!=null&&_(e,["setup","generationConfig","topK"],u);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&_(e,["setup","generationConfig","mediaResolution"],f);const d=v(t,["seed"]);e!==void 0&&d!=null&&_(e,["setup","generationConfig","seed"],d);const g=v(t,["speechConfig"]);e!==void 0&&g!=null&&_(e,["setup","generationConfig","speechConfig"],Mw(g));const y=v(t,["thinkingConfig"]);e!==void 0&&y!=null&&_(e,["setup","generationConfig","thinkingConfig"],y);const m=v(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],m);const x=v(t,["systemInstruction"]);e!==void 0&&x!=null&&_(e,["setup","systemInstruction"],Xs(x));const S=v(t,["tools"]);if(e!==void 0&&S!=null){let V=qh(S);Array.isArray(V)&&(V=V.map(G=>bM(Vh(G)))),_(e,["setup","tools"],V)}const R=v(t,["sessionResumption"]);e!==void 0&&R!=null&&_(e,["setup","sessionResumption"],R);const E=v(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&_(e,["setup","inputAudioTranscription"],E);const M=v(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&_(e,["setup","outputAudioTranscription"],M);const P=v(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&_(e,["setup","realtimeInputConfig"],P);const N=v(t,["contextWindowCompression"]);e!==void 0&&N!=null&&_(e,["setup","contextWindowCompression"],N);const $=v(t,["proactivity"]);e!==void 0&&$!=null&&_(e,["setup","proactivity"],$);const Q=v(t,["explicitVadSignal"]);return e!==void 0&&Q!=null&&_(e,["setup","explicitVadSignal"],Q),n}function fM(t,e){const n={},r=v(e,["model"]);r!=null&&_(n,["setup","model"],wr(t,r));const i=v(e,["config"]);return i!=null&&_(n,["config"],uM(i,n)),n}function hM(t,e){const n={},r=v(e,["model"]);r!=null&&_(n,["setup","model"],wr(t,r));const i=v(e,["config"]);return i!=null&&_(n,["config"],cM(i,n)),n}function dM(t){const e={},n=v(t,["musicGenerationConfig"]);return n!=null&&_(e,["musicGenerationConfig"],n),e}function pM(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),_(e,["weightedPrompts"],r)}return e}function mM(t){const e={},n=v(t,["media"]);if(n!=null){let f=aC(n);Array.isArray(f)&&(f=f.map(d=>ig(d))),_(e,["mediaChunks"],f)}const r=v(t,["audio"]);r!=null&&_(e,["audio"],ig(uC(r)));const i=v(t,["audioStreamEnd"]);i!=null&&_(e,["audioStreamEnd"],i);const s=v(t,["video"]);s!=null&&_(e,["video"],ig(lC(s)));const l=v(t,["text"]);l!=null&&_(e,["text"],l);const u=v(t,["activityStart"]);u!=null&&_(e,["activityStart"],u);const c=v(t,["activityEnd"]);return c!=null&&_(e,["activityEnd"],c),e}function gM(t){const e={},n=v(t,["media"]);if(n!=null){let f=aC(n);Array.isArray(f)&&(f=f.map(d=>d)),_(e,["mediaChunks"],f)}const r=v(t,["audio"]);r!=null&&_(e,["audio"],uC(r));const i=v(t,["audioStreamEnd"]);i!=null&&_(e,["audioStreamEnd"],i);const s=v(t,["video"]);s!=null&&_(e,["video"],lC(s));const l=v(t,["text"]);l!=null&&_(e,["text"],l);const u=v(t,["activityStart"]);u!=null&&_(e,["activityStart"],u);const c=v(t,["activityEnd"]);return c!=null&&_(e,["activityEnd"],c),e}function yM(t){const e={},n=v(t,["setupComplete"]);n!=null&&_(e,["setupComplete"],n);const r=v(t,["serverContent"]);r!=null&&_(e,["serverContent"],r);const i=v(t,["toolCall"]);i!=null&&_(e,["toolCall"],i);const s=v(t,["toolCallCancellation"]);s!=null&&_(e,["toolCallCancellation"],s);const l=v(t,["usageMetadata"]);l!=null&&_(e,["usageMetadata"],EM(l));const u=v(t,["goAway"]);u!=null&&_(e,["goAway"],u);const c=v(t,["sessionResumptionUpdate"]);c!=null&&_(e,["sessionResumptionUpdate"],c);const f=v(t,["voiceActivityDetectionSignal"]);f!=null&&_(e,["voiceActivityDetectionSignal"],f);const d=v(t,["voiceActivity"]);return d!=null&&_(e,["voiceActivity"],AM(d)),e}function vM(t){const e={},n=v(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const s=v(t,["fileData"]);s!=null&&_(e,["fileData"],rM(s));const l=v(t,["functionCall"]);l!=null&&_(e,["functionCall"],iM(l));const u=v(t,["functionResponse"]);u!=null&&_(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&_(e,["inlineData"],ig(c));const f=v(t,["text"]);f!=null&&_(e,["text"],f);const d=v(t,["thought"]);d!=null&&_(e,["thought"],d);const g=v(t,["thoughtSignature"]);g!=null&&_(e,["thoughtSignature"],g);const y=v(t,["videoMetadata"]);return y!=null&&_(e,["videoMetadata"],y),e}function wM(t){const e={},n=v(t,["handle"]);if(n!=null&&_(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function _M(t){const e={};if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(t,["computerUse"]);n!=null&&_(e,["computerUse"],n);const r=v(t,["fileSearch"]);r!=null&&_(e,["fileSearch"],r);const i=v(t,["codeExecution"]);if(i!=null&&_(e,["codeExecution"],i),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=v(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(g=>g)),_(e,["functionDeclarations"],d)}const l=v(t,["googleMaps"]);l!=null&&_(e,["googleMaps"],aM(l));const u=v(t,["googleSearch"]);u!=null&&_(e,["googleSearch"],lM(u));const c=v(t,["googleSearchRetrieval"]);c!=null&&_(e,["googleSearchRetrieval"],c);const f=v(t,["urlContext"]);return f!=null&&_(e,["urlContext"],f),e}function bM(t){const e={},n=v(t,["retrieval"]);n!=null&&_(e,["retrieval"],n);const r=v(t,["computerUse"]);if(r!=null&&_(e,["computerUse"],r),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=v(t,["codeExecution"]);i!=null&&_(e,["codeExecution"],i);const s=v(t,["enterpriseWebSearch"]);s!=null&&_(e,["enterpriseWebSearch"],s);const l=v(t,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>sM(y))),_(e,["functionDeclarations"],g)}const u=v(t,["googleMaps"]);u!=null&&_(e,["googleMaps"],u);const c=v(t,["googleSearch"]);c!=null&&_(e,["googleSearch"],c);const f=v(t,["googleSearchRetrieval"]);f!=null&&_(e,["googleSearchRetrieval"],f);const d=v(t,["urlContext"]);return d!=null&&_(e,["urlContext"],d),e}function EM(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&_(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&_(e,["cachedContentTokenCount"],r);const i=v(t,["candidatesTokenCount"]);i!=null&&_(e,["responseTokenCount"],i);const s=v(t,["toolUsePromptTokenCount"]);s!=null&&_(e,["toolUsePromptTokenCount"],s);const l=v(t,["thoughtsTokenCount"]);l!=null&&_(e,["thoughtsTokenCount"],l);const u=v(t,["totalTokenCount"]);u!=null&&_(e,["totalTokenCount"],u);const c=v(t,["promptTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(x=>x)),_(e,["promptTokensDetails"],m)}const f=v(t,["cacheTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(x=>x)),_(e,["cacheTokensDetails"],m)}const d=v(t,["candidatesTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(x=>x)),_(e,["responseTokensDetails"],m)}const g=v(t,["toolUsePromptTokensDetails"]);if(g!=null){let m=g;Array.isArray(m)&&(m=m.map(x=>x)),_(e,["toolUsePromptTokensDetails"],m)}const y=v(t,["trafficType"]);return y!=null&&_(e,["trafficType"],y),e}function AM(t){const e={},n=v(t,["type"]);return n!=null&&_(e,["voiceActivityType"],n),e}function SM(t,e){const n={},r=v(t,["data"]);if(r!=null&&_(n,["data"],r),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=v(t,["mimeType"]);return i!=null&&_(n,["mimeType"],i),n}function xM(t,e){const n={},r=v(t,["content"]);r!=null&&_(n,["content"],r);const i=v(t,["citationMetadata"]);i!=null&&_(n,["citationMetadata"],TM(i));const s=v(t,["tokenCount"]);s!=null&&_(n,["tokenCount"],s);const l=v(t,["finishReason"]);l!=null&&_(n,["finishReason"],l);const u=v(t,["avgLogprobs"]);u!=null&&_(n,["avgLogprobs"],u);const c=v(t,["groundingMetadata"]);c!=null&&_(n,["groundingMetadata"],c);const f=v(t,["index"]);f!=null&&_(n,["index"],f);const d=v(t,["logprobsResult"]);d!=null&&_(n,["logprobsResult"],d);const g=v(t,["safetyRatings"]);if(g!=null){let m=g;Array.isArray(m)&&(m=m.map(x=>x)),_(n,["safetyRatings"],m)}const y=v(t,["urlContextMetadata"]);return y!=null&&_(n,["urlContextMetadata"],y),n}function TM(t,e){const n={},r=v(t,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),_(n,["citations"],i)}return n}function CM(t,e,n){const r={},i=v(e,["model"]);i!=null&&_(r,["_url","model"],wr(t,i));const s=v(e,["contents"]);if(s!=null){let l=ba(s);Array.isArray(l)&&(l=l.map(u=>u)),_(r,["contents"],l)}return r}function NM(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=v(t,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),_(n,["tokensInfo"],s)}return n}function IM(t,e){const n={},r=v(t,["values"]);r!=null&&_(n,["values"],r);const i=v(t,["statistics"]);return i!=null&&_(n,["statistics"],RM(i)),n}function RM(t,e){const n={},r=v(t,["truncated"]);r!=null&&_(n,["truncated"],r);const i=v(t,["token_count"]);return i!=null&&_(n,["tokenCount"],i),n}function Hg(t,e){const n={},r=v(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>B7(l))),_(n,["parts"],s)}const i=v(t,["role"]);return i!=null&&_(n,["role"],i),n}function kM(t,e){const n={},r=v(t,["controlType"]);r!=null&&_(n,["controlType"],r);const i=v(t,["enableControlImageComputation"]);return i!=null&&_(n,["computeControl"],i),n}function LM(t,e){const n={};if(v(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function DM(t,e,n){const r={},i=v(t,["systemInstruction"]);e!==void 0&&i!=null&&_(e,["systemInstruction"],Xs(i));const s=v(t,["tools"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>AC(c))),_(e,["tools"],u)}const l=v(t,["generationConfig"]);return e!==void 0&&l!=null&&_(e,["generationConfig"],S7(l)),r}function PM(t,e,n){const r={},i=v(e,["model"]);i!=null&&_(r,["_url","model"],wr(t,i));const s=v(e,["contents"]);if(s!=null){let u=ba(s);Array.isArray(u)&&(u=u.map(c=>Hg(c))),_(r,["contents"],u)}const l=v(e,["config"]);return l!=null&&LM(l),r}function MM(t,e,n){const r={},i=v(e,["model"]);i!=null&&_(r,["_url","model"],wr(t,i));const s=v(e,["contents"]);if(s!=null){let u=ba(s);Array.isArray(u)&&(u=u.map(c=>c)),_(r,["contents"],u)}const l=v(e,["config"]);return l!=null&&DM(l,r),r}function OM(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=v(t,["totalTokens"]);i!=null&&_(n,["totalTokens"],i);const s=v(t,["cachedContentTokenCount"]);return s!=null&&_(n,["cachedContentTokenCount"],s),n}function FM(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=v(t,["totalTokens"]);return i!=null&&_(n,["totalTokens"],i),n}function UM(t,e,n){const r={},i=v(e,["model"]);return i!=null&&_(r,["_url","name"],wr(t,i)),r}function BM(t,e,n){const r={},i=v(e,["model"]);return i!=null&&_(r,["_url","name"],wr(t,i)),r}function VM(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&_(n,["sdkHttpResponse"],r),n}function qM(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&_(n,["sdkHttpResponse"],r),n}function zM(t,e,n){const r={},i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&_(e,["parameters","storageUri"],i);const s=v(t,["negativePrompt"]);e!==void 0&&s!=null&&_(e,["parameters","negativePrompt"],s);const l=v(t,["numberOfImages"]);e!==void 0&&l!=null&&_(e,["parameters","sampleCount"],l);const u=v(t,["aspectRatio"]);e!==void 0&&u!=null&&_(e,["parameters","aspectRatio"],u);const c=v(t,["guidanceScale"]);e!==void 0&&c!=null&&_(e,["parameters","guidanceScale"],c);const f=v(t,["seed"]);e!==void 0&&f!=null&&_(e,["parameters","seed"],f);const d=v(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&_(e,["parameters","safetySetting"],d);const g=v(t,["personGeneration"]);e!==void 0&&g!=null&&_(e,["parameters","personGeneration"],g);const y=v(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&_(e,["parameters","includeSafetyAttributes"],y);const m=v(t,["includeRaiReason"]);e!==void 0&&m!=null&&_(e,["parameters","includeRaiReason"],m);const x=v(t,["language"]);e!==void 0&&x!=null&&_(e,["parameters","language"],x);const S=v(t,["outputMimeType"]);e!==void 0&&S!=null&&_(e,["parameters","outputOptions","mimeType"],S);const R=v(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&_(e,["parameters","outputOptions","compressionQuality"],R);const E=v(t,["addWatermark"]);e!==void 0&&E!=null&&_(e,["parameters","addWatermark"],E);const M=v(t,["labels"]);e!==void 0&&M!=null&&_(e,["labels"],M);const P=v(t,["editMode"]);e!==void 0&&P!=null&&_(e,["parameters","editMode"],P);const N=v(t,["baseSteps"]);return e!==void 0&&N!=null&&_(e,["parameters","editConfig","baseSteps"],N),r}function HM(t,e,n){const r={},i=v(e,["model"]);i!=null&&_(r,["_url","model"],wr(t,i));const s=v(e,["prompt"]);s!=null&&_(r,["instances[0]","prompt"],s);const l=v(e,["referenceImages"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>j7(f))),_(r,["instances[0]","referenceImages"],c)}const u=v(e,["config"]);return u!=null&&zM(u,r),r}function GM(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=v(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Gg(l))),_(n,["generatedImages"],s)}return n}function jM(t,e,n){const r={},i=v(t,["taskType"]);e!==void 0&&i!=null&&_(e,["requests[]","taskType"],i);const s=v(t,["title"]);e!==void 0&&s!=null&&_(e,["requests[]","title"],s);const l=v(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&_(e,["requests[]","outputDimensionality"],l),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function $M(t,e,n){const r={},i=v(t,["taskType"]);e!==void 0&&i!=null&&_(e,["instances[]","task_type"],i);const s=v(t,["title"]);e!==void 0&&s!=null&&_(e,["instances[]","title"],s);const l=v(t,["outputDimensionality"]);e!==void 0&&l!=null&&_(e,["parameters","outputDimensionality"],l);const u=v(t,["mimeType"]);e!==void 0&&u!=null&&_(e,["instances[]","mimeType"],u);const c=v(t,["autoTruncate"]);return e!==void 0&&c!=null&&_(e,["parameters","autoTruncate"],c),r}function WM(t,e,n){const r={},i=v(e,["model"]);i!=null&&_(r,["_url","model"],wr(t,i));const s=v(e,["contents"]);if(s!=null){let c=Lw(t,s);Array.isArray(c)&&(c=c.map(f=>f)),_(r,["requests[]","content"],c)}const l=v(e,["config"]);l!=null&&jM(l,r);const u=v(e,["model"]);return u!==void 0&&_(r,["requests[]","model"],wr(t,u)),r}function KM(t,e,n){const r={},i=v(e,["model"]);i!=null&&_(r,["_url","model"],wr(t,i));const s=v(e,["contents"]);if(s!=null){let u=Lw(t,s);Array.isArray(u)&&(u=u.map(c=>c)),_(r,["instances[]","content"],u)}const l=v(e,["config"]);return l!=null&&$M(l,r),r}function YM(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=v(t,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>u)),_(n,["embeddings"],l)}const s=v(t,["metadata"]);return s!=null&&_(n,["metadata"],s),n}function JM(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=v(t,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>IM(u))),_(n,["embeddings"],l)}const s=v(t,["metadata"]);return s!=null&&_(n,["metadata"],s),n}function XM(t,e){const n={},r=v(t,["endpoint"]);r!=null&&_(n,["name"],r);const i=v(t,["deployedModelId"]);return i!=null&&_(n,["deployedModelId"],i),n}function QM(t,e){const n={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["fileUri"]);r!=null&&_(n,["fileUri"],r);const i=v(t,["mimeType"]);return i!=null&&_(n,["mimeType"],i),n}function ZM(t,e){const n={},r=v(t,["id"]);r!=null&&_(n,["id"],r);const i=v(t,["args"]);i!=null&&_(n,["args"],i);const s=v(t,["name"]);if(s!=null&&_(n,["name"],s),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function e7(t,e){const n={},r=v(t,["allowedFunctionNames"]);r!=null&&_(n,["allowedFunctionNames"],r);const i=v(t,["mode"]);if(i!=null&&_(n,["mode"],i),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function t7(t,e){const n={},r=v(t,["description"]);r!=null&&_(n,["description"],r);const i=v(t,["name"]);i!=null&&_(n,["name"],i);const s=v(t,["parameters"]);s!=null&&_(n,["parameters"],s);const l=v(t,["parametersJsonSchema"]);l!=null&&_(n,["parametersJsonSchema"],l);const u=v(t,["response"]);u!=null&&_(n,["response"],u);const c=v(t,["responseJsonSchema"]);if(c!=null&&_(n,["responseJsonSchema"],c),v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function n7(t,e,n,r){const i={},s=v(e,["systemInstruction"]);n!==void 0&&s!=null&&_(n,["systemInstruction"],Hg(Xs(s)));const l=v(e,["temperature"]);l!=null&&_(i,["temperature"],l);const u=v(e,["topP"]);u!=null&&_(i,["topP"],u);const c=v(e,["topK"]);c!=null&&_(i,["topK"],c);const f=v(e,["candidateCount"]);f!=null&&_(i,["candidateCount"],f);const d=v(e,["maxOutputTokens"]);d!=null&&_(i,["maxOutputTokens"],d);const g=v(e,["stopSequences"]);g!=null&&_(i,["stopSequences"],g);const y=v(e,["responseLogprobs"]);y!=null&&_(i,["responseLogprobs"],y);const m=v(e,["logprobs"]);m!=null&&_(i,["logprobs"],m);const x=v(e,["presencePenalty"]);x!=null&&_(i,["presencePenalty"],x);const S=v(e,["frequencyPenalty"]);S!=null&&_(i,["frequencyPenalty"],S);const R=v(e,["seed"]);R!=null&&_(i,["seed"],R);const E=v(e,["responseMimeType"]);E!=null&&_(i,["responseMimeType"],E);const M=v(e,["responseSchema"]);M!=null&&_(i,["responseSchema"],Dw(M));const P=v(e,["responseJsonSchema"]);if(P!=null&&_(i,["responseJsonSchema"],P),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=v(e,["safetySettings"]);if(n!==void 0&&N!=null){let F=N;Array.isArray(F)&&(F=F.map(ve=>$7(ve))),_(n,["safetySettings"],F)}const $=v(e,["tools"]);if(n!==void 0&&$!=null){let F=qh($);Array.isArray(F)&&(F=F.map(ve=>Z7(Vh(ve)))),_(n,["tools"],F)}const Q=v(e,["toolConfig"]);if(n!==void 0&&Q!=null&&_(n,["toolConfig"],Q7(Q)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=v(e,["cachedContent"]);n!==void 0&&V!=null&&_(n,["cachedContent"],Eu(t,V));const G=v(e,["responseModalities"]);G!=null&&_(i,["responseModalities"],G);const C=v(e,["mediaResolution"]);C!=null&&_(i,["mediaResolution"],C);const X=v(e,["speechConfig"]);if(X!=null&&_(i,["speechConfig"],Pw(X)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=v(e,["thinkingConfig"]);W!=null&&_(i,["thinkingConfig"],W);const D=v(e,["imageConfig"]);D!=null&&_(i,["imageConfig"],I7(D));const B=v(e,["enableEnhancedCivicAnswers"]);if(B!=null&&_(i,["enableEnhancedCivicAnswers"],B),v(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function r7(t,e,n,r){const i={},s=v(e,["systemInstruction"]);n!==void 0&&s!=null&&_(n,["systemInstruction"],Xs(s));const l=v(e,["temperature"]);l!=null&&_(i,["temperature"],l);const u=v(e,["topP"]);u!=null&&_(i,["topP"],u);const c=v(e,["topK"]);c!=null&&_(i,["topK"],c);const f=v(e,["candidateCount"]);f!=null&&_(i,["candidateCount"],f);const d=v(e,["maxOutputTokens"]);d!=null&&_(i,["maxOutputTokens"],d);const g=v(e,["stopSequences"]);g!=null&&_(i,["stopSequences"],g);const y=v(e,["responseLogprobs"]);y!=null&&_(i,["responseLogprobs"],y);const m=v(e,["logprobs"]);m!=null&&_(i,["logprobs"],m);const x=v(e,["presencePenalty"]);x!=null&&_(i,["presencePenalty"],x);const S=v(e,["frequencyPenalty"]);S!=null&&_(i,["frequencyPenalty"],S);const R=v(e,["seed"]);R!=null&&_(i,["seed"],R);const E=v(e,["responseMimeType"]);E!=null&&_(i,["responseMimeType"],E);const M=v(e,["responseSchema"]);M!=null&&_(i,["responseSchema"],Dw(M));const P=v(e,["responseJsonSchema"]);P!=null&&_(i,["responseJsonSchema"],P);const N=v(e,["routingConfig"]);N!=null&&_(i,["routingConfig"],N);const $=v(e,["modelSelectionConfig"]);$!=null&&_(i,["modelConfig"],$);const Q=v(e,["safetySettings"]);if(n!==void 0&&Q!=null){let _e=Q;Array.isArray(_e)&&(_e=_e.map(xe=>xe)),_(n,["safetySettings"],_e)}const V=v(e,["tools"]);if(n!==void 0&&V!=null){let _e=qh(V);Array.isArray(_e)&&(_e=_e.map(xe=>AC(Vh(xe)))),_(n,["tools"],_e)}const G=v(e,["toolConfig"]);n!==void 0&&G!=null&&_(n,["toolConfig"],G);const C=v(e,["labels"]);n!==void 0&&C!=null&&_(n,["labels"],C);const X=v(e,["cachedContent"]);n!==void 0&&X!=null&&_(n,["cachedContent"],Eu(t,X));const W=v(e,["responseModalities"]);W!=null&&_(i,["responseModalities"],W);const D=v(e,["mediaResolution"]);D!=null&&_(i,["mediaResolution"],D);const B=v(e,["speechConfig"]);B!=null&&_(i,["speechConfig"],Pw(B));const F=v(e,["audioTimestamp"]);F!=null&&_(i,["audioTimestamp"],F);const ve=v(e,["thinkingConfig"]);ve!=null&&_(i,["thinkingConfig"],ve);const ce=v(e,["imageConfig"]);if(ce!=null&&_(i,["imageConfig"],R7(ce)),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const ae=v(e,["modelArmorConfig"]);return n!==void 0&&ae!=null&&_(n,["modelArmorConfig"],ae),i}function GA(t,e,n){const r={},i=v(e,["model"]);i!=null&&_(r,["_url","model"],wr(t,i));const s=v(e,["contents"]);if(s!=null){let u=ba(s);Array.isArray(u)&&(u=u.map(c=>Hg(c))),_(r,["contents"],u)}const l=v(e,["config"]);return l!=null&&_(r,["generationConfig"],n7(t,l,r)),r}function jA(t,e,n){const r={},i=v(e,["model"]);i!=null&&_(r,["_url","model"],wr(t,i));const s=v(e,["contents"]);if(s!=null){let u=ba(s);Array.isArray(u)&&(u=u.map(c=>c)),_(r,["contents"],u)}const l=v(e,["config"]);return l!=null&&_(r,["generationConfig"],r7(t,l,r)),r}function $A(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=v(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>xM(d))),_(n,["candidates"],f)}const s=v(t,["modelVersion"]);s!=null&&_(n,["modelVersion"],s);const l=v(t,["promptFeedback"]);l!=null&&_(n,["promptFeedback"],l);const u=v(t,["responseId"]);u!=null&&_(n,["responseId"],u);const c=v(t,["usageMetadata"]);return c!=null&&_(n,["usageMetadata"],c),n}function WA(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=v(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(g=>g)),_(n,["candidates"],d)}const s=v(t,["createTime"]);s!=null&&_(n,["createTime"],s);const l=v(t,["modelVersion"]);l!=null&&_(n,["modelVersion"],l);const u=v(t,["promptFeedback"]);u!=null&&_(n,["promptFeedback"],u);const c=v(t,["responseId"]);c!=null&&_(n,["responseId"],c);const f=v(t,["usageMetadata"]);return f!=null&&_(n,["usageMetadata"],f),n}function i7(t,e,n){const r={};if(v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=v(t,["numberOfImages"]);e!==void 0&&i!=null&&_(e,["parameters","sampleCount"],i);const s=v(t,["aspectRatio"]);e!==void 0&&s!=null&&_(e,["parameters","aspectRatio"],s);const l=v(t,["guidanceScale"]);if(e!==void 0&&l!=null&&_(e,["parameters","guidanceScale"],l),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=v(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&_(e,["parameters","safetySetting"],u);const c=v(t,["personGeneration"]);e!==void 0&&c!=null&&_(e,["parameters","personGeneration"],c);const f=v(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&_(e,["parameters","includeSafetyAttributes"],f);const d=v(t,["includeRaiReason"]);e!==void 0&&d!=null&&_(e,["parameters","includeRaiReason"],d);const g=v(t,["language"]);e!==void 0&&g!=null&&_(e,["parameters","language"],g);const y=v(t,["outputMimeType"]);e!==void 0&&y!=null&&_(e,["parameters","outputOptions","mimeType"],y);const m=v(t,["outputCompressionQuality"]);if(e!==void 0&&m!=null&&_(e,["parameters","outputOptions","compressionQuality"],m),v(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=v(t,["imageSize"]);if(e!==void 0&&x!=null&&_(e,["parameters","sampleImageSize"],x),v(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function s7(t,e,n){const r={},i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&_(e,["parameters","storageUri"],i);const s=v(t,["negativePrompt"]);e!==void 0&&s!=null&&_(e,["parameters","negativePrompt"],s);const l=v(t,["numberOfImages"]);e!==void 0&&l!=null&&_(e,["parameters","sampleCount"],l);const u=v(t,["aspectRatio"]);e!==void 0&&u!=null&&_(e,["parameters","aspectRatio"],u);const c=v(t,["guidanceScale"]);e!==void 0&&c!=null&&_(e,["parameters","guidanceScale"],c);const f=v(t,["seed"]);e!==void 0&&f!=null&&_(e,["parameters","seed"],f);const d=v(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&_(e,["parameters","safetySetting"],d);const g=v(t,["personGeneration"]);e!==void 0&&g!=null&&_(e,["parameters","personGeneration"],g);const y=v(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&_(e,["parameters","includeSafetyAttributes"],y);const m=v(t,["includeRaiReason"]);e!==void 0&&m!=null&&_(e,["parameters","includeRaiReason"],m);const x=v(t,["language"]);e!==void 0&&x!=null&&_(e,["parameters","language"],x);const S=v(t,["outputMimeType"]);e!==void 0&&S!=null&&_(e,["parameters","outputOptions","mimeType"],S);const R=v(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&_(e,["parameters","outputOptions","compressionQuality"],R);const E=v(t,["addWatermark"]);e!==void 0&&E!=null&&_(e,["parameters","addWatermark"],E);const M=v(t,["labels"]);e!==void 0&&M!=null&&_(e,["labels"],M);const P=v(t,["imageSize"]);e!==void 0&&P!=null&&_(e,["parameters","sampleImageSize"],P);const N=v(t,["enhancePrompt"]);return e!==void 0&&N!=null&&_(e,["parameters","enhancePrompt"],N),r}function o7(t,e,n){const r={},i=v(e,["model"]);i!=null&&_(r,["_url","model"],wr(t,i));const s=v(e,["prompt"]);s!=null&&_(r,["instances[0]","prompt"],s);const l=v(e,["config"]);return l!=null&&i7(l,r),r}function a7(t,e,n){const r={},i=v(e,["model"]);i!=null&&_(r,["_url","model"],wr(t,i));const s=v(e,["prompt"]);s!=null&&_(r,["instances[0]","prompt"],s);const l=v(e,["config"]);return l!=null&&s7(l,r),r}function l7(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=v(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>_7(u))),_(n,["generatedImages"],l)}const s=v(t,["positivePromptSafetyAttributes"]);return s!=null&&_(n,["positivePromptSafetyAttributes"],bC(s)),n}function u7(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=v(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Gg(u))),_(n,["generatedImages"],l)}const s=v(t,["positivePromptSafetyAttributes"]);return s!=null&&_(n,["positivePromptSafetyAttributes"],EC(s)),n}function c7(t,e,n){const r={},i=v(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&_(e,["parameters","sampleCount"],i),v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=v(t,["durationSeconds"]);if(e!==void 0&&s!=null&&_(e,["parameters","durationSeconds"],s),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=v(t,["aspectRatio"]);e!==void 0&&l!=null&&_(e,["parameters","aspectRatio"],l);const u=v(t,["resolution"]);e!==void 0&&u!=null&&_(e,["parameters","resolution"],u);const c=v(t,["personGeneration"]);if(e!==void 0&&c!=null&&_(e,["parameters","personGeneration"],c),v(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=v(t,["negativePrompt"]);e!==void 0&&f!=null&&_(e,["parameters","negativePrompt"],f);const d=v(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&_(e,["parameters","enhancePrompt"],d),v(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=v(t,["lastFrame"]);e!==void 0&&g!=null&&_(e,["instances[0]","lastFrame"],jg(g));const y=v(t,["referenceImages"]);if(e!==void 0&&y!=null){let m=y;Array.isArray(m)&&(m=m.map(x=>h9(x))),_(e,["instances[0]","referenceImages"],m)}if(v(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function f7(t,e,n){const r={},i=v(t,["numberOfVideos"]);e!==void 0&&i!=null&&_(e,["parameters","sampleCount"],i);const s=v(t,["outputGcsUri"]);e!==void 0&&s!=null&&_(e,["parameters","storageUri"],s);const l=v(t,["fps"]);e!==void 0&&l!=null&&_(e,["parameters","fps"],l);const u=v(t,["durationSeconds"]);e!==void 0&&u!=null&&_(e,["parameters","durationSeconds"],u);const c=v(t,["seed"]);e!==void 0&&c!=null&&_(e,["parameters","seed"],c);const f=v(t,["aspectRatio"]);e!==void 0&&f!=null&&_(e,["parameters","aspectRatio"],f);const d=v(t,["resolution"]);e!==void 0&&d!=null&&_(e,["parameters","resolution"],d);const g=v(t,["personGeneration"]);e!==void 0&&g!=null&&_(e,["parameters","personGeneration"],g);const y=v(t,["pubsubTopic"]);e!==void 0&&y!=null&&_(e,["parameters","pubsubTopic"],y);const m=v(t,["negativePrompt"]);e!==void 0&&m!=null&&_(e,["parameters","negativePrompt"],m);const x=v(t,["enhancePrompt"]);e!==void 0&&x!=null&&_(e,["parameters","enhancePrompt"],x);const S=v(t,["generateAudio"]);e!==void 0&&S!=null&&_(e,["parameters","generateAudio"],S);const R=v(t,["lastFrame"]);e!==void 0&&R!=null&&_(e,["instances[0]","lastFrame"],Za(R));const E=v(t,["referenceImages"]);if(e!==void 0&&E!=null){let N=E;Array.isArray(N)&&(N=N.map($=>d9($))),_(e,["instances[0]","referenceImages"],N)}const M=v(t,["mask"]);e!==void 0&&M!=null&&_(e,["instances[0]","mask"],f9(M));const P=v(t,["compressionQuality"]);return e!==void 0&&P!=null&&_(e,["parameters","compressionQuality"],P),r}function h7(t,e){const n={},r=v(t,["name"]);r!=null&&_(n,["name"],r);const i=v(t,["metadata"]);i!=null&&_(n,["metadata"],i);const s=v(t,["done"]);s!=null&&_(n,["done"],s);const l=v(t,["error"]);l!=null&&_(n,["error"],l);const u=v(t,["response","generateVideoResponse"]);return u!=null&&_(n,["response"],g7(u)),n}function d7(t,e){const n={},r=v(t,["name"]);r!=null&&_(n,["name"],r);const i=v(t,["metadata"]);i!=null&&_(n,["metadata"],i);const s=v(t,["done"]);s!=null&&_(n,["done"],s);const l=v(t,["error"]);l!=null&&_(n,["error"],l);const u=v(t,["response"]);return u!=null&&_(n,["response"],y7(u)),n}function p7(t,e,n){const r={},i=v(e,["model"]);i!=null&&_(r,["_url","model"],wr(t,i));const s=v(e,["prompt"]);s!=null&&_(r,["instances[0]","prompt"],s);const l=v(e,["image"]);l!=null&&_(r,["instances[0]","image"],jg(l));const u=v(e,["video"]);u!=null&&_(r,["instances[0]","video"],SC(u));const c=v(e,["source"]);c!=null&&v7(c,r);const f=v(e,["config"]);return f!=null&&c7(f,r),r}function m7(t,e,n){const r={},i=v(e,["model"]);i!=null&&_(r,["_url","model"],wr(t,i));const s=v(e,["prompt"]);s!=null&&_(r,["instances[0]","prompt"],s);const l=v(e,["image"]);l!=null&&_(r,["instances[0]","image"],Za(l));const u=v(e,["video"]);u!=null&&_(r,["instances[0]","video"],xC(u));const c=v(e,["source"]);c!=null&&w7(c,r);const f=v(e,["config"]);return f!=null&&f7(f,r),r}function g7(t,e){const n={},r=v(t,["generatedSamples"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>E7(u))),_(n,["generatedVideos"],l)}const i=v(t,["raiMediaFilteredCount"]);i!=null&&_(n,["raiMediaFilteredCount"],i);const s=v(t,["raiMediaFilteredReasons"]);return s!=null&&_(n,["raiMediaFilteredReasons"],s),n}function y7(t,e){const n={},r=v(t,["videos"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>A7(u))),_(n,["generatedVideos"],l)}const i=v(t,["raiMediaFilteredCount"]);i!=null&&_(n,["raiMediaFilteredCount"],i);const s=v(t,["raiMediaFilteredReasons"]);return s!=null&&_(n,["raiMediaFilteredReasons"],s),n}function v7(t,e,n){const r={},i=v(t,["prompt"]);e!==void 0&&i!=null&&_(e,["instances[0]","prompt"],i);const s=v(t,["image"]);e!==void 0&&s!=null&&_(e,["instances[0]","image"],jg(s));const l=v(t,["video"]);return e!==void 0&&l!=null&&_(e,["instances[0]","video"],SC(l)),r}function w7(t,e,n){const r={},i=v(t,["prompt"]);e!==void 0&&i!=null&&_(e,["instances[0]","prompt"],i);const s=v(t,["image"]);e!==void 0&&s!=null&&_(e,["instances[0]","image"],Za(s));const l=v(t,["video"]);return e!==void 0&&l!=null&&_(e,["instances[0]","video"],xC(l)),r}function _7(t,e){const n={},r=v(t,["_self"]);r!=null&&_(n,["image"],k7(r));const i=v(t,["raiFilteredReason"]);i!=null&&_(n,["raiFilteredReason"],i);const s=v(t,["_self"]);return s!=null&&_(n,["safetyAttributes"],bC(s)),n}function Gg(t,e){const n={},r=v(t,["_self"]);r!=null&&_(n,["image"],_C(r));const i=v(t,["raiFilteredReason"]);i!=null&&_(n,["raiFilteredReason"],i);const s=v(t,["_self"]);s!=null&&_(n,["safetyAttributes"],EC(s));const l=v(t,["prompt"]);return l!=null&&_(n,["enhancedPrompt"],l),n}function b7(t,e){const n={},r=v(t,["_self"]);r!=null&&_(n,["mask"],_C(r));const i=v(t,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),_(n,["labels"],s)}return n}function E7(t,e){const n={},r=v(t,["video"]);return r!=null&&_(n,["video"],u9(r)),n}function A7(t,e){const n={},r=v(t,["_self"]);return r!=null&&_(n,["video"],c9(r)),n}function S7(t,e){const n={},r=v(t,["modelSelectionConfig"]);r!=null&&_(n,["modelConfig"],r);const i=v(t,["responseJsonSchema"]);i!=null&&_(n,["responseJsonSchema"],i);const s=v(t,["audioTimestamp"]);s!=null&&_(n,["audioTimestamp"],s);const l=v(t,["candidateCount"]);l!=null&&_(n,["candidateCount"],l);const u=v(t,["enableAffectiveDialog"]);u!=null&&_(n,["enableAffectiveDialog"],u);const c=v(t,["frequencyPenalty"]);c!=null&&_(n,["frequencyPenalty"],c);const f=v(t,["logprobs"]);f!=null&&_(n,["logprobs"],f);const d=v(t,["maxOutputTokens"]);d!=null&&_(n,["maxOutputTokens"],d);const g=v(t,["mediaResolution"]);g!=null&&_(n,["mediaResolution"],g);const y=v(t,["presencePenalty"]);y!=null&&_(n,["presencePenalty"],y);const m=v(t,["responseLogprobs"]);m!=null&&_(n,["responseLogprobs"],m);const x=v(t,["responseMimeType"]);x!=null&&_(n,["responseMimeType"],x);const S=v(t,["responseModalities"]);S!=null&&_(n,["responseModalities"],S);const R=v(t,["responseSchema"]);R!=null&&_(n,["responseSchema"],R);const E=v(t,["routingConfig"]);E!=null&&_(n,["routingConfig"],E);const M=v(t,["seed"]);M!=null&&_(n,["seed"],M);const P=v(t,["speechConfig"]);P!=null&&_(n,["speechConfig"],P);const N=v(t,["stopSequences"]);N!=null&&_(n,["stopSequences"],N);const $=v(t,["temperature"]);$!=null&&_(n,["temperature"],$);const Q=v(t,["thinkingConfig"]);Q!=null&&_(n,["thinkingConfig"],Q);const V=v(t,["topK"]);V!=null&&_(n,["topK"],V);const G=v(t,["topP"]);if(G!=null&&_(n,["topP"],G),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function x7(t,e,n){const r={},i=v(e,["model"]);return i!=null&&_(r,["_url","name"],wr(t,i)),r}function T7(t,e,n){const r={},i=v(e,["model"]);return i!=null&&_(r,["_url","name"],wr(t,i)),r}function C7(t,e){const n={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=v(t,["enableWidget"]);return r!=null&&_(n,["enableWidget"],r),n}function N7(t,e){const n={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=v(t,["timeRangeFilter"]);return r!=null&&_(n,["timeRangeFilter"],r),n}function I7(t,e){const n={},r=v(t,["aspectRatio"]);r!=null&&_(n,["aspectRatio"],r);const i=v(t,["imageSize"]);if(i!=null&&_(n,["imageSize"],i),v(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function R7(t,e){const n={},r=v(t,["aspectRatio"]);r!=null&&_(n,["aspectRatio"],r);const i=v(t,["imageSize"]);i!=null&&_(n,["imageSize"],i);const s=v(t,["personGeneration"]);s!=null&&_(n,["personGeneration"],s);const l=v(t,["outputMimeType"]);l!=null&&_(n,["imageOutputOptions","mimeType"],l);const u=v(t,["outputCompressionQuality"]);return u!=null&&_(n,["imageOutputOptions","compressionQuality"],u),n}function k7(t,e){const n={},r=v(t,["bytesBase64Encoded"]);r!=null&&_(n,["imageBytes"],_c(r));const i=v(t,["mimeType"]);return i!=null&&_(n,["mimeType"],i),n}function _C(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&_(n,["gcsUri"],r);const i=v(t,["bytesBase64Encoded"]);i!=null&&_(n,["imageBytes"],_c(i));const s=v(t,["mimeType"]);return s!=null&&_(n,["mimeType"],s),n}function jg(t,e){const n={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=v(t,["imageBytes"]);r!=null&&_(n,["bytesBase64Encoded"],_c(r));const i=v(t,["mimeType"]);return i!=null&&_(n,["mimeType"],i),n}function Za(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&_(n,["gcsUri"],r);const i=v(t,["imageBytes"]);i!=null&&_(n,["bytesBase64Encoded"],_c(i));const s=v(t,["mimeType"]);return s!=null&&_(n,["mimeType"],s),n}function L7(t,e,n,r){const i={},s=v(e,["pageSize"]);n!==void 0&&s!=null&&_(n,["_query","pageSize"],s);const l=v(e,["pageToken"]);n!==void 0&&l!=null&&_(n,["_query","pageToken"],l);const u=v(e,["filter"]);n!==void 0&&u!=null&&_(n,["_query","filter"],u);const c=v(e,["queryBase"]);return n!==void 0&&c!=null&&_(n,["_url","models_url"],dC(t,c)),i}function D7(t,e,n,r){const i={},s=v(e,["pageSize"]);n!==void 0&&s!=null&&_(n,["_query","pageSize"],s);const l=v(e,["pageToken"]);n!==void 0&&l!=null&&_(n,["_query","pageToken"],l);const u=v(e,["filter"]);n!==void 0&&u!=null&&_(n,["_query","filter"],u);const c=v(e,["queryBase"]);return n!==void 0&&c!=null&&_(n,["_url","models_url"],dC(t,c)),i}function P7(t,e,n){const r={},i=v(e,["config"]);return i!=null&&L7(t,i,r),r}function M7(t,e,n){const r={},i=v(e,["config"]);return i!=null&&D7(t,i,r),r}function O7(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&_(n,["nextPageToken"],i);const s=v(t,["_self"]);if(s!=null){let l=pC(s);Array.isArray(l)&&(l=l.map(u=>k2(u))),_(n,["models"],l)}return n}function F7(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&_(n,["nextPageToken"],i);const s=v(t,["_self"]);if(s!=null){let l=pC(s);Array.isArray(l)&&(l=l.map(u=>L2(u))),_(n,["models"],l)}return n}function U7(t,e){const n={},r=v(t,["maskMode"]);r!=null&&_(n,["maskMode"],r);const i=v(t,["segmentationClasses"]);i!=null&&_(n,["maskClasses"],i);const s=v(t,["maskDilation"]);return s!=null&&_(n,["dilation"],s),n}function k2(t,e){const n={},r=v(t,["name"]);r!=null&&_(n,["name"],r);const i=v(t,["displayName"]);i!=null&&_(n,["displayName"],i);const s=v(t,["description"]);s!=null&&_(n,["description"],s);const l=v(t,["version"]);l!=null&&_(n,["version"],l);const u=v(t,["_self"]);u!=null&&_(n,["tunedModelInfo"],e9(u));const c=v(t,["inputTokenLimit"]);c!=null&&_(n,["inputTokenLimit"],c);const f=v(t,["outputTokenLimit"]);f!=null&&_(n,["outputTokenLimit"],f);const d=v(t,["supportedGenerationMethods"]);d!=null&&_(n,["supportedActions"],d);const g=v(t,["temperature"]);g!=null&&_(n,["temperature"],g);const y=v(t,["maxTemperature"]);y!=null&&_(n,["maxTemperature"],y);const m=v(t,["topP"]);m!=null&&_(n,["topP"],m);const x=v(t,["topK"]);x!=null&&_(n,["topK"],x);const S=v(t,["thinking"]);return S!=null&&_(n,["thinking"],S),n}function L2(t,e){const n={},r=v(t,["name"]);r!=null&&_(n,["name"],r);const i=v(t,["displayName"]);i!=null&&_(n,["displayName"],i);const s=v(t,["description"]);s!=null&&_(n,["description"],s);const l=v(t,["versionId"]);l!=null&&_(n,["version"],l);const u=v(t,["deployedModels"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(m=>XM(m))),_(n,["endpoints"],y)}const c=v(t,["labels"]);c!=null&&_(n,["labels"],c);const f=v(t,["_self"]);f!=null&&_(n,["tunedModelInfo"],t9(f));const d=v(t,["defaultCheckpointId"]);d!=null&&_(n,["defaultCheckpointId"],d);const g=v(t,["checkpoints"]);if(g!=null){let y=g;Array.isArray(y)&&(y=y.map(m=>m)),_(n,["checkpoints"],y)}return n}function B7(t,e){const n={},r=v(t,["mediaResolution"]);r!=null&&_(n,["mediaResolution"],r);const i=v(t,["codeExecutionResult"]);i!=null&&_(n,["codeExecutionResult"],i);const s=v(t,["executableCode"]);s!=null&&_(n,["executableCode"],s);const l=v(t,["fileData"]);l!=null&&_(n,["fileData"],QM(l));const u=v(t,["functionCall"]);u!=null&&_(n,["functionCall"],ZM(u));const c=v(t,["functionResponse"]);c!=null&&_(n,["functionResponse"],c);const f=v(t,["inlineData"]);f!=null&&_(n,["inlineData"],SM(f));const d=v(t,["text"]);d!=null&&_(n,["text"],d);const g=v(t,["thought"]);g!=null&&_(n,["thought"],g);const y=v(t,["thoughtSignature"]);y!=null&&_(n,["thoughtSignature"],y);const m=v(t,["videoMetadata"]);return m!=null&&_(n,["videoMetadata"],m),n}function V7(t,e){const n={},r=v(t,["productImage"]);return r!=null&&_(n,["image"],Za(r)),n}function q7(t,e,n){const r={},i=v(t,["numberOfImages"]);e!==void 0&&i!=null&&_(e,["parameters","sampleCount"],i);const s=v(t,["baseSteps"]);e!==void 0&&s!=null&&_(e,["parameters","baseSteps"],s);const l=v(t,["outputGcsUri"]);e!==void 0&&l!=null&&_(e,["parameters","storageUri"],l);const u=v(t,["seed"]);e!==void 0&&u!=null&&_(e,["parameters","seed"],u);const c=v(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&_(e,["parameters","safetySetting"],c);const f=v(t,["personGeneration"]);e!==void 0&&f!=null&&_(e,["parameters","personGeneration"],f);const d=v(t,["addWatermark"]);e!==void 0&&d!=null&&_(e,["parameters","addWatermark"],d);const g=v(t,["outputMimeType"]);e!==void 0&&g!=null&&_(e,["parameters","outputOptions","mimeType"],g);const y=v(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&_(e,["parameters","outputOptions","compressionQuality"],y);const m=v(t,["enhancePrompt"]);e!==void 0&&m!=null&&_(e,["parameters","enhancePrompt"],m);const x=v(t,["labels"]);return e!==void 0&&x!=null&&_(e,["labels"],x),r}function z7(t,e,n){const r={},i=v(e,["model"]);i!=null&&_(r,["_url","model"],wr(t,i));const s=v(e,["source"]);s!=null&&G7(s,r);const l=v(e,["config"]);return l!=null&&q7(l,r),r}function H7(t,e){const n={},r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Gg(s))),_(n,["generatedImages"],i)}return n}function G7(t,e,n){const r={},i=v(t,["prompt"]);e!==void 0&&i!=null&&_(e,["instances[0]","prompt"],i);const s=v(t,["personImage"]);e!==void 0&&s!=null&&_(e,["instances[0]","personImage","image"],Za(s));const l=v(t,["productImages"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>V7(c))),_(e,["instances[0]","productImages"],u)}return r}function j7(t,e){const n={},r=v(t,["referenceImage"]);r!=null&&_(n,["referenceImage"],Za(r));const i=v(t,["referenceId"]);i!=null&&_(n,["referenceId"],i);const s=v(t,["referenceType"]);s!=null&&_(n,["referenceType"],s);const l=v(t,["maskImageConfig"]);l!=null&&_(n,["maskImageConfig"],U7(l));const u=v(t,["controlImageConfig"]);u!=null&&_(n,["controlImageConfig"],kM(u));const c=v(t,["styleImageConfig"]);c!=null&&_(n,["styleImageConfig"],c);const f=v(t,["subjectImageConfig"]);return f!=null&&_(n,["subjectImageConfig"],f),n}function bC(t,e){const n={},r=v(t,["safetyAttributes","categories"]);r!=null&&_(n,["categories"],r);const i=v(t,["safetyAttributes","scores"]);i!=null&&_(n,["scores"],i);const s=v(t,["contentType"]);return s!=null&&_(n,["contentType"],s),n}function EC(t,e){const n={},r=v(t,["safetyAttributes","categories"]);r!=null&&_(n,["categories"],r);const i=v(t,["safetyAttributes","scores"]);i!=null&&_(n,["scores"],i);const s=v(t,["contentType"]);return s!=null&&_(n,["contentType"],s),n}function $7(t,e){const n={},r=v(t,["category"]);if(r!=null&&_(n,["category"],r),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=v(t,["threshold"]);return i!=null&&_(n,["threshold"],i),n}function W7(t,e){const n={},r=v(t,["image"]);return r!=null&&_(n,["image"],Za(r)),n}function K7(t,e,n){const r={},i=v(t,["mode"]);e!==void 0&&i!=null&&_(e,["parameters","mode"],i);const s=v(t,["maxPredictions"]);e!==void 0&&s!=null&&_(e,["parameters","maxPredictions"],s);const l=v(t,["confidenceThreshold"]);e!==void 0&&l!=null&&_(e,["parameters","confidenceThreshold"],l);const u=v(t,["maskDilation"]);e!==void 0&&u!=null&&_(e,["parameters","maskDilation"],u);const c=v(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&_(e,["parameters","binaryColorThreshold"],c);const f=v(t,["labels"]);return e!==void 0&&f!=null&&_(e,["labels"],f),r}function Y7(t,e,n){const r={},i=v(e,["model"]);i!=null&&_(r,["_url","model"],wr(t,i));const s=v(e,["source"]);s!=null&&X7(s,r);const l=v(e,["config"]);return l!=null&&K7(l,r),r}function J7(t,e){const n={},r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>b7(s))),_(n,["generatedMasks"],i)}return n}function X7(t,e,n){const r={},i=v(t,["prompt"]);e!==void 0&&i!=null&&_(e,["instances[0]","prompt"],i);const s=v(t,["image"]);e!==void 0&&s!=null&&_(e,["instances[0]","image"],Za(s));const l=v(t,["scribbleImage"]);return e!==void 0&&l!=null&&_(e,["instances[0]","scribble"],W7(l)),r}function Q7(t,e){const n={},r=v(t,["retrievalConfig"]);r!=null&&_(n,["retrievalConfig"],r);const i=v(t,["functionCallingConfig"]);return i!=null&&_(n,["functionCallingConfig"],e7(i)),n}function Z7(t,e){const n={};if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["computerUse"]);r!=null&&_(n,["computerUse"],r);const i=v(t,["fileSearch"]);i!=null&&_(n,["fileSearch"],i);const s=v(t,["codeExecution"]);if(s!=null&&_(n,["codeExecution"],s),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>y)),_(n,["functionDeclarations"],g)}const u=v(t,["googleMaps"]);u!=null&&_(n,["googleMaps"],C7(u));const c=v(t,["googleSearch"]);c!=null&&_(n,["googleSearch"],N7(c));const f=v(t,["googleSearchRetrieval"]);f!=null&&_(n,["googleSearchRetrieval"],f);const d=v(t,["urlContext"]);return d!=null&&_(n,["urlContext"],d),n}function AC(t,e){const n={},r=v(t,["retrieval"]);r!=null&&_(n,["retrieval"],r);const i=v(t,["computerUse"]);if(i!=null&&_(n,["computerUse"],i),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=v(t,["codeExecution"]);s!=null&&_(n,["codeExecution"],s);const l=v(t,["enterpriseWebSearch"]);l!=null&&_(n,["enterpriseWebSearch"],l);const u=v(t,["functionDeclarations"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(m=>t7(m))),_(n,["functionDeclarations"],y)}const c=v(t,["googleMaps"]);c!=null&&_(n,["googleMaps"],c);const f=v(t,["googleSearch"]);f!=null&&_(n,["googleSearch"],f);const d=v(t,["googleSearchRetrieval"]);d!=null&&_(n,["googleSearchRetrieval"],d);const g=v(t,["urlContext"]);return g!=null&&_(n,["urlContext"],g),n}function e9(t,e){const n={},r=v(t,["baseModel"]);r!=null&&_(n,["baseModel"],r);const i=v(t,["createTime"]);i!=null&&_(n,["createTime"],i);const s=v(t,["updateTime"]);return s!=null&&_(n,["updateTime"],s),n}function t9(t,e){const n={},r=v(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&_(n,["baseModel"],r);const i=v(t,["createTime"]);i!=null&&_(n,["createTime"],i);const s=v(t,["updateTime"]);return s!=null&&_(n,["updateTime"],s),n}function n9(t,e,n){const r={},i=v(t,["displayName"]);e!==void 0&&i!=null&&_(e,["displayName"],i);const s=v(t,["description"]);e!==void 0&&s!=null&&_(e,["description"],s);const l=v(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&_(e,["defaultCheckpointId"],l),r}function r9(t,e,n){const r={},i=v(t,["displayName"]);e!==void 0&&i!=null&&_(e,["displayName"],i);const s=v(t,["description"]);e!==void 0&&s!=null&&_(e,["description"],s);const l=v(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&_(e,["defaultCheckpointId"],l),r}function i9(t,e,n){const r={},i=v(e,["model"]);i!=null&&_(r,["_url","name"],wr(t,i));const s=v(e,["config"]);return s!=null&&n9(s,r),r}function s9(t,e,n){const r={},i=v(e,["model"]);i!=null&&_(r,["_url","model"],wr(t,i));const s=v(e,["config"]);return s!=null&&r9(s,r),r}function o9(t,e,n){const r={},i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&_(e,["parameters","storageUri"],i);const s=v(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&_(e,["parameters","safetySetting"],s);const l=v(t,["personGeneration"]);e!==void 0&&l!=null&&_(e,["parameters","personGeneration"],l);const u=v(t,["includeRaiReason"]);e!==void 0&&u!=null&&_(e,["parameters","includeRaiReason"],u);const c=v(t,["outputMimeType"]);e!==void 0&&c!=null&&_(e,["parameters","outputOptions","mimeType"],c);const f=v(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&_(e,["parameters","outputOptions","compressionQuality"],f);const d=v(t,["enhanceInputImage"]);e!==void 0&&d!=null&&_(e,["parameters","upscaleConfig","enhanceInputImage"],d);const g=v(t,["imagePreservationFactor"]);e!==void 0&&g!=null&&_(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const y=v(t,["labels"]);e!==void 0&&y!=null&&_(e,["labels"],y);const m=v(t,["numberOfImages"]);e!==void 0&&m!=null&&_(e,["parameters","sampleCount"],m);const x=v(t,["mode"]);return e!==void 0&&x!=null&&_(e,["parameters","mode"],x),r}function a9(t,e,n){const r={},i=v(e,["model"]);i!=null&&_(r,["_url","model"],wr(t,i));const s=v(e,["image"]);s!=null&&_(r,["instances[0]","image"],Za(s));const l=v(e,["upscaleFactor"]);l!=null&&_(r,["parameters","upscaleConfig","upscaleFactor"],l);const u=v(e,["config"]);return u!=null&&o9(u,r),r}function l9(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=v(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Gg(l))),_(n,["generatedImages"],s)}return n}function u9(t,e){const n={},r=v(t,["uri"]);r!=null&&_(n,["uri"],r);const i=v(t,["encodedVideo"]);i!=null&&_(n,["videoBytes"],_c(i));const s=v(t,["encoding"]);return s!=null&&_(n,["mimeType"],s),n}function c9(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&_(n,["uri"],r);const i=v(t,["bytesBase64Encoded"]);i!=null&&_(n,["videoBytes"],_c(i));const s=v(t,["mimeType"]);return s!=null&&_(n,["mimeType"],s),n}function f9(t,e){const n={},r=v(t,["image"]);r!=null&&_(n,["_self"],Za(r));const i=v(t,["maskMode"]);return i!=null&&_(n,["maskMode"],i),n}function h9(t,e){const n={},r=v(t,["image"]);r!=null&&_(n,["image"],jg(r));const i=v(t,["referenceType"]);return i!=null&&_(n,["referenceType"],i),n}function d9(t,e){const n={},r=v(t,["image"]);r!=null&&_(n,["image"],Za(r));const i=v(t,["referenceType"]);return i!=null&&_(n,["referenceType"],i),n}function SC(t,e){const n={},r=v(t,["uri"]);r!=null&&_(n,["uri"],r);const i=v(t,["videoBytes"]);i!=null&&_(n,["encodedVideo"],_c(i));const s=v(t,["mimeType"]);return s!=null&&_(n,["encoding"],s),n}function xC(t,e){const n={},r=v(t,["uri"]);r!=null&&_(n,["gcsUri"],r);const i=v(t,["videoBytes"]);i!=null&&_(n,["bytesBase64Encoded"],_c(i));const s=v(t,["mimeType"]);return s!=null&&_(n,["mimeType"],s),n}function p9(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&_(e,["displayName"],r),n}function m9(t){const e={},n=v(t,["config"]);return n!=null&&p9(n,e),e}function g9(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&_(e,["_query","force"],r),n}function y9(t){const e={},n=v(t,["name"]);n!=null&&_(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&g9(r,e),e}function v9(t){const e={},n=v(t,["name"]);return n!=null&&_(e,["_url","name"],n),e}function w9(t,e){const n={},r=v(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),_(e,["customMetadata"],s)}const i=v(t,["chunkingConfig"]);return e!==void 0&&i!=null&&_(e,["chunkingConfig"],i),n}function _9(t){const e={},n=v(t,["name"]);n!=null&&_(e,["name"],n);const r=v(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=v(t,["done"]);i!=null&&_(e,["done"],i);const s=v(t,["error"]);s!=null&&_(e,["error"],s);const l=v(t,["response"]);return l!=null&&_(e,["response"],E9(l)),e}function b9(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&_(e,["_url","file_search_store_name"],n);const r=v(t,["fileName"]);r!=null&&_(e,["fileName"],r);const i=v(t,["config"]);return i!=null&&w9(i,e),e}function E9(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&_(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&_(e,["documentName"],i),e}function A9(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function S9(t){const e={},n=v(t,["config"]);return n!=null&&A9(n,e),e}function x9(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=v(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),_(e,["fileSearchStores"],s)}return e}function TC(t,e){const n={},r=v(t,["mimeType"]);e!==void 0&&r!=null&&_(e,["mimeType"],r);const i=v(t,["displayName"]);e!==void 0&&i!=null&&_(e,["displayName"],i);const s=v(t,["customMetadata"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>c)),_(e,["customMetadata"],u)}const l=v(t,["chunkingConfig"]);return e!==void 0&&l!=null&&_(e,["chunkingConfig"],l),n}function T9(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&_(e,["_url","file_search_store_name"],n);const r=v(t,["config"]);return r!=null&&TC(r,e),e}function C9(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}const N9="Content-Type",I9="X-Server-Timeout",R9="User-Agent",D2="x-goog-api-client",k9="1.41.0",L9=`google-genai-sdk/${k9}`,D9="v1beta1",P9="v1beta",M9=5,O9=[408,429,500,502,503,504];class F9{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const u=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!u?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:D9}else{if(!this.clientOptions.apiKey)throw new np({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:P9,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===C2.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))i.searchParams.append(l,String(u));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const s=new AbortController,l=s.signal;if(n.timeout&&n?.timeout>0){const u=setTimeout(()=>s.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=l}return n&&n.extraBody!==null&&U9(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await KA(i),new N2(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await KA(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Ka(this,arguments,function*(){var r;const i=(r=e?.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:d}=yield Cn(i.read());if(f){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=s.decode(d,{stream:!0});try{const x=JSON.parse(g);if("error"in x){const S=JSON.parse(JSON.stringify(x.error)),R=S.status,E=S.code,M=`got status: ${R}. ${JSON.stringify(x)}`;if(E>=400&&E<600)throw new np({message:M,status:E})}}catch(x){if(x.name==="ApiError")throw x}l+=g;let y=-1,m=0;for(;;){y=-1,m=0;for(const R of c){const E=l.indexOf(R);E!==-1&&(y===-1||E<y)&&(y=E,m=R.length)}if(y===-1)break;const x=l.substring(0,y);l=l.substring(y+m);const S=x.trim();if(S.startsWith(u)){const R=S.substring(u.length).trim();try{const E=new Response(R,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield Cn(new N2(E))}catch(E){throw new Error(`exception parsing stream chunk ${R}. ${E}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){var r;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(e,n);const i=this.clientOptions.httpOptions.retryOptions;return CL(async()=>{const l=await fetch(e,n);if(l.ok)return l;throw O9.includes(l.status)?new Error(`Retryable HTTP Error: ${l.statusText}`):new iC(`Non-retryable exception ${l.statusText} sending request`)},{retries:((r=i.attempts)!==null&&r!==void 0?r:M9)-1})}getDefaultHeaders(){const e={},n=L9+" "+this.clientOptions.userAgentExtra;return e[R9]=n,e[D2]=n,e[N9]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(I9,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,l=await s.stat(e);i.sizeBytes=String(l.size);const u=(r=n?.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},f=this.getFileName(e),d=Bt("upload/v1beta/files",c._url),g=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,f,c,n?.httpOptions);return s.upload(e,g,this)}async uploadFileToFileSearchStore(e,n,r){var i;const s=this.clientOptions.uploader,l=await s.stat(n),u=String(l.size),c=(i=r?.mimeType)!==null&&i!==void 0?i:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),g={};r!=null&&TC(r,g);const y=await this.fetchUploadUrl(f,u,c,d,g,r?.httpOptions);return s.uploadToFileSearchStore(n,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,s,l){var u;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:c});if(!f||!f?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(u=f?.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function KA(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new np({message:i,status:n}):new Error(i)}}function U9(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,l){const u=Object.assign({},s);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const f=l[c],d=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?u[c]=r(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const i=r(n,e);t.body=JSON.stringify(i)}const B9="mcp_used/unknown";let V9=!1;function CC(t){for(const e of t)if(q9(e)||typeof e=="object"&&"inputSchema"in e)return!0;return V9}function NC(t){var e;const n=(e=t[D2])!==null&&e!==void 0?e:"";t[D2]=(n+` ${B9}`).trimStart()}function q9(t){return t!==null&&typeof t=="object"&&t instanceof Ow}function z9(t){return Ka(this,arguments,function*(n,r=100){let i,s=0;for(;s<r;){const l=yield Cn(n.listTools({cursor:i}));for(const u of l.tools)yield yield Cn(u),s++;if(!l.nextCursor)break;i=l.nextCursor}})}class Ow{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Ow(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},l=[];for(const d of this.mcpClients)try{for(var u=!0,c=(n=void 0,Ya(z9(d))),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const g=i;l.push(g);const y=g.name;if(s[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);s[y]=d}}catch(g){n={error:g}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),mD(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}async function H9(t,e,n){const r=new aD;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class G9{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),l=W9(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const d=new Promise(P=>{f=P}),g=e.callbacks,y=function(){f({})},m=this.apiClient,x={onopen:y,onmessage:P=>{H9(m,g.onmessage,P)},onerror:(n=g?.onerror)!==null&&n!==void 0?n:function(P){},onclose:(r=g?.onclose)!==null&&r!==void 0?r:function(P){}},S=this.webSocketFactory.create(c,$9(l),x);S.connect(),await d;const M={setup:{model:wr(this.apiClient,e.model)}};return S.send(JSON.stringify(M)),new j9(S,this.apiClient)}}class j9{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=pM(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=dM(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(hh.PLAY)}pause(){this.sendPlaybackControl(hh.PAUSE)}stop(){this.sendPlaybackControl(hh.STOP)}resetContext(){this.sendPlaybackControl(hh.RESET_CONTEXT)}close(){this.conn.close()}}function $9(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function W9(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}const K9="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Y9(t,e,n){const r=new oD;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const l=yM(s);Object.assign(r,l)}else Object.assign(r,s);e(r)}class J9{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new G9(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const g=this.apiClient.getHeaders();e.config&&e.config.tools&&CC(e.config.tools)&&NC(g);const y=eO(g);if(this.apiClient.isVertexAI()){const C=this.apiClient.getProject(),X=this.apiClient.getLocation(),W=this.apiClient.getApiKey(),D=!!C&&!!X||!!W;this.apiClient.getCustomBaseUrl()&&!D?d=c:(d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y,d))}else{const C=this.apiClient.getApiKey();let X="BidiGenerateContent",W="key";C?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),X="BidiGenerateContentConstrained",W="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${X}?${W}=${C}`}let m=()=>{};const x=new Promise(C=>{m=C}),S=e.callbacks,R=function(){var C;(C=S?.onopen)===null||C===void 0||C.call(S),m({})},E=this.apiClient,M={onopen:R,onmessage:C=>{Y9(E,S.onmessage,C)},onerror:(n=S?.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=S?.onclose)!==null&&r!==void 0?r:function(C){}},P=this.webSocketFactory.create(d,Z9(y),M);P.connect(),await x;let N=wr(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&N.startsWith("publishers/")){const C=this.apiClient.getProject(),X=this.apiClient.getLocation();C&&X&&(N=`projects/${C}/locations/${X}/`+N)}let $={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[vg.AUDIO]}:e.config.responseModalities=[vg.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Q=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],V=[];for(const C of Q)if(this.isCallableTool(C)){const X=C;V.push(await X.tool())}else V.push(C);V.length>0&&(e.config.tools=V);const G={model:N,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?$=hM(this.apiClient,G):$=fM(this.apiClient,G),delete $.config,P.send(JSON.stringify($)),new Q9(P,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const X9={turnComplete:!0};class Q9{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ba(n.turns),e.isVertexAI()||(r=r.map(i=>Hg(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(K9)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},X9),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:gM(e)}:n={realtimeInput:mM(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Z9(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function eO(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}const YA=10;function JA(t){var e,n,r;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(n=t?.tools)!==null&&n!==void 0?n:[])if(yh(l)){i=!0;break}if(!i)return!0;const s=(r=t?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function yh(t){return"callTool"in t&&typeof t.callTool=="function"}function tO(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>yh(i)))!==null&&r!==void 0?r:!1}function XA(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(yh(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function QA(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}class nO extends bu{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,l,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!tO(n)||JA(n.config))return await this.generateContentInternal(c);const f=XA(n);if(f.length>0){const S=f.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let d,g;const y=ba(c.contents),m=(s=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:YA;let x=0;for(;x<m&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const S=d.candidates[0].content,R=[];for(const E of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(yh(E)){const P=await E.callTool(d.functionCalls);R.push(...P)}x++,g={role:"user",parts:R},c.contents=ba(c.contents),c.contents.push(S),c.contents.push(g),QA(c.config)&&(y.push(S),y.push(g))}return QA(c.config)&&(d.automaticFunctionCallingHistory=y),d},this.generateContentStream=async n=>{var r,i,s,l,u;if(this.maybeMoveToResponseJsonSchem(n),JA(n.config)){const g=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(g)}const c=XA(n);if(c.length>0){const g=c.map(y=>`tools[${y}]`).join(", ");throw new Error(`Incompatible tools found at ${g}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(s=(i=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(u=(l=n?.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const l=[];if(r?.generatedImages)for(const c of r.generatedImages)c&&c?.safetyAttributes&&((i=c?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=c?.safetyAttributes:l.push(c);let u;return s?u={generatedImages:l,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new ff(mu.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,l,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const l=await Promise.all(s.map(async c=>yh(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&CC(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),NC(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const l of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(yh(l)){const u=l,c=await u.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(s.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);s.set(f.name,u)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:YA;let l=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(f,d,g){return Ka(this,arguments,function*(){for(var y,m,x,S,R,E;u<s;){l&&(u++,l=!1);const $=yield Cn(f.processParamsMaybeAddMcpUsage(g)),Q=yield Cn(f.generateContentStreamInternal($)),V=[],G=[];try{for(var M=!0,P=(m=void 0,Ya(Q)),N;N=yield Cn(P.next()),y=N.done,!y;M=!0){S=N.value,M=!1;const C=S;if(yield yield Cn(C),C.candidates&&(!((R=C.candidates[0])===null||R===void 0)&&R.content)){G.push(C.candidates[0].content);for(const X of(E=C.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(u<s&&X.functionCall){if(!X.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(X.functionCall.name)){const W=yield Cn(d.get(X.functionCall.name).callTool([X.functionCall]));V.push(...W)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${X.functionCall.name}`)}}}}catch(C){m={error:C}}finally{try{!M&&!y&&(x=P.return)&&(yield Cn(x.call(P)))}finally{if(m)throw m.error}}if(V.length>0){l=!0;const C=new Dd;C.candidates=[{content:{role:"user",parts:V}}],yield yield Cn(C);const X=[];X.push(...G),X.push({role:"user",parts:V});const W=ba(g.contents).concat(X);g.contents=W}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=jA(this.apiClient,e);return u=Bt("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=WA(d),y=new Dd;return Object.assign(y,g),y})}else{const f=GA(this.apiClient,e);return u=Bt("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=$A(d),y=new Dd;return Object.assign(y,g),y})}}async generateContentStreamInternal(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=jA(this.apiClient,e);return u=Bt("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(g){return Ka(this,arguments,function*(){var y,m,x,S;try{for(var R=!0,E=Ya(g),M;M=yield Cn(E.next()),y=M.done,!y;R=!0){S=M.value,R=!1;const P=S,N=WA(yield Cn(P.json()),e);N.sdkHttpResponse={headers:P.headers};const $=new Dd;Object.assign($,N),yield yield Cn($)}}catch(P){m={error:P}}finally{try{!R&&!y&&(x=E.return)&&(yield Cn(x.call(E)))}finally{if(m)throw m.error}}})})}else{const f=GA(this.apiClient,e);return u=Bt("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),l.then(function(g){return Ka(this,arguments,function*(){var y,m,x,S;try{for(var R=!0,E=Ya(g),M;M=yield Cn(E.next()),y=M.done,!y;R=!0){S=M.value,R=!1;const P=S,N=$A(yield Cn(P.json()),e);N.sdkHttpResponse={headers:P.headers};const $=new Dd;Object.assign($,N),yield yield Cn($)}}catch(P){m={error:P}}finally{try{!R&&!y&&(x=E.return)&&(yield Cn(x.call(E)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=KM(this.apiClient,e);return u=Bt("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=JM(d),y=new CA;return Object.assign(y,g),y})}else{const f=WM(this.apiClient,e);return u=Bt("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=YM(d),y=new CA;return Object.assign(y,g),y})}}async generateImagesInternal(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=a7(this.apiClient,e);return u=Bt("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=u7(d),y=new NA;return Object.assign(y,g),y})}else{const f=o7(this.apiClient,e);return u=Bt("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=l7(d),y=new NA;return Object.assign(y,g),y})}}async editImageInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const u=HM(this.apiClient,e);return s=Bt("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const f=GM(c),d=new KL;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const u=a9(this.apiClient,e);return s=Bt("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const f=l9(c),d=new YL;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const u=z7(this.apiClient,e);return s=Bt("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=H7(c),d=new JL;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const u=Y7(this.apiClient,e);return s=Bt("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=J7(c),d=new XL;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=T7(this.apiClient,e);return u=Bt("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>L2(d))}else{const f=x7(this.apiClient,e);return u=Bt("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>k2(d))}}async listInternal(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=M7(this.apiClient,e);return u=Bt("{models_url}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=F7(d),y=new IA;return Object.assign(y,g),y})}else{const f=P7(this.apiClient,e);return u=Bt("{models_url}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=O7(d),y=new IA;return Object.assign(y,g),y})}}async update(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=s9(this.apiClient,e);return u=Bt("{model}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>L2(d))}else{const f=i9(this.apiClient,e);return u=Bt("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>k2(d))}}async delete(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=BM(this.apiClient,e);return u=Bt("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=qM(d),y=new RA;return Object.assign(y,g),y})}else{const f=UM(this.apiClient,e);return u=Bt("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=VM(d),y=new RA;return Object.assign(y,g),y})}}async countTokens(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=MM(this.apiClient,e);return u=Bt("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=FM(d),y=new kA;return Object.assign(y,g),y})}else{const f=PM(this.apiClient,e);return u=Bt("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=OM(d),y=new kA;return Object.assign(y,g),y})}}async computeTokens(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const u=CM(this.apiClient,e);return s=Bt("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const f=NM(c),d=new QL;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=m7(this.apiClient,e);return u=Bt("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l.then(d=>{const g=d7(d),y=new wg;return Object.assign(y,g),y})}else{const f=p7(this.apiClient,e);return u=Bt("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>{const g=h7(d),y=new wg;return Object.assign(y,g),y})}}}class rO extends bu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=zL(e);return u=Bt("{operationName}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),l}else{const f=qL(e);return u=Bt("{operationName}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const u=PL(e);return s=Bt("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}function iO(t){const e={},n=v(t,["data"]);if(n!=null&&_(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function sO(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>pO(s))),_(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&_(e,["role"],r),e}function oO(t,e,n){const r={},i=v(e,["expireTime"]);n!==void 0&&i!=null&&_(n,["expireTime"],i);const s=v(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&_(n,["newSessionExpireTime"],s);const l=v(e,["uses"]);n!==void 0&&l!=null&&_(n,["uses"],l);const u=v(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&_(n,["bidiGenerateContentSetup"],dO(t,u));const c=v(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&_(n,["fieldMask"],c),r}function aO(t,e){const n={},r=v(e,["config"]);return r!=null&&_(n,["config"],oO(t,r,n)),n}function lO(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function uO(t){const e={},n=v(t,["id"]);n!=null&&_(e,["id"],n);const r=v(t,["args"]);r!=null&&_(e,["args"],r);const i=v(t,["name"]);if(i!=null&&_(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cO(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function fO(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function hO(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&_(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const s=v(t,["temperature"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","temperature"],s);const l=v(t,["topP"]);e!==void 0&&l!=null&&_(e,["setup","generationConfig","topP"],l);const u=v(t,["topK"]);e!==void 0&&u!=null&&_(e,["setup","generationConfig","topK"],u);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&_(e,["setup","generationConfig","mediaResolution"],f);const d=v(t,["seed"]);e!==void 0&&d!=null&&_(e,["setup","generationConfig","seed"],d);const g=v(t,["speechConfig"]);e!==void 0&&g!=null&&_(e,["setup","generationConfig","speechConfig"],Mw(g));const y=v(t,["thinkingConfig"]);e!==void 0&&y!=null&&_(e,["setup","generationConfig","thinkingConfig"],y);const m=v(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],m);const x=v(t,["systemInstruction"]);e!==void 0&&x!=null&&_(e,["setup","systemInstruction"],sO(Xs(x)));const S=v(t,["tools"]);if(e!==void 0&&S!=null){let Q=qh(S);Array.isArray(Q)&&(Q=Q.map(V=>gO(Vh(V)))),_(e,["setup","tools"],Q)}const R=v(t,["sessionResumption"]);e!==void 0&&R!=null&&_(e,["setup","sessionResumption"],mO(R));const E=v(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&_(e,["setup","inputAudioTranscription"],E);const M=v(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&_(e,["setup","outputAudioTranscription"],M);const P=v(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&_(e,["setup","realtimeInputConfig"],P);const N=v(t,["contextWindowCompression"]);e!==void 0&&N!=null&&_(e,["setup","contextWindowCompression"],N);const $=v(t,["proactivity"]);if(e!==void 0&&$!=null&&_(e,["setup","proactivity"],$),v(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function dO(t,e){const n={},r=v(e,["model"]);r!=null&&_(n,["setup","model"],wr(t,r));const i=v(e,["config"]);return i!=null&&_(n,["config"],hO(i,n)),n}function pO(t){const e={},n=v(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const s=v(t,["fileData"]);s!=null&&_(e,["fileData"],lO(s));const l=v(t,["functionCall"]);l!=null&&_(e,["functionCall"],uO(l));const u=v(t,["functionResponse"]);u!=null&&_(e,["functionResponse"],u);const c=v(t,["inlineData"]);c!=null&&_(e,["inlineData"],iO(c));const f=v(t,["text"]);f!=null&&_(e,["text"],f);const d=v(t,["thought"]);d!=null&&_(e,["thought"],d);const g=v(t,["thoughtSignature"]);g!=null&&_(e,["thoughtSignature"],g);const y=v(t,["videoMetadata"]);return y!=null&&_(e,["videoMetadata"],y),e}function mO(t){const e={},n=v(t,["handle"]);if(n!=null&&_(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function gO(t){const e={};if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(t,["computerUse"]);n!=null&&_(e,["computerUse"],n);const r=v(t,["fileSearch"]);r!=null&&_(e,["fileSearch"],r);const i=v(t,["codeExecution"]);if(i!=null&&_(e,["codeExecution"],i),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=v(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(g=>g)),_(e,["functionDeclarations"],d)}const l=v(t,["googleMaps"]);l!=null&&_(e,["googleMaps"],cO(l));const u=v(t,["googleSearch"]);u!=null&&_(e,["googleSearch"],fO(u));const c=v(t,["googleSearchRetrieval"]);c!=null&&_(e,["googleSearchRetrieval"],c);const f=v(t,["urlContext"]);return f!=null&&_(e,["urlContext"],f),e}function yO(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function vO(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=yO(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)s?t.fieldMask=s:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>l.includes(f)?`generationConfig.${f}`:f));const c=[];s&&c.push(s),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class wO extends bu{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=aO(this.apiClient,e);s=Bt("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=vO(u,e.config);return i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}function _O(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&_(e,["_query","force"],r),n}function bO(t){const e={},n=v(t,["name"]);n!=null&&_(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&_O(r,e),e}function EO(t){const e={},n=v(t,["name"]);return n!=null&&_(e,["_url","name"],n),e}function AO(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function SO(t){const e={},n=v(t,["parent"]);n!=null&&_(e,["_url","parent"],n);const r=v(t,["config"]);return r!=null&&AO(r,e),e}function xO(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=v(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),_(e,["documents"],s)}return e}class TO extends bu{constructor(e){super(),this.apiClient=e,this.list=async n=>new ff(mu.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=EO(e);return s=Bt("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=bO(e);i=Bt("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=SO(e);return s=Bt("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=xO(c),d=new ZL;return Object.assign(d,f),d})}}}class CO extends bu{constructor(e,n=new TO(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new ff(mu.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=m9(e);return s=Bt("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=v9(e);return s=Bt("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=y9(e);i=Bt("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=S9(e);return s=Bt("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=x9(c),d=new eD;return Object.assign(d,f),d})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=T9(e);return s=Bt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=C9(c),d=new tD;return Object.assign(d,f),d})}}async importFile(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=b9(e);return s=Bt("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=_9(c),d=new Rw;return Object.assign(d,f),d})}}}let IC=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return IC=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const NO=()=>IC();function P2(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const M2=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Aa extends Error{}class co extends Aa{constructor(e,n,r,i){super(`${co.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new $g({message:r,cause:M2(n)});const s=n;return e===400?new kC(e,s,r,i):e===401?new LC(e,s,r,i):e===403?new DC(e,s,r,i):e===404?new PC(e,s,r,i):e===409?new MC(e,s,r,i):e===422?new OC(e,s,r,i):e===429?new FC(e,s,r,i):e>=500?new UC(e,s,r,i):new co(e,s,r,i)}}class O2 extends co{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class $g extends co{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class RC extends $g{constructor({message:e}={}){super({message:e??"Request timed out."})}}class kC extends co{}class LC extends co{}class DC extends co{}class PC extends co{}class MC extends co{}class OC extends co{}class FC extends co{}class UC extends co{}const IO=/^[a-z][a-z0-9+.-]*:/i,RO=t=>IO.test(t);let F2=t=>(F2=Array.isArray,F2(t));const kO=F2;let LO=kO;const ZA=LO;function DO(t){if(!t)return!0;for(const e in t)return!1;return!0}function PO(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const MO=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Aa(`${t} must be an integer`);if(e<0)throw new Aa(`${t} must be a positive integer`);return e},OO=t=>{try{return JSON.parse(t)}catch{return}};const FO=t=>new Promise(e=>setTimeout(e,t));const ih="0.0.1";function UO(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const BO=()=>{var t,e,n,r,i;const s=UO();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ih,"X-Stainless-OS":tS(Deno.build.os),"X-Stainless-Arch":eS(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ih,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ih,"X-Stainless-OS":tS((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":eS((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const l=VO();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ih,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ih,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function VO(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,l=r[3]||0;return{browser:e,version:`${i}.${s}.${l}`}}}return null}const eS=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",tS=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Am;const qO=()=>Am??(Am=BO());function zO(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function BC(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function HO(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return BC({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function VC(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function GO(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}const jO=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});const qC=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function $y(t,e,n){return qC(),new File(t,e??"unknown_file",n)}function $O(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const WO=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";const zC=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",KO=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&zC(t),YO=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function JO(t,e,n){if(qC(),t=await t,KO(t))return t instanceof File?t:$y([await t.arrayBuffer()],t.name);if(YO(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),$y(await U2(i),e,n)}const r=await U2(t);if(e||(e=$O(t)),!n?.type){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return $y(r,e,n)}async function U2(t){var e,n,r,i,s;let l=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)l.push(t);else if(zC(t))l.push(t instanceof Blob?t:await t.arrayBuffer());else if(WO(t))try{for(var u=!0,c=Ya(t),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const d=i;l.push(...await U2(d))}}catch(d){n={error:d}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const d=(s=t?.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${XO(t)}`)}return l}function XO(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class HC{constructor(e){this._client=e}}HC._key=[];function GC(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const nS=Object.freeze(Object.create(null)),QO=(t=GC)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],l=n.reduce((d,g,y)=>{var m,x,S;/[?#]/.test(g)&&(i=!0);const R=r[y];let E=(i?encodeURIComponent:t)(""+R);return y!==r.length&&(R==null||typeof R=="object"&&R.toString===((S=Object.getPrototypeOf((x=Object.getPrototypeOf((m=R.hasOwnProperty)!==null&&m!==void 0?m:nS))!==null&&x!==void 0?x:nS))===null||S===void 0?void 0:S.toString))&&(E=R+"",s.push({start:d.length+g.length,length:E.length,error:`Value of type ${Object.prototype.toString.call(R).slice(8,-1)} is not a valid path parameter`})),d+g+(y===r.length?"":E)},""),u=l.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(u))!==null;)s.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(s.sort((d,g)=>d.start-g.start),s.length>0){let d=0;const g=s.reduce((y,m)=>{const x=" ".repeat(m.start-d),S="^".repeat(m.length);return d=m.start+m.length,y+x+S},"");throw new Aa(`Path parameters result in path with invalid segments:
${s.map(y=>y.error).join(`
`)}
${l}
${g}`)}return l}),Sm=QO(GC);class jC extends HC{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,s=bg(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new Aa("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new Aa("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Sm`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Sm`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Sm`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const s=n??{},{api_version:l=this._client.apiVersion}=s,u=bg(s,["api_version"]);return this._client.get(Sm`/${l}/interactions/${e}`,Object.assign(Object.assign({query:u},r),{stream:(i=n?.stream)!==null&&i!==void 0?i:!1}))}}jC._key=Object.freeze(["interactions"]);class $C extends jC{}function ZO(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let xm;function Fw(t){let e;return(xm??(e=new globalThis.TextEncoder,xm=e.encode.bind(e)))(t)}let Tm;function rS(t){let e;return(Tm??(e=new globalThis.TextDecoder,Tm=e.decode.bind(e)))(t)}class Wg{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Fw(e):e;this.buffer=ZO([this.buffer,n]);const r=[];let i;for(;(i=eF(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(rS(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,l=rS(this.buffer.subarray(0,s));r.push(l),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Wg.NEWLINE_CHARS=new Set([`
`,"\r"]);Wg.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function eF(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function tF(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}const Eg={off:0,error:200,warn:300,info:400,debug:500},iS=(t,e,n)=>{if(t){if(PO(Eg,t))return t;lo(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Eg))}`)}};function Hd(){}function Cm(t,e,n){return!e||Eg[t]>Eg[n]?Hd:e[t].bind(e)}const nF={error:Hd,warn:Hd,info:Hd,debug:Hd};let sS=new WeakMap;function lo(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return nF;const i=sS.get(n);if(i&&i[0]===r)return i[1];const s={error:Cm("error",n,r),warn:Cm("warn",n,r),info:Cm("info",n,r),debug:Cm("debug",n,r)};return sS.set(n,[r,s]),s}const $c=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);class dh{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const s=r?lo(r):console;function l(){return Ka(this,arguments,function*(){var c,f,d,g;if(i)throw new Aa("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let y=!1;try{try{for(var m=!0,x=Ya(rF(e,n)),S;S=yield Cn(x.next()),c=S.done,!c;m=!0){g=S.value,m=!1;const R=g;if(!y)if(R.data.startsWith("[DONE]")){y=!0;continue}else try{yield yield Cn(JSON.parse(R.data))}catch(E){throw s.error("Could not parse message into JSON:",R.data),s.error("From chunk:",R.raw),E}}}catch(R){f={error:R}}finally{try{!m&&!c&&(d=x.return)&&(yield Cn(d.call(x)))}finally{if(f)throw f.error}}y=!0}catch(R){if(P2(R))return yield Cn(void 0);throw R}finally{y||n.abort()}})}return new dh(l,n,r)}static fromReadableStream(e,n,r){let i=!1;function s(){return Ka(this,arguments,function*(){var c,f,d,g;const y=new Wg,m=VC(e);try{for(var x=!0,S=Ya(m),R;R=yield Cn(S.next()),c=R.done,!c;x=!0){g=R.value,x=!1;const E=g;for(const M of y.decode(E))yield yield Cn(M)}}catch(E){f={error:E}}finally{try{!x&&!c&&(d=S.return)&&(yield Cn(d.call(S)))}finally{if(f)throw f.error}}for(const E of y.flush())yield yield Cn(E)})}function l(){return Ka(this,arguments,function*(){var c,f,d,g;if(i)throw new Aa("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let y=!1;try{try{for(var m=!0,x=Ya(s()),S;S=yield Cn(x.next()),c=S.done,!c;m=!0){g=S.value,m=!1;const R=g;y||R&&(yield yield Cn(JSON.parse(R)))}}catch(R){f={error:R}}finally{try{!m&&!c&&(d=x.return)&&(yield Cn(d.call(x)))}finally{if(f)throw f.error}}y=!0}catch(R){if(P2(R))return yield Cn(void 0);throw R}finally{y||n.abort()}})}return new dh(l,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const l=r.next();e.push(l),n.push(l)}return s.shift()}});return[new dh(()=>i(e),this.controller,this.client),new dh(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return BC({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const l=Fw(JSON.stringify(i)+`
`);r.enqueue(l)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function rF(t,e){return Ka(this,arguments,function*(){var r,i,s,l;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Aa("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Aa("Attempted to iterate over a response with no body");const u=new sF,c=new Wg,f=VC(t.body);try{for(var d=!0,g=Ya(iF(f)),y;y=yield Cn(g.next()),r=y.done,!r;d=!0){l=y.value,d=!1;const m=l;for(const x of c.decode(m)){const S=u.decode(x);S&&(yield yield Cn(S))}}}catch(m){i={error:m}}finally{try{!d&&!r&&(s=g.return)&&(yield Cn(s.call(g)))}finally{if(i)throw i.error}}for(const m of c.flush()){const x=u.decode(m);x&&(yield yield Cn(x))}})}function iF(t){return Ka(this,arguments,function*(){var n,r,i,s;let l=new Uint8Array;try{for(var u=!0,c=Ya(t),f;f=yield Cn(c.next()),n=f.done,!n;u=!0){s=f.value,u=!1;const d=s;if(d==null)continue;const g=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?Fw(d):d;let y=new Uint8Array(l.length+g.length);y.set(l),y.set(g,l.length),l=y;let m;for(;(m=tF(l))!==-1;)yield yield Cn(l.slice(0,m)),l=l.slice(m)}}catch(d){r={error:d}}finally{try{!u&&!n&&(i=c.return)&&(yield Cn(i.call(c)))}finally{if(r)throw r.error}}l.length>0&&(yield yield Cn(l))})}class sF{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=oF(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function oF(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function aF(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,l=await(async()=>{var u;if(e.options.stream)return lo(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):dh.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(u=c?.split(";")[0])===null||u===void 0?void 0:u.trim();return f?.includes("application/json")||f?.endsWith("+json")?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return lo(t).debug(`[${r}] response parsed`,$c({retryOfRequestLogID:i,url:n.url,status:n.status,body:l,durationMs:Date.now()-s})),l}class Uw extends Promise{constructor(e,n,r=aF){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Uw(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}const WC=Symbol("brand.privateNullableHeaders");function*lF(t){if(!t)return;if(WC in t){const{values:r,nulls:i}=t;yield*r.entries();for(const s of i)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():ZA(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=ZA(r[1])?r[1]:[r[1]];let l=!1;for(const u of s)u!==void 0&&(e&&!l&&(l=!0,yield[i,null]),yield[i,u])}}const Pd=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[s,l]of lF(r)){const u=s.toLowerCase();i.has(u)||(e.delete(s),i.add(u)),l===null?(e.delete(s),n.add(u)):(e.append(s,l),n.delete(u))}}return{[WC]:!0,values:e,nulls:n}};const Wy=t=>{var e,n,r,i,s,l;if(typeof globalThis.process<"u")return(r=(n=(e=NL)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(l=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,t))===null||l===void 0?void 0:l.trim()};var KC;class Kg{constructor(e){var n,r,i,s,l,u,c,{baseURL:f=Wy("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=Wy("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:g="v1beta"}=e,y=bg(e,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:d,apiVersion:g},y),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:Kg.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;const x="warn";this.logLevel=x,this.logLevel=(l=(s=iS(m.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:iS(Wy("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:x,this.fetchOptions=m.fetchOptions,this.maxRetries=(u=m.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=m.fetch)!==null&&c!==void 0?c:zO(),this.encoder=jO,this._options=m,this.apiKey=d,this.apiVersion=g,this.clientAdapter=m.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Pd([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Pd([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Pd([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Aa(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ih}`}defaultIdempotencyKey(){return`stainless-node-retry-${NO()}`}makeStatusError(e,n,r,i){return co.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,s=RO(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return DO(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new Uw(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,s,l;const u=await e,c=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:f,url:d,timeout:g}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(f,{url:d,options:u});const y="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,x=Date.now();if(lo(this).debug(`[${y}] sending request`,$c({retryOfRequestLogID:r,method:u.method,url:d,options:u,headers:f.headers})),!((s=u.signal)===null||s===void 0)&&s.aborted)throw new O2;const S=new AbortController,R=await this.fetchWithTimeout(d,f,g,S).catch(M2),E=Date.now();if(R instanceof globalThis.Error){const P=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new O2;const N=P2(R)||/timed? ?out/i.test(String(R)+("cause"in R?String(R.cause):""));if(n)return lo(this).info(`[${y}] connection ${N?"timed out":"failed"} - ${P}`),lo(this).debug(`[${y}] connection ${N?"timed out":"failed"} (${P})`,$c({retryOfRequestLogID:r,url:d,durationMs:E-x,message:R.message})),this.retryRequest(u,n,r??y);throw lo(this).info(`[${y}] connection ${N?"timed out":"failed"} - error; no more retries left`),lo(this).debug(`[${y}] connection ${N?"timed out":"failed"} (error; no more retries left)`,$c({retryOfRequestLogID:r,url:d,durationMs:E-x,message:R.message})),N?new RC:new $g({cause:R})}const M=`[${y}${m}] ${f.method} ${d} ${R.ok?"succeeded":"failed"} with status ${R.status} in ${E-x}ms`;if(!R.ok){const P=await this.shouldRetry(R);if(n&&P){const C=`retrying, ${n} attempts remaining`;return await GO(R.body),lo(this).info(`${M} - ${C}`),lo(this).debug(`[${y}] response error (${C})`,$c({retryOfRequestLogID:r,url:R.url,status:R.status,headers:R.headers,durationMs:E-x})),this.retryRequest(u,n,r??y,R.headers)}const N=P?"error; no more retries left":"error; not retryable";lo(this).info(`${M} - ${N}`);const $=await R.text().catch(C=>M2(C).message),Q=OO($),V=Q?void 0:$;throw lo(this).debug(`[${y}] response error (${N})`,$c({retryOfRequestLogID:r,url:R.url,status:R.status,headers:R.headers,message:V,durationMs:Date.now()-x})),this.makeStatusError(R.status,Q,V,R.headers)}return lo(this).info(M),lo(this).debug(`[${y}] response start`,$c({retryOfRequestLogID:r,url:R.url,status:R.status,headers:R.headers,durationMs:E-x})),{response:R,options:u,controller:S,requestLogID:y,retryOfRequestLogID:r,startTime:x}}async fetchWithTimeout(e,n,r,i){const s=n||{},{signal:l,method:u}=s,c=bg(s,["signal","method"]),f=this._makeAbort(i);l&&l.addEventListener("abort",f,{once:!0});const d=setTimeout(f,r),g=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,y=Object.assign(Object.assign(Object.assign({signal:i.signal},g?{duplex:"half"}:{}),{method:"GET"}),c);u&&(y.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,y)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var s;let l;const u=i?.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(l=f)}const c=i?.get("retry-after");if(c&&!l){const f=parseFloat(c);Number.isNaN(f)?l=Date.parse(c)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){const f=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,f)}return await FO(l),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,l=Math.min(.5*Math.pow(2,s),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,s;const l=Object.assign({},e),{method:u,path:c,query:f,defaultBaseURL:d}=l,g=this.buildURL(c,f,d);"timeout"in l&&MO("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:y,body:m}=this.buildBody({options:l}),x=await this.buildHeaders({options:e,method:u,bodyHeaders:y,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:x},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=l.fetchOptions)!==null&&s!==void 0?s:{}),url:g,timeout:l.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const l=await this.authHeaders(e);let u=Pd([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),qO()),this._options.defaultHeaders,r,e.headers,l]);return this.validateHeaders(u),u.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Pd([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:HO(e)}:this.encoder({body:e,headers:r})}}Kg.DEFAULT_TIMEOUT=6e4;class As extends Kg{constructor(){super(...arguments),this.interactions=new $C(this)}}KC=As;As.GeminiNextGenAPIClient=KC;As.GeminiNextGenAPIClientError=Aa;As.APIError=co;As.APIConnectionError=$g;As.APIConnectionTimeoutError=RC;As.APIUserAbortError=O2;As.NotFoundError=PC;As.ConflictError=MC;As.RateLimitError=FC;As.BadRequestError=kC;As.AuthenticationError=LC;As.InternalServerError=UC;As.PermissionDeniedError=DC;As.UnprocessableEntityError=OC;As.toFile=JO;As.Interactions=$C;function uF(t,e){const n={},r=v(t,["name"]);return r!=null&&_(n,["_url","name"],r),n}function cF(t,e){const n={},r=v(t,["name"]);return r!=null&&_(n,["_url","name"],r),n}function fF(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&_(n,["sdkHttpResponse"],r),n}function hF(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&_(n,["sdkHttpResponse"],r),n}function dF(t,e,n){const r={};if(v(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&_(e,["displayName"],i),v(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=v(t,["epochCount"]);e!==void 0&&s!=null&&_(e,["tuningTask","hyperparameters","epochCount"],s);const l=v(t,["learningRateMultiplier"]);if(l!=null&&_(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),v(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(v(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(v(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const u=v(t,["batchSize"]);e!==void 0&&u!=null&&_(e,["tuningTask","hyperparameters","batchSize"],u);const c=v(t,["learningRate"]);if(e!==void 0&&c!=null&&_(e,["tuningTask","hyperparameters","learningRate"],c),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(v(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(v(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(v(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(v(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(v(t,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return r}function pF(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const Q=v(t,["validationDataset"]);e!==void 0&&Q!=null&&_(e,["supervisedTuningSpec"],Ky(Q))}else if(i==="PREFERENCE_TUNING"){const Q=v(t,["validationDataset"]);e!==void 0&&Q!=null&&_(e,["preferenceOptimizationSpec"],Ky(Q))}else if(i==="DISTILLATION"){const Q=v(t,["validationDataset"]);e!==void 0&&Q!=null&&_(e,["distillationSpec"],Ky(Q))}const s=v(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&_(e,["tunedModelDisplayName"],s);const l=v(t,["description"]);e!==void 0&&l!=null&&_(e,["description"],l);let u=v(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const Q=v(t,["epochCount"]);e!==void 0&&Q!=null&&_(e,["supervisedTuningSpec","hyperParameters","epochCount"],Q)}else if(u==="PREFERENCE_TUNING"){const Q=v(t,["epochCount"]);e!==void 0&&Q!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],Q)}else if(u==="DISTILLATION"){const Q=v(t,["epochCount"]);e!==void 0&&Q!=null&&_(e,["distillationSpec","hyperParameters","epochCount"],Q)}let c=v(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const Q=v(t,["learningRateMultiplier"]);e!==void 0&&Q!=null&&_(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],Q)}else if(c==="PREFERENCE_TUNING"){const Q=v(t,["learningRateMultiplier"]);e!==void 0&&Q!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],Q)}else if(c==="DISTILLATION"){const Q=v(t,["learningRateMultiplier"]);e!==void 0&&Q!=null&&_(e,["distillationSpec","hyperParameters","learningRateMultiplier"],Q)}let f=v(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const Q=v(t,["exportLastCheckpointOnly"]);e!==void 0&&Q!=null&&_(e,["supervisedTuningSpec","exportLastCheckpointOnly"],Q)}else if(f==="PREFERENCE_TUNING"){const Q=v(t,["exportLastCheckpointOnly"]);e!==void 0&&Q!=null&&_(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],Q)}else if(f==="DISTILLATION"){const Q=v(t,["exportLastCheckpointOnly"]);e!==void 0&&Q!=null&&_(e,["distillationSpec","exportLastCheckpointOnly"],Q)}let d=v(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const Q=v(t,["adapterSize"]);e!==void 0&&Q!=null&&_(e,["supervisedTuningSpec","hyperParameters","adapterSize"],Q)}else if(d==="PREFERENCE_TUNING"){const Q=v(t,["adapterSize"]);e!==void 0&&Q!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],Q)}else if(d==="DISTILLATION"){const Q=v(t,["adapterSize"]);e!==void 0&&Q!=null&&_(e,["distillationSpec","hyperParameters","adapterSize"],Q)}let g=v(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const Q=v(t,["tuningMode"]);e!==void 0&&Q!=null&&_(e,["supervisedTuningSpec","tuningMode"],Q)}const y=v(t,["customBaseModel"]);e!==void 0&&y!=null&&_(e,["customBaseModel"],y);let m=v(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const Q=v(t,["batchSize"]);e!==void 0&&Q!=null&&_(e,["supervisedTuningSpec","hyperParameters","batchSize"],Q)}let x=v(n,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const Q=v(t,["learningRate"]);e!==void 0&&Q!=null&&_(e,["supervisedTuningSpec","hyperParameters","learningRate"],Q)}const S=v(t,["labels"]);e!==void 0&&S!=null&&_(e,["labels"],S);const R=v(t,["beta"]);e!==void 0&&R!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","beta"],R);const E=v(t,["baseTeacherModel"]);e!==void 0&&E!=null&&_(e,["distillationSpec","baseTeacherModel"],E);const M=v(t,["tunedTeacherModelSource"]);e!==void 0&&M!=null&&_(e,["distillationSpec","tunedTeacherModelSource"],M);const P=v(t,["sftLossWeightMultiplier"]);e!==void 0&&P!=null&&_(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],P);const N=v(t,["outputUri"]);e!==void 0&&N!=null&&_(e,["outputUri"],N);const $=v(t,["encryptionSpec"]);return e!==void 0&&$!=null&&_(e,["encryptionSpec"],$),r}function mF(t,e){const n={},r=v(t,["baseModel"]);r!=null&&_(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&_(n,["preTunedModel"],i);const s=v(t,["trainingDataset"]);s!=null&&TF(s);const l=v(t,["config"]);return l!=null&&dF(l,n),n}function gF(t,e){const n={},r=v(t,["baseModel"]);r!=null&&_(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&_(n,["preTunedModel"],i);const s=v(t,["trainingDataset"]);s!=null&&CF(s,n,e);const l=v(t,["config"]);return l!=null&&pF(l,n,e),n}function yF(t,e){const n={},r=v(t,["name"]);return r!=null&&_(n,["_url","name"],r),n}function vF(t,e){const n={},r=v(t,["name"]);return r!=null&&_(n,["_url","name"],r),n}function wF(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&_(e,["_query","pageSize"],i);const s=v(t,["pageToken"]);e!==void 0&&s!=null&&_(e,["_query","pageToken"],s);const l=v(t,["filter"]);return e!==void 0&&l!=null&&_(e,["_query","filter"],l),r}function _F(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&_(e,["_query","pageSize"],i);const s=v(t,["pageToken"]);e!==void 0&&s!=null&&_(e,["_query","pageToken"],s);const l=v(t,["filter"]);return e!==void 0&&l!=null&&_(e,["_query","filter"],l),r}function bF(t,e){const n={},r=v(t,["config"]);return r!=null&&wF(r,n),n}function EF(t,e){const n={},r=v(t,["config"]);return r!=null&&_F(r,n),n}function AF(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&_(n,["nextPageToken"],i);const s=v(t,["tunedModels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>YC(u))),_(n,["tuningJobs"],l)}return n}function SF(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&_(n,["nextPageToken"],i);const s=v(t,["tuningJobs"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>B2(u))),_(n,["tuningJobs"],l)}return n}function xF(t,e){const n={},r=v(t,["name"]);r!=null&&_(n,["model"],r);const i=v(t,["name"]);return i!=null&&_(n,["endpoint"],i),n}function TF(t,e){const n={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),_(n,["examples","examples"],i)}return n}function CF(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=v(t,["gcsUri"]);e!==void 0&&l!=null&&_(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=v(t,["gcsUri"]);e!==void 0&&l!=null&&_(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(i==="DISTILLATION"){const l=v(t,["gcsUri"]);e!==void 0&&l!=null&&_(e,["distillationSpec","promptDatasetUri"],l)}let s=v(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const l=v(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&_(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(s==="PREFERENCE_TUNING"){const l=v(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&_(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(s==="DISTILLATION"){const l=v(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&_(e,["distillationSpec","promptDatasetUri"],l)}if(v(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function YC(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&_(n,["name"],i);const s=v(t,["state"]);s!=null&&_(n,["state"],fC(s));const l=v(t,["createTime"]);l!=null&&_(n,["createTime"],l);const u=v(t,["tuningTask","startTime"]);u!=null&&_(n,["startTime"],u);const c=v(t,["tuningTask","completeTime"]);c!=null&&_(n,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&_(n,["updateTime"],f);const d=v(t,["description"]);d!=null&&_(n,["description"],d);const g=v(t,["baseModel"]);g!=null&&_(n,["baseModel"],g);const y=v(t,["_self"]);return y!=null&&_(n,["tunedModel"],xF(y)),n}function B2(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&_(n,["name"],i);const s=v(t,["state"]);s!=null&&_(n,["state"],fC(s));const l=v(t,["createTime"]);l!=null&&_(n,["createTime"],l);const u=v(t,["startTime"]);u!=null&&_(n,["startTime"],u);const c=v(t,["endTime"]);c!=null&&_(n,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&_(n,["updateTime"],f);const d=v(t,["error"]);d!=null&&_(n,["error"],d);const g=v(t,["description"]);g!=null&&_(n,["description"],g);const y=v(t,["baseModel"]);y!=null&&_(n,["baseModel"],y);const m=v(t,["tunedModel"]);m!=null&&_(n,["tunedModel"],m);const x=v(t,["preTunedModel"]);x!=null&&_(n,["preTunedModel"],x);const S=v(t,["supervisedTuningSpec"]);S!=null&&_(n,["supervisedTuningSpec"],S);const R=v(t,["preferenceOptimizationSpec"]);R!=null&&_(n,["preferenceOptimizationSpec"],R);const E=v(t,["distillationSpec"]);E!=null&&_(n,["distillationSpec"],E);const M=v(t,["tuningDataStats"]);M!=null&&_(n,["tuningDataStats"],M);const P=v(t,["encryptionSpec"]);P!=null&&_(n,["encryptionSpec"],P);const N=v(t,["partnerModelTuningSpec"]);N!=null&&_(n,["partnerModelTuningSpec"],N);const $=v(t,["customBaseModel"]);$!=null&&_(n,["customBaseModel"],$);const Q=v(t,["experiment"]);Q!=null&&_(n,["experiment"],Q);const V=v(t,["labels"]);V!=null&&_(n,["labels"],V);const G=v(t,["outputUri"]);G!=null&&_(n,["outputUri"],G);const C=v(t,["pipelineJob"]);C!=null&&_(n,["pipelineJob"],C);const X=v(t,["serviceAccount"]);X!=null&&_(n,["serviceAccount"],X);const W=v(t,["tunedModelDisplayName"]);W!=null&&_(n,["tunedModelDisplayName"],W);const D=v(t,["veoTuningSpec"]);return D!=null&&_(n,["veoTuningSpec"],D),n}function NF(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&_(n,["name"],i);const s=v(t,["metadata"]);s!=null&&_(n,["metadata"],s);const l=v(t,["done"]);l!=null&&_(n,["done"],l);const u=v(t,["error"]);return u!=null&&_(n,["error"],u),n}function Ky(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&_(n,["validationDatasetUri"],r);const i=v(t,["vertexDatasetResource"]);return i!=null&&_(n,["validationDatasetUri"],i),n}class IF extends bu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ff(mu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let l="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?l=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(l=s.name.split("/operations/")[0]),{name:l,state:T2.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=vF(e);return u=Bt("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>B2(d))}else{const f=yF(e);return u=Bt("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>YC(d))}}async listInternal(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=EF(e);return u=Bt("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=SF(d),y=new LA;return Object.assign(y,g),y})}else{const f=bF(e);return u=Bt("tunedModels",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=AF(d),y=new LA;return Object.assign(y,g),y})}}async cancel(e){var n,r,i,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=cF(e);return u=Bt("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=hF(d),y=new DA;return Object.assign(y,g),y})}else{const f=uF(e);return u=Bt("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:d.headers},y})),l.then(d=>{const g=fF(d),y=new DA;return Object.assign(y,g),y})}}async tuneInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const u=gF(e,e);return s=Bt("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>B2(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mF(e);return s=Bt("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>NF(c))}}}class RF{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const kF=1024*1024*8,LF=3,DF=1e3,PF=2,Ag="x-goog-upload-status";async function MF(t,e,n){var r;const i=await JC(t,e,n),s=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[Ag])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function OF(t,e,n){var r;const i=await JC(t,e,n),s=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[Ag])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=sC(s),u=new kw;return Object.assign(u,l),u}async function JC(t,e,n){var r,i;let s=0,l=0,u=new N2(new Response),c="upload";for(s=t.size;l<s;){const f=Math.min(kF,s-l),d=t.slice(l,l+f);l+f>=s&&(c+=", finalize");let g=0,y=DF;for(;g<LF&&(u=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((r=u?.headers)===null||r===void 0)&&r[Ag]));)g++,await UF(y),y=y*PF;if(l+=f,((i=u?.headers)===null||i===void 0?void 0:i[Ag])!=="active")break;if(s<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function FF(t){return{size:t.size,type:t.type}}function UF(t){return new Promise(e=>setTimeout(e,t))}class BF{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await MF(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await OF(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await FF(e)}}class VF{create(e,n,r){return new qF(e,n,r)}}class qF{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const oS="x-goog-api-key";class zF{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(oS)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(oS,this.apiKey)}}}const HF="gl-node/";class GF{get interactions(){var e;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new As({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n?.timeout,maxRetries:(e=n?.retryOptions)===null||e===void 0?void 0:e.attempts});return this._interactions=r.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=LL(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new zF(this.apiKey);this.apiClient=new F9({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:HF+"web",uploader:new BF,downloader:new RF}),this.models=new nO(this.apiClient),this.live=new J9(this.apiClient,i,new VF),this.batches=new lP(this.apiClient),this.chats=new HP(this.models,this.apiClient),this.caches=new VP(this.apiClient),this.files=new tM(this.apiClient),this.operations=new rO(this.apiClient),this.authTokens=new wO(this.apiClient),this.tunings=new IF(this.apiClient),this.fileSearchStores=new CO(this.apiClient)}}const jF="modulepreload",$F=function(t){return"/"+t},aS={},Yy=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(f){return Promise.all(f.map(d=>Promise.resolve(d).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");i=c(n.map(f=>{if(f=$F(f),f in aS)return;aS[f]=!0;const d=f.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=d?"stylesheet":jF,d||(y.as="script"),y.crossOrigin="",y.href=f,u&&y.setAttribute("nonce",u),document.head.appendChild(y),d)return new Promise((m,x)=>{y.addEventListener("load",m),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};function Dr(t){"@babel/helpers - typeof";return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(t)}var Xa=Uint8Array,Qo=Uint16Array,Bw=Int32Array,Vw=new Xa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),qw=new Xa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),lS=new Xa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),XC=function(t,e){for(var n=new Qo(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Bw(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},QC=XC(Vw,2),WF=QC.b,V2=QC.r;WF[28]=258,V2[258]=28;var KF=XC(qw,0),uS=KF.r,q2=new Qo(32768);for(var oi=0;oi<32768;++oi){var tc=(oi&43690)>>1|(oi&21845)<<1;tc=(tc&52428)>>2|(tc&13107)<<2,tc=(tc&61680)>>4|(tc&3855)<<4,q2[oi]=((tc&65280)>>8|(tc&255)<<8)>>1}var Kd=(function(t,e,n){for(var r=t.length,i=0,s=new Qo(e);i<r;++i)t[i]&&++s[t[i]-1];var l=new Qo(e);for(i=1;i<e;++i)l[i]=l[i-1]+s[i-1]<<1;var u;if(n){u=new Qo(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var f=i<<4|t[i],d=e-t[i],g=l[t[i]-1]++<<d,y=g|(1<<d)-1;g<=y;++g)u[q2[g]>>c]=f}else for(u=new Qo(r),i=0;i<r;++i)t[i]&&(u[i]=q2[l[t[i]-1]++]>>15-t[i]);return u}),rf=new Xa(288);for(var oi=0;oi<144;++oi)rf[oi]=8;for(var oi=144;oi<256;++oi)rf[oi]=9;for(var oi=256;oi<280;++oi)rf[oi]=7;for(var oi=280;oi<288;++oi)rf[oi]=8;var Sg=new Xa(32);for(var oi=0;oi<32;++oi)Sg[oi]=5;var YF=Kd(rf,9,0),JF=Kd(Sg,5,0),ZC=function(t){return(t+7)/8|0},XF=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Xa(t.subarray(e,n))},lu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Md=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Jy=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:tN,l:0};if(i==1){var l=new Xa(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort(function($,Q){return $.f-Q.f}),n.push({s:-1,f:25001});var u=n[0],c=n[1],f=0,d=1,g=2;for(n[0]={s:-1,f:u.f+c.f,l:u,r:c};d!=i-1;)u=n[n[f].f<n[g].f?f++:g++],c=n[f!=d&&n[f].f<n[g].f?f++:g++],n[d++]={s:-1,f:u.f+c.f,l:u,r:c};for(var y=s[0].s,r=1;r<i;++r)s[r].s>y&&(y=s[r].s);var m=new Qo(y+1),x=z2(n[d-1],m,0);if(x>e){var r=0,S=0,R=x-e,E=1<<R;for(s.sort(function(Q,V){return m[V.s]-m[Q.s]||Q.f-V.f});r<i;++r){var M=s[r].s;if(m[M]>e)S+=E-(1<<x-m[M]),m[M]=e;else break}for(S>>=R;S>0;){var P=s[r].s;m[P]<e?S-=1<<e-m[P]++-1:++r}for(;r>=0&&S;--r){var N=s[r].s;m[N]==e&&(--m[N],++S)}x=e}return{t:new Xa(m),l:x}},z2=function(t,e,n){return t.s==-1?Math.max(z2(t.l,e,n+1),z2(t.r,e,n+1)):e[t.s]=n},cS=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Qo(++e),r=0,i=t[0],s=1,l=function(c){n[r++]=c},u=1;u<=e;++u)if(t[u]==i&&u!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(i),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(i);s=1,i=t[u]}return{c:n.subarray(0,r),n:e}},Od=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},eN=function(t,e,n){var r=n.length,i=ZC(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},fS=function(t,e,n,r,i,s,l,u,c,f,d){lu(e,d++,n),++i[256];for(var g=Jy(i,15),y=g.t,m=g.l,x=Jy(s,15),S=x.t,R=x.l,E=cS(y),M=E.c,P=E.n,N=cS(S),$=N.c,Q=N.n,V=new Qo(19),G=0;G<M.length;++G)++V[M[G]&31];for(var G=0;G<$.length;++G)++V[$[G]&31];for(var C=Jy(V,7),X=C.t,W=C.l,D=19;D>4&&!X[lS[D-1]];--D);var B=f+5<<3,F=Od(i,rf)+Od(s,Sg)+l,ve=Od(i,y)+Od(s,S)+l+14+3*D+Od(V,X)+2*V[16]+3*V[17]+7*V[18];if(c>=0&&B<=F&&B<=ve)return eN(e,d,t.subarray(c,c+f));var ce,ae,_e,xe;if(lu(e,d,1+(ve<F)),d+=2,ve<F){ce=Kd(y,m,0),ae=y,_e=Kd(S,R,0),xe=S;var Ue=Kd(X,W,0);lu(e,d,P-257),lu(e,d+5,Q-1),lu(e,d+10,D-4),d+=14;for(var G=0;G<D;++G)lu(e,d+3*G,X[lS[G]]);d+=3*D;for(var re=[M,$],O=0;O<2;++O)for(var ee=re[O],G=0;G<ee.length;++G){var se=ee[G]&31;lu(e,d,Ue[se]),d+=X[se],se>15&&(lu(e,d,ee[G]>>5&127),d+=ee[G]>>12)}}else ce=YF,ae=rf,_e=JF,xe=Sg;for(var G=0;G<u;++G){var me=r[G];if(me>255){var se=me>>18&31;Md(e,d,ce[se+257]),d+=ae[se+257],se>7&&(lu(e,d,me>>23&31),d+=Vw[se]);var ue=me&31;Md(e,d,_e[ue]),d+=xe[ue],ue>3&&(Md(e,d,me>>5&8191),d+=qw[ue])}else Md(e,d,ce[me]),d+=ae[me]}return Md(e,d,ce[256]),d+ae[256]},QF=new Bw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),tN=new Xa(0),ZF=function(t,e,n,r,i,s){var l=s.z||t.length,u=new Xa(r+l+5*(1+Math.ceil(l/7e3))+i),c=u.subarray(r,u.length-i),f=s.l,d=(s.r||0)&7;if(e){d&&(c[0]=s.r>>3);for(var g=QF[e-1],y=g>>13,m=g&8191,x=(1<<n)-1,S=s.p||new Qo(32768),R=s.h||new Qo(x+1),E=Math.ceil(n/3),M=2*E,P=function(z){return(t[z]^t[z+1]<<E^t[z+2]<<M)&x},N=new Bw(25e3),$=new Qo(288),Q=new Qo(32),V=0,G=0,C=s.i||0,X=0,W=s.w||0,D=0;C+2<l;++C){var B=P(C),F=C&32767,ve=R[B];if(S[F]=ve,R[B]=F,W<=C){var ce=l-C;if((V>7e3||X>24576)&&(ce>423||!f)){d=fS(t,c,0,N,$,Q,G,X,D,C-D,d),X=V=G=0,D=C;for(var ae=0;ae<286;++ae)$[ae]=0;for(var ae=0;ae<30;++ae)Q[ae]=0}var _e=2,xe=0,Ue=m,re=F-ve&32767;if(ce>2&&B==P(C-re))for(var O=Math.min(y,ce)-1,ee=Math.min(32767,C),se=Math.min(258,ce);re<=ee&&--Ue&&F!=ve;){if(t[C+_e]==t[C+_e-re]){for(var me=0;me<se&&t[C+me]==t[C+me-re];++me);if(me>_e){if(_e=me,xe=re,me>O)break;for(var ue=Math.min(re,me-2),H=0,ae=0;ae<ue;++ae){var j=C-re+ae&32767,ge=S[j],he=j-ge&32767;he>H&&(H=he,ve=j)}}}F=ve,ve=S[F],re+=F-ve&32767}if(xe){N[X++]=268435456|V2[_e]<<18|uS[xe];var le=V2[_e]&31,pe=uS[xe]&31;G+=Vw[le]+qw[pe],++$[257+le],++Q[pe],W=C+_e,++V}else N[X++]=t[C],++$[t[C]]}}for(C=Math.max(C,W);C<l;++C)N[X++]=t[C],++$[t[C]];d=fS(t,c,f,N,$,Q,G,X,D,C-D,d),f||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=R,s.p=S,s.i=C,s.w=W)}else{for(var C=s.w||0;C<l+f;C+=65535){var De=C+65535;De>=l&&(c[d/8|0]=f,De=l),d=eN(c,d+1,t.subarray(C,De))}s.i=l}return XF(u,0,r+ZC(d)+i)},nN=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,l=0;l!=s;){for(var u=Math.min(l+2655,s);l<u;++l)i+=r+=n[l];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},eU=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),l=new Xa(s.length+t.length);l.set(s),l.set(t,s.length),t=l,i.w=s.length}return ZF(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},rN=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},tU=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=nN();i.p(e.dictionary),rN(t,2,i.d())}};function H2(t,e){e||(e={});var n=nN();n.p(t);var r=eU(t,e,e.dictionary?6:2,4);return tU(r,e),rN(r,r.length-4,n.d()),r}var nU=typeof TextDecoder<"u"&&new TextDecoder,rU=0;try{nU.decode(tN,{stream:!0}),rU=1}catch{}function iU(t){if(Array.isArray(t))return t}function sU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,u=[],c=!0,f=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function hS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function oU(t,e){if(t){if(typeof t=="string")return hS(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hS(t,e):void 0}}function aU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dS(t,e){return iU(t)||sU(t,e)||oU(t,e)||aU()}function pS(t,e="utf8"){return new TextDecoder(e).decode(t)}const lU=new TextEncoder;function uU(t){return lU.encode(t)}const cU=1024*8,fU=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Xy={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class zw{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=cU,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let l=i;(ArrayBuffer.isView(e)||e instanceof zw)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=Xy[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===fU&&n!=="uint8"&&n!=="int8"){const u=new Uint8Array(this.buffer.slice(i,i+r));u.reverse();const c=new Xy[n](u.buffer);return this.offset+=r,c.reverse(),c}const l=new Xy[n](s);return this.offset+=r,l}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return pS(this.readBytes(e))}decodeText(e=1,n="utf8"){return pS(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(uU(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Hh(t){let e=t.length;for(;--e>=0;)t[e]=0}const hU=3,dU=258,iN=29,pU=256,mU=pU+1+iN,sN=30,gU=512,yU=new Array((mU+2)*2);Hh(yU);const vU=new Array(sN*2);Hh(vU);const wU=new Array(gU);Hh(wU);const _U=new Array(dU-hU+1);Hh(_U);const bU=new Array(iN);Hh(bU);const EU=new Array(sN);Hh(EU);const AU=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,l=0;for(;n!==0;){l=n>2e3?2e3:n,n-=l;do i=i+e[r++]|0,s=s+i|0;while(--l);i%=65521,s%=65521}return i|s<<16|0};var G2=AU;const SU=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},xU=new Uint32Array(SU()),TU=(t,e,n,r)=>{const i=xU,s=r+n;t^=-1;for(let l=r;l<s;l++)t=t>>>8^i[(t^e[l])&255];return t^-1};var bl=TU,j2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},oN={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const CU=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var NU=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)CU(n,r)&&(t[r]=n[r])}}return t},IU=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let l=t[r];n.set(l,i),i+=l.length}return n},aN={assign:NU,flattenChunks:IU};let lN=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{lN=!1}const rp=new Uint8Array(256);for(let t=0;t<256;t++)rp[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;rp[254]=rp[254]=1;var RU=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,l=t.length,u=0;for(i=0;i<l;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<l&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(u),s=0,i=0;s<u;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<l&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const kU=(t,e)=>{if(e<65534&&t.subarray&&lN)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var LU=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let l=t[r++];if(l<128){s[i++]=l;continue}let u=rp[l];if(u>4){s[i++]=65533,r+=u-1;continue}for(l&=u===2?31:u===3?15:7;u>1&&r<n;)l=l<<6|t[r++]&63,u--;if(u>1){s[i++]=65533;continue}l<65536?s[i++]=l:(l-=65536,s[i++]=55296|l>>10&1023,s[i++]=56320|l&1023)}return kU(s,i)},DU=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+rp[t[n]]>e?n:e},$2={string2buf:RU,buf2string:LU,utf8border:DU};function PU(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var MU=PU;const Nm=16209,OU=16191;var FU=function(e,n){let r,i,s,l,u,c,f,d,g,y,m,x,S,R,E,M,P,N,$,Q,V,G,C,X;const W=e.state;r=e.next_in,C=e.input,i=r+(e.avail_in-5),s=e.next_out,X=e.output,l=s-(n-e.avail_out),u=s+(e.avail_out-257),c=W.dmax,f=W.wsize,d=W.whave,g=W.wnext,y=W.window,m=W.hold,x=W.bits,S=W.lencode,R=W.distcode,E=(1<<W.lenbits)-1,M=(1<<W.distbits)-1;e:do{x<15&&(m+=C[r++]<<x,x+=8,m+=C[r++]<<x,x+=8),P=S[m&E];t:for(;;){if(N=P>>>24,m>>>=N,x-=N,N=P>>>16&255,N===0)X[s++]=P&65535;else if(N&16){$=P&65535,N&=15,N&&(x<N&&(m+=C[r++]<<x,x+=8),$+=m&(1<<N)-1,m>>>=N,x-=N),x<15&&(m+=C[r++]<<x,x+=8,m+=C[r++]<<x,x+=8),P=R[m&M];n:for(;;){if(N=P>>>24,m>>>=N,x-=N,N=P>>>16&255,N&16){if(Q=P&65535,N&=15,x<N&&(m+=C[r++]<<x,x+=8,x<N&&(m+=C[r++]<<x,x+=8)),Q+=m&(1<<N)-1,Q>c){e.msg="invalid distance too far back",W.mode=Nm;break e}if(m>>>=N,x-=N,N=s-l,Q>N){if(N=Q-N,N>d&&W.sane){e.msg="invalid distance too far back",W.mode=Nm;break e}if(V=0,G=y,g===0){if(V+=f-N,N<$){$-=N;do X[s++]=y[V++];while(--N);V=s-Q,G=X}}else if(g<N){if(V+=f+g-N,N-=g,N<$){$-=N;do X[s++]=y[V++];while(--N);if(V=0,g<$){N=g,$-=N;do X[s++]=y[V++];while(--N);V=s-Q,G=X}}}else if(V+=g-N,N<$){$-=N;do X[s++]=y[V++];while(--N);V=s-Q,G=X}for(;$>2;)X[s++]=G[V++],X[s++]=G[V++],X[s++]=G[V++],$-=3;$&&(X[s++]=G[V++],$>1&&(X[s++]=G[V++]))}else{V=s-Q;do X[s++]=X[V++],X[s++]=X[V++],X[s++]=X[V++],$-=3;while($>2);$&&(X[s++]=X[V++],$>1&&(X[s++]=X[V++]))}}else if((N&64)===0){P=R[(P&65535)+(m&(1<<N)-1)];continue n}else{e.msg="invalid distance code",W.mode=Nm;break e}break}}else if((N&64)===0){P=S[(P&65535)+(m&(1<<N)-1)];continue t}else if(N&32){W.mode=OU;break e}else{e.msg="invalid literal/length code",W.mode=Nm;break e}break}}while(r<i&&s<u);$=x>>3,r-=$,x-=$<<3,m&=(1<<x)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<u?257+(u-s):257-(s-u),W.hold=m,W.bits=x};const Zf=15,mS=852,gS=592,yS=0,Qy=1,vS=2,UU=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),BU=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),VU=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),qU=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),zU=(t,e,n,r,i,s,l,u)=>{const c=u.bits;let f=0,d=0,g=0,y=0,m=0,x=0,S=0,R=0,E=0,M=0,P,N,$,Q,V,G=null,C;const X=new Uint16Array(Zf+1),W=new Uint16Array(Zf+1);let D=null,B,F,ve;for(f=0;f<=Zf;f++)X[f]=0;for(d=0;d<r;d++)X[e[n+d]]++;for(m=c,y=Zf;y>=1&&X[y]===0;y--);if(m>y&&(m=y),y===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,u.bits=1,0;for(g=1;g<y&&X[g]===0;g++);for(m<g&&(m=g),R=1,f=1;f<=Zf;f++)if(R<<=1,R-=X[f],R<0)return-1;if(R>0&&(t===yS||y!==1))return-1;for(W[1]=0,f=1;f<Zf;f++)W[f+1]=W[f]+X[f];for(d=0;d<r;d++)e[n+d]!==0&&(l[W[e[n+d]]++]=d);if(t===yS?(G=D=l,C=20):t===Qy?(G=UU,D=BU,C=257):(G=VU,D=qU,C=0),M=0,d=0,f=g,V=s,x=m,S=0,$=-1,E=1<<m,Q=E-1,t===Qy&&E>mS||t===vS&&E>gS)return 1;for(;;){B=f-S,l[d]+1<C?(F=0,ve=l[d]):l[d]>=C?(F=D[l[d]-C],ve=G[l[d]-C]):(F=96,ve=0),P=1<<f-S,N=1<<x,g=N;do N-=P,i[V+(M>>S)+N]=B<<24|F<<16|ve|0;while(N!==0);for(P=1<<f-1;M&P;)P>>=1;if(P!==0?(M&=P-1,M+=P):M=0,d++,--X[f]===0){if(f===y)break;f=e[n+l[d]]}if(f>m&&(M&Q)!==$){for(S===0&&(S=m),V+=g,x=f-S,R=1<<x;x+S<y&&(R-=X[x+S],!(R<=0));)x++,R<<=1;if(E+=1<<x,t===Qy&&E>mS||t===vS&&E>gS)return 1;$=M&Q,i[$]=m<<24|x<<16|V-s|0}}return M!==0&&(i[V+M]=f-S<<24|64<<16|0),u.bits=m,0};var Yd=zU;const HU=0,uN=1,cN=2,{Z_FINISH:wS,Z_BLOCK:GU,Z_TREES:Im,Z_OK:sf,Z_STREAM_END:jU,Z_NEED_DICT:$U,Z_STREAM_ERROR:Sa,Z_DATA_ERROR:fN,Z_MEM_ERROR:hN,Z_BUF_ERROR:WU,Z_DEFLATED:_S}=oN,Yg=16180,bS=16181,ES=16182,AS=16183,SS=16184,xS=16185,TS=16186,CS=16187,NS=16188,IS=16189,xg=16190,uu=16191,Zy=16192,RS=16193,e1=16194,kS=16195,LS=16196,DS=16197,PS=16198,Rm=16199,km=16200,MS=16201,OS=16202,FS=16203,US=16204,BS=16205,t1=16206,VS=16207,qS=16208,di=16209,dN=16210,pN=16211,KU=852,YU=592,JU=15,XU=JU,zS=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function QU(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const hf=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Yg||e.mode>pN?1:0},mN=t=>{if(hf(t))return Sa;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Yg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(KU),e.distcode=e.distdyn=new Int32Array(YU),e.sane=1,e.back=-1,sf},gN=t=>{if(hf(t))return Sa;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,mN(t)},yN=(t,e)=>{let n;if(hf(t))return Sa;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Sa:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,gN(t))},vN=(t,e)=>{if(!t)return Sa;const n=new QU;t.state=n,n.strm=t,n.window=null,n.mode=Yg;const r=yN(t,e);return r!==sf&&(t.state=null),r},ZU=t=>vN(t,XU);let HS=!0,n1,r1;const eB=t=>{if(HS){n1=new Int32Array(512),r1=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Yd(uN,t.lens,0,288,n1,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Yd(cN,t.lens,0,32,r1,0,t.work,{bits:5}),HS=!1}t.lencode=n1,t.lenbits=9,t.distcode=r1,t.distbits=5},wN=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},tB=(t,e)=>{let n,r,i,s,l,u,c,f,d,g,y,m,x,S,R=0,E,M,P,N,$,Q,V,G;const C=new Uint8Array(4);let X,W;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(hf(t)||!t.output||!t.input&&t.avail_in!==0)return Sa;n=t.state,n.mode===uu&&(n.mode=Zy),l=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,r=t.input,u=t.avail_in,f=n.hold,d=n.bits,g=u,y=c,G=sf;e:for(;;)switch(n.mode){case Yg:if(n.wrap===0){n.mode=Zy;break}for(;d<16;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}if(n.wrap&2&&f===35615){n.wbits===0&&(n.wbits=15),n.check=0,C[0]=f&255,C[1]=f>>>8&255,n.check=bl(n.check,C,2,0),f=0,d=0,n.mode=bS;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=di;break}if((f&15)!==_S){t.msg="unknown compression method",n.mode=di;break}if(f>>>=4,d-=4,V=(f&15)+8,n.wbits===0&&(n.wbits=V),V>15||V>n.wbits){t.msg="invalid window size",n.mode=di;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=f&512?IS:uu,f=0,d=0;break;case bS:for(;d<16;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}if(n.flags=f,(n.flags&255)!==_S){t.msg="unknown compression method",n.mode=di;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=di;break}n.head&&(n.head.text=f>>8&1),n.flags&512&&n.wrap&4&&(C[0]=f&255,C[1]=f>>>8&255,n.check=bl(n.check,C,2,0)),f=0,d=0,n.mode=ES;case ES:for(;d<32;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}n.head&&(n.head.time=f),n.flags&512&&n.wrap&4&&(C[0]=f&255,C[1]=f>>>8&255,C[2]=f>>>16&255,C[3]=f>>>24&255,n.check=bl(n.check,C,4,0)),f=0,d=0,n.mode=AS;case AS:for(;d<16;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}n.head&&(n.head.xflags=f&255,n.head.os=f>>8),n.flags&512&&n.wrap&4&&(C[0]=f&255,C[1]=f>>>8&255,n.check=bl(n.check,C,2,0)),f=0,d=0,n.mode=SS;case SS:if(n.flags&1024){for(;d<16;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}n.length=f,n.head&&(n.head.extra_len=f),n.flags&512&&n.wrap&4&&(C[0]=f&255,C[1]=f>>>8&255,n.check=bl(n.check,C,2,0)),f=0,d=0}else n.head&&(n.head.extra=null);n.mode=xS;case xS:if(n.flags&1024&&(m=n.length,m>u&&(m=u),m&&(n.head&&(V=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+m),V)),n.flags&512&&n.wrap&4&&(n.check=bl(n.check,r,m,s)),u-=m,s+=m,n.length-=m),n.length))break e;n.length=0,n.mode=TS;case TS:if(n.flags&2048){if(u===0)break e;m=0;do V=r[s+m++],n.head&&V&&n.length<65536&&(n.head.name+=String.fromCharCode(V));while(V&&m<u);if(n.flags&512&&n.wrap&4&&(n.check=bl(n.check,r,m,s)),u-=m,s+=m,V)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=CS;case CS:if(n.flags&4096){if(u===0)break e;m=0;do V=r[s+m++],n.head&&V&&n.length<65536&&(n.head.comment+=String.fromCharCode(V));while(V&&m<u);if(n.flags&512&&n.wrap&4&&(n.check=bl(n.check,r,m,s)),u-=m,s+=m,V)break e}else n.head&&(n.head.comment=null);n.mode=NS;case NS:if(n.flags&512){for(;d<16;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}if(n.wrap&4&&f!==(n.check&65535)){t.msg="header crc mismatch",n.mode=di;break}f=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=uu;break;case IS:for(;d<32;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}t.adler=n.check=zS(f),f=0,d=0,n.mode=xg;case xg:if(n.havedict===0)return t.next_out=l,t.avail_out=c,t.next_in=s,t.avail_in=u,n.hold=f,n.bits=d,$U;t.adler=n.check=1,n.mode=uu;case uu:if(e===GU||e===Im)break e;case Zy:if(n.last){f>>>=d&7,d-=d&7,n.mode=t1;break}for(;d<3;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}switch(n.last=f&1,f>>>=1,d-=1,f&3){case 0:n.mode=RS;break;case 1:if(eB(n),n.mode=Rm,e===Im){f>>>=2,d-=2;break e}break;case 2:n.mode=LS;break;case 3:t.msg="invalid block type",n.mode=di}f>>>=2,d-=2;break;case RS:for(f>>>=d&7,d-=d&7;d<32;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=di;break}if(n.length=f&65535,f=0,d=0,n.mode=e1,e===Im)break e;case e1:n.mode=kS;case kS:if(m=n.length,m){if(m>u&&(m=u),m>c&&(m=c),m===0)break e;i.set(r.subarray(s,s+m),l),u-=m,s+=m,c-=m,l+=m,n.length-=m;break}n.mode=uu;break;case LS:for(;d<14;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}if(n.nlen=(f&31)+257,f>>>=5,d-=5,n.ndist=(f&31)+1,f>>>=5,d-=5,n.ncode=(f&15)+4,f>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=di;break}n.have=0,n.mode=DS;case DS:for(;n.have<n.ncode;){for(;d<3;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}n.lens[D[n.have++]]=f&7,f>>>=3,d-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,X={bits:n.lenbits},G=Yd(HU,n.lens,0,19,n.lencode,0,n.work,X),n.lenbits=X.bits,G){t.msg="invalid code lengths set",n.mode=di;break}n.have=0,n.mode=PS;case PS:for(;n.have<n.nlen+n.ndist;){for(;R=n.lencode[f&(1<<n.lenbits)-1],E=R>>>24,M=R>>>16&255,P=R&65535,!(E<=d);){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}if(P<16)f>>>=E,d-=E,n.lens[n.have++]=P;else{if(P===16){for(W=E+2;d<W;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}if(f>>>=E,d-=E,n.have===0){t.msg="invalid bit length repeat",n.mode=di;break}V=n.lens[n.have-1],m=3+(f&3),f>>>=2,d-=2}else if(P===17){for(W=E+3;d<W;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}f>>>=E,d-=E,V=0,m=3+(f&7),f>>>=3,d-=3}else{for(W=E+7;d<W;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}f>>>=E,d-=E,V=0,m=11+(f&127),f>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=di;break}for(;m--;)n.lens[n.have++]=V}}if(n.mode===di)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=di;break}if(n.lenbits=9,X={bits:n.lenbits},G=Yd(uN,n.lens,0,n.nlen,n.lencode,0,n.work,X),n.lenbits=X.bits,G){t.msg="invalid literal/lengths set",n.mode=di;break}if(n.distbits=6,n.distcode=n.distdyn,X={bits:n.distbits},G=Yd(cN,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,X),n.distbits=X.bits,G){t.msg="invalid distances set",n.mode=di;break}if(n.mode=Rm,e===Im)break e;case Rm:n.mode=km;case km:if(u>=6&&c>=258){t.next_out=l,t.avail_out=c,t.next_in=s,t.avail_in=u,n.hold=f,n.bits=d,FU(t,y),l=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,r=t.input,u=t.avail_in,f=n.hold,d=n.bits,n.mode===uu&&(n.back=-1);break}for(n.back=0;R=n.lencode[f&(1<<n.lenbits)-1],E=R>>>24,M=R>>>16&255,P=R&65535,!(E<=d);){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}if(M&&(M&240)===0){for(N=E,$=M,Q=P;R=n.lencode[Q+((f&(1<<N+$)-1)>>N)],E=R>>>24,M=R>>>16&255,P=R&65535,!(N+E<=d);){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}f>>>=N,d-=N,n.back+=N}if(f>>>=E,d-=E,n.back+=E,n.length=P,M===0){n.mode=BS;break}if(M&32){n.back=-1,n.mode=uu;break}if(M&64){t.msg="invalid literal/length code",n.mode=di;break}n.extra=M&15,n.mode=MS;case MS:if(n.extra){for(W=n.extra;d<W;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=OS;case OS:for(;R=n.distcode[f&(1<<n.distbits)-1],E=R>>>24,M=R>>>16&255,P=R&65535,!(E<=d);){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}if((M&240)===0){for(N=E,$=M,Q=P;R=n.distcode[Q+((f&(1<<N+$)-1)>>N)],E=R>>>24,M=R>>>16&255,P=R&65535,!(N+E<=d);){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}f>>>=N,d-=N,n.back+=N}if(f>>>=E,d-=E,n.back+=E,M&64){t.msg="invalid distance code",n.mode=di;break}n.offset=P,n.extra=M&15,n.mode=FS;case FS:if(n.extra){for(W=n.extra;d<W;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=di;break}n.mode=US;case US:if(c===0)break e;if(m=y-c,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=di;break}m>n.wnext?(m-=n.wnext,x=n.wsize-m):x=n.wnext-m,m>n.length&&(m=n.length),S=n.window}else S=i,x=l-n.offset,m=n.length;m>c&&(m=c),c-=m,n.length-=m;do i[l++]=S[x++];while(--m);n.length===0&&(n.mode=km);break;case BS:if(c===0)break e;i[l++]=n.length,c--,n.mode=km;break;case t1:if(n.wrap){for(;d<32;){if(u===0)break e;u--,f|=r[s++]<<d,d+=8}if(y-=c,t.total_out+=y,n.total+=y,n.wrap&4&&y&&(t.adler=n.check=n.flags?bl(n.check,i,y,l-y):G2(n.check,i,y,l-y)),y=c,n.wrap&4&&(n.flags?f:zS(f))!==n.check){t.msg="incorrect data check",n.mode=di;break}f=0,d=0}n.mode=VS;case VS:if(n.wrap&&n.flags){for(;d<32;){if(u===0)break e;u--,f+=r[s++]<<d,d+=8}if(n.wrap&4&&f!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=di;break}f=0,d=0}n.mode=qS;case qS:G=jU;break e;case di:G=fN;break e;case dN:return hN;case pN:default:return Sa}return t.next_out=l,t.avail_out=c,t.next_in=s,t.avail_in=u,n.hold=f,n.bits=d,(n.wsize||y!==t.avail_out&&n.mode<di&&(n.mode<t1||e!==wS))&&wN(t,t.output,t.next_out,y-t.avail_out),g-=t.avail_in,y-=t.avail_out,t.total_in+=g,t.total_out+=y,n.total+=y,n.wrap&4&&y&&(t.adler=n.check=n.flags?bl(n.check,i,y,t.next_out-y):G2(n.check,i,y,t.next_out-y)),t.data_type=n.bits+(n.last?64:0)+(n.mode===uu?128:0)+(n.mode===Rm||n.mode===e1?256:0),(g===0&&y===0||e===wS)&&G===sf&&(G=WU),G},nB=t=>{if(hf(t))return Sa;let e=t.state;return e.window&&(e.window=null),t.state=null,sf},rB=(t,e)=>{if(hf(t))return Sa;const n=t.state;return(n.wrap&2)===0?Sa:(n.head=e,e.done=!1,sf)},iB=(t,e)=>{const n=e.length;let r,i,s;return hf(t)||(r=t.state,r.wrap!==0&&r.mode!==xg)?Sa:r.mode===xg&&(i=1,i=G2(i,e,n,0),i!==r.check)?fN:(s=wN(t,e,n,n),s?(r.mode=dN,hN):(r.havedict=1,sf))};var sB=gN,oB=yN,aB=mN,lB=ZU,uB=vN,cB=tB,fB=nB,hB=rB,dB=iB,pB="pako inflate (from Nodeca project)",hu={inflateReset:sB,inflateReset2:oB,inflateResetKeep:aB,inflateInit:lB,inflateInit2:uB,inflate:cB,inflateEnd:fB,inflateGetHeader:hB,inflateSetDictionary:dB,inflateInfo:pB};function mB(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gB=mB;const _N=Object.prototype.toString,{Z_NO_FLUSH:yB,Z_FINISH:vB,Z_OK:ip,Z_STREAM_END:i1,Z_NEED_DICT:s1,Z_STREAM_ERROR:wB,Z_DATA_ERROR:GS,Z_MEM_ERROR:_B}=oN;function gp(t){this.options=aN.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new MU,this.strm.avail_out=0;let n=hu.inflateInit2(this.strm,e.windowBits);if(n!==ip)throw new Error(j2[n]);if(this.header=new gB,hu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=$2.string2buf(e.dictionary):_N.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=hu.inflateSetDictionary(this.strm,e.dictionary),n!==ip)))throw new Error(j2[n])}gp.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,l,u;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?vB:yB,_N.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=hu.inflate(n,l),s===s1&&i&&(s=hu.inflateSetDictionary(n,i),s===ip?s=hu.inflate(n,l):s===GS&&(s=s1));n.avail_in>0&&s===i1&&n.state.wrap>0&&t[n.next_in]!==0;)hu.inflateReset(n),s=hu.inflate(n,l);switch(s){case wB:case GS:case s1:case _B:return this.onEnd(s),this.ended=!0,!1}if(u=n.avail_out,n.next_out&&(n.avail_out===0||s===i1))if(this.options.to==="string"){let c=$2.utf8border(n.output,n.next_out),f=n.next_out-c,d=$2.buf2string(n.output,c);n.next_out=f,n.avail_out=r-f,f&&n.output.set(n.output.subarray(c,c+f),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===ip&&u===0)){if(s===i1)return s=hu.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};gp.prototype.onData=function(t){this.chunks.push(t)};gp.prototype.onEnd=function(t){t===ip&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=aN.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function bB(t,e){const n=new gp(e);if(n.push(t),n.err)throw n.msg||j2[n.err];return n.result}var EB=gp,AB=bB,SB={Inflate:EB,inflate:AB};const{Inflate:xB,inflate:TB}=SB;var jS=xB,CB=TB;const bN=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;bN[t]=e}const $S=4294967295;function NB(t,e,n){let r=t;for(let i=0;i<n;i++)r=bN[(r^e[i])&255]^r>>>8;return r}function IB(t,e){return(NB($S,t,e)^$S)>>>0}function WS(t,e,n){const r=t.readUint32(),i=IB(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function EN(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function AN(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function SN(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function xN(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function TN(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+RB(e[s-i],n[s],n[s-i])&255}}function RB(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),l=Math.abs(r-n);return i<=s&&i<=l?t:s<=l?e:n}function kB(t,e,n,r,i,s){switch(t){case 0:EN(e,n,i);break;case 1:AN(e,n,i,s);break;case 2:SN(e,n,r,i);break;case 3:xN(e,n,r,i,s);break;case 4:TN(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const LB=new Uint16Array([255]),DB=new Uint8Array(LB.buffer),PB=DB[0]===255;function MB(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(s/8)*i,c=new Uint8Array(r*n*u);let f=0;for(let d=0;d<7;d++){const g=l[d],y=Math.ceil((n-g.x)/g.xStep),m=Math.ceil((r-g.y)/g.yStep);if(y<=0||m<=0)continue;const x=y*u,S=new Uint8Array(x);for(let R=0;R<m;R++){const E=e[f++],M=e.subarray(f,f+x);f+=x;const P=new Uint8Array(x);kB(E,M,P,S,x,u),S.set(P);for(let N=0;N<y;N++){const $=g.x+N*g.xStep,Q=g.y+R*g.yStep;if(!($>=n||Q>=r))for(let V=0;V<u;V++)c[(Q*n+$)*u+V]=P[N*u+V]}}}if(s===16){const d=new Uint16Array(c.buffer);if(PB)for(let g=0;g<d.length;g++)d[g]=OB(d[g]);return d}else return c}function OB(t){return(t&255)<<8|t>>8&255}const FB=new Uint16Array([255]),UB=new Uint8Array(FB.buffer),BB=UB[0]===255,VB=new Uint8Array(0);function KS(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,l=Math.ceil(s/8)*i,u=Math.ceil(s/8*i*n),c=new Uint8Array(r*u);let f=VB,d=0,g,y;for(let m=0;m<r;m++){switch(g=e.subarray(d+1,d+1+u),y=c.subarray(m*u,(m+1)*u),e[d]){case 0:EN(g,y,u);break;case 1:AN(g,y,u,l);break;case 2:SN(g,y,f,u);break;case 3:xN(g,y,f,u,l);break;case 4:TN(g,y,f,u,l);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}f=y,d+=u+1}if(s===16){const m=new Uint16Array(c.buffer);if(BB)for(let x=0;x<m.length;x++)m[x]=qB(m[x]);return m}else return c}function qB(t){return(t&255)<<8|t>>8&255}const sg=Uint8Array.of(137,80,78,71,13,10,26,10);function YS(t){if(!zB(t.readBytes(sg.length)))throw new Error("wrong PNG signature")}function zB(t){if(t.length<sg.length)return!1;for(let e=0;e<sg.length;e++)if(t[e]!==sg[e])return!1;return!0}const HB="tEXt",GB=0,CN=new TextDecoder("latin1");function jB(t){if(WB(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const $B=/^[\u0000-\u00FF]*$/;function WB(t){if(!$B.test(t))throw new Error("invalid latin1 text")}function KB(t,e,n){const r=NN(e);t[r]=YB(e,n-r.length-1)}function NN(t){for(t.mark();t.readByte()!==GB;);const e=t.offset;t.reset();const n=CN.decode(t.readBytes(e-t.offset-1));return t.skip(1),jB(n),n}function YB(t,e){return CN.decode(t.readBytes(e))}const Xo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},o1={UNKNOWN:-1,DEFLATE:0},JS={UNKNOWN:-1,ADAPTIVE:0},a1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Lm={NONE:0,BACKGROUND:1,PREVIOUS:2},l1={SOURCE:0,OVER:1};class JB extends zw{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new jS,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=o1.UNKNOWN,this._filterMethod=JS.UNKNOWN,this._interlaceMethod=a1.UNKNOWN,this._colorType=Xo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(YS(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(YS(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case HB:KB(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?WS(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?WS(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=XB(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case Xo.GREYSCALE:r=1;break;case Xo.TRUECOLOUR:r=3;break;case Xo.INDEXED_COLOUR:r=1;break;case Xo.GREYSCALE_ALPHA:r=2;break;case Xo.TRUECOLOUR_ALPHA:r=4;break;case Xo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==o1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Xo.GREYSCALE:case Xo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case Xo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Xo.UNKNOWN:case Xo.GREYSCALE_ALPHA:case Xo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=NN(this),r=this.readUint8();if(r!==o1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:CB(i)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=KS({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case Lm.NONE:break;case Lm.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const l=(i*e.width+s)*this._png.channels;for(let u=0;u<this._png.channels;u++)r.data[l+u]=0}break;case Lm.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const r=1<<this._png.depth,i=(s,l)=>{const u=((s+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,c=(s*n.width+l)*this._png.channels;return{index:u,frameIndex:c}};switch(n.blendOp){case l1.SOURCE:for(let s=0;s<n.height;s++)for(let l=0;l<n.width;l++){const{index:u,frameIndex:c}=i(s,l);for(let f=0;f<this._png.channels;f++)e.data[u+f]=n.data[c+f]}break;case l1.OVER:for(let s=0;s<n.height;s++)for(let l=0;l<n.width;l++){const{index:u,frameIndex:c}=i(s,l);for(let f=0;f<this._png.channels;f++){const d=n.data[c+this._png.channels-1]/r,g=f%(this._png.channels-1)===0?1:n.data[c+f],y=Math.floor(d*g+(1-d)*e.data[u+f]);e.data[u+f]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==JS.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===a1.NO_INTERLACE)this._png.data=KS({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===a1.ADAM7)this._png.data=MB({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Lm.NONE,blendOp:l1.SOURCE,data:e}),this._inflator=new jS,this._writingDataChunks=!1}}function XB(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var XS;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(XS||(XS={}));function QB(t,e){return new JB(t,e).decode()}var xn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function u1(){xn.console&&typeof xn.console.log=="function"&&xn.console.log.apply(xn.console,arguments)}var Xr={log:u1,warn:function(t){xn.console&&(typeof xn.console.warn=="function"?xn.console.warn.apply(xn.console,arguments):u1.call(null,arguments))},error:function(t){xn.console&&(typeof xn.console.error=="function"?xn.console.error.apply(xn.console,arguments):u1(t))}};function c1(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Wc(r.response,e,n)},r.onerror=function(){Xr.error("could not download file")},r.send()}function QS(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Dm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Wc=xn.saveAs||((typeof window>"u"?"undefined":Dr(window))!=="object"||window!==xn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=xn.URL||xn.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?QS(i.href)?c1(t,e,n):Dm(i,i.target="_blank"):Dm(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Dm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(QS(t))c1(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Dm(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Dr(s)!=="object"&&(Xr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return c1(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(xn.HTMLElement)||xn.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&s)&&(typeof FileReader>"u"?"undefined":Dr(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var d=u.result;d=l?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},u.readAsDataURL(t)}else{var c=xn.URL||xn.webkitURL,f=c.createObjectURL(t);r?r.location=f:location.href=f,r=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});function IN(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,l=i.exec(t);l&&(e=s(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+u+c+f}}var og=xn.atob.bind(xn),ZS=xn.btoa.bind(xn);function f1(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Hs(n,r,i,s,e[0],7,-680876936),s=Hs(s,n,r,i,e[1],12,-389564586),i=Hs(i,s,n,r,e[2],17,606105819),r=Hs(r,i,s,n,e[3],22,-1044525330),n=Hs(n,r,i,s,e[4],7,-176418897),s=Hs(s,n,r,i,e[5],12,1200080426),i=Hs(i,s,n,r,e[6],17,-1473231341),r=Hs(r,i,s,n,e[7],22,-45705983),n=Hs(n,r,i,s,e[8],7,1770035416),s=Hs(s,n,r,i,e[9],12,-1958414417),i=Hs(i,s,n,r,e[10],17,-42063),r=Hs(r,i,s,n,e[11],22,-1990404162),n=Hs(n,r,i,s,e[12],7,1804603682),s=Hs(s,n,r,i,e[13],12,-40341101),i=Hs(i,s,n,r,e[14],17,-1502002290),n=Gs(n,r=Hs(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Gs(s,n,r,i,e[6],9,-1069501632),i=Gs(i,s,n,r,e[11],14,643717713),r=Gs(r,i,s,n,e[0],20,-373897302),n=Gs(n,r,i,s,e[5],5,-701558691),s=Gs(s,n,r,i,e[10],9,38016083),i=Gs(i,s,n,r,e[15],14,-660478335),r=Gs(r,i,s,n,e[4],20,-405537848),n=Gs(n,r,i,s,e[9],5,568446438),s=Gs(s,n,r,i,e[14],9,-1019803690),i=Gs(i,s,n,r,e[3],14,-187363961),r=Gs(r,i,s,n,e[8],20,1163531501),n=Gs(n,r,i,s,e[13],5,-1444681467),s=Gs(s,n,r,i,e[2],9,-51403784),i=Gs(i,s,n,r,e[7],14,1735328473),n=js(n,r=Gs(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=js(s,n,r,i,e[8],11,-2022574463),i=js(i,s,n,r,e[11],16,1839030562),r=js(r,i,s,n,e[14],23,-35309556),n=js(n,r,i,s,e[1],4,-1530992060),s=js(s,n,r,i,e[4],11,1272893353),i=js(i,s,n,r,e[7],16,-155497632),r=js(r,i,s,n,e[10],23,-1094730640),n=js(n,r,i,s,e[13],4,681279174),s=js(s,n,r,i,e[0],11,-358537222),i=js(i,s,n,r,e[3],16,-722521979),r=js(r,i,s,n,e[6],23,76029189),n=js(n,r,i,s,e[9],4,-640364487),s=js(s,n,r,i,e[12],11,-421815835),i=js(i,s,n,r,e[15],16,530742520),n=$s(n,r=js(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=$s(s,n,r,i,e[7],10,1126891415),i=$s(i,s,n,r,e[14],15,-1416354905),r=$s(r,i,s,n,e[5],21,-57434055),n=$s(n,r,i,s,e[12],6,1700485571),s=$s(s,n,r,i,e[3],10,-1894986606),i=$s(i,s,n,r,e[10],15,-1051523),r=$s(r,i,s,n,e[1],21,-2054922799),n=$s(n,r,i,s,e[8],6,1873313359),s=$s(s,n,r,i,e[15],10,-30611744),i=$s(i,s,n,r,e[6],15,-1560198380),r=$s(r,i,s,n,e[13],21,1309151649),n=$s(n,r,i,s,e[4],6,-145523070),s=$s(s,n,r,i,e[11],10,-1120210379),i=$s(i,s,n,r,e[2],15,718787259),r=$s(r,i,s,n,e[9],21,-343485551),t[0]=ic(n,t[0]),t[1]=ic(r,t[1]),t[2]=ic(i,t[2]),t[3]=ic(s,t[3])}function Jg(t,e,n,r,i,s){return e=ic(ic(e,t),ic(r,s)),ic(e<<i|e>>>32-i,n)}function Hs(t,e,n,r,i,s,l){return Jg(e&n|~e&r,t,e,i,s,l)}function Gs(t,e,n,r,i,s,l){return Jg(e&r|n&~r,t,e,i,s,l)}function js(t,e,n,r,i,s,l){return Jg(e^n^r,t,e,i,s,l)}function $s(t,e,n,r,i,s,l){return Jg(n^(e|~r),t,e,i,s,l)}function RN(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)f1(r,ZB(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(f1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,f1(r,i),r}function ZB(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var ex="0123456789abcdef".split("");function eV(t){for(var e="",n=0;n<4;n++)e+=ex[t>>8*n+4&15]+ex[t>>8*n&15];return e}function tV(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function W2(t){return RN(t).map(tV).join("")}var nV=(function(t){for(var e=0;e<t.length;e++)t[e]=eV(t[e]);return t.join("")})(RN("hello"))!="5d41402abc4b2a76b9719d911017c592";function ic(t,e){if(nV){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function K2(t,e){var n,r,i,s;if(t!==n){for(var l=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),u=[],c=0;c<256;c++)u[c]=c;var f=0;for(c=0;c<256;c++){var d=u[c];f=(f+d+l.charCodeAt(c))%256,u[c]=u[f],u[f]=d}n=t,r=u}else u=r;var g=e.length,y=0,m=0,x="";for(c=0;c<g;c++)m=(m+(d=u[y=(y+1)%256]))%256,u[y]=u[m],u[m]=d,l=u[(u[y]+u[m])%256],x+=String.fromCharCode(e.charCodeAt(c)^l);return x}var tx={print:4,modify:8,copy:16,"annot-forms":32};function sh(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(u){if(tx.perm!==void 0)throw new Error("Invalid permission: "+u);i+=tx[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),l=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,l),this.P=-(1+(255^i)),this.encryptionKey=W2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=K2(this.encryptionKey,this.padding)}function oh(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function nx(t){if(Dr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var l=e[n][s];try{l[0].apply(t,r)}catch(u){xn.console&&Xr.error("jsPDF PubSub Error",u.message,u)}l[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Tg(t){if(!(this instanceof Tg))return new Tg(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function kN(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Yc(t,e,n,r,i){if(!(this instanceof Yc))return new Yc(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,kN.call(this,r,i)}function ph(t,e,n,r,i){if(!(this instanceof ph))return new ph(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,kN.call(this,r,i)}function ln(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],l=[],u=1,c=16,f="S",d=null;Dr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),u=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),f=t.defaultPathOperation||"S"),l=t.filters||(s===!0?["FlateEncode"]:l),r=r||"mm",n=(""+(n||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,y={},m={internal:{},__private__:{}};m.__private__.PubSub=nx;var x="1.3",S=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(U){x=U};var R={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return R};var E=m.__private__.getPageFormat=function(U){return R[U]};i=i||"a4";var M="compat",P="advanced",N=M;function $(){this.saveGraphicsState(),Z(new et(Ft,0,0,-Ft,0,no()*Ft).toString()+" cm"),this.setFontSize(this.getFontSize()/Ft),f="n",N=P}function Q(){this.restoreGraphicsState(),f="S",N=M}var V=m.__private__.combineFontStyleAndFontWeight=function(U,fe){if(U=="bold"&&fe=="normal"||U=="bold"&&fe==400||U=="normal"&&fe=="italic"||U=="bold"&&fe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return fe&&(U=fe==400||fe==="normal"?U==="italic"?"italic":"normal":fe!=700&&fe!=="bold"||U!=="normal"?(fe==700?"bold":fe)+""+U:"bold"),U};m.advancedAPI=function(U){var fe=N===M;return fe&&$.call(this),typeof U!="function"||(U(this),fe&&Q.call(this)),this},m.compatAPI=function(U){var fe=N===P;return fe&&Q.call(this),typeof U!="function"||(U(this),fe&&$.call(this)),this},m.isAdvancedAPI=function(){return N===P};var G,C=function(U){if(N!==P)throw new Error(U+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},X=m.roundToPrecision=m.__private__.roundToPrecision=function(U,fe){var ke=e||fe;if(isNaN(U)||isNaN(ke))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return U.toFixed(ke).replace(/0+$/,"")};G=m.hpf=m.__private__.hpf=typeof c=="number"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return X(U,c)}:c==="smart"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return X(U,U>-1&&U<1?16:5)}:function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return X(U,16)};var W=m.f2=m.__private__.f2=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f2");return X(U,2)},D=m.__private__.f3=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f3");return X(U,3)},B=m.scale=m.__private__.scale=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.scale");return N===M?U*Ft:N===P?U:void 0},F=function(U){return B((function(fe){return N===M?no()-fe:N===P?fe:void 0})(U))};m.__private__.setPrecision=m.setPrecision=function(U){typeof parseInt(U,10)=="number"&&(e=parseInt(U,10))};var ve,ce="00000000000000000000000000000000",ae=m.__private__.getFileId=function(){return ce},_e=m.__private__.setFileId=function(U){return ce=U!==void 0&&/^[a-fA-F0-9]{32}$/.test(U)?U.toUpperCase():ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Wr=new sh(d.userPermissions,d.userPassword,d.ownerPassword,ce)),ce};m.setFileId=function(U){return _e(U),this},m.getFileId=function(){return ae()};var xe=m.__private__.convertDateToPDFDate=function(U){var fe=U.getTimezoneOffset(),ke=fe<0?"+":"-",Fe=Math.floor(Math.abs(fe/60)),ze=Math.abs(fe%60),dt=[ke,se(Fe),"'",se(ze),"'"].join("");return["D:",U.getFullYear(),se(U.getMonth()+1),se(U.getDate()),se(U.getHours()),se(U.getMinutes()),se(U.getSeconds()),dt].join("")},Ue=m.__private__.convertPDFDateToDate=function(U){var fe=parseInt(U.substr(2,4),10),ke=parseInt(U.substr(6,2),10)-1,Fe=parseInt(U.substr(8,2),10),ze=parseInt(U.substr(10,2),10),dt=parseInt(U.substr(12,2),10),At=parseInt(U.substr(14,2),10);return new Date(fe,ke,Fe,ze,dt,At,0)},re=m.__private__.setCreationDate=function(U){var fe;if(U===void 0&&(U=new Date),U instanceof Date)fe=xe(U);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(U))throw new Error("Invalid argument passed to jsPDF.setCreationDate");fe=U}return ve=fe},O=m.__private__.getCreationDate=function(U){var fe=ve;return U==="jsDate"&&(fe=Ue(ve)),fe};m.setCreationDate=function(U){return re(U),this},m.getCreationDate=function(U){return O(U)};var ee,se=m.__private__.padd2=function(U){return("0"+parseInt(U)).slice(-2)},me=m.__private__.padd2Hex=function(U){return("00"+(U=U.toString())).substr(U.length)},ue=0,H=[],j=[],ge=0,he=[],le=[],pe=!1,De=j;m.__private__.setCustomOutputDestination=function(U){pe=!0,De=U};var z=function(U){pe||(De=U)};m.__private__.resetCustomOutputDestination=function(){pe=!1,De=j};var Z=m.__private__.out=function(U){return U=U.toString(),ge+=U.length+1,De.push(U),De},Y=m.__private__.write=function(U){return Z(arguments.length===1?U.toString():Array.prototype.join.call(arguments," "))},I=m.__private__.getArrayBuffer=function(U){for(var fe=U.length,ke=new ArrayBuffer(fe),Fe=new Uint8Array(ke);fe--;)Fe[fe]=U.charCodeAt(fe);return ke},L=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return L};var q=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(U){return q=N===P?U/Ft:U,this};var ye,Ce=m.__private__.getFontSize=m.getFontSize=function(){return N===M?q:q*Ft},Ae=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(U){return Ae=U,this},m.__private__.getR2L=m.getR2L=function(){return Ae};var Oe,We=m.__private__.setZoomMode=function(U){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(U))ye=U;else if(isNaN(U)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(U)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+U+'" is not recognized.');ye=U}else ye=parseInt(U,10)};m.__private__.getZoomMode=function(){return ye};var He,Ze=m.__private__.setPageMode=function(U){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(U)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+U+'" is not recognized.');Oe=U};m.__private__.getPageMode=function(){return Oe};var _t=m.__private__.setLayoutMode=function(U){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(U)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+U+'" is not recognized.');He=U};m.__private__.getLayoutMode=function(){return He},m.__private__.setDisplayMode=m.setDisplayMode=function(U,fe,ke){return We(U),_t(fe),Ze(ke),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(U){if(Object.keys(xt).indexOf(U)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[U]},m.__private__.getDocumentProperties=function(){return xt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(U){for(var fe in xt)xt.hasOwnProperty(fe)&&U[fe]&&(xt[fe]=U[fe]);return this},m.__private__.setDocumentProperty=function(U,fe){if(Object.keys(xt).indexOf(U)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[U]=fe};var Nt,Ft,Dt,gn,Mt,Ot={},tn={},sn=[],zt={},Pn={},Kt={},on={},Hn=null,Ut=0,qt=[],Tn=new nx(m),pi=t.hotfixes||[],je={},lt={},Pe=[],et=function U(fe,ke,Fe,ze,dt,At){if(!(this instanceof U))return new U(fe,ke,Fe,ze,dt,At);isNaN(fe)&&(fe=1),isNaN(ke)&&(ke=0),isNaN(Fe)&&(Fe=0),isNaN(ze)&&(ze=1),isNaN(dt)&&(dt=0),isNaN(At)&&(At=0),this._matrix=[fe,ke,Fe,ze,dt,At]};Object.defineProperty(et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(et.prototype,"a",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(et.prototype,"b",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(et.prototype,"c",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(et.prototype,"d",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(et.prototype,"e",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(et.prototype,"f",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),et.prototype.join=function(U){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(G).join(U)},et.prototype.multiply=function(U){var fe=U.sx*this.sx+U.shy*this.shx,ke=U.sx*this.shy+U.shy*this.sy,Fe=U.shx*this.sx+U.sy*this.shx,ze=U.shx*this.shy+U.sy*this.sy,dt=U.tx*this.sx+U.ty*this.shx+this.tx,At=U.tx*this.shy+U.ty*this.sy+this.ty;return new et(fe,ke,Fe,ze,dt,At)},et.prototype.decompose=function(){var U=this.sx,fe=this.shy,ke=this.shx,Fe=this.sy,ze=this.tx,dt=this.ty,At=Math.sqrt(U*U+fe*fe),jt=(U/=At)*ke+(fe/=At)*Fe;ke-=U*jt,Fe-=fe*jt;var Qt=Math.sqrt(ke*ke+Fe*Fe);return jt/=Qt,U*(Fe/=Qt)<fe*(ke/=Qt)&&(U=-U,fe=-fe,jt=-jt,At=-At),{scale:new et(At,0,0,Qt,0,0),translate:new et(1,0,0,1,ze,dt),rotate:new et(U,fe,-fe,U,0,0),skew:new et(1,0,jt,1,0,0)}},et.prototype.toString=function(U){return this.join(" ")},et.prototype.inversed=function(){var U=this.sx,fe=this.shy,ke=this.shx,Fe=this.sy,ze=this.tx,dt=this.ty,At=1/(U*Fe-fe*ke),jt=Fe*At,Qt=-fe*At,hn=-ke*At,an=U*At;return new et(jt,Qt,hn,an,-jt*ze-hn*dt,-Qt*ze-an*dt)},et.prototype.applyToPoint=function(U){var fe=U.x*this.sx+U.y*this.shx+this.tx,ke=U.x*this.shy+U.y*this.sy+this.ty;return new ji(fe,ke)},et.prototype.applyToRectangle=function(U){var fe=this.applyToPoint(U),ke=this.applyToPoint(new ji(U.x+U.w,U.y+U.h));return new po(fe.x,fe.y,ke.x-fe.x,ke.y-fe.y)},et.prototype.clone=function(){var U=this.sx,fe=this.shy,ke=this.shx,Fe=this.sy,ze=this.tx,dt=this.ty;return new et(U,fe,ke,Fe,ze,dt)},m.Matrix=et;var kt=m.matrixMult=function(U,fe){return fe.multiply(U)},Yt=new et(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Yt;var un=function(U,fe){if(!Pn[U]){var ke=(fe instanceof Yc?"Sh":"P")+(Object.keys(zt).length+1).toString(10);fe.id=ke,Pn[U]=ke,zt[ke]=fe,Tn.publish("addPattern",fe)}};m.ShadingPattern=Yc,m.TilingPattern=ph,m.addShadingPattern=function(U,fe){return C("addShadingPattern()"),un(U,fe),this},m.beginTilingPattern=function(U){C("beginTilingPattern()"),mo(U.boundingBox[0],U.boundingBox[1],U.boundingBox[2]-U.boundingBox[0],U.boundingBox[3]-U.boundingBox[1],U.matrix)},m.endTilingPattern=function(U,fe){C("endTilingPattern()"),fe.stream=le[ee].join(`
`),un(U,fe),Tn.publish("endTilingPattern",fe),Pe.pop().restore()};var Yn,bn=m.__private__.newObject=function(){var U=yn();return $n(U,!0),U},yn=m.__private__.newObjectDeferred=function(){return ue++,H[ue]=function(){return ge},ue},$n=function(U,fe){return fe=typeof fe=="boolean"&&fe,H[U]=ge,fe&&Z(U+" 0 obj"),U},Gn=m.__private__.newAdditionalObject=function(){var U={objId:yn(),content:""};return he.push(U),U},Ie=yn(),rt=yn(),vt=m.__private__.decodeColorString=function(U){var fe=U.split(" ");if(fe.length!==2||fe[1]!=="g"&&fe[1]!=="G")fe.length!==5||fe[4]!=="k"&&fe[4]!=="K"||(fe=[(1-fe[0])*(1-fe[3]),(1-fe[1])*(1-fe[3]),(1-fe[2])*(1-fe[3]),"r"]);else{var ke=parseFloat(fe[0]);fe=[ke,ke,ke,"r"]}for(var Fe="#",ze=0;ze<3;ze++)Fe+=("0"+Math.floor(255*parseFloat(fe[ze])).toString(16)).slice(-2);return Fe},ut=m.__private__.encodeColorString=function(U){var fe;typeof U=="string"&&(U={ch1:U});var ke=U.ch1,Fe=U.ch2,ze=U.ch3,dt=U.ch4,At=U.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ke=="string"&&ke.charAt(0)!=="#"){var jt=new IN(ke);if(jt.ok)ke=jt.toHex();else if(!/^\d*\.?\d*$/.test(ke))throw new Error('Invalid color "'+ke+'" passed to jsPDF.encodeColorString.')}if(typeof ke=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ke)&&(ke="#"+ke[1]+ke[1]+ke[2]+ke[2]+ke[3]+ke[3]),typeof ke=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ke)){var Qt=parseInt(ke.substr(1),16);ke=Qt>>16&255,Fe=Qt>>8&255,ze=255&Qt}if(Fe===void 0||dt===void 0&&ke===Fe&&Fe===ze)fe=typeof ke=="string"?ke+" "+At[0]:U.precision===2?W(ke/255)+" "+At[0]:D(ke/255)+" "+At[0];else if(dt===void 0||Dr(dt)==="object"){if(dt&&!isNaN(dt.a)&&dt.a===0)return["1.","1.","1.",At[1]].join(" ");fe=typeof ke=="string"?[ke,Fe,ze,At[1]].join(" "):U.precision===2?[W(ke/255),W(Fe/255),W(ze/255),At[1]].join(" "):[D(ke/255),D(Fe/255),D(ze/255),At[1]].join(" ")}else fe=typeof ke=="string"?[ke,Fe,ze,dt,At[2]].join(" "):U.precision===2?[W(ke),W(Fe),W(ze),W(dt),At[2]].join(" "):[D(ke),D(Fe),D(ze),D(dt),At[2]].join(" ");return fe},ht=m.__private__.getFilters=function(){return l},gt=m.__private__.putStream=function(U){var fe=(U=U||{}).data||"",ke=U.filters||ht(),Fe=U.alreadyAppliedFilters||[],ze=U.addLength1||!1,dt=fe.length,At=U.objectId,jt=function(J){return J};if(d!==null&&At===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(jt=Wr.encryptor(At,0));var Qt={};ke===!0&&(ke=["FlateEncode"]);var hn=U.additionalKeyValues||[],an=(Qt=ln.API.processDataByFilters!==void 0?ln.API.processDataByFilters(fe,ke):{data:fe,reverseChain:[]}).reverseChain+(Array.isArray(Fe)?Fe.join(" "):Fe.toString());if(Qt.data.length!==0&&(hn.push({key:"Length",value:Qt.data.length}),ze===!0&&hn.push({key:"Length1",value:dt})),an.length!=0)if(an.split("/").length-1==1)hn.push({key:"Filter",value:an});else{hn.push({key:"Filter",value:"["+an+"]"});for(var Wn=0;Wn<hn.length;Wn+=1)if(hn[Wn].key==="DecodeParms"){for(var Mr=[],Tr=0;Tr<Qt.reverseChain.split("/").length-1;Tr+=1)Mr.push("null");Mr.push(hn[Wn].value),hn[Wn].value="["+Mr.join(" ")+"]"}}Z("<<");for(var b=0;b<hn.length;b++)Z("/"+hn[b].key+" "+hn[b].value);Z(">>"),Qt.data.length!==0&&(Z("stream"),Z(jt(Qt.data)),Z("endstream"))},Ct=m.__private__.putPage=function(U){var fe=U.number,ke=U.data,Fe=U.objId,ze=U.contentsObjId;$n(Fe,!0),Z("<</Type /Page"),Z("/Parent "+U.rootDictionaryObjId+" 0 R"),Z("/Resources "+U.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(G(U.mediaBox.bottomLeftX))+" "+parseFloat(G(U.mediaBox.bottomLeftY))+" "+G(U.mediaBox.topRightX)+" "+G(U.mediaBox.topRightY)+"]"),U.cropBox!==null&&Z("/CropBox ["+G(U.cropBox.bottomLeftX)+" "+G(U.cropBox.bottomLeftY)+" "+G(U.cropBox.topRightX)+" "+G(U.cropBox.topRightY)+"]"),U.bleedBox!==null&&Z("/BleedBox ["+G(U.bleedBox.bottomLeftX)+" "+G(U.bleedBox.bottomLeftY)+" "+G(U.bleedBox.topRightX)+" "+G(U.bleedBox.topRightY)+"]"),U.trimBox!==null&&Z("/TrimBox ["+G(U.trimBox.bottomLeftX)+" "+G(U.trimBox.bottomLeftY)+" "+G(U.trimBox.topRightX)+" "+G(U.trimBox.topRightY)+"]"),U.artBox!==null&&Z("/ArtBox ["+G(U.artBox.bottomLeftX)+" "+G(U.artBox.bottomLeftY)+" "+G(U.artBox.topRightX)+" "+G(U.artBox.topRightY)+"]"),typeof U.userUnit=="number"&&U.userUnit!==1&&Z("/UserUnit "+U.userUnit),Tn.publish("putPage",{objId:Fe,pageContext:qt[fe],pageNumber:fe,page:ke}),Z("/Contents "+ze+" 0 R"),Z(">>"),Z("endobj");var dt=ke.join(`
`);return N===P&&(dt+=`
Q`),$n(ze,!0),gt({data:dt,filters:ht(),objectId:ze}),Z("endobj"),Fe},En=m.__private__.putPages=function(){var U,fe,ke=[];for(U=1;U<=Ut;U++)qt[U].objId=yn(),qt[U].contentsObjId=yn();for(U=1;U<=Ut;U++)ke.push(Ct({number:U,data:le[U],objId:qt[U].objId,contentsObjId:qt[U].contentsObjId,mediaBox:qt[U].mediaBox,cropBox:qt[U].cropBox,bleedBox:qt[U].bleedBox,trimBox:qt[U].trimBox,artBox:qt[U].artBox,userUnit:qt[U].userUnit,rootDictionaryObjId:Ie,resourceDictionaryObjId:rt}));$n(Ie,!0),Z("<</Type /Pages");var Fe="/Kids [";for(fe=0;fe<Ut;fe++)Fe+=ke[fe]+" 0 R ";Z(Fe+"]"),Z("/Count "+Ut),Z(">>"),Z("endobj"),Tn.publish("postPutPages")},On=function(U){Tn.publish("putFont",{font:U,out:Z,newObject:bn,putStream:gt}),U.isAlreadyPutted!==!0&&(U.objectNumber=bn(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+oh(U.postScriptName)),Z("/Subtype /Type1"),typeof U.encoding=="string"&&Z("/Encoding /"+U.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},nn=function(U){U.objectNumber=bn();var fe=[];fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Form"}),fe.push({key:"BBox",value:"["+[G(U.x),G(U.y),G(U.x+U.width),G(U.y+U.height)].join(" ")+"]"}),fe.push({key:"Matrix",value:"["+U.matrix.toString()+"]"});var ke=U.pages[1].join(`
`);gt({data:ke,additionalKeyValues:fe,objectId:U.objectNumber}),Z("endobj")},Sr=function(U,fe){fe||(fe=21);var ke=bn(),Fe=(function(At,jt){var Qt,hn=[],an=1/(jt-1);for(Qt=0;Qt<1;Qt+=an)hn.push(Qt);if(hn.push(1),At[0].offset!=0){var Wn={offset:0,color:At[0].color};At.unshift(Wn)}if(At[At.length-1].offset!=1){var Mr={offset:1,color:At[At.length-1].color};At.push(Mr)}for(var Tr="",b=0,J=0;J<hn.length;J++){for(Qt=hn[J];Qt>At[b+1].offset;)b++;var oe=At[b].offset,Te=(Qt-oe)/(At[b+1].offset-oe),$e=At[b].color,nt=At[b+1].color;Tr+=me(Math.round((1-Te)*$e[0]+Te*nt[0]).toString(16))+me(Math.round((1-Te)*$e[1]+Te*nt[1]).toString(16))+me(Math.round((1-Te)*$e[2]+Te*nt[2]).toString(16))}return Tr.trim()})(U.colors,fe),ze=[];ze.push({key:"FunctionType",value:"0"}),ze.push({key:"Domain",value:"[0.0 1.0]"}),ze.push({key:"Size",value:"["+fe+"]"}),ze.push({key:"BitsPerSample",value:"8"}),ze.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ze.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),gt({data:Fe,additionalKeyValues:ze,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ke}),Z("endobj"),U.objectNumber=bn(),Z("<< /ShadingType "+U.type),Z("/ColorSpace /DeviceRGB");var dt="/Coords ["+G(parseFloat(U.coords[0]))+" "+G(parseFloat(U.coords[1]))+" ";U.type===2?dt+=G(parseFloat(U.coords[2]))+" "+G(parseFloat(U.coords[3])):dt+=G(parseFloat(U.coords[2]))+" "+G(parseFloat(U.coords[3]))+" "+G(parseFloat(U.coords[4]))+" "+G(parseFloat(U.coords[5])),Z(dt+="]"),U.matrix&&Z("/Matrix ["+U.matrix.toString()+"]"),Z("/Function "+ke+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},xr=function(U,fe){var ke=yn(),Fe=bn();fe.push({resourcesOid:ke,objectOid:Fe}),U.objectNumber=Fe;var ze=[];ze.push({key:"Type",value:"/Pattern"}),ze.push({key:"PatternType",value:"1"}),ze.push({key:"PaintType",value:"1"}),ze.push({key:"TilingType",value:"1"}),ze.push({key:"BBox",value:"["+U.boundingBox.map(G).join(" ")+"]"}),ze.push({key:"XStep",value:G(U.xStep)}),ze.push({key:"YStep",value:G(U.yStep)}),ze.push({key:"Resources",value:ke+" 0 R"}),U.matrix&&ze.push({key:"Matrix",value:"["+U.matrix.toString()+"]"}),gt({data:U.stream,additionalKeyValues:ze,objectId:U.objectNumber}),Z("endobj")},hr=function(U){for(var fe in U.objectNumber=bn(),Z("<<"),U)switch(fe){case"opacity":Z("/ca "+W(U[fe]));break;case"stroke-opacity":Z("/CA "+W(U[fe]))}Z(">>"),Z("endobj")},ei=function(U){$n(U.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var fe in Z("/Font <<"),Ot)Ot.hasOwnProperty(fe)&&(g===!1||g===!0&&y.hasOwnProperty(fe))&&Z("/"+fe+" "+Ot[fe].objectNumber+" 0 R");Z(">>")})(),(function(){if(Object.keys(zt).length>0){for(var fe in Z("/Shading <<"),zt)zt.hasOwnProperty(fe)&&zt[fe]instanceof Yc&&zt[fe].objectNumber>=0&&Z("/"+fe+" "+zt[fe].objectNumber+" 0 R");Tn.publish("putShadingPatternDict"),Z(">>")}})(),(function(fe){if(Object.keys(zt).length>0){for(var ke in Z("/Pattern <<"),zt)zt.hasOwnProperty(ke)&&zt[ke]instanceof m.TilingPattern&&zt[ke].objectNumber>=0&&zt[ke].objectNumber<fe&&Z("/"+ke+" "+zt[ke].objectNumber+" 0 R");Tn.publish("putTilingPatternDict"),Z(">>")}})(U.objectOid),(function(){if(Object.keys(Kt).length>0){var fe;for(fe in Z("/ExtGState <<"),Kt)Kt.hasOwnProperty(fe)&&Kt[fe].objectNumber>=0&&Z("/"+fe+" "+Kt[fe].objectNumber+" 0 R");Tn.publish("putGStateDict"),Z(">>")}})(),(function(){for(var fe in Z("/XObject <<"),je)je.hasOwnProperty(fe)&&je[fe].objectNumber>=0&&Z("/"+fe+" "+je[fe].objectNumber+" 0 R");Tn.publish("putXobjectDict"),Z(">>")})(),Z(">>"),Z("endobj")},Gr=function(U){tn[U.fontName]=tn[U.fontName]||{},tn[U.fontName][U.fontStyle]=U.id},Bo=function(U,fe,ke,Fe,ze){var dt={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:U,fontName:fe,fontStyle:ke,encoding:Fe,isStandardFont:ze||!1,metadata:{}};return Tn.publish("addFont",{font:dt,instance:this}),Ot[dt.id]=dt,Gr(dt),dt.id},Gi=m.__private__.pdfEscape=m.pdfEscape=function(U,fe){return(function(ke,Fe){var ze,dt,At,jt,Qt,hn,an,Wn,Mr;if(At=(Fe=Fe||{}).sourceEncoding||"Unicode",Qt=Fe.outputEncoding,(Fe.autoencode||Qt)&&Ot[Nt].metadata&&Ot[Nt].metadata[At]&&Ot[Nt].metadata[At].encoding&&(jt=Ot[Nt].metadata[At].encoding,!Qt&&Ot[Nt].encoding&&(Qt=Ot[Nt].encoding),!Qt&&jt.codePages&&(Qt=jt.codePages[0]),typeof Qt=="string"&&(Qt=jt[Qt]),Qt)){for(an=!1,hn=[],ze=0,dt=ke.length;ze<dt;ze++)(Wn=Qt[ke.charCodeAt(ze)])?hn.push(String.fromCharCode(Wn)):hn.push(ke[ze]),hn[ze].charCodeAt(0)>>8&&(an=!0);ke=hn.join("")}for(ze=ke.length;an===void 0&&ze!==0;)ke.charCodeAt(ze-1)>>8&&(an=!0),ze--;if(!an)return ke;for(hn=Fe.noBOM?[]:[254,255],ze=0,dt=ke.length;ze<dt;ze++){if((Mr=(Wn=ke.charCodeAt(ze))>>8)>>8)throw new Error("Character at position "+ze+" of string '"+ke+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");hn.push(Mr),hn.push(Wn-(Mr<<8))}return String.fromCharCode.apply(void 0,hn)})(U,fe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zi=m.__private__.beginPage=function(U){le[++Ut]=[],qt[Ut]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(U[0]),topRightY:Number(U[1])}},jr(Ut),z(le[ee])},fs=function(U,fe){var ke,Fe,ze;switch(n=fe||n,typeof U=="string"&&(ke=E(U.toLowerCase()),Array.isArray(ke)&&(Fe=ke[0],ze=ke[1])),Array.isArray(U)&&(Fe=U[0]*Ft,ze=U[1]*Ft),isNaN(Fe)&&(Fe=i[0],ze=i[1]),(Fe>14400||ze>14400)&&(Xr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Fe=Math.min(14400,Fe),ze=Math.min(14400,ze)),i=[Fe,ze],n.substr(0,1)){case"l":ze>Fe&&(i=[ze,Fe]);break;case"p":Fe>ze&&(i=[ze,Fe])}Zi(i),cn(ds),Z(Ss),Ts!==0&&Z(Ts+" J"),gi!==0&&Z(gi+" j"),Tn.publish("addPage",{pageNumber:Ut})},Bn=function(U){U>0&&U<=Ut&&(le.splice(U,1),qt.splice(U,1),Ut--,ee>Ut&&(ee=Ut),this.setPage(ee))},jr=function(U){U>0&&U<=Ut&&(ee=U)},_r=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return le.length-1},ai=function(U,fe,ke){var Fe,ze=void 0;return ke=ke||{},U=U!==void 0?U:Ot[Nt].fontName,fe=fe!==void 0?fe:Ot[Nt].fontStyle,Fe=U.toLowerCase(),tn[Fe]!==void 0&&tn[Fe][fe]!==void 0?ze=tn[Fe][fe]:tn[U]!==void 0&&tn[U][fe]!==void 0?ze=tn[U][fe]:ke.disableWarning===!1&&Xr.warn("Unable to look up font label for font '"+U+"', '"+fe+"'. Refer to getFontList() for available fonts."),ze||ke.noFallback||(ze=tn.times[fe])==null&&(ze=tn.times.normal),ze},Qr=m.__private__.putInfo=function(){var U=bn(),fe=function(Fe){return Fe};for(var ke in d!==null&&(fe=Wr.encryptor(U,0)),Z("<<"),Z("/Producer ("+Gi(fe("jsPDF "+ln.version))+")"),xt)xt.hasOwnProperty(ke)&&xt[ke]&&Z("/"+ke.substr(0,1).toUpperCase()+ke.substr(1)+" ("+Gi(fe(xt[ke]))+")");Z("/CreationDate ("+Gi(fe(ve))+")"),Z(">>"),Z("endobj")},Ei=m.__private__.putCatalog=function(U){var fe=(U=U||{}).rootDictionaryObjId||Ie;switch(bn(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+fe+" 0 R"),ye||(ye="fullwidth"),ye){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ke=""+ye;ke.substr(ke.length-1)==="%"&&(ye=parseInt(ye)/100),typeof ye=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+W(ye)+"]")}switch(He||(He="continuous"),He){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}Oe&&Z("/PageMode /"+Oe),Tn.publish("putCatalog"),Z(">>"),Z("endobj")},$r=m.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(ue+1)),Z("/Root "+ue+" 0 R"),Z("/Info "+(ue-1)+" 0 R"),d!==null&&Z("/Encrypt "+Wr.oid+" 0 R"),Z("/ID [ <"+ce+"> <"+ce+"> ]"),Z(">>")},In=m.__private__.putHeader=function(){Z("%PDF-"+x),Z("%")},Zs=m.__private__.putXRef=function(){var U="0000000000";Z("xref"),Z("0 "+(ue+1)),Z("0000000000 65535 f ");for(var fe=1;fe<=ue;fe++)typeof H[fe]=="function"?Z((U+H[fe]()).slice(-10)+" 00000 n "):H[fe]!==void 0?Z((U+H[fe]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},Us=m.__private__.buildDocument=function(){var U;ue=0,ge=0,j=[],H=[],he=[],Ie=yn(),rt=yn(),z(j),Tn.publish("buildDocument"),In(),En(),(function(){Tn.publish("putAdditionalObjects");for(var ke=0;ke<he.length;ke++){var Fe=he[ke];$n(Fe.objId,!0),Z(Fe.content),Z("endobj")}Tn.publish("postPutAdditionalObjects")})(),U=[],(function(){for(var ke in Ot)Ot.hasOwnProperty(ke)&&(g===!1||g===!0&&y.hasOwnProperty(ke))&&On(Ot[ke])})(),(function(){var ke;for(ke in Kt)Kt.hasOwnProperty(ke)&&hr(Kt[ke])})(),(function(){for(var ke in je)je.hasOwnProperty(ke)&&nn(je[ke])})(),(function(ke){var Fe;for(Fe in zt)zt.hasOwnProperty(Fe)&&(zt[Fe]instanceof Yc?Sr(zt[Fe]):zt[Fe]instanceof ph&&xr(zt[Fe],ke))})(U),Tn.publish("putResources"),U.forEach(ei),ei({resourcesOid:rt,objectOid:Number.MAX_SAFE_INTEGER}),Tn.publish("postPutResources"),d!==null&&(Wr.oid=bn(),Z("<<"),Z("/Filter /Standard"),Z("/V "+Wr.v),Z("/R "+Wr.r),Z("/U <"+Wr.toHexString(Wr.U)+">"),Z("/O <"+Wr.toHexString(Wr.O)+">"),Z("/P "+Wr.P),Z(">>"),Z("endobj")),Qr(),Ei();var fe=ge;return Zs(),$r(),Z("startxref"),Z(""+fe),Z("%%EOF"),z(le[ee]),j.join(`
`)},Zn=m.__private__.getBlob=function(U){return new Blob([I(U)],{type:"application/pdf"})},ta=m.output=m.__private__.output=(Yn=function(U,fe){switch(typeof(fe=fe||{})=="string"?fe={filename:fe}:fe.filename=fe.filename||"generated.pdf",U){case void 0:return Us();case"save":m.save(fe.filename);break;case"arraybuffer":return I(Us());case"blob":return Zn(Us());case"bloburi":case"bloburl":if(xn.URL!==void 0&&typeof xn.URL.createObjectURL=="function")return xn.URL&&xn.URL.createObjectURL(Zn(Us()))||void 0;Xr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ke="",Fe=Us();try{ke=ZS(Fe)}catch{ke=ZS(unescape(encodeURIComponent(Fe)))}return"data:application/pdf;filename="+fe.filename+";base64,"+ke;case"pdfobjectnewwindow":if(Object.prototype.toString.call(xn)==="[object Window]"){var ze="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",dt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';fe.pdfObjectUrl&&(ze=fe.pdfObjectUrl,dt="");var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ze+'"'+dt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(fe)+");<\/script></body></html>",jt=xn.open();return jt!==null&&jt.document.write(At),jt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(xn)==="[object Window]"){var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(fe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+fe.filename+'" width="500px" height="400px" /></body></html>',hn=xn.open();if(hn!==null){hn.document.write(Qt);var an=this;hn.document.documentElement.querySelector("#pdfViewer").onload=function(){hn.document.title=fe.filename,hn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(an.output("bloburl"))}}return hn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(xn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",fe)+'"></iframe></body></html>',Mr=xn.open();if(Mr!==null&&(Mr.document.write(Wn),Mr.document.title=fe.filename),Mr||typeof safari>"u")return Mr;break;case"datauri":case"dataurl":return xn.document.location.href=this.output("datauristring",fe);default:return null}},Yn.foo=function(){try{return Yn.apply(this,arguments)}catch(ke){var U=ke.stack||"";~U.indexOf(" at ")&&(U=U.split(" at ")[1]);var fe="Error in function "+U.split(`
`)[0].split("<")[0]+": "+ke.message;if(!xn.console)throw new Error(fe);xn.console.error(fe,ke),xn.alert&&alert(fe)}},Yn.foo.bar=Yn,Yn.foo),mi=function(U){return Array.isArray(pi)===!0&&pi.indexOf(U)>-1};switch(r){case"pt":Ft=1;break;case"mm":Ft=72/25.4;break;case"cm":Ft=72/2.54;break;case"in":Ft=72;break;case"px":Ft=mi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ft=12;break;case"ex":Ft=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ft=r}var Wr=null;re(),_e();var li=m.__private__.getPageInfo=m.getPageInfo=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:qt[U].objId,pageNumber:U,pageContext:qt[U]}},xa=m.__private__.getPageInfoByObjId=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var fe in qt)if(qt[fe].objId===U)break;return li(fe)},Tu=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:qt[ee].objId,pageNumber:ee,pageContext:qt[ee]}};m.addPage=function(){return fs.apply(this,arguments),this},m.setPage=function(){return jr.apply(this,arguments),z.call(this,le[ee]),this},m.insertPage=function(U){return this.addPage(),this.movePage(ee,U),this},m.movePage=function(U,fe){var ke,Fe;if(U>fe){ke=le[U],Fe=qt[U];for(var ze=U;ze>fe;ze--)le[ze]=le[ze-1],qt[ze]=qt[ze-1];le[fe]=ke,qt[fe]=Fe,this.setPage(fe)}else if(U<fe){ke=le[U],Fe=qt[U];for(var dt=U;dt<fe;dt++)le[dt]=le[dt+1],qt[dt]=qt[dt+1];le[fe]=ke,qt[fe]=Fe,this.setPage(fe)}return this},m.deletePage=function(){return Bn.apply(this,arguments),this},m.__private__.text=m.text=function(U,fe,ke,Fe,ze){var dt,At,jt,Qt,hn,an,Wn,Mr,Tr,b=(Fe=Fe||{}).scope||this;if(typeof U=="number"&&typeof fe=="number"&&(typeof ke=="string"||Array.isArray(ke))){var J=ke;ke=fe,fe=U,U=J}if(arguments[3]instanceof et==0?(jt=arguments[4],Qt=arguments[5],Dr(Wn=arguments[3])==="object"&&Wn!==null||(typeof jt=="string"&&(Qt=jt,jt=null),typeof Wn=="string"&&(Qt=Wn,Wn=null),typeof Wn=="number"&&(jt=Wn,Wn=null),Fe={flags:Wn,angle:jt,align:Qt})):(C("The transform parameter of text() with a Matrix value"),Tr=ze),isNaN(fe)||isNaN(ke)||U==null)throw new Error("Invalid arguments passed to jsPDF.text");if(U.length===0)return b;var oe,Te="",$e=typeof Fe.lineHeightFactor=="number"?Fe.lineHeightFactor:zo,nt=b.internal.scaleFactor;function Rt(dr){return dr=dr.split("	").join(Array(Fe.TabLen||9).join(" ")),Gi(dr,Wn)}function An(dr){for(var ir,Fr=dr.concat(),vi=[],da=Fr.length;da--;)typeof(ir=Fr.shift())=="string"?vi.push(ir):Array.isArray(dr)&&(ir.length===1||ir[1]===void 0&&ir[2]===void 0)?vi.push(ir[0]):vi.push([ir[0],ir[1],ir[2]]);return vi}function Or(dr,ir){var Fr;if(typeof dr=="string")Fr=ir(dr)[0];else if(Array.isArray(dr)){for(var vi,da,$o=dr.concat(),Gl=[],Nc=$o.length;Nc--;)typeof(vi=$o.shift())=="string"?Gl.push(ir(vi)[0]):Array.isArray(vi)&&typeof vi[0]=="string"&&(da=ir(vi[0],vi[1],vi[2]),Gl.push([da[0],da[1],da[2]]));Fr=Gl}return Fr}var Vn=!1,gr=!0;if(typeof U=="string")Vn=!0;else if(Array.isArray(U)){var $i=U.concat();At=[];for(var ts,Nr=$i.length;Nr--;)(typeof(ts=$i.shift())!="string"||Array.isArray(ts)&&typeof ts[0]!="string")&&(gr=!1);Vn=gr}if(Vn===!1)throw new Error('Type of text must be string or Array. "'+U+'" is not recognized.');typeof U=="string"&&(U=U.match(/[\r?\n]/)?U.split(/\r\n|\r|\n/g):[U]);var ns=q/b.internal.scaleFactor,ro=ns*($e-1);switch(Fe.baseline){case"bottom":ke-=ro;break;case"top":ke+=ns-ro;break;case"hanging":ke+=ns-2*ro;break;case"middle":ke+=ns/2-ro}if((an=Fe.maxWidth||0)>0&&(typeof U=="string"?U=b.splitTextToSize(U,an):Object.prototype.toString.call(U)==="[object Array]"&&(U=U.reduce(function(dr,ir){return dr.concat(b.splitTextToSize(ir,an))},[]))),dt={text:U,x:fe,y:ke,options:Fe,mutex:{pdfEscape:Gi,activeFontKey:Nt,fonts:Ot,activeFontSize:q}},Tn.publish("preProcessText",dt),U=dt.text,jt=(Fe=dt.options).angle,Tr instanceof et==0&&jt&&typeof jt=="number"){jt*=Math.PI/180,Fe.rotationDirection===0&&(jt=-jt),N===P&&(jt=-jt);var oa=Math.cos(jt),aa=Math.sin(jt);Tr=new et(oa,aa,-aa,oa,0,0)}else jt&&jt instanceof et&&(Tr=jt);N!==P||Tr||(Tr=Yt),(hn=Fe.charSpace||xs)!==void 0&&(Te+=G(B(hn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mr=Fe.horizontalScale)!==void 0&&(Te+=G(100*Mr)+` Tz
`),Fe.lang;var Ns=-1,Ra=Fe.renderingMode!==void 0?Fe.renderingMode:Fe.stroke,Cu=b.internal.getCurrentPageInfo().pageContext;switch(Ra){case 0:case!1:case"fill":Ns=0;break;case 1:case!0:case"stroke":Ns=1;break;case 2:case"fillThenStroke":Ns=2;break;case 3:case"invisible":Ns=3;break;case 4:case"fillAndAddForClipping":Ns=4;break;case 5:case"strokeAndAddPathForClipping":Ns=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ns=6;break;case 7:case"addToPathForClipping":Ns=7}var Tc=Cu.usedRenderingMode!==void 0?Cu.usedRenderingMode:-1;Ns!==-1?Te+=Ns+` Tr
`:Tc!==-1&&(Te+=`0 Tr
`),Ns!==-1&&(Cu.usedRenderingMode=Ns),Qt=Fe.align||"left";var io,Go=q*$e,ka=b.internal.pageSize.getWidth(),Cc=Ot[Nt];hn=Fe.charSpace||xs,an=Fe.maxWidth||0,Wn=Object.assign({autoencode:!0,noBOM:!0},Fe.flags);var jo=[],al=function(dr){return b.getStringUnitWidth(dr,{font:Cc,charSpace:hn,fontSize:q,doKerning:!1})*q/nt};if(Object.prototype.toString.call(U)==="[object Array]"){var Vs;At=An(U),Qt!=="left"&&(io=At.map(al));var Is,la=0;if(Qt==="right"){fe-=io[0],U=[],Nr=At.length;for(var ua=0;ua<Nr;ua++)ua===0?(Is=Mi(fe),Vs=Ai(ke)):(Is=B(la-io[ua]),Vs=-Go),U.push([At[ua],Is,Vs]),la=io[ua]}else if(Qt==="center"){fe-=io[0]/2,U=[],Nr=At.length;for(var La=0;La<Nr;La++)La===0?(Is=Mi(fe),Vs=Ai(ke)):(Is=B((la-io[La])/2),Vs=-Go),U.push([At[La],Is,Vs]),la=io[La]}else if(Qt==="left"){U=[],Nr=At.length;for(var Nu=0;Nu<Nr;Nu++)U.push(At[Nu])}else if(Qt==="justify"&&Cc.encoding==="Identity-H"){U=[],Nr=At.length,an=an!==0?an:ka;for(var Iu=0,yi=0;yi<Nr;yi++)if(Vs=yi===0?Ai(ke):-Go,Is=yi===0?Mi(fe):Iu,yi<Nr-1){var wf=B((an-io[yi])/(At[yi].split(" ").length-1)),ca=At[yi].split(" ");U.push([ca[0]+" ",Is,Vs]),Iu=0;for(var fa=1;fa<ca.length;fa++){var rs=(al(ca[fa-1]+" "+ca[fa])-al(ca[fa]))*nt+wf;fa==ca.length-1?U.push([ca[fa],rs,0]):U.push([ca[fa]+" ",rs,0]),Iu-=rs}}else U.push([At[yi],Is,Vs]);U.push(["",Iu,0])}else{if(Qt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(U=[],Nr=At.length,an=an!==0?an:ka,yi=0;yi<Nr;yi++){Vs=yi===0?Ai(ke):-Go,Is=yi===0?Mi(fe):0;var Da=At[yi].split(" ").length-1,Ru=Da>0?(an-io[yi])/Da:0;yi<Nr-1?jo.push(G(B(Ru))):jo.push(0),U.push([At[yi],Is,Vs])}}}(typeof Fe.R2L=="boolean"?Fe.R2L:Ae)===!0&&(U=Or(U,function(dr,ir,Fr){return[dr.split("").reverse().join(""),ir,Fr]})),dt={text:U,x:fe,y:ke,options:Fe,mutex:{pdfEscape:Gi,activeFontKey:Nt,fonts:Ot,activeFontSize:q}},Tn.publish("postProcessText",dt),U=dt.text,oe=dt.mutex.isHex||!1;var ku=Ot[Nt].encoding;ku!=="WinAnsiEncoding"&&ku!=="StandardEncoding"||(U=Or(U,function(dr,ir,Fr){return[Rt(dr),ir,Fr]})),At=An(U),U=[];for(var Pa,Ma,ha,Hl=Array.isArray(At[0])?1:0,so="",Oa=function(dr,ir,Fr){var vi="";return Fr instanceof et?(Fr=typeof Fe.angle=="number"?kt(Fr,new et(1,0,0,1,dr,ir)):kt(new et(1,0,0,1,dr,ir),Fr),N===P&&(Fr=kt(new et(1,0,0,-1,0,0),Fr)),vi=Fr.join(" ")+` Tm
`):vi=G(dr)+" "+G(ir)+` Td
`,vi},ps=0;ps<At.length;ps++){switch(so="",Hl){case 1:ha=(oe?"<":"(")+At[ps][0]+(oe?">":")"),Pa=parseFloat(At[ps][1]),Ma=parseFloat(At[ps][2]);break;case 0:ha=(oe?"<":"(")+At[ps]+(oe?">":")"),Pa=Mi(fe),Ma=Ai(ke)}jo!==void 0&&jo[ps]!==void 0&&(so=jo[ps]+` Tw
`),ps===0?U.push(so+Oa(Pa,Ma,Tr)+ha):Hl===0?U.push(so+ha):Hl===1&&U.push(so+Oa(Pa,Ma,Tr)+ha)}U=Hl===0?U.join(` Tj
T* `):U.join(` Tj
`),U+=` Tj
`;var vo=`BT
/`;return vo+=Nt+" "+q+` Tf
`,vo+=G(q*$e)+` TL
`,vo+=to+`
`,vo+=Te,vo+=U,Z(vo+="ET"),y[Nt]=!0,b};var Fl=m.__private__.clip=m.clip=function(U){return Z(U==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Fl("evenodd")},m.__private__.discardPath=m.discardPath=function(){return Z("n"),this};var es=m.__private__.isValidStyle=function(U){var fe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(U)!==-1&&(fe=!0),fe};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(U){return es(U)&&(f=U),this};var Ul=m.__private__.getStyle=m.getStyle=function(U){var fe=f;switch(U){case"D":case"S":fe="S";break;case"F":fe="f";break;case"FD":case"DF":fe="B";break;case"f":case"f*":case"B":case"B*":fe=U}return fe},Vo=m.close=function(){return Z("h"),this};m.stroke=function(){return Z("S"),this},m.fill=function(U){return Pi("f",U),this},m.fillEvenOdd=function(U){return Pi("f*",U),this},m.fillStroke=function(U){return Pi("B",U),this},m.fillStrokeEvenOdd=function(U){return Pi("B*",U),this};var Pi=function(U,fe){Dr(fe)==="object"?Vl(fe,U):Z(U)},na=function(U){U===null||N===P&&U===void 0||(U=Ul(U),Z(U))};function Bl(U,fe,ke,Fe,ze){var dt=new ph(fe||this.boundingBox,ke||this.xStep,Fe||this.yStep,this.gState,ze||this.matrix);dt.stream=this.stream;var At=U+"$$"+this.cloneIndex+++"$$";return un(At,dt),dt}var Vl=function(U,fe){var ke=Pn[U.key],Fe=zt[ke];if(Fe instanceof Yc)Z("q"),Z(nl(fe)),Fe.gState&&m.setGState(Fe.gState),Z(U.matrix.toString()+" cm"),Z("/"+ke+" sh"),Z("Q");else if(Fe instanceof ph){var ze=new et(1,0,0,-1,0,no());U.matrix&&(ze=ze.multiply(U.matrix||Yt),ke=Bl.call(Fe,U.key,U.boundingBox,U.xStep,U.yStep,ze).id),Z("q"),Z("/Pattern cs"),Z("/"+ke+" scn"),Fe.gState&&m.setGState(Fe.gState),Z(fe),Z("Q")}},nl=function(U){switch(U){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},rl=m.moveTo=function(U,fe){return Z(G(B(U))+" "+G(F(fe))+" m"),this},qo=m.lineTo=function(U,fe){return Z(G(B(U))+" "+G(F(fe))+" l"),this},hs=m.curveTo=function(U,fe,ke,Fe,ze,dt){return Z([G(B(U)),G(F(fe)),G(B(ke)),G(F(Fe)),G(B(ze)),G(F(dt)),"c"].join(" ")),this};m.__private__.line=m.line=function(U,fe,ke,Fe,ze){if(isNaN(U)||isNaN(fe)||isNaN(ke)||isNaN(Fe)||!es(ze))throw new Error("Invalid arguments passed to jsPDF.line");return N===M?this.lines([[ke-U,Fe-fe]],U,fe,[1,1],ze||"S"):this.lines([[ke-U,Fe-fe]],U,fe,[1,1]).stroke()},m.__private__.lines=m.lines=function(U,fe,ke,Fe,ze,dt){var At,jt,Qt,hn,an,Wn,Mr,Tr,b,J,oe,Te;if(typeof U=="number"&&(Te=ke,ke=fe,fe=U,U=Te),Fe=Fe||[1,1],dt=dt||!1,isNaN(fe)||isNaN(ke)||!Array.isArray(U)||!Array.isArray(Fe)||!es(ze)||typeof dt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(rl(fe,ke),At=Fe[0],jt=Fe[1],hn=U.length,J=fe,oe=ke,Qt=0;Qt<hn;Qt++)(an=U[Qt]).length===2?(J=an[0]*At+J,oe=an[1]*jt+oe,qo(J,oe)):(Wn=an[0]*At+J,Mr=an[1]*jt+oe,Tr=an[2]*At+J,b=an[3]*jt+oe,J=an[4]*At+J,oe=an[5]*jt+oe,hs(Wn,Mr,Tr,b,J,oe));return dt&&Vo(),na(ze),this},m.path=function(U){for(var fe=0;fe<U.length;fe++){var ke=U[fe],Fe=ke.c;switch(ke.op){case"m":rl(Fe[0],Fe[1]);break;case"l":qo(Fe[0],Fe[1]);break;case"c":hs.apply(this,Fe);break;case"h":Vo()}}return this},m.__private__.rect=m.rect=function(U,fe,ke,Fe,ze){if(isNaN(U)||isNaN(fe)||isNaN(ke)||isNaN(Fe)||!es(ze))throw new Error("Invalid arguments passed to jsPDF.rect");return N===M&&(Fe=-Fe),Z([G(B(U)),G(F(fe)),G(B(ke)),G(B(Fe)),"re"].join(" ")),na(ze),this},m.__private__.triangle=m.triangle=function(U,fe,ke,Fe,ze,dt,At){if(isNaN(U)||isNaN(fe)||isNaN(ke)||isNaN(Fe)||isNaN(ze)||isNaN(dt)||!es(At))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ke-U,Fe-fe],[ze-ke,dt-Fe],[U-ze,fe-dt]],U,fe,[1,1],At,!0),this},m.__private__.roundedRect=m.roundedRect=function(U,fe,ke,Fe,ze,dt,At){if(isNaN(U)||isNaN(fe)||isNaN(ke)||isNaN(Fe)||isNaN(ze)||isNaN(dt)||!es(At))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var jt=4/3*(Math.SQRT2-1);return ze=Math.min(ze,.5*ke),dt=Math.min(dt,.5*Fe),this.lines([[ke-2*ze,0],[ze*jt,0,ze,dt-dt*jt,ze,dt],[0,Fe-2*dt],[0,dt*jt,-ze*jt,dt,-ze,dt],[2*ze-ke,0],[-ze*jt,0,-ze,-dt*jt,-ze,-dt],[0,2*dt-Fe],[0,-dt*jt,ze*jt,-dt,ze,-dt]],U+ze,fe,[1,1],At,!0),this},m.__private__.ellipse=m.ellipse=function(U,fe,ke,Fe,ze){if(isNaN(U)||isNaN(fe)||isNaN(ke)||isNaN(Fe)||!es(ze))throw new Error("Invalid arguments passed to jsPDF.ellipse");var dt=4/3*(Math.SQRT2-1)*ke,At=4/3*(Math.SQRT2-1)*Fe;return rl(U+ke,fe),hs(U+ke,fe-At,U+dt,fe-Fe,U,fe-Fe),hs(U-dt,fe-Fe,U-ke,fe-At,U-ke,fe),hs(U-ke,fe+At,U-dt,fe+Fe,U,fe+Fe),hs(U+dt,fe+Fe,U+ke,fe+At,U+ke,fe),na(ze),this},m.__private__.circle=m.circle=function(U,fe,ke,Fe){if(isNaN(U)||isNaN(fe)||isNaN(ke)||!es(Fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(U,fe,ke,ke,Fe)},m.setFont=function(U,fe,ke){return ke&&(fe=V(fe,ke)),Nt=ai(U,fe,{disableWarning:!1}),this};var eo=m.__private__.getFont=m.getFont=function(){return Ot[ai.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var U,fe,ke={};for(U in tn)if(tn.hasOwnProperty(U))for(fe in ke[U]=[],tn[U])tn[U].hasOwnProperty(fe)&&ke[U].push(fe);return ke},m.addFont=function(U,fe,ke,Fe,ze){var dt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&dt.indexOf(arguments[3])!==-1?ze=arguments[3]:arguments[3]&&dt.indexOf(arguments[3])==-1&&(ke=V(ke,Fe)),Bo.call(this,U,fe,ke,ze=ze||"Identity-H")};var zo,ds=t.lineWidth||.200025,ra=m.__private__.getLineWidth=m.getLineWidth=function(){return ds},cn=m.__private__.setLineWidth=m.setLineWidth=function(U){return ds=U,Z(G(B(U))+" w"),this};m.__private__.setLineDash=ln.API.setLineDash=ln.API.setLineDashPattern=function(U,fe){if(U=U||[],fe=fe||0,isNaN(fe)||!Array.isArray(U))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return U=U.map(function(ke){return G(B(ke))}).join(" "),fe=G(B(fe)),Z("["+U+"] "+fe+" d"),this};var Ta=m.__private__.getLineHeight=m.getLineHeight=function(){return q*zo};m.__private__.getLineHeight=m.getLineHeight=function(){return q*zo};var il=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(U){return typeof(U=U||1.15)=="number"&&(zo=U),this},ia=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return zo};il(t.lineHeight);var Mi=m.__private__.getHorizontalCoordinate=function(U){return B(U)},Ai=m.__private__.getVerticalCoordinate=function(U){return N===P?U:qt[ee].mediaBox.topRightY-qt[ee].mediaBox.bottomLeftY-B(U)},Ca=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(U){return G(Mi(U))},mr=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(U){return G(Ai(U))},Ss=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return vt(Ss)},m.__private__.setStrokeColor=m.setDrawColor=function(U,fe,ke,Fe){return Ss=ut({ch1:U,ch2:fe,ch3:ke,ch4:Fe,pdfColorType:"draw",precision:2}),Z(Ss),this};var Na=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return vt(Na)},m.__private__.setFillColor=m.setFillColor=function(U,fe,ke,Fe){return Na=ut({ch1:U,ch2:fe,ch3:ke,ch4:Fe,pdfColorType:"fill",precision:2}),Z(Na),this};var to=t.textColor||"0 g",ql=m.__private__.getTextColor=m.getTextColor=function(){return vt(to)};m.__private__.setTextColor=m.setTextColor=function(U,fe,ke,Fe){return to=ut({ch1:U,ch2:fe,ch3:ke,ch4:Fe,pdfColorType:"text",precision:3}),this};var xs=t.charSpace,Ho=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(xs||0)};m.__private__.setCharSpace=m.setCharSpace=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xs=U,this};var Ts=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(U){var fe=m.CapJoinStyles[U];if(fe===void 0)throw new Error("Line cap style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ts=fe,Z(fe+" J"),this};var gi=0;m.__private__.setLineJoin=m.setLineJoin=function(U){var fe=m.CapJoinStyles[U];if(fe===void 0)throw new Error("Line join style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gi=fe,Z(fe+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(U){if(U=U||0,isNaN(U))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(G(B(U))+" M"),this},m.GState=Tg,m.setGState=function(U){(U=typeof U=="string"?Kt[on[U]]:ho(null,U)).equals(Hn)||(Z("/"+U.id+" gs"),Hn=U)};var ho=function(U,fe){if(!U||!on[U]){var ke=!1;for(var Fe in Kt)if(Kt.hasOwnProperty(Fe)&&Kt[Fe].equals(fe)){ke=!0;break}if(ke)fe=Kt[Fe];else{var ze="GS"+(Object.keys(Kt).length+1).toString(10);Kt[ze]=fe,fe.id=ze}return U&&(on[U]=fe.id),Tn.publish("addGState",fe),fe}};m.addGState=function(U,fe){return ho(U,fe),this},m.saveGraphicsState=function(){return Z("q"),sn.push({key:Nt,size:q,color:to}),this},m.restoreGraphicsState=function(){Z("Q");var U=sn.pop();return Nt=U.key,q=U.size,to=U.color,Hn=null,this},m.setCurrentTransformationMatrix=function(U){return Z(U.toString()+" cm"),this},m.comment=function(U){return Z("#"+U),this};var ji=function(U,fe){var ke=U||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ke},set:function(dt){isNaN(dt)||(ke=parseFloat(dt))}});var Fe=fe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Fe},set:function(dt){isNaN(dt)||(Fe=parseFloat(dt))}});var ze="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ze},set:function(dt){ze=dt.toString()}}),this},po=function(U,fe,ke,Fe){ji.call(this,U,fe),this.type="rect";var ze=ke||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ze},set:function(At){isNaN(At)||(ze=parseFloat(At))}});var dt=Fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return dt},set:function(At){isNaN(At)||(dt=parseFloat(At))}}),this},sa=function(){this.page=Ut,this.currentPage=ee,this.pages=le.slice(0),this.pagesContext=qt.slice(0),this.x=Dt,this.y=gn,this.matrix=Mt,this.width=Bs(ee),this.height=sl(ee),this.outputDestination=De,this.id="",this.objectNumber=-1};sa.prototype.restore=function(){Ut=this.page,ee=this.currentPage,qt=this.pagesContext,le=this.pages,Dt=this.x,gn=this.y,Mt=this.matrix,Ia(ee,this.width),Cs(ee,this.height),De=this.outputDestination};var mo=function(U,fe,ke,Fe,ze){Pe.push(new sa),Ut=ee=0,le=[],Dt=U,gn=fe,Mt=ze,Zi([ke,Fe])};for(var go in m.beginFormObject=function(U,fe,ke,Fe,ze){return mo(U,fe,ke,Fe,ze),this},m.endFormObject=function(U){return(function(fe){if(lt[fe])Pe.pop().restore();else{var ke=new sa,Fe="Xo"+(Object.keys(je).length+1).toString(10);ke.id=Fe,lt[fe]=Fe,je[Fe]=ke,Tn.publish("addFormObject",ke),Pe.pop().restore()}})(U),this},m.doFormObject=function(U,fe){var ke=je[lt[U]];return Z("q"),Z(fe.toString()+" cm"),Z("/"+ke.id+" Do"),Z("Q"),this},m.getFormObject=function(U){var fe=je[lt[U]];return{x:fe.x,y:fe.y,width:fe.width,height:fe.height,matrix:fe.matrix}},m.save=function(U,fe){return U=U||"generated.pdf",(fe=fe||{}).returnPromise=fe.returnPromise||!1,fe.returnPromise===!1?(Wc(Zn(Us()),U),typeof Wc.unload=="function"&&xn.setTimeout&&setTimeout(Wc.unload,911),this):new Promise(function(ke,Fe){try{var ze=Wc(Zn(Us()),U);typeof Wc.unload=="function"&&xn.setTimeout&&setTimeout(Wc.unload,911),ke(ze)}catch(dt){Fe(dt.message)}})},ln.API)ln.API.hasOwnProperty(go)&&(go==="events"&&ln.API.events.length?(function(U,fe){var ke,Fe,ze;for(ze=fe.length-1;ze!==-1;ze--)ke=fe[ze][0],Fe=fe[ze][1],U.subscribe.apply(U,[ke].concat(typeof Fe=="function"?[Fe]:Fe))})(Tn,ln.API.events):m[go]=ln.API[go]);function Bs(U){return qt[U].mediaBox.topRightX-qt[U].mediaBox.bottomLeftX}function Ia(U,fe){qt[U].mediaBox.topRightX=fe+qt[U].mediaBox.bottomLeftX}function sl(U){return qt[U].mediaBox.topRightY-qt[U].mediaBox.bottomLeftY}function Cs(U,fe){qt[U].mediaBox.topRightY=fe+qt[U].mediaBox.bottomLeftY}var yo=m.getPageWidth=function(U){return Bs(U=U||ee)/Ft},zl=m.setPageWidth=function(U,fe){Ia(U,fe*Ft)},no=m.getPageHeight=function(U){return sl(U=U||ee)/Ft},ol=m.setPageHeight=function(U,fe){Cs(U,fe*Ft)};return m.internal={pdfEscape:Gi,getStyle:Ul,getFont:eo,getFontSize:Ce,getCharSpace:Ho,getTextColor:ql,getLineHeight:Ta,getLineHeightFactor:ia,getLineWidth:ra,write:Y,getHorizontalCoordinate:Mi,getVerticalCoordinate:Ai,getCoordinateString:Ca,getVerticalCoordinateString:mr,collections:{},newObject:bn,newAdditionalObject:Gn,newObjectDeferred:yn,newObjectDeferredBegin:$n,getFilters:ht,putStream:gt,events:Tn,scaleFactor:Ft,pageSize:{getWidth:function(){return yo(ee)},setWidth:function(U){zl(ee,U)},getHeight:function(){return no(ee)},setHeight:function(U){ol(ee,U)}},encryptionOptions:d,encryption:Wr,getEncryptor:function(U){return d!==null?Wr.encryptor(U,0):function(fe){return fe}},output:ta,getNumberOfPages:_r,get pages(){return le},out:Z,f2:W,f3:D,getPageInfo:li,getPageInfoByObjId:xa,getCurrentPageInfo:Tu,getPDFVersion:S,Point:ji,Rectangle:po,Matrix:et,hasHotfix:mi},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return yo(ee)},set:function(U){zl(ee,U)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return no(ee)},set:function(U){ol(ee,U)},enumerable:!0,configurable:!0}),(function(U){for(var fe=0,ke=L.length;fe<ke;fe++){var Fe=Bo.call(this,U[fe][0],U[fe][1],U[fe][2],L[fe][3],!0);g===!1&&(y[Fe]=!0);var ze=U[fe][0].split("-");Gr({id:Fe,fontName:ze[0],fontStyle:ze[1]||""})}Tn.publish("addFonts",{fonts:Ot,dictionary:tn})}).call(m,L),Nt="F1",fs(i,n),Tn.publish("initialized"),m}sh.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},sh.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},sh.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},sh.prototype.processOwnerPassword=function(t,e){return K2(W2(e).substr(0,5),t)},sh.prototype.encryptor=function(t,e){var n=W2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return K2(n,r)}},Tg.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Dr(t)!==Dr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ln.API={events:[]},ln.version="4.1.0";var ki=ln.API,Hw=1,df=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},eh=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Cg=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var n=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},Ln=function(t){return t.toFixed(2)},nc=function(t){return t.toFixed(5)};ki.__acroform__={};var Uo=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},rx=function(t){return t*Hw},Al=function(t){var e=new DN,n=en.internal.getHeight(t)||0,r=en.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ln(r)),Number(Ln(n))],e},rV=ki.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},iV=ki.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},sV=ki.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Bi=ki.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return sV(t,e-1)},Vi=ki.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return rV(t,e-1)},qi=ki.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return iV(t,e-1)},oV=ki.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],l=t[2],u=t[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(s+u)||0,c.upperRight_X=n(i+l)||0,c.upperRight_Y=r(s)||0,[Number(Ln(c.lowerLeft_X)),Number(Ln(c.lowerLeft_Y)),Number(Ln(c.upperRight_X)),Number(Ln(c.upperRight_Y))]},aV=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Y2(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Ln(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Al(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Y2=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(W){return W.split(`
`)}):i.map(function(W){return[W]});var s=n,l=en.internal.getHeight(t)||0;l=l<0?-l:l;var u=en.internal.getWidth(t)||0;u=u<0?-u:u;var c=function(W,D,B){if(W+1<i.length){var F=D+" "+i[W+1][0];return Pm(F,t,B).width<=u-4}return!1};s++;e:for(;s>0;){e="",s--;var f,d,g=Pm("3",t,s).height,y=t.multiline?l-s:(l-g)/2,m=y+=2,x=0,S=0,R=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Pm(e,t,s=12).width+", FieldWidth:"+u+`
`;break}for(var E="",M=0,P=0;P<i.length;P++)if(i.hasOwnProperty(P)){var N=!1;if(i[P].length!==1&&R!==i[P].length-1){if((g+2)*(M+2)+2>l)continue e;E+=i[P][R],N=!0,S=P,P--}else{E=(E+=i[P][R]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var $=parseInt(P),Q=c($,E,s),V=P>=i.length-1;if(Q&&!V){E+=" ",R=0;continue}if(Q||V){if(V)S=$;else if(t.multiline&&(g+2)*(M+2)+2>l)continue e}else{if(!t.multiline||(g+2)*(M+2)+2>l)continue e;S=$}}for(var G="",C=x;C<=S;C++){var X=i[C];if(t.multiline){if(C===S){G+=X[R]+" ",R=(R+1)%X.length;continue}if(C===x){G+=X[X.length-1]+" ";continue}}G+=X[0]+" "}switch(G=G.substr(G.length-1)==" "?G.substr(0,G.length-1):G,d=Pm(G,t,s).width,t.textAlign){case"right":f=u-d-2;break;case"center":f=(u-d)/2;break;default:f=2}e+=Ln(f)+" "+Ln(m)+` Td
`,e+="("+df(G)+`) Tj
`,e+=-Ln(f)+` 0 Td
`,m=-(s+2),d=0,x=N?S:S+1,M++,E=""}break}return r.text=e,r.fontSize=s,r},Pm=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},lV={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},uV=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},cV=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(el.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(lV)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Hw=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new PN,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&uV(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var l in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var u=r[l],c=[],f=u.Rect;if(u.Rect&&(u.Rect=oV(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=en.createDefaultAppearanceStream(u),Dr(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(c=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var d=aV(u);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(u.appearanceStreamContent){var g="";for(var y in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(y)){var m=u.appearanceStreamContent[y];if(g+="/"+y+" ",g+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var l in m)if(m.hasOwnProperty(l)){var x=m[l];typeof x=="function"&&(x=x.call(i,u)),g+="/"+l+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(i,u)),g+="/"+l+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);g+=">>"}c.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:u.objId}),i.internal.out("endobj")}s&&(function(S,R){for(var E in S)if(S.hasOwnProperty(E)){var M=E,P=S[E];R.internal.newObjectDeferredBegin(P.objId,!0),Dr(P)==="object"&&typeof P.putStream=="function"&&P.putStream(),delete S[M]}})(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},LN=ki.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(l){return l};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Dr(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)==="/"?i+="/"+Cg(t[s].substr(1)):(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+df(r(t[s].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},h1=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+df(r(t))+")"},Nl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Nl.prototype.toString=function(){return this.objId+" 0 R"},Nl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Nl.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:LN(i,this.objId,this.scope)}):i instanceof Nl?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var DN=function(){Nl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Uo(DN,Nl);var PN=function(){Nl.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+df(n(t))+")"}},set:function(n){t=n}})};Uo(PN,Nl);var el=function t(){Nl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Bi(e,3)},set:function(E){E?this.F=Vi(e,3):this.F=qi(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');n=E}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(E){r=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(E){r[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(E){r[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(E){r[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(E){r[3]=E}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Ng)return;s="FieldObject"+t.FieldNum++}var E=function(M){return M};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+df(E(s))+")"},set:function(E){s=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(E){s=E}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(E){l=E}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(E){u=E}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(E){c=E}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/Hw:f},set:function(E){f=E}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(E){d=E}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Ng||this instanceof ef))return h1(g,this.objId,this.scope)},set:function(E){E=E.toString(),g=E}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Es==0?h1(y,this.objId,this.scope):y},set:function(E){E=E.toString(),y=this instanceof Es==0?E.substr(0,1)==="("?eh(E.substr(1,E.length-2)):eh(E):E}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Es==1?eh(y.substr(1,y.length-1)):y},set:function(E){E=E.toString(),y=this instanceof Es==1?"/"+Cg(E):E}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Es==0?h1(m,this.objId,this.scope):m},set:function(E){E=E.toString(),m=this instanceof Es==0?E.substr(0,1)==="("?eh(E.substr(1,E.length-2)):eh(E):E}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Es==1?eh(m.substr(1,m.length-1)):m},set:function(E){E=E.toString(),m=this instanceof Es==1?"/"+Cg(E):E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(E){E=!!E,S=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(E){x=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,1)},set:function(E){E?this.Ff=Vi(this.Ff,1):this.Ff=qi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,2)},set:function(E){E?this.Ff=Vi(this.Ff,2):this.Ff=qi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,3)},set:function(E){E?this.Ff=Vi(this.Ff,3):this.Ff=qi(this.Ff,3)}});var R=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(R!==null)return R},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');R=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(R){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:R=2;break;case"center":case 1:R=1;break;default:R=0}}})};Uo(el,Nl);var vh=function(){el.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return LN(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(s,l,u){u||(u=1);for(var c,f=[];c=l.exec(s);)f.push(c[u]);return f})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,18)},set:function(n){n?this.Ff=Vi(this.Ff,18):this.Ff=qi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Vi(this.Ff,19):this.Ff=qi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,20)},set:function(n){n?(this.Ff=Vi(this.Ff,20),e.sort()):this.Ff=qi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,22)},set:function(n){n?this.Ff=Vi(this.Ff,22):this.Ff=qi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,23)},set:function(n){n?this.Ff=Vi(this.Ff,23):this.Ff=qi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,27)},set:function(n){n?this.Ff=Vi(this.Ff,27):this.Ff=qi(this.Ff,27)}}),this.hasAppearanceStream=!1};Uo(vh,el);var wh=function(){vh.call(this),this.fontName="helvetica",this.combo=!1};Uo(wh,vh);var _h=function(){wh.call(this),this.combo=!0};Uo(_h,wh);var ag=function(){_h.call(this),this.edit=!0};Uo(ag,_h);var Es=function(){el.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,15)},set:function(n){n?this.Ff=Vi(this.Ff,15):this.Ff=qi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,16)},set:function(n){n?this.Ff=Vi(this.Ff,16):this.Ff=qi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,17)},set:function(n){n?this.Ff=Vi(this.Ff,17):this.Ff=qi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,26)},set:function(n){n?this.Ff=Vi(this.Ff,26):this.Ff=qi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+df(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Dr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+Cg(n)}})};Uo(Es,el);var lg=function(){Es.call(this),this.pushButton=!0};Uo(lg,Es);var bh=function(){Es.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Uo(bh,Es);var Ng=function(){var t,e;el.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,l=[];for(s in l.push("<<"),r)l.push("/"+s+" ("+df(i(r[s]))+")");return l.push(">>"),l.join(`
`)},set:function(i){Dr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=en.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Uo(Ng,el),bh.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},bh.prototype.createOption=function(t){var e=new Ng;return e.Parent=this,e.optionName=t,this.Kids.push(e),fV.call(this.scope,e),e};var ug=function(){Es.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=en.CheckBox.createAppearanceStream()};Uo(ug,Es);var ef=function(){el.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,13)},set:function(e){e?this.Ff=Vi(this.Ff,13):this.Ff=qi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,21)},set:function(e){e?this.Ff=Vi(this.Ff,21):this.Ff=qi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,23)},set:function(e){e?this.Ff=Vi(this.Ff,23):this.Ff=qi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,24)},set:function(e){e?this.Ff=Vi(this.Ff,24):this.Ff=qi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,25)},set:function(e){e?this.Ff=Vi(this.Ff,25):this.Ff=qi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,26)},set:function(e){e?this.Ff=Vi(this.Ff,26):this.Ff=qi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Uo(ef,el);var cg=function(){ef.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,14)},set:function(t){t?this.Ff=Vi(this.Ff,14):this.Ff=qi(this.Ff,14)}}),this.password=!0};Uo(cg,ef);var en={CheckBox:{createAppearanceStream:function(){return{N:{On:en.CheckBox.YesNormal},D:{On:en.CheckBox.YesPushDown,Off:en.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Al(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Y2(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Ln(en.internal.getWidth(t))+" "+Ln(en.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Ln(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Al(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=en.internal.getHeight(t),l=en.internal.getWidth(t),u=Y2(t,t.caption);return i.push("1 g"),i.push("0 0 "+Ln(l)+" "+Ln(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ln(l-1)+" "+Ln(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Ln(u.fontSize)+" Tf "+r),i.push(u.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Al(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ln(en.internal.getWidth(t))+" "+Ln(en.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:en.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=en.RadioButton.Circle.YesNormal,e.D[t]=en.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Al(t);e.scope=t.scope;var n=[],r=en.internal.getWidth(t)<=en.internal.getHeight(t)?en.internal.getWidth(t)/4:en.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=en.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+nc(en.internal.getWidth(t)/2)+" "+nc(en.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Al(t);e.scope=t.scope;var n=[],r=en.internal.getWidth(t)<=en.internal.getHeight(t)?en.internal.getWidth(t)/4:en.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*en.internal.Bezier_C).toFixed(5)),l=Number((r*en.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+nc(en.internal.getWidth(t)/2)+" "+nc(en.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+nc(en.internal.getWidth(t)/2)+" "+nc(en.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),n.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),n.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),n.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Al(t);e.scope=t.scope;var n=[],r=en.internal.getWidth(t)<=en.internal.getHeight(t)?en.internal.getWidth(t)/4:en.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*en.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+nc(en.internal.getWidth(t)/2)+" "+nc(en.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:en.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=en.RadioButton.Cross.YesNormal,e.D[t]=en.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Al(t);e.scope=t.scope;var n=[],r=en.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Ln(en.internal.getWidth(t)-2)+" "+Ln(en.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ln(r.x1.x)+" "+Ln(r.x1.y)+" m"),n.push(Ln(r.x2.x)+" "+Ln(r.x2.y)+" l"),n.push(Ln(r.x4.x)+" "+Ln(r.x4.y)+" m"),n.push(Ln(r.x3.x)+" "+Ln(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Al(t);e.scope=t.scope;var n=en.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Ln(en.internal.getWidth(t))+" "+Ln(en.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Ln(en.internal.getWidth(t)-2)+" "+Ln(en.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ln(n.x1.x)+" "+Ln(n.x1.y)+" m"),r.push(Ln(n.x2.x)+" "+Ln(n.x2.y)+" l"),r.push(Ln(n.x4.x)+" "+Ln(n.x4.y)+" m"),r.push(Ln(n.x3.x)+" "+Ln(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Al(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ln(en.internal.getWidth(t))+" "+Ln(en.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};en.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=en.internal.getWidth(t),n=en.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},en.internal.getWidth=function(t){var e=0;return Dr(t)==="object"&&(e=rx(t.Rect[2])),e},en.internal.getHeight=function(t){var e=0;return Dr(t)==="object"&&(e=rx(t.Rect[3])),e};var fV=ki.addField=function(t){if(cV(this,t),!(t instanceof el))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ki.AcroFormChoiceField=vh,ki.AcroFormListBox=wh,ki.AcroFormComboBox=_h,ki.AcroFormEditBox=ag,ki.AcroFormButton=Es,ki.AcroFormPushButton=lg,ki.AcroFormRadioButton=bh,ki.AcroFormCheckBox=ug,ki.AcroFormTextField=ef,ki.AcroFormPasswordField=cg,ki.AcroFormAppearance=en,ki.AcroForm={ChoiceField:vh,ListBox:wh,ComboBox:_h,EditBox:ag,Button:Es,PushButton:lg,RadioButton:bh,CheckBox:ug,TextField:ef,PasswordField:cg,Appearance:en},ln.AcroForm={ChoiceField:vh,ListBox:wh,ComboBox:_h,EditBox:ag,Button:Es,PushButton:lg,RadioButton:bh,CheckBox:ug,TextField:ef,PasswordField:cg,Appearance:en};ln.AcroForm;function MN(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(W,D){var B,F,ve,ce,ae,_e=n;if((D=D||n)==="RGBA"||W.data!==void 0&&W.data instanceof Uint8ClampedArray&&"height"in W&&"width"in W)return"RGBA";if(Q(W))for(ae in r)for(ve=r[ae],B=0;B<ve.length;B+=1){for(ce=!0,F=0;F<ve[B].length;F+=1)if(ve[B][F]!==void 0&&ve[B][F]!==W[F]){ce=!1;break}if(ce===!0){_e=ae;break}}else for(ae in r)for(ve=r[ae],B=0;B<ve.length;B+=1){for(ce=!0,F=0;F<ve[B].length;F+=1)if(ve[B][F]!==void 0&&ve[B][F]!==W.charCodeAt(F)){ce=!1;break}if(ce===!0){_e=ae;break}}return _e===n&&D!==n&&(_e=D),_e},s=function W(D){for(var B=this.internal.write,F=this.internal.putStream,ve=(0,this.internal.getFilters)();ve.indexOf("FlateEncode")!==-1;)ve.splice(ve.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var ce=[];if(ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Image"}),ce.push({key:"Width",value:D.width}),ce.push({key:"Height",value:D.height}),D.colorSpace===E.INDEXED?ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(ce.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===E.DEVICE_CMYK&&ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ce.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&ce.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)&&D.transparency.length>0){for(var ae="",_e=0,xe=D.transparency.length;_e<xe;_e++)ae+=D.transparency[_e]+" "+D.transparency[_e]+" ";ce.push({key:"Mask",value:"["+ae+"]"})}D.sMask!==void 0&&ce.push({key:"SMask",value:D.objectId+1+" 0 R"});var Ue=D.filter!==void 0?["/"+D.filter]:void 0;if(F({data:D.data,additionalKeyValues:ce,alreadyAppliedFilters:Ue,objectId:D.objectId}),B("endobj"),"sMask"in D&&D.sMask!==void 0){var re,O=(re=D.sMaskBitsPerComponent)!==null&&re!==void 0?re:D.bitsPerComponent,ee={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:D.sMask};"filter"in D&&(ee.decodeParameters="/Predictor ".concat(D.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(D.width),ee.filter=D.filter),W.call(this,ee)}if(D.colorSpace===E.INDEXED){var se=this.internal.newObject();F({data:G(new Uint8Array(D.palette)),objectId:se}),B("endobj")}},l=function(){var W=this.internal.collections[e+"images"];for(var D in W)s.call(this,W[D])},u=function(){var W,D=this.internal.collections[e+"images"],B=this.internal.write;for(var F in D)B("/I"+(W=D[F]).index,W.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",u))},f=function(){var W=this.internal.collections[e+"images"];return c.call(this),W},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(W){return typeof t["process"+W.toUpperCase()]=="function"},y=function(W){return Dr(W)==="object"&&W.nodeType===1},m=function(W,D){if(W.nodeName==="IMG"&&W.hasAttribute("src")){var B=""+W.getAttribute("src");if(B.indexOf("data:image/")===0)return og(unescape(B).split("base64,").pop());var F=t.loadFile(B,!0);if(F!==void 0)return F}if(W.nodeName==="CANVAS"){if(W.width===0||W.height===0)throw new Error("Given canvas must have data. Canvas width: "+W.width+", height: "+W.height);var ve;switch(D){case"PNG":ve="image/png";break;case"WEBP":ve="image/webp";break;default:ve="image/jpeg"}return og(W.toDataURL(ve,1).split("base64,").pop())}},x=function(W){var D=this.internal.collections[e+"images"];if(D){for(var B in D)if(W===D[B].alias)return D[B]}},S=function(W,D,B){return W||D||(W=-96,D=-96),W<0&&(W=-1*B.width*72/W/this.internal.scaleFactor),D<0&&(D=-1*B.height*72/D/this.internal.scaleFactor),W===0&&(W=D*B.width/B.height),D===0&&(D=W*B.height/B.width),[W,D]},R=function(W,D,B,F,ve,ce){var ae=S.call(this,B,F,ve),_e=this.internal.getCoordinateString,xe=this.internal.getVerticalCoordinateString,Ue=f.call(this);if(B=ae[0],F=ae[1],Ue[ve.index]=ve,ce){ce*=Math.PI/180;var re=Math.cos(ce),O=Math.sin(ce),ee=function(me){return me.toFixed(4)},se=[ee(re),ee(O),ee(-1*O),ee(re),0,0,"cm"]}this.internal.write("q"),ce?(this.internal.write([1,"0","0",1,_e(W),xe(D+F),"cm"].join(" ")),this.internal.write(se.join(" ")),this.internal.write([_e(B),"0","0",_e(F),"0","0","cm"].join(" "))):this.internal.write([_e(B),"0","0",_e(F),_e(W),xe(D+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ve.index+" Do"),this.internal.write("Q")},E=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var M=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=t.__addimage__.sHashCode=function(W){var D,B,F=0;if(typeof W=="string")for(B=W.length,D=0;D<B;D++)F=(F<<5)-F+W.charCodeAt(D),F|=0;else if(Q(W))for(B=W.byteLength/2,D=0;D<B;D++)F=(F<<5)-F+W[D],F|=0;return F},N=t.__addimage__.validateStringAsBase64=function(W){(W=W||"").toString().trim();var D=!0;return W.length===0&&(D=!1),W.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(W.substr(0,W.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(W.substr(-2))===!1&&(D=!1),D},$=t.__addimage__.extractImageFromDataUrl=function(W){if(W==null||!(W=W.trim()).startsWith("data:"))return null;var D=W.indexOf(",");return D<0?null:W.substring(0,D).trim().endsWith("base64")?W.substring(D+1):null};t.__addimage__.isArrayBuffer=function(W){return W instanceof ArrayBuffer};var Q=t.__addimage__.isArrayBufferView=function(W){return W instanceof Int8Array||W instanceof Uint8Array||W instanceof Uint8ClampedArray||W instanceof Int16Array||W instanceof Uint16Array||W instanceof Int32Array||W instanceof Uint32Array||W instanceof Float32Array||W instanceof Float64Array},V=t.__addimage__.binaryStringToUint8Array=function(W){for(var D=W.length,B=new Uint8Array(D),F=0;F<D;F++)B[F]=W.charCodeAt(F);return B},G=t.__addimage__.arrayBufferToBinaryString=function(W){for(var D="",B=Q(W)?W:new Uint8Array(W),F=0;F<B.length;F+=8192)D+=String.fromCharCode.apply(null,B.subarray(F,F+8192));return D};t.addImage=function(){var W,D,B,F,ve,ce,ae,_e,xe;if(typeof arguments[1]=="number"?(D=n,B=arguments[1],F=arguments[2],ve=arguments[3],ce=arguments[4],ae=arguments[5],_e=arguments[6],xe=arguments[7]):(D=arguments[1],B=arguments[2],F=arguments[3],ve=arguments[4],ce=arguments[5],ae=arguments[6],_e=arguments[7],xe=arguments[8]),Dr(W=arguments[0])==="object"&&!y(W)&&"imageData"in W){var Ue=W;W=Ue.imageData,D=Ue.format||D||n,B=Ue.x||B||0,F=Ue.y||F||0,ve=Ue.w||Ue.width||ve,ce=Ue.h||Ue.height||ce,ae=Ue.alias||ae,_e=Ue.compression||_e,xe=Ue.rotation||Ue.angle||xe}var re=this.internal.getFilters();if(_e===void 0&&re.indexOf("FlateEncode")!==-1&&(_e="SLOW"),isNaN(B)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var O=C.call(this,W,D,ae,_e);return R.call(this,B,F,ve,ce,O,xe),this};var C=function(W,D,B,F){var ve,ce,ae;if(typeof W=="string"&&i(W)===n){W=unescape(W);var _e=X(W,!1);(_e!==""||(_e=t.loadFile(W,!0))!==void 0)&&(W=_e)}if(y(W)&&(W=m(W,D)),D=i(W,D),!g(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((ae=B)==null||ae.length===0)&&(B=(function(xe){return typeof xe=="string"||Q(xe)?P(xe):Q(xe.data)?P(xe.data):null})(W)),(ve=x.call(this,B))||(W instanceof Uint8Array||D==="RGBA"||(ce=W,W=V(W)),ve=this["process"+D.toUpperCase()](W,d.call(this),B,(function(xe){return xe&&typeof xe=="string"&&(xe=xe.toUpperCase()),xe in t.image_compression?xe:M.NONE})(F),ce)),!ve)throw new Error("An unknown error occurred whilst processing the image.");return ve},X=t.__addimage__.convertBase64ToBinaryString=function(W,D){D=typeof D!="boolean"||D;var B,F="";if(typeof W=="string"){var ve;B=(ve=$(W))!==null&&ve!==void 0?ve:W;try{F=og(B)}catch(ce){if(D)throw N(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};t.getImageProperties=function(W){var D,B,F="";if(y(W)&&(W=m(W)),typeof W=="string"&&i(W)===n&&((F=X(W,!1))===""&&(F=t.loadFile(W)||""),W=F),B=i(W),!g(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(W instanceof Uint8Array||(W=V(W)),!(D=this["process"+B.toUpperCase()](W)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=B,D}})(ln.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ln.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,d=!1,g=0;g<f.length&&!d;g++)switch((r=f[g]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var y=0;y<f.length;y++){r=f[y];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),R=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(S.objId),M=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+m(E(r.contents))+")",s+=" /Popup "+R.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+m(E(M))+") >>",S.content=s;var P=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+P,r.open&&(s+=" /Open true"),s+=" >>",R.content=s,this.internal.write(S.objId,"0 R",R.objId,"0 R");break;case"freetext":i="/Rect ["+l(r.bounds.x)+" "+u(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var N=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(x(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var $=this.annotations._nameMap[r.options.name];r.options.pageNumber=$.page,r.options.top=$.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var Q=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+Q+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,l){var u=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:c(n),y:f(r),w:c(n+i),h:f(r+s)},options:l,type:"link"})},t.textWithLink=function(n,r,i,s){var l,u,c=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){u=s.maxWidth;var d=this.splitTextToSize(n,u).length;l=Math.ceil(f*d)}else u=c,l=f;return this.text(n,r,i,s),i+=.2*f,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-f,u,l,s),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(ln.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},l=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},u=t.__arabicParser__.isArabicEndLetter=function(S){return l(S)&&s(S)&&e[S.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(S){return l(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return l(S)&&s(S)&&e[S.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return l(S)&&s(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return l(S)&&s(S)&&e[S.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return l(S)&&s(S)&&e[S.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(S){var R=0,E=n,M="",P=0;for(R=0;R<S.length;R+=1)E[S.charCodeAt(R)]!==void 0?(P++,typeof(E=E[S.charCodeAt(R)])=="number"&&(M+=String.fromCharCode(E),E=n,P=0),R===S.length-1&&(E=n,M+=S.charAt(R-(P-1)),R-=P-1,P=0)):(E=n,M+=S.charAt(R-P),R-=P,P=0);return M};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(S,R,E){return l(S)?s(S)===!1?-1:!f(S)||!l(R)&&!l(E)||!l(E)&&u(R)||u(S)&&!l(R)||u(S)&&c(R)||u(S)&&u(R)?0:d(S)&&l(R)&&!u(R)&&l(E)&&f(E)?3:u(S)||!l(E)?1:2:-1},m=function(S){var R=0,E=0,M=0,P="",N="",$="",Q=(S=S||"").split("\\s+"),V=[];for(R=0;R<Q.length;R+=1){for(V.push(""),E=0;E<Q[R].length;E+=1)P=Q[R][E],N=Q[R][E-1],$=Q[R][E+1],l(P)?(M=y(P,N,$),V[R]+=M!==-1?String.fromCharCode(e[P.charCodeAt(0)][M]):P):V[R]+=P;V[R]=g(V[R])}return V.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var S,R=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(R)){var M=0;for(E=[],M=0;M<R.length;M+=1)Array.isArray(R[M])?E.push([m(R[M][0]),R[M][1],R[M][2]]):E.push([m(R[M])]);S=E}else S=m(R);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",x])})(ln.API),ln.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(u){n=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(u){s=u}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(u){l=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(ln.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(S){x=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,f){r.call(this);var d=(f=f||{}).fontSize||this.getFontSize(),g=f.font||this.getFont(),y=f.scaleFactor||this.internal.scaleFactor,m=0,x=0,S=0,R=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var E=f.maxWidth;E>0?typeof c=="string"?c=this.splitTextToSize(c,E):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(P,N){return P.concat(R.splitTextToSize(N,E))},[])):c=Array.isArray(c)?c:[c];for(var M=0;M<c.length;M++)m<(S=this.getStringUnitWidth(c[M],{font:g})*d)&&(m=S);return m!==0&&(x=c.length),{w:m/=y,h:Math.max((x*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=t.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var f=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=g.top,m&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,f,d,g,y){if(r.call(this),!d)throw new Error("No data for PDF table.");var m,x,S,R,E=[],M=[],P=[],N={},$={},Q=[],V=[],G=(y=y||{}).autoSize||!1,C=y.printHeaders!==!1,X=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,W=y.margins||Object.assign({width:this.getPageWidth()},e),D=typeof y.padding=="number"?y.padding:3,B=y.headerBackgroundColor||"#c8c8c8",F=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=W,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=F,this.setFontSize(X),g==null)M=E=Object.keys(d[0]),P=E.map(function(){return"left"});else if(Array.isArray(g)&&Dr(g[0])==="object")for(E=g.map(function(Ue){return Ue.name}),M=g.map(function(Ue){return Ue.prompt||Ue.name||""}),P=g.map(function(Ue){return Ue.align||"left"}),m=0;m<g.length;m+=1)$[g[m].name]=.7499990551181103*g[m].width;else Array.isArray(g)&&typeof g[0]=="string"&&(M=E=g,P=E.map(function(){return"left"}));if(G||Array.isArray(g)&&typeof g[0]=="string")for(m=0;m<E.length;m+=1){for(N[R=E[m]]=d.map(function(Ue){return Ue[R]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(M[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=N[R],this.setFont(void 0,"normal"),S=0;S<x.length;S+=1)Q.push(this.getTextDimensions(x[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);$[R]=Math.max.apply(null,Q)+D+D,Q=[]}if(C){var ve={};for(m=0;m<E.length;m+=1)ve[E[m]]={},ve[E[m]].text=M[m],ve[E[m]].align=P[m];var ce=u.call(this,ve,$);V=E.map(function(Ue){return new s(c,f,$[Ue],ce,ve[Ue].text,void 0,ve[Ue].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var ae=g.reduce(function(Ue,re){return Ue[re.name]=re.align,Ue},{});for(m=0;m<d.length;m+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:m,data:d[m]},this);var _e=u.call(this,d[m],$);for(S=0;S<E.length;S+=1){var xe=d[m][E[S]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:m,col:S,data:xe},this),l.call(this,new s(c,f,$[E[S]],_e,xe,m+2,ae[E[S]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var u=function(c,f){var d=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(m){var x=c[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,f[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*g/y+d+d},this).reduce(function(m,x){return Math.max(m,x)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),f&&(d.y=this.internal.__cell__.margins.top||0,y.push(d)),d.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,d),this.setTextColor(x)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}})(ln.API);var ON={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},FN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],J2=MN(FN),UN=[100,200,300,400,500,600,700,800,900],hV=MN(UN);function d1(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(s){return ON[s=s||"normal"]?s:"normal"})(t.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),i=(function(s){return typeof J2[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function ix(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var dV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ox(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function ax(t){return t.trimLeft()}function pV(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function mV(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var th,Mm,lx,ux,cx,p1=["times"];function fx(t,e,n,r,i){var s=4,l=dx;switch(i){case ln.API.image_compression.FAST:s=1,l=hx;break;case ln.API.image_compression.MEDIUM:s=6,l=px;break;case ln.API.image_compression.SLOW:s=9,l=mx}t=(function(c,f,d,g){for(var y,m=c.length/f,x=new Uint8Array(c.length+m),S=[gV,hx,dx,px,mx],R=0;R<m;R+=1){var E=R*f,M=c.subarray(E,E+f);if(g)x.set(g(M,d,y),E+R);else{for(var P=S.length,N=[],$=0;$<P;$+=1)N[$]=S[$](M,d,y);var Q=vV(N.concat());x.set(N[Q],E+R)}y=M}return x})(t,e,Math.ceil(n*r/8),l);var u=H2(t,{level:s});return ln.API.__addimage__.arrayBufferToBinaryString(u)}function gV(t){var e=Array.apply([],t);return e.unshift(0),e}function hx(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function dx(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var l=n&&n[s]||0;i[s+1]=t[s]-l+256&255}return i}function px(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var l=t[s-e]||0,u=n&&n[s]||0;i[s+1]=t[s]+256-(l+u>>>1)&255}return i}function mx(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var l=yV(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-l+256&255}return i}function yV(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function vV(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function m1(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),l=(1<<n)-1;return BN(t,i)>>s&l}function gx(t,e,n,r){var i=n*r,s=Math.floor(i/8),l=16-(i-8*s+r),u=(1<<r)-1,c=(e&u)<<l;(function(f,d,g){if(d+1<f.byteLength)f.setUint16(d,g,!1);else{var y=g>>8&255;f.setUint8(d,y)}})(t,s,BN(t,s)&~(u<<l)&65535|c)}function BN(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function wV(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,l=1<<1+(7&i);t[e++],t[e++];var u=null,c=null;s&&(u=e,c=l,e+=3*l);var f=!0,d=[],g=0,y=null,m=0,x=null;for(this.width=n,this.height=r;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,x=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((W=t[e++])>=0))throw Error("Invalid block size");if(W===0)break;e+=W}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];g=t[e++]|t[e++]<<8,y=t[e++],1&S||(y=null),m=S>>2&7,e++;break;case 254:for(;;){if(!((W=t[e++])>=0))throw Error("Invalid block size");if(W===0)break;e+=W}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var R=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,M=t[e++]|t[e++]<<8,P=t[e++]|t[e++]<<8,N=t[e++],$=N>>6&1,Q=1<<1+(7&N),V=u,G=c,C=!1;N>>7&&(C=!0,V=e,G=Q,e+=3*Q);var X=e;for(e++;;){var W;if(!((W=t[e++])>=0))throw Error("Invalid block size");if(W===0)break;e+=W}d.push({x:R,y:E,width:M,height:P,has_local_palette:C,palette_offset:V,palette_size:G,data_offset:X,data_length:e-X,transparent_index:y,interlaced:!!$,delay:g,disposal:m});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return x},this.frameInfo=function(D){if(D<0||D>=d.length)throw new Error("Frame index out of range.");return d[D]},this.decodeAndBlitFrameBGRA=function(D,B){var F=this.frameInfo(D),ve=F.width*F.height,ce=new Uint8Array(ve);yx(t,F.data_offset,ce,ve);var ae=F.palette_offset,_e=F.transparent_index;_e===null&&(_e=256);var xe=F.width,Ue=n-xe,re=xe,O=4*(F.y*n+F.x),ee=4*((F.y+F.height)*n+F.x),se=O,me=4*Ue;F.interlaced===!0&&(me+=4*n*7);for(var ue=8,H=0,j=ce.length;H<j;++H){var ge=ce[H];if(re===0&&(re=xe,(se+=me)>=ee&&(me=4*Ue+4*n*(ue-1),se=O+(xe+Ue)*(ue<<1),ue>>=1)),ge===_e)se+=4;else{var he=t[ae+3*ge],le=t[ae+3*ge+1],pe=t[ae+3*ge+2];B[se++]=pe,B[se++]=le,B[se++]=he,B[se++]=255}--re}},this.decodeAndBlitFrameRGBA=function(D,B){var F=this.frameInfo(D),ve=F.width*F.height,ce=new Uint8Array(ve);yx(t,F.data_offset,ce,ve);var ae=F.palette_offset,_e=F.transparent_index;_e===null&&(_e=256);var xe=F.width,Ue=n-xe,re=xe,O=4*(F.y*n+F.x),ee=4*((F.y+F.height)*n+F.x),se=O,me=4*Ue;F.interlaced===!0&&(me+=4*n*7);for(var ue=8,H=0,j=ce.length;H<j;++H){var ge=ce[H];if(re===0&&(re=xe,(se+=me)>=ee&&(me=4*Ue+4*n*(ue-1),se=O+(xe+Ue)*(ue<<1),ue>>=1)),ge===_e)se+=4;else{var he=t[ae+3*ge],le=t[ae+3*ge+1],pe=t[ae+3*ge+2];B[se++]=he,B[se++]=le,B[se++]=pe,B[se++]=255}--re}}}function yx(t,e,n,r){for(var i=t[e++],s=1<<i,l=s+1,u=l+1,c=i+1,f=(1<<c)-1,d=0,g=0,y=0,m=t[e++],x=new Int32Array(4096),S=null;;){for(;d<16&&m!==0;)g|=t[e++]<<d,d+=8,m===1?m=t[e++]:--m;if(d<c)break;var R=g&f;if(g>>=c,d-=c,R!==s){if(R===l)break;for(var E=R<u?R:S,M=0,P=E;P>s;)P=x[P]>>8,++M;var N=P;if(y+M+(E!==R?1:0)>r)return void Xr.log("Warning, gif stream longer than expected.");n[y++]=N;var $=y+=M;for(E!==R&&(n[y++]=N),P=E;M--;)P=x[P],n[--$]=255&P,P>>=8;S!==null&&u<4096&&(x[u++]=S<<8|N,u>=f+1&&c<12&&(++c,f=f<<1|1)),S=R}else u=l+1,f=(1<<(c=i+1))-1,S=null}return y!==r&&Xr.log("Warning, gif stream shorter than expected."),n}function g1(t){var e,n,r,i,s,l=Math.floor,u=new Array(64),c=new Array(64),f=new Array(64),d=new Array(64),g=new Array(65535),y=new Array(65535),m=new Array(64),x=new Array(64),S=[],R=0,E=7,M=new Array(64),P=new Array(64),N=new Array(64),$=new Array(256),Q=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],G=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],W=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ve=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ce(O,ee){for(var se=0,me=0,ue=new Array,H=1;H<=16;H++){for(var j=1;j<=O[H];j++)ue[ee[me]]=[],ue[ee[me]][0]=se,ue[ee[me]][1]=H,me++,se++;se*=2}return ue}function ae(O){for(var ee=O[0],se=O[1]-1;se>=0;)ee&1<<se&&(R|=1<<E),se--,--E<0&&(R==255?(_e(255),_e(0)):_e(R),E=7,R=0)}function _e(O){S.push(O)}function xe(O){_e(O>>8&255),_e(255&O)}function Ue(O,ee,se,me,ue){for(var H,j=ue[0],ge=ue[240],he=(function(q,ye){var Ce,Ae,Oe,We,He,Ze,_t,xt,Nt,Ft,Dt=0;for(Nt=0;Nt<8;++Nt){Ce=q[Dt],Ae=q[Dt+1],Oe=q[Dt+2],We=q[Dt+3],He=q[Dt+4],Ze=q[Dt+5],_t=q[Dt+6];var gn=Ce+(xt=q[Dt+7]),Mt=Ce-xt,Ot=Ae+_t,tn=Ae-_t,sn=Oe+Ze,zt=Oe-Ze,Pn=We+He,Kt=We-He,on=gn+Pn,Hn=gn-Pn,Ut=Ot+sn,qt=Ot-sn;q[Dt]=on+Ut,q[Dt+4]=on-Ut;var Tn=.707106781*(qt+Hn);q[Dt+2]=Hn+Tn,q[Dt+6]=Hn-Tn;var pi=.382683433*((on=Kt+zt)-(qt=tn+Mt)),je=.5411961*on+pi,lt=1.306562965*qt+pi,Pe=.707106781*(Ut=zt+tn),et=Mt+Pe,kt=Mt-Pe;q[Dt+5]=kt+je,q[Dt+3]=kt-je,q[Dt+1]=et+lt,q[Dt+7]=et-lt,Dt+=8}for(Dt=0,Nt=0;Nt<8;++Nt){Ce=q[Dt],Ae=q[Dt+8],Oe=q[Dt+16],We=q[Dt+24],He=q[Dt+32],Ze=q[Dt+40],_t=q[Dt+48];var Yt=Ce+(xt=q[Dt+56]),un=Ce-xt,Yn=Ae+_t,bn=Ae-_t,yn=Oe+Ze,$n=Oe-Ze,Gn=We+He,Ie=We-He,rt=Yt+Gn,vt=Yt-Gn,ut=Yn+yn,ht=Yn-yn;q[Dt]=rt+ut,q[Dt+32]=rt-ut;var gt=.707106781*(ht+vt);q[Dt+16]=vt+gt,q[Dt+48]=vt-gt;var Ct=.382683433*((rt=Ie+$n)-(ht=bn+un)),En=.5411961*rt+Ct,On=1.306562965*ht+Ct,nn=.707106781*(ut=$n+bn),Sr=un+nn,xr=un-nn;q[Dt+40]=xr+En,q[Dt+24]=xr-En,q[Dt+8]=Sr+On,q[Dt+56]=Sr-On,Dt++}for(Nt=0;Nt<64;++Nt)Ft=q[Nt]*ye[Nt],m[Nt]=Ft>0?Ft+.5|0:Ft-.5|0;return m})(O,ee),le=0;le<64;++le)x[V[le]]=he[le];var pe=x[0]-se;se=x[0],pe==0?ae(me[0]):(ae(me[y[H=32767+pe]]),ae(g[H]));for(var De=63;De>0&&x[De]==0;)De--;if(De==0)return ae(j),se;for(var z,Z=1;Z<=De;){for(var Y=Z;x[Z]==0&&Z<=De;)++Z;var I=Z-Y;if(I>=16){z=I>>4;for(var L=1;L<=z;++L)ae(ge);I&=15}H=32767+x[Z],ae(ue[(I<<4)+y[H]]),ae(g[H]),Z++}return De!=63&&ae(j),se}function re(O){O=Math.min(Math.max(O,1),100),s!=O&&((function(ee){for(var se=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],me=0;me<64;me++){var ue=l((se[me]*ee+50)/100);ue=Math.min(Math.max(ue,1),255),u[V[me]]=ue}for(var H=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],j=0;j<64;j++){var ge=l((H[j]*ee+50)/100);ge=Math.min(Math.max(ge,1),255),c[V[j]]=ge}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],le=0,pe=0;pe<8;pe++)for(var De=0;De<8;De++)f[le]=1/(u[V[le]]*he[pe]*he[De]*8),d[le]=1/(c[V[le]]*he[pe]*he[De]*8),le++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),s=O)}this.encode=function(O,ee){ee&&re(ee),S=new Array,R=0,E=7,xe(65496),xe(65504),xe(16),_e(74),_e(70),_e(73),_e(70),_e(0),_e(1),_e(1),_e(0),xe(1),xe(1),_e(0),_e(0),(function(){xe(65499),xe(132),_e(0);for(var Ae=0;Ae<64;Ae++)_e(u[Ae]);_e(1);for(var Oe=0;Oe<64;Oe++)_e(c[Oe])})(),(function(Ae,Oe){xe(65472),xe(17),_e(8),xe(Oe),xe(Ae),_e(3),_e(1),_e(17),_e(0),_e(2),_e(17),_e(1),_e(3),_e(17),_e(1)})(O.width,O.height),(function(){xe(65476),xe(418),_e(0);for(var Ae=0;Ae<16;Ae++)_e(G[Ae+1]);for(var Oe=0;Oe<=11;Oe++)_e(C[Oe]);_e(16);for(var We=0;We<16;We++)_e(X[We+1]);for(var He=0;He<=161;He++)_e(W[He]);_e(1);for(var Ze=0;Ze<16;Ze++)_e(D[Ze+1]);for(var _t=0;_t<=11;_t++)_e(B[_t]);_e(17);for(var xt=0;xt<16;xt++)_e(F[xt+1]);for(var Nt=0;Nt<=161;Nt++)_e(ve[Nt])})(),xe(65498),xe(12),_e(3),_e(1),_e(0),_e(2),_e(17),_e(3),_e(17),_e(0),_e(63),_e(0);var se=0,me=0,ue=0;R=0,E=7,this.encode.displayName="_encode_";for(var H,j,ge,he,le,pe,De,z,Z,Y=O.data,I=O.width,L=O.height,q=4*I,ye=0;ye<L;){for(H=0;H<q;){for(le=q*ye+H,De=-1,z=0,Z=0;Z<64;Z++)pe=le+(z=Z>>3)*q+(De=4*(7&Z)),ye+z>=L&&(pe-=q*(ye+1+z-L)),H+De>=q&&(pe-=H+De-q+4),j=Y[pe++],ge=Y[pe++],he=Y[pe++],M[Z]=(Q[j]+Q[ge+256|0]+Q[he+512|0]>>16)-128,P[Z]=(Q[j+768|0]+Q[ge+1024|0]+Q[he+1280|0]>>16)-128,N[Z]=(Q[j+1280|0]+Q[ge+1536|0]+Q[he+1792|0]>>16)-128;se=Ue(M,f,se,e,r),me=Ue(P,d,me,n,i),ue=Ue(N,d,ue,n,i),H+=32}ye+=8}if(E>=0){var Ce=[];Ce[1]=E+1,Ce[0]=(1<<E+1)-1,ae(Ce)}return xe(65497),new Uint8Array(S)},t=t||50,(function(){for(var O=String.fromCharCode,ee=0;ee<256;ee++)$[ee]=O(ee)})(),e=ce(G,C),n=ce(D,B),r=ce(X,W),i=ce(F,ve),(function(){for(var O=1,ee=2,se=1;se<=15;se++){for(var me=O;me<ee;me++)y[32767+me]=se,g[32767+me]=[],g[32767+me][1]=se,g[32767+me][0]=me;for(var ue=-(ee-1);ue<=-O;ue++)y[32767+ue]=se,g[32767+ue]=[],g[32767+ue][1]=se,g[32767+ue][0]=ee-1+ue;O<<=1,ee<<=1}})(),(function(){for(var O=0;O<256;O++)Q[O]=19595*O,Q[O+256|0]=38470*O,Q[O+512|0]=7471*O+32768,Q[O+768|0]=-11059*O,Q[O+1024|0]=-21709*O,Q[O+1280|0]=32768*O+8421375,Q[O+1536|0]=-27439*O,Q[O+1792|0]=-5329*O})(),re(t)}function ja(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vx(t){function e(C){if(!C)throw Error("assert :P")}function n(C,X,W){for(var D=0;4>D;D++)if(C[X+D]!=W.charCodeAt(D))return!0;return!1}function r(C,X,W,D,B){for(var F=0;F<B;F++)C[X+F]=W[D+F]}function i(C,X,W,D){for(var B=0;B<D;B++)C[X+B]=W}function s(C){return new Int32Array(C)}function l(C,X){for(var W=[],D=0;D<C;D++)W.push(new X);return W}function u(C,X){var W=[];return(function D(B,F,ve){for(var ce=ve[F],ae=0;ae<ce&&(B.push(ve.length>F+1?[]:new X),!(ve.length<F+1));ae++)D(B[ae],F+1,ve)})(W,0,C),W}var c=function(){var C=this;function X(w,T){for(var K=1<<T-1>>>0;w&K;)K>>>=1;return K?(w&K-1)+K:w}function W(w,T,K,te,de){e(!(te%K));do w[T+(te-=K)]=de;while(0<te)}function D(w,T,K,te,de){if(e(2328>=de),512>=de)var we=s(512);else if((we=s(de))==null)return 0;return(function(be,Se,Ne,Le,Be,Je){var Re,qe,Ke=Se,ft=1<<Ne,Ye=s(16),ct=s(16);for(e(Be!=0),e(Le!=null),e(be!=null),e(0<Ne),qe=0;qe<Be;++qe){if(15<Le[qe])return 0;++Ye[Le[qe]]}if(Ye[0]==Be)return 0;for(ct[1]=0,Re=1;15>Re;++Re){if(Ye[Re]>1<<Re)return 0;ct[Re+1]=ct[Re]+Ye[Re]}for(qe=0;qe<Be;++qe)Re=Le[qe],0<Le[qe]&&(Je[ct[Re]++]=qe);if(ct[15]==1)return(Le=new B).g=0,Le.value=Je[0],W(be,Ke,1,ft,Le),ft;var mt,It=-1,Et=ft-1,Zt=0,Ht=1,Sn=1,Jt=1<<Ne;for(qe=0,Re=1,Be=2;Re<=Ne;++Re,Be<<=1){if(Ht+=Sn<<=1,0>(Sn-=Ye[Re]))return 0;for(;0<Ye[Re];--Ye[Re])(Le=new B).g=Re,Le.value=Je[qe++],W(be,Ke+Zt,Be,Jt,Le),Zt=X(Zt,Re)}for(Re=Ne+1,Be=2;15>=Re;++Re,Be<<=1){if(Ht+=Sn<<=1,0>(Sn-=Ye[Re]))return 0;for(;0<Ye[Re];--Ye[Re]){if(Le=new B,(Zt&Et)!=It){for(Ke+=Jt,mt=1<<(It=Re)-Ne;15>It&&!(0>=(mt-=Ye[It]));)++It,mt<<=1;ft+=Jt=1<<(mt=It-Ne),be[Se+(It=Zt&Et)].g=mt+Ne,be[Se+It].value=Ke-Se-It}Le.g=Re-Ne,Le.value=Je[qe++],W(be,Ke+(Zt>>Ne),Be,Jt,Le),Zt=X(Zt,Re)}}return Ht!=2*ct[15]-1?0:ft})(w,T,K,te,de,we)}function B(){this.value=this.g=0}function F(){this.value=this.g=0}function ve(){this.G=l(5,B),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(al,F)}function ce(w,T,K,te){e(w!=null),e(T!=null),e(2147483648>te),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=T,w.pa=K,w.Jd=T,w.Yc=K+te,w.Zc=4<=te?K+te-4+1:K,j(w)}function ae(w,T){for(var K=0;0<T--;)K|=he(w,128)<<T;return K}function _e(w,T){var K=ae(w,T);return ge(w)?-K:K}function xe(w,T,K,te){var de,we=0;for(e(w!=null),e(T!=null),e(4294967288>te),w.Sb=te,w.Ra=0,w.u=0,w.h=0,4<te&&(te=4),de=0;de<te;++de)we+=T[K+de]<<8*de;w.Ra=we,w.bb=te,w.oa=T,w.pa=K}function Ue(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<la-8>>>0,++w.bb,w.u-=8;me(w)&&(w.h=1,w.u=0)}function re(w,T){if(e(0<=T),!w.h&&T<=Is){var K=se(w)&Vs[T];return w.u+=T,Ue(w),K}return w.h=1,w.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ee(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function se(w){return w.Ra>>>(w.u&la-1)>>>0}function me(w){return e(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>la}function ue(w,T){w.u=T,w.h=me(w)}function H(w){w.u>=ua&&(e(w.u>=ua),Ue(w))}function j(w){e(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(e(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function ge(w){return ae(w,1)}function he(w,T){var K=w.Ca;0>w.b&&j(w);var te=w.b,de=K*T>>>8,we=(w.I>>>te>de)+0;for(we?(K-=de,w.I-=de+1<<te>>>0):K=de+1,te=K,de=0;256<=te;)de+=8,te>>=8;return te=7^de+La[te],w.b-=te,w.Ca=(K<<te)-1,we}function le(w,T,K){w[T+0]=K>>24&255,w[T+1]=K>>16&255,w[T+2]=K>>8&255,w[T+3]=255&K}function pe(w,T){return w[T+0]|w[T+1]<<8}function De(w,T){return pe(w,T)|w[T+2]<<16}function z(w,T){return pe(w,T)|pe(w,T+2)<<16}function Z(w,T){var K=1<<T;return e(w!=null),e(0<T),w.X=s(K),w.X==null?0:(w.Mb=32-T,w.Xa=T,1)}function Y(w,T){e(w!=null),e(T!=null),e(w.Xa==T.Xa),r(T.X,0,w.X,0,1<<T.Xa)}function I(){this.X=[],this.Xa=this.Mb=0}function L(w,T,K,te){e(K!=null),e(te!=null);var de=K[0],we=te[0];return de==0&&(de=(w*we+T/2)/T),we==0&&(we=(T*de+w/2)/w),0>=de||0>=we?0:(K[0]=de,te[0]=we,1)}function q(w,T){return w+(1<<T)-1>>>T}function ye(w,T){return((4278255360&w)+(4278255360&T)>>>0&4278255360)+((16711935&w)+(16711935&T)>>>0&16711935)>>>0}function Ce(w,T){C[T]=function(K,te,de,we,be,Se,Ne){var Le;for(Le=0;Le<be;++Le){var Be=C[w](Se[Ne+Le-1],de,we+Le);Se[Ne+Le]=ye(K[te+Le],Be)}}}function Ae(){this.ud=this.hd=this.jd=0}function Oe(w,T){return((4278124286&(w^T))>>>1)+(w&T)>>>0}function We(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function He(w,T){return We(w+(w-T+.5>>1))}function Ze(w,T,K){return Math.abs(T-K)-Math.abs(w-K)}function _t(w,T,K,te,de,we,be){for(te=we[be-1],K=0;K<de;++K)we[be+K]=te=ye(w[T+K],te)}function xt(w,T,K,te,de){var we;for(we=0;we<K;++we){var be=w[T+we],Se=be>>8&255,Ne=16711935&(Ne=(Ne=16711935&be)+((Se<<16)+Se));te[de+we]=(4278255360&be)+Ne>>>0}}function Nt(w,T){T.jd=255&w,T.hd=w>>8&255,T.ud=w>>16&255}function Ft(w,T,K,te,de,we){var be;for(be=0;be<te;++be){var Se=T[K+be],Ne=Se>>>8,Le=Se,Be=255&(Be=(Be=Se>>>16)+((w.jd<<24>>24)*(Ne<<24>>24)>>>5));Le=255&(Le=(Le+=(w.hd<<24>>24)*(Ne<<24>>24)>>>5)+((w.ud<<24>>24)*(Be<<24>>24)>>>5)),de[we+be]=(4278255360&Se)+(Be<<16)+Le}}function Dt(w,T,K,te,de){C[T]=function(we,be,Se,Ne,Le,Be,Je,Re,qe){for(Ne=Je;Ne<Re;++Ne)for(Je=0;Je<qe;++Je)Le[Be++]=de(Se[te(we[be++])])},C[w]=function(we,be,Se,Ne,Le,Be,Je){var Re=8>>we.b,qe=we.Ea,Ke=we.K[0],ft=we.w;if(8>Re)for(we=(1<<we.b)-1,ft=(1<<Re)-1;be<Se;++be){var Ye,ct=0;for(Ye=0;Ye<qe;++Ye)Ye&we||(ct=te(Ne[Le++])),Be[Je++]=de(Ke[ct&ft]),ct>>=Re}else C["VP8LMapColor"+K](Ne,Le,Ke,ft,Be,Je,be,Se,qe)}}function gn(w,T,K,te,de){for(K=T+K;T<K;){var we=w[T++];te[de++]=we>>16&255,te[de++]=we>>8&255,te[de++]=255&we}}function Mt(w,T,K,te,de){for(K=T+K;T<K;){var we=w[T++];te[de++]=we>>16&255,te[de++]=we>>8&255,te[de++]=255&we,te[de++]=we>>24&255}}function Ot(w,T,K,te,de){for(K=T+K;T<K;){var we=(be=w[T++])>>16&240|be>>12&15,be=240&be|be>>28&15;te[de++]=we,te[de++]=be}}function tn(w,T,K,te,de){for(K=T+K;T<K;){var we=(be=w[T++])>>16&248|be>>13&7,be=be>>5&224|be>>3&31;te[de++]=we,te[de++]=be}}function sn(w,T,K,te,de){for(K=T+K;T<K;){var we=w[T++];te[de++]=255&we,te[de++]=we>>8&255,te[de++]=we>>16&255}}function zt(w,T,K,te,de,we){if(we==0)for(K=T+K;T<K;)le(te,((we=w[T++])[0]>>24|we[1]>>8&65280|we[2]<<8&16711680|we[3]<<24)>>>0),de+=32;else r(te,de,w,T,K)}function Pn(w,T){C[T][0]=C[w+"0"],C[T][1]=C[w+"1"],C[T][2]=C[w+"2"],C[T][3]=C[w+"3"],C[T][4]=C[w+"4"],C[T][5]=C[w+"5"],C[T][6]=C[w+"6"],C[T][7]=C[w+"7"],C[T][8]=C[w+"8"],C[T][9]=C[w+"9"],C[T][10]=C[w+"10"],C[T][11]=C[w+"11"],C[T][12]=C[w+"12"],C[T][13]=C[w+"13"],C[T][14]=C[w+"0"],C[T][15]=C[w+"0"]}function Kt(w){return w==Pc||w==Sf||w==Du||w==xf}function on(){this.eb=[],this.size=this.A=this.fb=0}function Hn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ut(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new on,this.f.kb=new Hn,this.sd=null}function qt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Tn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function pi(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function je(w,T){var K=w.T,te=T.ba.f.RGBA,de=te.eb,we=te.fb+w.ka*te.A,be=os[T.ba.S],Se=w.y,Ne=w.O,Le=w.f,Be=w.N,Je=w.ea,Re=w.W,qe=T.cc,Ke=T.dc,ft=T.Mc,Ye=T.Nc,ct=w.ka,mt=w.ka+w.T,It=w.U,Et=It+1>>1;for(ct==0?be(Se,Ne,null,null,Le,Be,Je,Re,Le,Be,Je,Re,de,we,null,null,It):(be(T.ec,T.fc,Se,Ne,qe,Ke,ft,Ye,Le,Be,Je,Re,de,we-te.A,de,we,It),++K);ct+2<mt;ct+=2)qe=Le,Ke=Be,ft=Je,Ye=Re,Be+=w.Rc,Re+=w.Rc,we+=2*te.A,be(Se,(Ne+=2*w.fa)-w.fa,Se,Ne,qe,Ke,ft,Ye,Le,Be,Je,Re,de,we-te.A,de,we,It);return Ne+=w.fa,w.j+mt<w.o?(r(T.ec,T.fc,Se,Ne,It),r(T.cc,T.dc,Le,Be,Et),r(T.Mc,T.Nc,Je,Re,Et),K--):1&mt||be(Se,Ne,null,null,Le,Be,Je,Re,Le,Be,Je,Re,de,we+te.A,null,null,It),K}function lt(w,T,K){var te=w.F,de=[w.J];if(te!=null){var we=w.U,be=T.ba.S,Se=be==Dc||be==Du;T=T.ba.f.RGBA;var Ne=[0],Le=w.ka;Ne[0]=w.T,w.Kb&&(Le==0?--Ne[0]:(--Le,de[0]-=w.width),w.j+w.ka+w.T==w.o&&(Ne[0]=w.o-w.j-Le));var Be=T.eb;Le=T.fb+Le*T.A,w=Ic(te,de[0],w.width,we,Ne,Be,Le+(Se?0:3),T.A),e(K==Ne),w&&Kt(be)&&jl(Be,Le,Se,we,Ne,T.A)}return 0}function Pe(w){var T=w.ma,K=T.ba.S,te=11>K,de=K==gs||K==_o||K==Dc||K==Lu||K==12||Kt(K);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!ka(T.Oa,w,de?11:12))return 0;if(de&&Kt(K)&&An(),w.da)alert("todo:use_scaling");else{if(te){if(T.Ib=pi,w.Kb){if(K=w.U+1>>1,T.memory=s(w.U+2*K),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+w.U,T.Mc=T.cc,T.Nc=T.dc+K,T.Ib=je,An()}}else alert("todo:EmitYUV");de&&(T.Jb=lt,te&&nt())}if(te&&!pl){for(w=0;256>w;++w)as[w]=89858*(w-128)+Ou>>To,I0[w]=-22014*(w-128)+Ou,Mp[w]=-45773*(w-128),Rf[w]=113618*(w-128)+Ou>>To;for(w=Yl;w<dl;++w)T=76283*(w-16)+Ou>>To,R0[w-Yl]=Qr(T,255),k0[w-Yl]=Qr(T+8>>4,15);pl=1}return 1}function et(w){var T=w.ma,K=w.U,te=w.T;return e(!(1&w.ka)),0>=K||0>=te?0:(K=T.Ib(w,T),T.Jb!=null&&T.Jb(w,T,K),T.Dc+=K,1)}function kt(w){w.ma.memory=null}function Yt(w,T,K,te){return re(w,8)!=47?0:(T[0]=re(w,14)+1,K[0]=re(w,14)+1,te[0]=re(w,1),re(w,3)!=0?0:!w.h)}function un(w,T){if(4>w)return w+1;var K=w-2>>1;return(2+(1&w)<<K)+re(T,K)+1}function Yn(w,T){return 120<T?T-120:1<=(K=((K=Eo[T-1])>>4)*w+(8-(15&K)))?K:1;var K}function bn(w,T,K){var te=se(K),de=w[T+=255&te].g-8;return 0<de&&(ue(K,K.u+8),te=se(K),T+=w[T].value,T+=te&(1<<de)-1),ue(K,K.u+w[T].g),w[T].value}function yn(w,T,K){return K.g+=w.g,K.value+=w.value<<T>>>0,e(8>=K.g),w.g}function $n(w,T,K){var te=w.xc;return e((T=te==0?0:w.vc[w.md*(K>>te)+(T>>te)])<w.Wb),w.Ya[T]}function Gn(w,T,K,te){var de=w.ab,we=w.c*T,be=w.C;T=be+T;var Se=K,Ne=te;for(te=w.Ta,K=w.Ua;0<de--;){var Le=w.gc[de],Be=be,Je=T,Re=Se,qe=Ne,Ke=(Ne=te,Se=K,Le.Ea);switch(e(Be<Je),e(Je<=Le.nc),Le.hc){case 2:yi(Re,qe,(Je-Be)*Ke,Ne,Se);break;case 0:var ft=Be,Ye=Je,ct=Ne,mt=Se,It=(Jt=Le).Ea;ft==0&&(Nu(Re,qe,null,null,1,ct,mt),_t(Re,qe+1,0,0,It-1,ct,mt+1),qe+=It,mt+=It,++ft);for(var Et=1<<Jt.b,Zt=Et-1,Ht=q(It,Jt.b),Sn=Jt.K,Jt=Jt.w+(ft>>Jt.b)*Ht;ft<Ye;){var Kn=Sn,Yr=Jt,Rn=1;for(Iu(Re,qe,ct,mt-It,1,ct,mt);Rn<It;){var Gt=(Rn&~Zt)+Et;Gt>It&&(Gt=It),(0,Da[Kn[Yr++]>>8&15])(Re,qe+ +Rn,ct,mt+Rn-It,Gt-Rn,ct,mt+Rn),Rn=Gt}qe+=It,mt+=It,++ft&Zt||(Jt+=Ht)}Je!=Le.nc&&r(Ne,Se-Ke,Ne,Se+(Je-Be-1)*Ke,Ke);break;case 1:for(Ke=Re,Ye=qe,It=(Re=Le.Ea)-(mt=Re&~(ct=(qe=1<<Le.b)-1)),ft=q(Re,Le.b),Et=Le.K,Le=Le.w+(Be>>Le.b)*ft;Be<Je;){for(Zt=Et,Ht=Le,Sn=new Ae,Jt=Ye+mt,Kn=Ye+Re;Ye<Jt;)Nt(Zt[Ht++],Sn),Ru(Sn,Ke,Ye,qe,Ne,Se),Ye+=qe,Se+=qe;Ye<Kn&&(Nt(Zt[Ht++],Sn),Ru(Sn,Ke,Ye,It,Ne,Se),Ye+=It,Se+=It),++Be&ct||(Le+=ft)}break;case 3:if(Re==Ne&&qe==Se&&0<Le.b){for(Ye=Ne,Re=Ke=Se+(Je-Be)*Ke-(mt=(Je-Be)*q(Le.Ea,Le.b)),qe=Ne,ct=Se,ft=[],mt=(It=mt)-1;0<=mt;--mt)ft[mt]=qe[ct+mt];for(mt=It-1;0<=mt;--mt)Ye[Re+mt]=ft[mt];wf(Le,Be,Je,Ne,Ke,Ne,Se)}else wf(Le,Be,Je,Re,qe,Ne,Se)}Se=te,Ne=K}Ne!=K&&r(te,K,Se,Ne,we)}function Ie(w,T){var K=w.V,te=w.Ba+w.c*w.C,de=T-w.C;if(e(T<=w.l.o),e(16>=de),0<de){var we=w.l,be=w.Ta,Se=w.Ua,Ne=we.width;if(Gn(w,de,K,te),de=Se=[Se],e((K=w.C)<(te=T)),e(we.v<we.va),te>we.o&&(te=we.o),K<we.j){var Le=we.j-K;K=we.j,de[0]+=Le*Ne}if(K>=te?K=0:(de[0]+=4*we.v,we.ka=K-we.j,we.U=we.va-we.v,we.T=te-K,K=1),K){if(Se=Se[0],11>(K=w.ca).S){var Be=K.f.RGBA,Je=(te=K.S,de=we.U,we=we.T,Le=Be.eb,Be.A),Re=we;for(Be=Be.fb+w.Ma*Be.A;0<Re--;){var qe=be,Ke=Se,ft=de,Ye=Le,ct=Be;switch(te){case Ef:ku(qe,Ke,ft,Ye,ct);break;case gs:Pa(qe,Ke,ft,Ye,ct);break;case Pc:Pa(qe,Ke,ft,Ye,ct),jl(Ye,ct,0,ft,1,0);break;case Af:Hl(qe,Ke,ft,Ye,ct);break;case _o:zt(qe,Ke,ft,Ye,ct,1);break;case Sf:zt(qe,Ke,ft,Ye,ct,1),jl(Ye,ct,0,ft,1,0);break;case Dc:zt(qe,Ke,ft,Ye,ct,0);break;case Du:zt(qe,Ke,ft,Ye,ct,0),jl(Ye,ct,1,ft,1,0);break;case Lu:Ma(qe,Ke,ft,Ye,ct);break;case xf:Ma(qe,Ke,ft,Ye,ct),wo(Ye,ct,ft,1,0);break;case ll:ha(qe,Ke,ft,Ye,ct);break;default:e(0)}Se+=Ne,Be+=Je}w.Ma+=we}else alert("todo:EmitRescaledRowsYUVA");e(w.Ma<=K.height)}}w.C=T,e(w.C<=w.i)}function rt(w){var T;if(0<w.ua)return 0;for(T=0;T<w.Wb;++T){var K=w.Ya[T].G,te=w.Ya[T].H;if(0<K[1][te[1]+0].g||0<K[2][te[2]+0].g||0<K[3][te[3]+0].g)return 0}return 1}function vt(w,T,K,te,de,we){if(w.Z!=0){var be=w.qd,Se=w.rd;for(e(Ua[w.Z]!=null);T<K;++T)Ua[w.Z](be,Se,te,de,te,de,we),be=te,Se=de,de+=we;w.qd=be,w.rd=Se}}function ut(w,T){var K=w.l.ma,te=K.Z==0||K.Z==1?w.l.j:w.C;if(te=w.C<te?te:w.C,e(T<=w.l.o),T>te){var de=w.l.width,we=K.ca,be=K.tb+de*te,Se=w.V,Ne=w.Ba+w.c*te,Le=w.gc;e(w.ab==1),e(Le[0].hc==3),fa(Le[0],te,T,Se,Ne,we,be),vt(K,te,T,we,be,de)}w.C=w.Ma=T}function ht(w,T,K,te,de,we,be){var Se=w.$/te,Ne=w.$%te,Le=w.m,Be=w.s,Je=K+w.$,Re=Je;de=K+te*de;var qe=K+te*we,Ke=280+Be.ua,ft=w.Pb?Se:16777216,Ye=0<Be.ua?Be.Wa:null,ct=Be.wc,mt=Je<qe?$n(Be,Ne,Se):null;e(w.C<we),e(qe<=de);var It=!1;e:for(;;){for(;It||Je<qe;){var Et=0;if(Se>=ft){var Zt=Je-K;e((ft=w).Pb),ft.wd=ft.m,ft.xd=Zt,0<ft.s.ua&&Y(ft.s.Wa,ft.s.vb),ft=Se+ul}if(Ne&ct||(mt=$n(Be,Ne,Se)),e(mt!=null),mt.Qb&&(T[Je]=mt.qb,It=!0),!It)if(H(Le),mt.jc){Et=Le,Zt=T;var Ht=Je,Sn=mt.pd[se(Et)&al-1];e(mt.jc),256>Sn.g?(ue(Et,Et.u+Sn.g),Zt[Ht]=Sn.value,Et=0):(ue(Et,Et.u+Sn.g-256),e(256<=Sn.value),Et=Sn.value),Et==0&&(It=!0)}else Et=bn(mt.G[0],mt.H[0],Le);if(Le.h)break;if(It||256>Et){if(!It)if(mt.nd)T[Je]=(mt.qb|Et<<8)>>>0;else{if(H(Le),It=bn(mt.G[1],mt.H[1],Le),H(Le),Zt=bn(mt.G[2],mt.H[2],Le),Ht=bn(mt.G[3],mt.H[3],Le),Le.h)break;T[Je]=(Ht<<24|It<<16|Et<<8|Zt)>>>0}if(It=!1,++Je,++Ne>=te&&(Ne=0,++Se,be!=null&&Se<=we&&!(Se%16)&&be(w,Se),Ye!=null))for(;Re<Je;)Et=T[Re++],Ye.X[(506832829*Et&4294967295)>>>Ye.Mb]=Et}else if(280>Et){if(Et=un(Et-256,Le),Zt=bn(mt.G[4],mt.H[4],Le),H(Le),Zt=Yn(te,Zt=un(Zt,Le)),Le.h)break;if(Je-K<Zt||de-Je<Et)break e;for(Ht=0;Ht<Et;++Ht)T[Je+Ht]=T[Je+Ht-Zt];for(Je+=Et,Ne+=Et;Ne>=te;)Ne-=te,++Se,be!=null&&Se<=we&&!(Se%16)&&be(w,Se);if(e(Je<=de),Ne&ct&&(mt=$n(Be,Ne,Se)),Ye!=null)for(;Re<Je;)Et=T[Re++],Ye.X[(506832829*Et&4294967295)>>>Ye.Mb]=Et}else{if(!(Et<Ke))break e;for(It=Et-280,e(Ye!=null);Re<Je;)Et=T[Re++],Ye.X[(506832829*Et&4294967295)>>>Ye.Mb]=Et;Et=Je,e(!(It>>>(Zt=Ye).Xa)),T[Et]=Zt.X[It],It=!0}It||e(Le.h==me(Le))}if(w.Pb&&Le.h&&Je<de)e(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&Y(w.s.vb,w.s.Wa);else{if(Le.h)break e;be?.(w,Se>we?we:Se),w.a=0,w.$=Je-K}return 1}return w.a=3,0}function gt(w){e(w!=null),w.vc=null,w.yc=null,w.Ya=null;var T=w.Wa;T!=null&&(T.X=null),w.vb=null,e(w!=null)}function Ct(){var w=new hn;return w==null?null:(w.a=0,w.xb=ed,Pn("Predictor","VP8LPredictors"),Pn("Predictor","VP8LPredictors_C"),Pn("PredictorAdd","VP8LPredictorsAdd"),Pn("PredictorAdd","VP8LPredictorsAdd_C"),yi=xt,Ru=Ft,ku=gn,Pa=Mt,Ma=Ot,ha=tn,Hl=sn,C.VP8LMapColor32b=ca,C.VP8LMapColor8b=rs,w)}function En(w,T,K,te,de){var we=1,be=[w],Se=[T],Ne=te.m,Le=te.s,Be=null,Je=0;e:for(;;){if(K)for(;we&&re(Ne,1);){var Re=be,qe=Se,Ke=te,ft=1,Ye=Ke.m,ct=Ke.gc[Ke.ab],mt=re(Ye,2);if(Ke.Oc&1<<mt)we=0;else{switch(Ke.Oc|=1<<mt,ct.hc=mt,ct.Ea=Re[0],ct.nc=qe[0],ct.K=[null],++Ke.ab,e(4>=Ke.ab),mt){case 0:case 1:ct.b=re(Ye,3)+2,ft=En(q(ct.Ea,ct.b),q(ct.nc,ct.b),0,Ke,ct.K),ct.K=ct.K[0];break;case 3:var It,Et=re(Ye,8)+1,Zt=16<Et?0:4<Et?1:2<Et?2:3;if(Re[0]=q(ct.Ea,Zt),ct.b=Zt,It=ft=En(Et,1,0,Ke,ct.K)){var Ht,Sn=Et,Jt=ct,Kn=1<<(8>>Jt.b),Yr=s(Kn);if(Yr==null)It=0;else{var Rn=Jt.K[0],Gt=Jt.w;for(Yr[0]=Jt.K[0][0],Ht=1;Ht<1*Sn;++Ht)Yr[Ht]=ye(Rn[Gt+Ht],Yr[Ht-1]);for(;Ht<4*Kn;++Ht)Yr[Ht]=0;Jt.K[0]=null,Jt.K[0]=Yr,It=1}}ft=It;break;case 2:break;default:e(0)}we=ft}}if(be=be[0],Se=Se[0],we&&re(Ne,1)&&!(we=1<=(Je=re(Ne,4))&&11>=Je)){te.a=3;break e}var Lt;if(Lt=we)t:{var ti,vn,Mn,br=te,Oi=be,ls=Se,Ur=Je,Si=K,ys=br.m,xi=br.s,qn=[null],or=1,ni=0,pr=Ao[Ur];n:for(;;){if(Si&&re(ys,1)){var Fi=re(ys,3)+2,ri=q(Oi,Fi),ar=q(ls,Fi),_i=ri*ar;if(!En(ri,ar,0,br,qn))break n;for(qn=qn[0],xi.xc=Fi,ti=0;ti<_i;++ti){var Er=qn[ti]>>8&65535;qn[ti]=Er,Er>=or&&(or=Er+1)}}if(ys.h)break n;for(vn=0;5>vn;++vn){var Ti=Wl[vn];!vn&&0<Ur&&(Ti+=1<<Ur),ni<Ti&&(ni=Ti)}var Ci=l(or*pr,B),Ir=or,sr=l(Ir,ve);if(sr==null)var vs=null;else e(65536>=Ir),vs=sr;var ci=s(ni);if(vs==null||ci==null||Ci==null){br.a=1;break n}var fn=Ci;for(ti=Mn=0;ti<or;++ti){var dn=vs[ti],lr=dn.G,qs=dn.H,Co=0,ks=1,Ni=0;for(vn=0;5>vn;++vn){Ti=Wl[vn],lr[vn]=fn,qs[vn]=Mn,!vn&&0<Ur&&(Ti+=1<<Ur);i:{var ml,gl=Ti,Lf=br,Br=ci,nd=fn,rd=Mn,Df=0,Ba=Lf.m,L0=re(Ba,1);if(i(Br,0,0,gl),L0){var id=re(Ba,1)+1,sd=re(Ba,1),Pf=re(Ba,sd==0?1:8);Br[Pf]=1,id==2&&(Br[Pf=re(Ba,8)]=1);var Wi=1}else{var fi=s(19),Uc=re(Ba,4)+4;if(19<Uc){Lf.a=3;var yl=0;break i}for(ml=0;ml<Uc;++ml)fi[Mc[ml]]=re(Ba,3);var Uu=void 0,Jl=void 0,ma=Lf,Mf=fi,Bu=gl,Of=Br,Ff=0,Va=ma.m,od=8,ad=l(128,B);r:for(;D(ad,0,7,Mf,19);){if(re(Va,1)){var Op=2+2*re(Va,3);if((Uu=2+re(Va,Op))>Bu)break r}else Uu=Bu;for(Jl=0;Jl<Bu&&Uu--;){H(Va);var ld=ad[0+(127&se(Va))];ue(Va,Va.u+ld.g);var vl=ld.value;if(16>vl)Of[Jl++]=vl,vl!=0&&(od=vl);else{var Fp=vl==16,Up=vl-16,Bp=Pu[Up],ud=re(Va,bo[Up])+Bp;if(Jl+ud>Bu)break r;for(var Vp=Fp?od:0;0<ud--;)Of[Jl++]=Vp}}Ff=1;break r}Ff||(ma.a=3),Wi=Ff}(Wi=Wi&&!Ba.h)&&(Df=D(nd,rd,8,Br,gl)),Wi&&Df!=0?yl=Df:(Lf.a=3,yl=0)}if(yl==0)break n;if(ks&&Tf[vn]==1&&(ks=fn[Mn].g==0),Co+=fn[Mn].g,Mn+=yl,3>=vn){var Xl,Uf=ci[0];for(Xl=1;Xl<Ti;++Xl)ci[Xl]>Uf&&(Uf=ci[Xl]);Ni+=Uf}}if(dn.nd=ks,dn.Qb=0,ks&&(dn.qb=(lr[3][qs[3]+0].value<<24|lr[1][qs[1]+0].value<<16|lr[2][qs[2]+0].value)>>>0,Co==0&&256>lr[0][qs[0]+0].value&&(dn.Qb=1,dn.qb+=lr[0][qs[0]+0].value<<8)),dn.jc=!dn.Qb&&6>Ni,dn.jc){var Bc,ga=dn;for(Bc=0;Bc<al;++Bc){var qa=Bc,za=ga.pd[qa],Bf=ga.G[0][ga.H[0]+qa];256<=Bf.value?(za.g=Bf.g+256,za.value=Bf.value):(za.g=0,za.value=0,qa>>=yn(Bf,8,za),qa>>=yn(ga.G[1][ga.H[1]+qa],16,za),qa>>=yn(ga.G[2][ga.H[2]+qa],0,za),yn(ga.G[3][ga.H[3]+qa],24,za))}}}xi.vc=qn,xi.Wb=or,xi.Ya=vs,xi.yc=Ci,Lt=1;break t}Lt=0}if(!(we=Lt)){te.a=3;break e}if(0<Je){if(Le.ua=1<<Je,!Z(Le.Wa,Je)){te.a=1,we=0;break e}}else Le.ua=0;var Vf=te,Ql=be,qp=Se,Vu=Vf.s,qu=Vu.xc;if(Vf.c=Ql,Vf.i=qp,Vu.md=q(Ql,qu),Vu.wc=qu==0?-1:(1<<qu)-1,K){te.xb=cl;break e}if((Be=s(be*Se))==null){te.a=1,we=0;break e}we=(we=ht(te,Be,0,be,Se,Se,null))&&!Ne.h;break e}return we?(de!=null?de[0]=Be:(e(Be==null),e(K)),te.$=0,K||gt(Le)):gt(Le),we}function On(w,T){var K=w.c*w.i,te=K+T+16*T;return e(w.c<=T),w.V=s(te),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+K+T,1)}function nn(w,T){var K=w.C,te=T-K,de=w.V,we=w.Ba+w.c*K;for(e(T<=w.l.o);0<te;){var be=16<te?16:te,Se=w.l.ma,Ne=w.l.width,Le=Ne*be,Be=Se.ca,Je=Se.tb+Ne*K,Re=w.Ta,qe=w.Ua;Gn(w,be,de,we),oo(Re,qe,Be,Je,Le),vt(Se,K,K+be,Be,Je,Ne),te-=be,de+=be*w.c,K+=be}e(K==T),w.C=w.Ma=T}function Sr(){this.ub=this.yd=this.td=this.Rb=0}function xr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function hr(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ei(){this.Yb=(function(){var w=[];return(function T(K,te,de){for(var we=de[te],be=0;be<we&&(K.push(de.length>te+1?[]:0),!(de.length<te+1));be++)T(K[be],te+1,de)})(w,0,[3,11]),w})()}function Gr(){this.jb=s(3),this.Wc=u([4,8],ei),this.Xc=u([4,17],ei)}function Bo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Gi(){this.ld=this.La=this.dd=this.tc=0}function Zi(){this.Na=this.la=0}function fs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bn(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function jr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Gi),this.Y=0,this.ya=Array(new Bn),this.aa=0,this.l=new Ei}function _r(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ai(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new Sr,this.Kc=new xr,this.ed=new Bo,this.Qa=new hr,this.Ic=this.$c=this.Aa=0,this.D=new jr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,O),this.ia=0,this.pb=l(4,fs),this.Pa=new Gr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _r),this.Hd=0,this.rb=Array(new Zi),this.sb=0,this.wa=Array(new Gi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bn),this.L=this.aa=0,this.gd=u([4,2],Gi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qr(w,T){return 0>w?0:w>T?T:w}function Ei(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $r(){var w=new ai;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,ao||(ao=Zn)),w}function In(w,T,K){return w.a==0&&(w.a=T,w.sc=K,w.cb=0),0}function Zs(w,T,K){return 3<=K&&w[T+0]==157&&w[T+1]==1&&w[T+2]==42}function Us(w,T){if(w==null)return 0;if(w.a=0,w.sc="OK",T==null)return In(w,2,"null VP8Io passed to VP8GetHeaders()");var K=T.data,te=T.w,de=T.ha;if(4>de)return In(w,7,"Truncated header.");var we=K[te+0]|K[te+1]<<8|K[te+2]<<16,be=w.Od;if(be.Rb=!(1&we),be.td=we>>1&7,be.yd=we>>4&1,be.ub=we>>5,3<be.td)return In(w,3,"Incorrect keyframe parameters.");if(!be.yd)return In(w,4,"Frame not displayable.");te+=3,de-=3;var Se=w.Kc;if(be.Rb){if(7>de)return In(w,7,"cannot parse picture header");if(!Zs(K,te,de))return In(w,3,"Bad code word");Se.c=16383&(K[te+4]<<8|K[te+3]),Se.Td=K[te+4]>>6,Se.i=16383&(K[te+6]<<8|K[te+5]),Se.Ud=K[te+6]>>6,te+=7,de-=7,w.za=Se.c+15>>4,w.Ub=Se.i+15>>4,T.width=Se.c,T.height=Se.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((we=w.Pa).jb,0,255,we.jb.length),e((we=w.Qa)!=null),we.Cb=0,we.Bb=0,we.Fb=1,i(we.Zb,0,0,we.Zb.length),i(we.Lb,0,0,we.Lb)}if(be.ub>de)return In(w,7,"bad partition length");ce(we=w.m,K,te,be.ub),te+=be.ub,de-=be.ub,be.Rb&&(Se.Ld=ge(we),Se.Kd=ge(we)),Se=w.Qa;var Ne,Le=w.Pa;if(e(we!=null),e(Se!=null),Se.Cb=ge(we),Se.Cb){if(Se.Bb=ge(we),ge(we)){for(Se.Fb=ge(we),Ne=0;4>Ne;++Ne)Se.Zb[Ne]=ge(we)?_e(we,7):0;for(Ne=0;4>Ne;++Ne)Se.Lb[Ne]=ge(we)?_e(we,6):0}if(Se.Bb)for(Ne=0;3>Ne;++Ne)Le.jb[Ne]=ge(we)?ae(we,8):255}else Se.Bb=0;if(we.Ka)return In(w,3,"cannot parse segment header");if((Se=w.ed).zd=ge(we),Se.Tb=ae(we,6),Se.wb=ae(we,3),Se.Pc=ge(we),Se.Pc&&ge(we)){for(Le=0;4>Le;++Le)ge(we)&&(Se.vd[Le]=_e(we,6));for(Le=0;4>Le;++Le)ge(we)&&(Se.od[Le]=_e(we,6))}if(w.L=Se.Tb==0?0:Se.zd?1:2,we.Ka)return In(w,3,"cannot parse filter header");var Be=de;if(de=Ne=te,te=Ne+Be,Se=Be,w.Xb=(1<<ae(w.m,2))-1,Be<3*(Le=w.Xb))K=7;else{for(Ne+=3*Le,Se-=3*Le,Be=0;Be<Le;++Be){var Je=K[de+0]|K[de+1]<<8|K[de+2]<<16;Je>Se&&(Je=Se),ce(w.Jc[+Be],K,Ne,Je),Ne+=Je,Se-=Je,de+=3}ce(w.Jc[+Le],K,Ne,Se),K=Ne<te?0:5}if(K!=0)return In(w,K,"cannot parse partitions");for(K=ae(Ne=w.m,7),de=ge(Ne)?_e(Ne,4):0,te=ge(Ne)?_e(Ne,4):0,Se=ge(Ne)?_e(Ne,4):0,Le=ge(Ne)?_e(Ne,4):0,Ne=ge(Ne)?_e(Ne,4):0,Be=w.Qa,Je=0;4>Je;++Je){if(Be.Cb){var Re=Be.Zb[Je];Be.Fb||(Re+=K)}else{if(0<Je){w.pb[Je]=w.pb[0];continue}Re=K}var qe=w.pb[Je];qe.Sc[0]=So[Qr(Re+de,127)],qe.Sc[1]=xo[Qr(Re+0,127)],qe.Eb[0]=2*So[Qr(Re+te,127)],qe.Eb[1]=101581*xo[Qr(Re+Se,127)]>>16,8>qe.Eb[1]&&(qe.Eb[1]=8),qe.Qc[0]=So[Qr(Re+Le,117)],qe.Qc[1]=xo[Qr(Re+Ne,127)],qe.lc=Re+Ne}if(!be.Rb)return In(w,4,"Not a key frame.");for(ge(we),be=w.Pa,K=0;4>K;++K){for(de=0;8>de;++de)for(te=0;3>te;++te)for(Se=0;11>Se;++Se)Le=he(we,Kr[K][de][te][Se])?ae(we,8):Pp[K][de][te][Se],be.Wc[K][de].Yb[te][Se]=Le;for(de=0;17>de;++de)be.Xc[K][de]=be.Wc[K][Jn[de]]}return w.kc=ge(we),w.kc&&(w.Bd=ae(we,8)),w.cb=1}function Zn(w,T,K,te,de,we,be){var Se=T[de].Yb[K];for(K=0;16>de;++de){if(!he(w,Se[K+0]))return de;for(;!he(w,Se[K+1]);)if(Se=T[++de].Yb[0],K=0,de==16)return 16;var Ne=T[de+1].Yb;if(he(w,Se[K+2])){var Le=w,Be=0;if(he(Le,(Re=Se)[(Je=K)+3]))if(he(Le,Re[Je+6])){for(Se=0,Je=2*(Be=he(Le,Re[Je+8]))+(Re=he(Le,Re[Je+9+Be])),Be=0,Re=Dp[Je];Re[Se];++Se)Be+=Be+he(Le,Re[Se]);Be+=3+(8<<Je)}else he(Le,Re[Je+7])?(Be=7+2*he(Le,165),Be+=he(Le,145)):Be=5+he(Le,159);else Be=he(Le,Re[Je+4])?3+he(Le,Re[Je+5]):2;Se=Ne[2]}else Be=1,Se=Ne[1];Ne=be+Zh[de],0>(Le=w).b&&j(Le);var Je,Re=Le.b,qe=(Je=Le.Ca>>1)-(Le.I>>Re)>>31;--Le.b,Le.Ca+=qe,Le.Ca|=1,Le.I-=(Je+1&qe)<<Re,we[Ne]=((Be^qe)-qe)*te[(0<de)+0]}return 16}function ta(w){var T=w.rb[w.sb-1];T.la=0,T.Na=0,i(w.zc,0,0,w.zc.length),w.ja=0}function mi(w,T,K,te,de){de=w[T+K+32*te]+(de>>3),w[T+K+32*te]=-256&de?0>de?0:255:de}function Wr(w,T,K,te,de,we){mi(w,T,0,K,te+de),mi(w,T,1,K,te+we),mi(w,T,2,K,te-we),mi(w,T,3,K,te-de)}function li(w){return(20091*w>>16)+w}function xa(w,T,K,te){var de,we=0,be=s(16);for(de=0;4>de;++de){var Se=w[T+0]+w[T+8],Ne=w[T+0]-w[T+8],Le=(35468*w[T+4]>>16)-li(w[T+12]),Be=li(w[T+4])+(35468*w[T+12]>>16);be[we+0]=Se+Be,be[we+1]=Ne+Le,be[we+2]=Ne-Le,be[we+3]=Se-Be,we+=4,T++}for(de=we=0;4>de;++de)Se=(w=be[we+0]+4)+be[we+8],Ne=w-be[we+8],Le=(35468*be[we+4]>>16)-li(be[we+12]),mi(K,te,0,0,Se+(Be=li(be[we+4])+(35468*be[we+12]>>16))),mi(K,te,1,0,Ne+Le),mi(K,te,2,0,Ne-Le),mi(K,te,3,0,Se-Be),we++,te+=32}function Tu(w,T,K,te){var de=w[T+0]+4,we=35468*w[T+4]>>16,be=li(w[T+4]),Se=35468*w[T+1]>>16;Wr(K,te,0,de+be,w=li(w[T+1]),Se),Wr(K,te,1,de+we,w,Se),Wr(K,te,2,de-we,w,Se),Wr(K,te,3,de-be,w,Se)}function Fl(w,T,K,te,de){xa(w,T,K,te),de&&xa(w,T+16,K,te+4)}function es(w,T,K,te){Oa(w,T+0,K,te,1),Oa(w,T+32,K,te+128,1)}function Ul(w,T,K,te){var de;for(w=w[T+0]+4,de=0;4>de;++de)for(T=0;4>T;++T)mi(K,te,T,de,w)}function Vo(w,T,K,te){w[T+0]&&dr(w,T+0,K,te),w[T+16]&&dr(w,T+16,K,te+4),w[T+32]&&dr(w,T+32,K,te+128),w[T+48]&&dr(w,T+48,K,te+128+4)}function Pi(w,T,K,te){var de,we=s(16);for(de=0;4>de;++de){var be=w[T+0+de]+w[T+12+de],Se=w[T+4+de]+w[T+8+de],Ne=w[T+4+de]-w[T+8+de],Le=w[T+0+de]-w[T+12+de];we[0+de]=be+Se,we[8+de]=be-Se,we[4+de]=Le+Ne,we[12+de]=Le-Ne}for(de=0;4>de;++de)be=(w=we[0+4*de]+3)+we[3+4*de],Se=we[1+4*de]+we[2+4*de],Ne=we[1+4*de]-we[2+4*de],Le=w-we[3+4*de],K[te+0]=be+Se>>3,K[te+16]=Le+Ne>>3,K[te+32]=be-Se>>3,K[te+48]=Le-Ne>>3,te+=64}function na(w,T,K){var te,de=T-32,we=ms,be=255-w[de-1];for(te=0;te<K;++te){var Se,Ne=we,Le=be+w[T-1];for(Se=0;Se<K;++Se)w[T+Se]=Ne[Le+w[de+Se]];T+=32}}function Bl(w,T){na(w,T,4)}function Vl(w,T){na(w,T,8)}function nl(w,T){na(w,T,16)}function rl(w,T){var K;for(K=0;16>K;++K)r(w,T+32*K,w,T-32,16)}function qo(w,T){var K;for(K=16;0<K;--K)i(w,T,w[T-1],16),T+=32}function hs(w,T,K){var te;for(te=0;16>te;++te)i(T,K+32*te,w,16)}function eo(w,T){var K,te=16;for(K=0;16>K;++K)te+=w[T-1+32*K]+w[T+K-32];hs(te>>5,w,T)}function zo(w,T){var K,te=8;for(K=0;16>K;++K)te+=w[T-1+32*K];hs(te>>4,w,T)}function ds(w,T){var K,te=8;for(K=0;16>K;++K)te+=w[T+K-32];hs(te>>4,w,T)}function ra(w,T){hs(128,w,T)}function cn(w,T,K){return w+2*T+K+2>>2}function Ta(w,T){var K,te=T-32;for(te=new Uint8Array([cn(w[te-1],w[te+0],w[te+1]),cn(w[te+0],w[te+1],w[te+2]),cn(w[te+1],w[te+2],w[te+3]),cn(w[te+2],w[te+3],w[te+4])]),K=0;4>K;++K)r(w,T+32*K,te,0,te.length)}function il(w,T){var K=w[T-1],te=w[T-1+32],de=w[T-1+64],we=w[T-1+96];le(w,T+0,16843009*cn(w[T-1-32],K,te)),le(w,T+32,16843009*cn(K,te,de)),le(w,T+64,16843009*cn(te,de,we)),le(w,T+96,16843009*cn(de,we,we))}function ia(w,T){var K,te=4;for(K=0;4>K;++K)te+=w[T+K-32]+w[T-1+32*K];for(te>>=3,K=0;4>K;++K)i(w,T+32*K,te,4)}function Mi(w,T){var K=w[T-1+0],te=w[T-1+32],de=w[T-1+64],we=w[T-1-32],be=w[T+0-32],Se=w[T+1-32],Ne=w[T+2-32],Le=w[T+3-32];w[T+0+96]=cn(te,de,w[T-1+96]),w[T+1+96]=w[T+0+64]=cn(K,te,de),w[T+2+96]=w[T+1+64]=w[T+0+32]=cn(we,K,te),w[T+3+96]=w[T+2+64]=w[T+1+32]=w[T+0+0]=cn(be,we,K),w[T+3+64]=w[T+2+32]=w[T+1+0]=cn(Se,be,we),w[T+3+32]=w[T+2+0]=cn(Ne,Se,be),w[T+3+0]=cn(Le,Ne,Se)}function Ai(w,T){var K=w[T+1-32],te=w[T+2-32],de=w[T+3-32],we=w[T+4-32],be=w[T+5-32],Se=w[T+6-32],Ne=w[T+7-32];w[T+0+0]=cn(w[T+0-32],K,te),w[T+1+0]=w[T+0+32]=cn(K,te,de),w[T+2+0]=w[T+1+32]=w[T+0+64]=cn(te,de,we),w[T+3+0]=w[T+2+32]=w[T+1+64]=w[T+0+96]=cn(de,we,be),w[T+3+32]=w[T+2+64]=w[T+1+96]=cn(we,be,Se),w[T+3+64]=w[T+2+96]=cn(be,Se,Ne),w[T+3+96]=cn(Se,Ne,Ne)}function Ca(w,T){var K=w[T-1+0],te=w[T-1+32],de=w[T-1+64],we=w[T-1-32],be=w[T+0-32],Se=w[T+1-32],Ne=w[T+2-32],Le=w[T+3-32];w[T+0+0]=w[T+1+64]=we+be+1>>1,w[T+1+0]=w[T+2+64]=be+Se+1>>1,w[T+2+0]=w[T+3+64]=Se+Ne+1>>1,w[T+3+0]=Ne+Le+1>>1,w[T+0+96]=cn(de,te,K),w[T+0+64]=cn(te,K,we),w[T+0+32]=w[T+1+96]=cn(K,we,be),w[T+1+32]=w[T+2+96]=cn(we,be,Se),w[T+2+32]=w[T+3+96]=cn(be,Se,Ne),w[T+3+32]=cn(Se,Ne,Le)}function mr(w,T){var K=w[T+0-32],te=w[T+1-32],de=w[T+2-32],we=w[T+3-32],be=w[T+4-32],Se=w[T+5-32],Ne=w[T+6-32],Le=w[T+7-32];w[T+0+0]=K+te+1>>1,w[T+1+0]=w[T+0+64]=te+de+1>>1,w[T+2+0]=w[T+1+64]=de+we+1>>1,w[T+3+0]=w[T+2+64]=we+be+1>>1,w[T+0+32]=cn(K,te,de),w[T+1+32]=w[T+0+96]=cn(te,de,we),w[T+2+32]=w[T+1+96]=cn(de,we,be),w[T+3+32]=w[T+2+96]=cn(we,be,Se),w[T+3+64]=cn(be,Se,Ne),w[T+3+96]=cn(Se,Ne,Le)}function Ss(w,T){var K=w[T-1+0],te=w[T-1+32],de=w[T-1+64],we=w[T-1+96];w[T+0+0]=K+te+1>>1,w[T+2+0]=w[T+0+32]=te+de+1>>1,w[T+2+32]=w[T+0+64]=de+we+1>>1,w[T+1+0]=cn(K,te,de),w[T+3+0]=w[T+1+32]=cn(te,de,we),w[T+3+32]=w[T+1+64]=cn(de,we,we),w[T+3+64]=w[T+2+64]=w[T+0+96]=w[T+1+96]=w[T+2+96]=w[T+3+96]=we}function Na(w,T){var K=w[T-1+0],te=w[T-1+32],de=w[T-1+64],we=w[T-1+96],be=w[T-1-32],Se=w[T+0-32],Ne=w[T+1-32],Le=w[T+2-32];w[T+0+0]=w[T+2+32]=K+be+1>>1,w[T+0+32]=w[T+2+64]=te+K+1>>1,w[T+0+64]=w[T+2+96]=de+te+1>>1,w[T+0+96]=we+de+1>>1,w[T+3+0]=cn(Se,Ne,Le),w[T+2+0]=cn(be,Se,Ne),w[T+1+0]=w[T+3+32]=cn(K,be,Se),w[T+1+32]=w[T+3+64]=cn(te,K,be),w[T+1+64]=w[T+3+96]=cn(de,te,K),w[T+1+96]=cn(we,de,te)}function to(w,T){var K;for(K=0;8>K;++K)r(w,T+32*K,w,T-32,8)}function ql(w,T){var K;for(K=0;8>K;++K)i(w,T,w[T-1],8),T+=32}function xs(w,T,K){var te;for(te=0;8>te;++te)i(T,K+32*te,w,8)}function Ho(w,T){var K,te=8;for(K=0;8>K;++K)te+=w[T+K-32]+w[T-1+32*K];xs(te>>4,w,T)}function Ts(w,T){var K,te=4;for(K=0;8>K;++K)te+=w[T+K-32];xs(te>>3,w,T)}function gi(w,T){var K,te=4;for(K=0;8>K;++K)te+=w[T-1+32*K];xs(te>>3,w,T)}function ho(w,T){xs(128,w,T)}function ji(w,T,K){var te=w[T-K],de=w[T+0],we=3*(de-te)+Fa[1020+w[T-2*K]-w[T+K]],be=Lc[112+(we+4>>3)];w[T-K]=ms[255+te+Lc[112+(we+3>>3)]],w[T+0]=ms[255+de-be]}function po(w,T,K,te){var de=w[T+0],we=w[T+K];return is[255+w[T-2*K]-w[T-K]]>te||is[255+we-de]>te}function sa(w,T,K,te){return 4*is[255+w[T-K]-w[T+0]]+is[255+w[T-2*K]-w[T+K]]<=te}function mo(w,T,K,te,de){var we=w[T-3*K],be=w[T-2*K],Se=w[T-K],Ne=w[T+0],Le=w[T+K],Be=w[T+2*K],Je=w[T+3*K];return 4*is[255+Se-Ne]+is[255+be-Le]>te?0:is[255+w[T-4*K]-we]<=de&&is[255+we-be]<=de&&is[255+be-Se]<=de&&is[255+Je-Be]<=de&&is[255+Be-Le]<=de&&is[255+Le-Ne]<=de}function go(w,T,K,te){var de=2*te+1;for(te=0;16>te;++te)sa(w,T+te,K,de)&&ji(w,T+te,K)}function Bs(w,T,K,te){var de=2*te+1;for(te=0;16>te;++te)sa(w,T+te*K,1,de)&&ji(w,T+te*K,1)}function Ia(w,T,K,te){var de;for(de=3;0<de;--de)go(w,T+=4*K,K,te)}function sl(w,T,K,te){var de;for(de=3;0<de;--de)Bs(w,T+=4,K,te)}function Cs(w,T,K,te,de,we,be,Se){for(we=2*we+1;0<de--;){if(mo(w,T,K,we,be))if(po(w,T,K,Se))ji(w,T,K);else{var Ne=w,Le=T,Be=K,Je=Ne[Le-2*Be],Re=Ne[Le-Be],qe=Ne[Le+0],Ke=Ne[Le+Be],ft=Ne[Le+2*Be],Ye=27*(mt=Fa[1020+3*(qe-Re)+Fa[1020+Je-Ke]])+63>>7,ct=18*mt+63>>7,mt=9*mt+63>>7;Ne[Le-3*Be]=ms[255+Ne[Le-3*Be]+mt],Ne[Le-2*Be]=ms[255+Je+ct],Ne[Le-Be]=ms[255+Re+Ye],Ne[Le+0]=ms[255+qe-Ye],Ne[Le+Be]=ms[255+Ke-ct],Ne[Le+2*Be]=ms[255+ft-mt]}T+=te}}function yo(w,T,K,te,de,we,be,Se){for(we=2*we+1;0<de--;){if(mo(w,T,K,we,be))if(po(w,T,K,Se))ji(w,T,K);else{var Ne=w,Le=T,Be=K,Je=Ne[Le-Be],Re=Ne[Le+0],qe=Ne[Le+Be],Ke=Lc[112+(4+(ft=3*(Re-Je))>>3)],ft=Lc[112+(ft+3>>3)],Ye=Ke+1>>1;Ne[Le-2*Be]=ms[255+Ne[Le-2*Be]+Ye],Ne[Le-Be]=ms[255+Je+ft],Ne[Le+0]=ms[255+Re-Ke],Ne[Le+Be]=ms[255+qe-Ye]}T+=te}}function zl(w,T,K,te,de,we){Cs(w,T,K,1,16,te,de,we)}function no(w,T,K,te,de,we){Cs(w,T,1,K,16,te,de,we)}function ol(w,T,K,te,de,we){var be;for(be=3;0<be;--be)yo(w,T+=4*K,K,1,16,te,de,we)}function U(w,T,K,te,de,we){var be;for(be=3;0<be;--be)yo(w,T+=4,1,K,16,te,de,we)}function fe(w,T,K,te,de,we,be,Se){Cs(w,T,de,1,8,we,be,Se),Cs(K,te,de,1,8,we,be,Se)}function ke(w,T,K,te,de,we,be,Se){Cs(w,T,1,de,8,we,be,Se),Cs(K,te,1,de,8,we,be,Se)}function Fe(w,T,K,te,de,we,be,Se){yo(w,T+4*de,de,1,8,we,be,Se),yo(K,te+4*de,de,1,8,we,be,Se)}function ze(w,T,K,te,de,we,be,Se){yo(w,T+4,1,de,8,we,be,Se),yo(K,te+4,1,de,8,we,be,Se)}function dt(){this.ba=new Ut,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Tn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function At(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function jt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Qt(){this.ua=0,this.Wa=new I,this.vb=new I,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ve,this.yc=new B}function hn(){this.xb=this.a=0,this.l=new Ei,this.ca=new Ut,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ee,this.Pb=0,this.wd=new ee,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Qt,this.ab=0,this.gc=l(4,jt),this.Oc=0}function an(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ei,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Wn(w,T,K,te,de,we,be){for(w=w==null?0:w[T+0],T=0;T<be;++T)de[we+T]=w+K[te+T]&255,w=de[we+T]}function Mr(w,T,K,te,de,we,be){var Se;if(w==null)Wn(null,null,K,te,de,we,be);else for(Se=0;Se<be;++Se)de[we+Se]=w[T+Se]+K[te+Se]&255}function Tr(w,T,K,te,de,we,be){if(w==null)Wn(null,null,K,te,de,we,be);else{var Se,Ne=w[T+0],Le=Ne,Be=Ne;for(Se=0;Se<be;++Se)Le=Be+(Ne=w[T+Se])-Le,Be=K[te+Se]+(-256&Le?0>Le?0:255:Le)&255,Le=Ne,de[we+Se]=Be}}function b(w,T,K,te){var de=T.width,we=T.o;if(e(w!=null&&T!=null),0>K||0>=te||K+te>we)return null;if(!w.Cc){if(w.ga==null){var be;if(w.ga=new an,(be=w.ga==null)||(be=T.width*T.o,e(w.Gb.length==0),w.Gb=s(be),w.Uc=0,w.Gb==null?be=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,be=1),be=!be),!be){be=w.ga;var Se=w.Fa,Ne=w.P,Le=w.qc,Be=w.mb,Je=w.nb,Re=Ne+1,qe=Le-1,Ke=be.l;if(e(Se!=null&&Be!=null&&T!=null),Ua[0]=null,Ua[1]=Wn,Ua[2]=Mr,Ua[3]=Tr,be.ca=Be,be.tb=Je,be.c=T.width,be.i=T.height,e(0<be.c&&0<be.i),1>=Le)T=0;else if(be.$a=3&Se[Ne+0],be.Z=Se[Ne+0]>>2&3,be.Lc=Se[Ne+0]>>4&3,Ne=Se[Ne+0]>>6&3,0>be.$a||1<be.$a||4<=be.Z||1<be.Lc||Ne)T=0;else if(Ke.put=et,Ke.ac=Pe,Ke.bc=kt,Ke.ma=be,Ke.width=T.width,Ke.height=T.height,Ke.Da=T.Da,Ke.v=T.v,Ke.va=T.va,Ke.j=T.j,Ke.o=T.o,be.$a)e:{e(be.$a==1),T=Ct();t:for(;;){if(T==null){T=0;break e}if(e(be!=null),be.mc=T,T.c=be.c,T.i=be.i,T.l=be.l,T.l.ma=be,T.l.width=be.c,T.l.height=be.i,T.a=0,xe(T.m,Se,Re,qe),!En(be.c,be.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&rt(T.s)?(be.ic=1,Se=T.c*T.i,T.Ta=null,T.Ua=0,T.V=s(Se),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(be.ic=0,T=On(T,be.c)),!T))break t;T=1;break e}be.mc=null,T=0}else T=qe>=be.c*be.i;be=!T}if(be)return null;w.ga.Lc!=1?w.Ga=0:te=we-K}e(w.ga!=null),e(K+te<=we);e:{if(T=(Se=w.ga).c,we=Se.l.o,Se.$a==0){if(Re=w.rc,qe=w.Vc,Ke=w.Fa,Ne=w.P+1+K*T,Le=w.mb,Be=w.nb+K*T,e(Ne<=w.P+w.qc),Se.Z!=0)for(e(Ua[Se.Z]!=null),be=0;be<te;++be)Ua[Se.Z](Re,qe,Ke,Ne,Le,Be,T),Re=Le,qe=Be,Be+=T,Ne+=T;else for(be=0;be<te;++be)r(Le,Be,Ke,Ne,T),Re=Le,qe=Be,Be+=T,Ne+=T;w.rc=Re,w.Vc=qe}else{if(e(Se.mc!=null),T=K+te,e((be=Se.mc)!=null),e(T<=be.i),be.C>=T)T=1;else if(Se.ic||nt(),Se.ic){Se=be.V,Re=be.Ba,qe=be.c;var ft=be.i,Ye=(Ke=1,Ne=be.$/qe,Le=be.$%qe,Be=be.m,Je=be.s,be.$),ct=qe*ft,mt=qe*T,It=Je.wc,Et=Ye<mt?$n(Je,Le,Ne):null;e(Ye<=ct),e(T<=ft),e(rt(Je));t:for(;;){for(;!Be.h&&Ye<mt;){if(Le&It||(Et=$n(Je,Le,Ne)),e(Et!=null),H(Be),256>(ft=bn(Et.G[0],Et.H[0],Be)))Se[Re+Ye]=ft,++Ye,++Le>=qe&&(Le=0,++Ne<=T&&!(Ne%16)&&ut(be,Ne));else{if(!(280>ft)){Ke=0;break t}ft=un(ft-256,Be);var Zt,Ht=bn(Et.G[4],Et.H[4],Be);if(H(Be),!(Ye>=(Ht=Yn(qe,Ht=un(Ht,Be)))&&ct-Ye>=ft)){Ke=0;break t}for(Zt=0;Zt<ft;++Zt)Se[Re+Ye+Zt]=Se[Re+Ye+Zt-Ht];for(Ye+=ft,Le+=ft;Le>=qe;)Le-=qe,++Ne<=T&&!(Ne%16)&&ut(be,Ne);Ye<mt&&Le&It&&(Et=$n(Je,Le,Ne))}e(Be.h==me(Be))}ut(be,Ne>T?T:Ne);break t}!Ke||Be.h&&Ye<ct?(Ke=0,be.a=Be.h?5:3):be.$=Ye,T=Ke}else T=ht(be,be.V,be.Ba,be.c,be.i,T,nn);if(!T){te=0;break e}}K+te>=we&&(w.Cc=1),te=1}if(!te)return null;if(w.Cc&&((te=w.ga)!=null&&(te.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+K*de}function J(w,T,K,te,de,we){for(;0<de--;){var be,Se=w,Ne=T+(K?1:0),Le=w,Be=T+(K?0:3);for(be=0;be<te;++be){var Je=Le[Be+4*be];Je!=255&&(Je*=32897,Se[Ne+4*be+0]=Se[Ne+4*be+0]*Je>>23,Se[Ne+4*be+1]=Se[Ne+4*be+1]*Je>>23,Se[Ne+4*be+2]=Se[Ne+4*be+2]*Je>>23)}T+=we}}function oe(w,T,K,te,de){for(;0<te--;){var we;for(we=0;we<K;++we){var be=w[T+2*we+0],Se=15&(Le=w[T+2*we+1]),Ne=4369*Se,Le=(240&Le|Le>>4)*Ne>>16;w[T+2*we+0]=(240&be|be>>4)*Ne>>16&240|(15&be|be<<4)*Ne>>16>>4&15,w[T+2*we+1]=240&Le|Se}T+=de}}function Te(w,T,K,te,de,we,be,Se){var Ne,Le,Be=255;for(Le=0;Le<de;++Le){for(Ne=0;Ne<te;++Ne){var Je=w[T+Ne];we[be+4*Ne]=Je,Be&=Je}T+=K,be+=Se}return Be!=255}function $e(w,T,K,te,de){var we;for(we=0;we<de;++we)K[te+we]=w[T+we]>>8}function nt(){jl=J,wo=oe,Ic=Te,oo=$e}function Rt(w,T,K){C[w]=function(te,de,we,be,Se,Ne,Le,Be,Je,Re,qe,Ke,ft,Ye,ct,mt,It){var Et,Zt=It-1>>1,Ht=Se[Ne+0]|Le[Be+0]<<16,Sn=Je[Re+0]|qe[Ke+0]<<16;e(te!=null);var Jt=3*Ht+Sn+131074>>2;for(T(te[de+0],255&Jt,Jt>>16,ft,Ye),we!=null&&(Jt=3*Sn+Ht+131074>>2,T(we[be+0],255&Jt,Jt>>16,ct,mt)),Et=1;Et<=Zt;++Et){var Kn=Se[Ne+Et]|Le[Be+Et]<<16,Yr=Je[Re+Et]|qe[Ke+Et]<<16,Rn=Ht+Kn+Sn+Yr+524296,Gt=Rn+2*(Kn+Sn)>>3;Jt=Gt+Ht>>1,Ht=(Rn=Rn+2*(Ht+Yr)>>3)+Kn>>1,T(te[de+2*Et-1],255&Jt,Jt>>16,ft,Ye+(2*Et-1)*K),T(te[de+2*Et-0],255&Ht,Ht>>16,ft,Ye+(2*Et-0)*K),we!=null&&(Jt=Rn+Sn>>1,Ht=Gt+Yr>>1,T(we[be+2*Et-1],255&Jt,Jt>>16,ct,mt+(2*Et-1)*K),T(we[be+2*Et+0],255&Ht,Ht>>16,ct,mt+(2*Et+0)*K)),Ht=Kn,Sn=Yr}1&It||(Jt=3*Ht+Sn+131074>>2,T(te[de+It-1],255&Jt,Jt>>16,ft,Ye+(It-1)*K),we!=null&&(Jt=3*Sn+Ht+131074>>2,T(we[be+It-1],255&Jt,Jt>>16,ct,mt+(It-1)*K)))}}function An(){os[Ef]=Kl,os[gs]=Mu,os[Af]=td,os[_o]=Nf,os[Dc]=fl,os[Lu]=pa,os[ll]=hl,os[Pc]=Mu,os[Sf]=Nf,os[Du]=fl,os[xf]=pa}function Or(w){return w&-16384?0>w?0:255:w>>If}function Vn(w,T){return Or((19077*w>>8)+(26149*T>>8)-14234)}function gr(w,T,K){return Or((19077*w>>8)-(6419*T>>8)-(13320*K>>8)+8708)}function $i(w,T){return Or((19077*w>>8)+(33050*T>>8)-17685)}function ts(w,T,K,te,de){te[de+0]=Vn(w,K),te[de+1]=gr(w,T,K),te[de+2]=$i(w,T)}function Nr(w,T,K,te,de){te[de+0]=$i(w,T),te[de+1]=gr(w,T,K),te[de+2]=Vn(w,K)}function ns(w,T,K,te,de){var we=gr(w,T,K);T=we<<3&224|$i(w,T)>>3,te[de+0]=248&Vn(w,K)|we>>5,te[de+1]=T}function ro(w,T,K,te,de){var we=240&$i(w,T)|15;te[de+0]=240&Vn(w,K)|gr(w,T,K)>>4,te[de+1]=we}function oa(w,T,K,te,de){te[de+0]=255,ts(w,T,K,te,de+1)}function aa(w,T,K,te,de){Nr(w,T,K,te,de),te[de+3]=255}function Ns(w,T,K,te,de){ts(w,T,K,te,de),te[de+3]=255}function Ra(w,T,K){C[w]=function(te,de,we,be,Se,Ne,Le,Be,Je){for(var Re=Be+(-2&Je)*K;Be!=Re;)T(te[de+0],we[be+0],Se[Ne+0],Le,Be),T(te[de+1],we[be+0],Se[Ne+0],Le,Be+K),de+=2,++be,++Ne,Be+=2*K;1&Je&&T(te[de+0],we[be+0],Se[Ne+0],Le,Be)}}function Cu(w,T,K){return K==0?w==0?T==0?6:5:T==0?4:0:K}function Tc(w,T,K,te,de){switch(w>>>30){case 3:Oa(T,K,te,de,0);break;case 2:ps(T,K,te,de);break;case 1:dr(T,K,te,de)}}function io(w,T){var K,te,de=T.M,we=T.Nb,be=w.oc,Se=w.pc+40,Ne=w.oc,Le=w.pc+584,Be=w.oc,Je=w.pc+600;for(K=0;16>K;++K)be[Se+32*K-1]=129;for(K=0;8>K;++K)Ne[Le+32*K-1]=129,Be[Je+32*K-1]=129;for(0<de?be[Se-1-32]=Ne[Le-1-32]=Be[Je-1-32]=129:(i(be,Se-32-1,127,21),i(Ne,Le-32-1,127,9),i(Be,Je-32-1,127,9)),te=0;te<w.za;++te){var Re=T.ya[T.aa+te];if(0<te){for(K=-1;16>K;++K)r(be,Se+32*K-4,be,Se+32*K+12,4);for(K=-1;8>K;++K)r(Ne,Le+32*K-4,Ne,Le+32*K+4,4),r(Be,Je+32*K-4,Be,Je+32*K+4,4)}var qe=w.Gd,Ke=w.Hd+te,ft=Re.ad,Ye=Re.Hc;if(0<de&&(r(be,Se-32,qe[Ke].y,0,16),r(Ne,Le-32,qe[Ke].f,0,8),r(Be,Je-32,qe[Ke].ea,0,8)),Re.Za){var ct=be,mt=Se-32+16;for(0<de&&(te>=w.za-1?i(ct,mt,qe[Ke].y[15],4):r(ct,mt,qe[Ke+1].y,0,4)),K=0;4>K;K++)ct[mt+128+K]=ct[mt+256+K]=ct[mt+384+K]=ct[mt+0+K];for(K=0;16>K;++K,Ye<<=2)ct=be,mt=Se+wi[K],ui[Re.Ob[K]](ct,mt),Tc(Ye,ft,16*+K,ct,mt)}else if(ct=Cu(te,de,Re.Ob[0]),Rs[ct](be,Se),Ye!=0)for(K=0;16>K;++K,Ye<<=2)Tc(Ye,ft,16*+K,be,Se+wi[K]);for(K=Re.Gc,ct=Cu(te,de,Re.Dd),Wo[ct](Ne,Le),Wo[ct](Be,Je),Ye=ft,ct=Ne,mt=Le,255&(Re=0|K)&&(170&Re?vo(Ye,256,ct,mt):ir(Ye,256,ct,mt)),Re=Be,Ye=Je,255&(K>>=8)&&(170&K?vo(ft,320,Re,Ye):ir(ft,320,Re,Ye)),de<w.Ub-1&&(r(qe[Ke].y,0,be,Se+480,16),r(qe[Ke].f,0,Ne,Le+224,8),r(qe[Ke].ea,0,Be,Je+224,8)),K=8*we*w.B,qe=w.sa,Ke=w.ta+16*te+16*we*w.R,ft=w.qa,Re=w.ra+8*te+K,Ye=w.Ha,ct=w.Ia+8*te+K,K=0;16>K;++K)r(qe,Ke+K*w.R,be,Se+32*K,16);for(K=0;8>K;++K)r(ft,Re+K*w.B,Ne,Le+32*K,8),r(Ye,ct+K*w.B,Be,Je+32*K,8)}}function Go(w,T,K,te,de,we,be,Se,Ne){var Le=[0],Be=[0],Je=0,Re=Ne!=null?Ne.kd:0,qe=Ne??new At;if(w==null||12>K)return 7;qe.data=w,qe.w=T,qe.ha=K,T=[T],K=[K],qe.gb=[qe.gb];e:{var Ke=T,ft=K,Ye=qe.gb;if(e(w!=null),e(ft!=null),e(Ye!=null),Ye[0]=0,12<=ft[0]&&!n(w,Ke[0],"RIFF")){if(n(w,Ke[0]+8,"WEBP")){Ye=3;break e}var ct=z(w,Ke[0]+4);if(12>ct||4294967286<ct){Ye=3;break e}if(Re&&ct>ft[0]-8){Ye=7;break e}Ye[0]=ct,Ke[0]+=12,ft[0]-=12}Ye=0}if(Ye!=0)return Ye;for(ct=0<qe.gb[0],K=K[0];;){e:{var mt=w;ft=T,Ye=K;var It=Le,Et=Be,Zt=Ke=[0];if((Jt=Je=[Je])[0]=0,8>Ye[0])Ye=7;else{if(!n(mt,ft[0],"VP8X")){if(z(mt,ft[0]+4)!=10){Ye=3;break e}if(18>Ye[0]){Ye=7;break e}var Ht=z(mt,ft[0]+8),Sn=1+De(mt,ft[0]+12);if(2147483648<=Sn*(mt=1+De(mt,ft[0]+15))){Ye=3;break e}Zt!=null&&(Zt[0]=Ht),It!=null&&(It[0]=Sn),Et!=null&&(Et[0]=mt),ft[0]+=18,Ye[0]-=18,Jt[0]=1}Ye=0}}if(Je=Je[0],Ke=Ke[0],Ye!=0)return Ye;if(ft=!!(2&Ke),!ct&&Je)return 3;if(we!=null&&(we[0]=!!(16&Ke)),be!=null&&(be[0]=ft),Se!=null&&(Se[0]=0),be=Le[0],Ke=Be[0],Je&&ft&&Ne==null){Ye=0;break}if(4>K){Ye=7;break}if(ct&&Je||!ct&&!Je&&!n(w,T[0],"ALPH")){K=[K],qe.na=[qe.na],qe.P=[qe.P],qe.Sa=[qe.Sa];e:{Ht=w,Ye=T,ct=K;var Jt=qe.gb;It=qe.na,Et=qe.P,Zt=qe.Sa,Sn=22,e(Ht!=null),e(ct!=null),mt=Ye[0];var Kn=ct[0];for(e(It!=null),e(Zt!=null),It[0]=null,Et[0]=null,Zt[0]=0;;){if(Ye[0]=mt,ct[0]=Kn,8>Kn){Ye=7;break e}var Yr=z(Ht,mt+4);if(4294967286<Yr){Ye=3;break e}var Rn=8+Yr+1&-2;if(Sn+=Rn,0<Jt&&Sn>Jt){Ye=3;break e}if(!n(Ht,mt,"VP8 ")||!n(Ht,mt,"VP8L")){Ye=0;break e}if(Kn[0]<Rn){Ye=7;break e}n(Ht,mt,"ALPH")||(It[0]=Ht,Et[0]=mt+8,Zt[0]=Yr),mt+=Rn,Kn-=Rn}}if(K=K[0],qe.na=qe.na[0],qe.P=qe.P[0],qe.Sa=qe.Sa[0],Ye!=0)break}K=[K],qe.Ja=[qe.Ja],qe.xa=[qe.xa];e:if(Jt=w,Ye=T,ct=K,It=qe.gb[0],Et=qe.Ja,Zt=qe.xa,Ht=Ye[0],mt=!n(Jt,Ht,"VP8 "),Sn=!n(Jt,Ht,"VP8L"),e(Jt!=null),e(ct!=null),e(Et!=null),e(Zt!=null),8>ct[0])Ye=7;else{if(mt||Sn){if(Jt=z(Jt,Ht+4),12<=It&&Jt>It-12){Ye=3;break e}if(Re&&Jt>ct[0]-8){Ye=7;break e}Et[0]=Jt,Ye[0]+=8,ct[0]-=8,Zt[0]=Sn}else Zt[0]=5<=ct[0]&&Jt[Ht+0]==47&&!(Jt[Ht+4]>>5),Et[0]=ct[0];Ye=0}if(K=K[0],qe.Ja=qe.Ja[0],qe.xa=qe.xa[0],T=T[0],Ye!=0)break;if(4294967286<qe.Ja)return 3;if(Se==null||ft||(Se[0]=qe.xa?2:1),be=[be],Ke=[Ke],qe.xa){if(5>K){Ye=7;break}Se=be,Re=Ke,ft=we,w==null||5>K?w=0:5<=K&&w[T+0]==47&&!(w[T+4]>>5)?(ct=[0],Jt=[0],It=[0],xe(Et=new ee,w,T,K),Yt(Et,ct,Jt,It)?(Se!=null&&(Se[0]=ct[0]),Re!=null&&(Re[0]=Jt[0]),ft!=null&&(ft[0]=It[0]),w=1):w=0):w=0}else{if(10>K){Ye=7;break}Se=Ke,w==null||10>K||!Zs(w,T+3,K-3)?w=0:(Re=w[T+0]|w[T+1]<<8|w[T+2]<<16,ft=16383&(w[T+7]<<8|w[T+6]),w=16383&(w[T+9]<<8|w[T+8]),1&Re||3<(Re>>1&7)||!(Re>>4&1)||Re>>5>=qe.Ja||!ft||!w?w=0:(be&&(be[0]=ft),Se&&(Se[0]=w),w=1))}if(!w||(be=be[0],Ke=Ke[0],Je&&(Le[0]!=be||Be[0]!=Ke)))return 3;Ne!=null&&(Ne[0]=qe,Ne.offset=T-Ne.w,e(4294967286>T-Ne.w),e(Ne.offset==Ne.ha-K));break}return Ye==0||Ye==7&&Je&&Ne==null?(we!=null&&(we[0]|=qe.na!=null&&0<qe.na.length),te!=null&&(te[0]=be),de!=null&&(de[0]=Ke),0):Ye}function ka(w,T,K){var te=T.width,de=T.height,we=0,be=0,Se=te,Ne=de;if(T.Da=w!=null&&0<w.Da,T.Da&&(Se=w.cd,Ne=w.bd,we=w.v,be=w.j,11>K||(we&=-2,be&=-2),0>we||0>be||0>=Se||0>=Ne||we+Se>te||be+Ne>de))return 0;if(T.v=we,T.j=be,T.va=we+Se,T.o=be+Ne,T.U=Se,T.T=Ne,T.da=w!=null&&0<w.da,T.da){if(!L(Se,Ne,K=[w.ib],we=[w.hb]))return 0;T.ib=K[0],T.hb=we[0]}return T.ob=w!=null&&w.ob,T.Kb=w==null||!w.Sd,T.da&&(T.ob=T.ib<3*te/4&&T.hb<3*de/4,T.Kb=0),1}function Cc(w){if(w==null)return 2;if(11>w.S){var T=w.f.RGBA;T.fb+=(w.height-1)*T.A,T.A=-T.A}else T=w.f.kb,w=w.height,T.O+=(w-1)*T.fa,T.fa=-T.fa,T.N+=(w-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(w-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(w-1)*T.lb,T.lb=-T.lb);return 0}function jo(w,T,K,te){if(te==null||0>=w||0>=T)return 2;if(K!=null){if(K.Da){var de=K.cd,we=K.bd,be=-2&K.v,Se=-2&K.j;if(0>be||0>Se||0>=de||0>=we||be+de>w||Se+we>T)return 2;w=de,T=we}if(K.da){if(!L(w,T,de=[K.ib],we=[K.hb]))return 2;w=de[0],T=we[0]}}te.width=w,te.height=T;e:{var Ne=te.width,Le=te.height;if(w=te.S,0>=Ne||0>=Le||!(w>=Ef&&13>w))w=2;else{if(0>=te.Rd&&te.sd==null){be=we=de=T=0;var Be=(Se=Ne*kf[w])*Le;if(11>w||(we=(Le+1)/2*(T=(Ne+1)/2),w==12&&(be=(de=Ne)*Le)),(Le=s(Be+2*we+be))==null){w=1;break e}te.sd=Le,11>w?((Ne=te.f.RGBA).eb=Le,Ne.fb=0,Ne.A=Se,Ne.size=Be):((Ne=te.f.kb).y=Le,Ne.O=0,Ne.fa=Se,Ne.Fd=Be,Ne.f=Le,Ne.N=0+Be,Ne.Ab=T,Ne.Cd=we,Ne.ea=Le,Ne.W=0+Be+we,Ne.Db=T,Ne.Ed=we,w==12&&(Ne.F=Le,Ne.J=0+Be+2*we),Ne.Tc=be,Ne.lb=de)}if(T=1,de=te.S,we=te.width,be=te.height,de>=Ef&&13>de)if(11>de)w=te.f.RGBA,T&=(Se=Math.abs(w.A))*(be-1)+we<=w.size,T&=Se>=we*kf[de],T&=w.eb!=null;else{w=te.f.kb,Se=(we+1)/2,Be=(be+1)/2,Ne=Math.abs(w.fa),Le=Math.abs(w.Ab);var Je=Math.abs(w.Db),Re=Math.abs(w.lb),qe=Re*(be-1)+we;T&=Ne*(be-1)+we<=w.Fd,T&=Le*(Be-1)+Se<=w.Cd,T=(T&=Je*(Be-1)+Se<=w.Ed)&Ne>=we&Le>=Se&Je>=Se,T&=w.y!=null,T&=w.f!=null,T&=w.ea!=null,de==12&&(T&=Re>=we,T&=qe<=w.Tc,T&=w.F!=null)}else T=0;w=T?0:2}}return w!=0||K!=null&&K.fd&&(w=Cc(te)),w}var al=64,Vs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Is=24,la=32,ua=8,La=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(w){return w},C.Predictor2=function(w,T,K){return T[K+0]},C.Predictor3=function(w,T,K){return T[K+1]},C.Predictor4=function(w,T,K){return T[K-1]},C.Predictor5=function(w,T,K){return Oe(Oe(w,T[K+1]),T[K+0])},C.Predictor6=function(w,T,K){return Oe(w,T[K-1])},C.Predictor7=function(w,T,K){return Oe(w,T[K+0])},C.Predictor8=function(w,T,K){return Oe(T[K-1],T[K+0])},C.Predictor9=function(w,T,K){return Oe(T[K+0],T[K+1])},C.Predictor10=function(w,T,K){return Oe(Oe(w,T[K-1]),Oe(T[K+0],T[K+1]))},C.Predictor11=function(w,T,K){var te=T[K+0];return 0>=Ze(te>>24&255,w>>24&255,(T=T[K-1])>>24&255)+Ze(te>>16&255,w>>16&255,T>>16&255)+Ze(te>>8&255,w>>8&255,T>>8&255)+Ze(255&te,255&w,255&T)?te:w},C.Predictor12=function(w,T,K){var te=T[K+0];return(We((w>>24&255)+(te>>24&255)-((T=T[K-1])>>24&255))<<24|We((w>>16&255)+(te>>16&255)-(T>>16&255))<<16|We((w>>8&255)+(te>>8&255)-(T>>8&255))<<8|We((255&w)+(255&te)-(255&T)))>>>0},C.Predictor13=function(w,T,K){var te=T[K-1];return(He((w=Oe(w,T[K+0]))>>24&255,te>>24&255)<<24|He(w>>16&255,te>>16&255)<<16|He(w>>8&255,te>>8&255)<<8|He(255&w,255&te))>>>0};var Nu=C.PredictorAdd0;C.PredictorAdd1=_t,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var Iu=C.PredictorAdd2;Dt("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),Dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var yi,wf=C.ColorIndexInverseTransform,ca=C.MapARGB,fa=C.VP8LColorIndexInverseTransformAlpha,rs=C.MapAlpha,Da=C.VP8LPredictorsAdd=[];Da.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var Ru,ku,Pa,Ma,ha,Hl,so,Oa,ps,vo,dr,ir,Fr,vi,da,$o,Gl,Nc,Jh,Rp,kp,Lp,Xh,Qh,jl,wo,Ic,oo,$l=s(511),_f=s(2041),Rc=s(225),kc=s(767),bf=0,Fa=_f,Lc=Rc,ms=kc,is=$l,Ef=0,gs=1,Af=2,_o=3,Dc=4,Lu=5,ll=6,Pc=7,Sf=8,Du=9,xf=10,bo=[2,3,7],Pu=[3,3,11],Wl=[280,256,256,256,40],Tf=[0,1,1,1,0],Mc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Eo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ao=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ul=8,So=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],xo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ao=null,Dp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Zh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Cf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Pp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ss=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Kr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Jn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Rs=[],ui=[],Wo=[],cl=1,ed=2,Ua=[],os=[];Rt("UpsampleRgbLinePair",ts,3),Rt("UpsampleBgrLinePair",Nr,3),Rt("UpsampleRgbaLinePair",Ns,4),Rt("UpsampleBgraLinePair",aa,4),Rt("UpsampleArgbLinePair",oa,4),Rt("UpsampleRgba4444LinePair",ro,2),Rt("UpsampleRgb565LinePair",ns,2);var Kl=C.UpsampleRgbLinePair,td=C.UpsampleBgrLinePair,Mu=C.UpsampleRgbaLinePair,Nf=C.UpsampleBgraLinePair,fl=C.UpsampleArgbLinePair,pa=C.UpsampleRgba4444LinePair,hl=C.UpsampleRgb565LinePair,To=16,Ou=1<<To-1,Yl=-227,dl=482,If=6,pl=0,as=s(256),Rf=s(256),Mp=s(256),I0=s(256),R0=s(dl-Yl),k0=s(dl-Yl);Ra("YuvToRgbRow",ts,3),Ra("YuvToBgrRow",Nr,3),Ra("YuvToRgbaRow",Ns,4),Ra("YuvToBgraRow",aa,4),Ra("YuvToArgbRow",oa,4),Ra("YuvToRgba4444Row",ro,2),Ra("YuvToRgb565Row",ns,2);var wi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Fu=[0,2,8],Oc=[8,7,6,4,4,2,2,2,1,1,1,1],Fc=1;this.WebPDecodeRGBA=function(w,T,K,te,de){var we=gs,be=new dt,Se=new Ut;be.ba=Se,Se.S=we,Se.width=[Se.width],Se.height=[Se.height];var Ne=Se.width,Le=Se.height,Be=new qt;if(Be==null||w==null)var Je=2;else e(Be!=null),Je=Go(w,T,K,Be.width,Be.height,Be.Pd,Be.Qd,Be.format,null);if(Je!=0?Ne=0:(Ne!=null&&(Ne[0]=Be.width[0]),Le!=null&&(Le[0]=Be.height[0]),Ne=1),Ne){Se.width=Se.width[0],Se.height=Se.height[0],te!=null&&(te[0]=Se.width),de!=null&&(de[0]=Se.height);e:{if(te=new Ei,(de=new At).data=w,de.w=T,de.ha=K,de.kd=1,T=[0],e(de!=null),((w=Go(de.data,de.w,de.ha,null,null,null,T,null,de))==0||w==7)&&T[0]&&(w=4),(T=w)==0){if(e(be!=null),te.data=de.data,te.w=de.w+de.offset,te.ha=de.ha-de.offset,te.put=et,te.ac=Pe,te.bc=kt,te.ma=be,de.xa){if((w=Ct())==null){be=1;break e}if((function(Re,qe){var Ke=[0],ft=[0],Ye=[0];t:for(;;){if(Re==null)return 0;if(qe==null)return Re.a=2,0;if(Re.l=qe,Re.a=0,xe(Re.m,qe.data,qe.w,qe.ha),!Yt(Re.m,Ke,ft,Ye)){Re.a=3;break t}if(Re.xb=ed,qe.width=Ke[0],qe.height=ft[0],!En(Ke[0],ft[0],1,Re,null))break t;return 1}return e(Re.a!=0),0})(w,te)){if(te=(T=jo(te.width,te.height,be.Oa,be.ba))==0){t:{te=w;n:for(;;){if(te==null){te=0;break t}if(e(te.s.yc!=null),e(te.s.Ya!=null),e(0<te.s.Wb),e((K=te.l)!=null),e((de=K.ma)!=null),te.xb!=0){if(te.ca=de.ba,te.tb=de.tb,e(te.ca!=null),!ka(de.Oa,K,_o)){te.a=2;break n}if(!On(te,K.width)||K.da)break n;if((K.da||Kt(te.ca.S))&&nt(),11>te.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),te.ca.f.kb.F!=null&&nt()),te.Pb&&0<te.s.ua&&te.s.vb.X==null&&!Z(te.s.vb,te.s.Wa.Xa)){te.a=1;break n}te.xb=0}if(!ht(te,te.V,te.Ba,te.c,te.i,K.o,Ie))break n;de.Dc=te.Ma,te=1;break t}e(te.a!=0),te=0}te=!te}te&&(T=w.a)}else T=w.a}else{if((w=new $r)==null){be=1;break e}if(w.Fa=de.na,w.P=de.P,w.qc=de.Sa,Us(w,te)){if((T=jo(te.width,te.height,be.Oa,be.ba))==0){if(w.Aa=0,K=be.Oa,e((de=w)!=null),K!=null){if(0<(Ne=0>(Ne=K.Md)?0:100<Ne?255:255*Ne/100)){for(Le=Be=0;4>Le;++Le)12>(Je=de.pb[Le]).lc&&(Je.ia=Ne*Oc[0>Je.lc?0:Je.lc]>>3),Be|=Je.ia;Be&&(alert("todo:VP8InitRandom"),de.ia=1)}de.Ga=K.Id,100<de.Ga?de.Ga=100:0>de.Ga&&(de.Ga=0)}(function(Re,qe){if(Re==null)return 0;if(qe==null)return In(Re,2,"NULL VP8Io parameter in VP8Decode().");if(!Re.cb&&!Us(Re,qe))return 0;if(e(Re.cb),qe.ac==null||qe.ac(qe)){qe.ob&&(Re.L=0);var Ke=Fu[Re.L];if(Re.L==2?(Re.yb=0,Re.zb=0):(Re.yb=qe.v-Ke>>4,Re.zb=qe.j-Ke>>4,0>Re.yb&&(Re.yb=0),0>Re.zb&&(Re.zb=0)),Re.Va=qe.o+15+Ke>>4,Re.Hb=qe.va+15+Ke>>4,Re.Hb>Re.za&&(Re.Hb=Re.za),Re.Va>Re.Ub&&(Re.Va=Re.Ub),0<Re.L){var ft=Re.ed;for(Ke=0;4>Ke;++Ke){var Ye;if(Re.Qa.Cb){var ct=Re.Qa.Lb[Ke];Re.Qa.Fb||(ct+=ft.Tb)}else ct=ft.Tb;for(Ye=0;1>=Ye;++Ye){var mt=Re.gd[Ke][Ye],It=ct;if(ft.Pc&&(It+=ft.vd[0],Ye&&(It+=ft.od[0])),0<(It=0>It?0:63<It?63:It)){var Et=It;0<ft.wb&&(Et=4<ft.wb?Et>>2:Et>>1)>9-ft.wb&&(Et=9-ft.wb),1>Et&&(Et=1),mt.dd=Et,mt.tc=2*It+Et,mt.ld=40<=It?2:15<=It?1:0}else mt.tc=0;mt.La=Ye}}}Ke=0}else In(Re,6,"Frame setup failed"),Ke=Re.a;if(Ke=Ke==0){if(Ke){Re.$c=0,0<Re.Aa||(Re.Ic=Fc);t:{Ke=Re.Ic,ft=4*(Et=Re.za);var Zt=32*Et,Ht=Et+1,Sn=0<Re.L?Et*(0<Re.Aa?2:1):0,Jt=(Re.Aa==2?2:1)*Et;if((mt=ft+832+(Ye=3*(16*Ke+Fu[Re.L])/2*Zt)+(ct=Re.Fa!=null&&0<Re.Fa.length?Re.Kc.c*Re.Kc.i:0))!=mt)Ke=0;else{if(mt>Re.Vb){if(Re.Vb=0,Re.Ec=s(mt),Re.Fc=0,Re.Ec==null){Ke=In(Re,1,"no memory during frame initialization.");break t}Re.Vb=mt}mt=Re.Ec,It=Re.Fc,Re.Ac=mt,Re.Bc=It,It+=ft,Re.Gd=l(Zt,_r),Re.Hd=0,Re.rb=l(Ht+1,Zi),Re.sb=1,Re.wa=Sn?l(Sn,Gi):null,Re.Y=0,Re.D.Nb=0,Re.D.wa=Re.wa,Re.D.Y=Re.Y,0<Re.Aa&&(Re.D.Y+=Et),e(!0),Re.oc=mt,Re.pc=It,It+=832,Re.ya=l(Jt,Bn),Re.aa=0,Re.D.ya=Re.ya,Re.D.aa=Re.aa,Re.Aa==2&&(Re.D.aa+=Et),Re.R=16*Et,Re.B=8*Et,Et=(Zt=Fu[Re.L])*Re.R,Zt=Zt/2*Re.B,Re.sa=mt,Re.ta=It+Et,Re.qa=Re.sa,Re.ra=Re.ta+16*Ke*Re.R+Zt,Re.Ha=Re.qa,Re.Ia=Re.ra+8*Ke*Re.B+Zt,Re.$c=0,It+=Ye,Re.mb=ct?mt:null,Re.nb=ct?It:null,e(It+ct<=Re.Fc+Re.Vb),ta(Re),i(Re.Ac,Re.Bc,0,ft),Ke=1}}if(Ke){if(qe.ka=0,qe.y=Re.sa,qe.O=Re.ta,qe.f=Re.qa,qe.N=Re.ra,qe.ea=Re.Ha,qe.Vd=Re.Ia,qe.fa=Re.R,qe.Rc=Re.B,qe.F=null,qe.J=0,!bf){for(Ke=-255;255>=Ke;++Ke)$l[255+Ke]=0>Ke?-Ke:Ke;for(Ke=-1020;1020>=Ke;++Ke)_f[1020+Ke]=-128>Ke?-128:127<Ke?127:Ke;for(Ke=-112;112>=Ke;++Ke)Rc[112+Ke]=-16>Ke?-16:15<Ke?15:Ke;for(Ke=-255;510>=Ke;++Ke)kc[255+Ke]=0>Ke?0:255<Ke?255:Ke;bf=1}so=Pi,Oa=Fl,vo=es,dr=Ul,ir=Vo,ps=Tu,Fr=zl,vi=no,da=fe,$o=ke,Gl=ol,Nc=U,Jh=Fe,Rp=ze,kp=go,Lp=Bs,Xh=Ia,Qh=sl,ui[0]=ia,ui[1]=Bl,ui[2]=Ta,ui[3]=il,ui[4]=Mi,ui[5]=Ca,ui[6]=Ai,ui[7]=mr,ui[8]=Na,ui[9]=Ss,Rs[0]=eo,Rs[1]=nl,Rs[2]=rl,Rs[3]=qo,Rs[4]=zo,Rs[5]=ds,Rs[6]=ra,Wo[0]=Ho,Wo[1]=Vl,Wo[2]=to,Wo[3]=ql,Wo[4]=gi,Wo[5]=Ts,Wo[6]=ho,Ke=1}else Ke=0}Ke&&(Ke=(function(Kn,Yr){for(Kn.M=0;Kn.M<Kn.Va;++Kn.M){var Rn,Gt=Kn.Jc[Kn.M&Kn.Xb],Lt=Kn.m,ti=Kn;for(Rn=0;Rn<ti.za;++Rn){var vn=Lt,Mn=ti,br=Mn.Ac,Oi=Mn.Bc+4*Rn,ls=Mn.zc,Ur=Mn.ya[Mn.aa+Rn];if(Mn.Qa.Bb?Ur.$b=he(vn,Mn.Pa.jb[0])?2+he(vn,Mn.Pa.jb[2]):he(vn,Mn.Pa.jb[1]):Ur.$b=0,Mn.kc&&(Ur.Ad=he(vn,Mn.Bd)),Ur.Za=!he(vn,145)+0,Ur.Za){var Si=Ur.Ob,ys=0;for(Mn=0;4>Mn;++Mn){var xi,qn=ls[0+Mn];for(xi=0;4>xi;++xi){qn=ss[br[Oi+xi]][qn];for(var or=Cf[he(vn,qn[0])];0<or;)or=Cf[2*or+he(vn,qn[or])];qn=-or,br[Oi+xi]=qn}r(Si,ys,br,Oi,4),ys+=4,ls[0+Mn]=qn}}else qn=he(vn,156)?he(vn,128)?1:3:he(vn,163)?2:0,Ur.Ob[0]=qn,i(br,Oi,qn,4),i(ls,0,qn,4);Ur.Dd=he(vn,142)?he(vn,114)?he(vn,183)?1:3:2:0}if(ti.m.Ka)return In(Kn,7,"Premature end-of-partition0 encountered.");for(;Kn.ja<Kn.za;++Kn.ja){if(ti=Gt,vn=(Lt=Kn).rb[Lt.sb-1],br=Lt.rb[Lt.sb+Lt.ja],Rn=Lt.ya[Lt.aa+Lt.ja],Oi=Lt.kc?Rn.Ad:0)vn.la=br.la=0,Rn.Za||(vn.Na=br.Na=0),Rn.Hc=0,Rn.Gc=0,Rn.ia=0;else{var ni,pr;if(vn=br,br=ti,Oi=Lt.Pa.Xc,ls=Lt.ya[Lt.aa+Lt.ja],Ur=Lt.pb[ls.$b],Mn=ls.ad,Si=0,ys=Lt.rb[Lt.sb-1],qn=xi=0,i(Mn,Si,0,384),ls.Za)var Fi=0,ri=Oi[3];else{or=s(16);var ar=vn.Na+ys.Na;if(ar=ao(br,Oi[1],ar,Ur.Eb,0,or,0),vn.Na=ys.Na=(0<ar)+0,1<ar)so(or,0,Mn,Si);else{var _i=or[0]+3>>3;for(or=0;256>or;or+=16)Mn[Si+or]=_i}Fi=1,ri=Oi[0]}var Er=15&vn.la,Ti=15&ys.la;for(or=0;4>or;++or){var Ci=1&Ti;for(_i=pr=0;4>_i;++_i)Er=Er>>1|(Ci=(ar=ao(br,ri,ar=Ci+(1&Er),Ur.Sc,Fi,Mn,Si))>Fi)<<7,pr=pr<<2|(3<ar?3:1<ar?2:Mn[Si+0]!=0),Si+=16;Er>>=4,Ti=Ti>>1|Ci<<7,xi=(xi<<8|pr)>>>0}for(ri=Er,Fi=Ti>>4,ni=0;4>ni;ni+=2){for(pr=0,Er=vn.la>>4+ni,Ti=ys.la>>4+ni,or=0;2>or;++or){for(Ci=1&Ti,_i=0;2>_i;++_i)ar=Ci+(1&Er),Er=Er>>1|(Ci=0<(ar=ao(br,Oi[2],ar,Ur.Qc,0,Mn,Si)))<<3,pr=pr<<2|(3<ar?3:1<ar?2:Mn[Si+0]!=0),Si+=16;Er>>=2,Ti=Ti>>1|Ci<<5}qn|=pr<<4*ni,ri|=Er<<4<<ni,Fi|=(240&Ti)<<ni}vn.la=ri,ys.la=Fi,ls.Hc=xi,ls.Gc=qn,ls.ia=43690&qn?0:Ur.ia,Oi=!(xi|qn)}if(0<Lt.L&&(Lt.wa[Lt.Y+Lt.ja]=Lt.gd[Rn.$b][Rn.Za],Lt.wa[Lt.Y+Lt.ja].La|=!Oi),ti.Ka)return In(Kn,7,"Premature end-of-file encountered.")}if(ta(Kn),Lt=Yr,ti=1,Rn=(Gt=Kn).D,vn=0<Gt.L&&Gt.M>=Gt.zb&&Gt.M<=Gt.Va,Gt.Aa==0)t:{if(Rn.M=Gt.M,Rn.uc=vn,io(Gt,Rn),ti=1,Rn=(pr=Gt.D).Nb,vn=(qn=Fu[Gt.L])*Gt.R,br=qn/2*Gt.B,or=16*Rn*Gt.R,_i=8*Rn*Gt.B,Oi=Gt.sa,ls=Gt.ta-vn+or,Ur=Gt.qa,Mn=Gt.ra-br+_i,Si=Gt.Ha,ys=Gt.Ia-br+_i,Ti=(Er=pr.M)==0,xi=Er>=Gt.Va-1,Gt.Aa==2&&io(Gt,pr),pr.uc)for(Ci=(ar=Gt).D.M,e(ar.D.uc),pr=ar.yb;pr<ar.Hb;++pr){Fi=pr,ri=Ci;var Ir=(sr=(Ni=ar).D).Nb;ni=Ni.R;var sr=sr.wa[sr.Y+Fi],vs=Ni.sa,ci=Ni.ta+16*Ir*ni+16*Fi,fn=sr.dd,dn=sr.tc;if(dn!=0)if(e(3<=dn),Ni.L==1)0<Fi&&Lp(vs,ci,ni,dn+4),sr.La&&Qh(vs,ci,ni,dn),0<ri&&kp(vs,ci,ni,dn+4),sr.La&&Xh(vs,ci,ni,dn);else{var lr=Ni.B,qs=Ni.qa,Co=Ni.ra+8*Ir*lr+8*Fi,ks=Ni.Ha,Ni=Ni.Ia+8*Ir*lr+8*Fi;Ir=sr.ld,0<Fi&&(vi(vs,ci,ni,dn+4,fn,Ir),$o(qs,Co,ks,Ni,lr,dn+4,fn,Ir)),sr.La&&(Nc(vs,ci,ni,dn,fn,Ir),Rp(qs,Co,ks,Ni,lr,dn,fn,Ir)),0<ri&&(Fr(vs,ci,ni,dn+4,fn,Ir),da(qs,Co,ks,Ni,lr,dn+4,fn,Ir)),sr.La&&(Gl(vs,ci,ni,dn,fn,Ir),Jh(qs,Co,ks,Ni,lr,dn,fn,Ir))}}if(Gt.ia&&alert("todo:DitherRow"),Lt.put!=null){if(pr=16*Er,Er=16*(Er+1),Ti?(Lt.y=Gt.sa,Lt.O=Gt.ta+or,Lt.f=Gt.qa,Lt.N=Gt.ra+_i,Lt.ea=Gt.Ha,Lt.W=Gt.Ia+_i):(pr-=qn,Lt.y=Oi,Lt.O=ls,Lt.f=Ur,Lt.N=Mn,Lt.ea=Si,Lt.W=ys),xi||(Er-=qn),Er>Lt.o&&(Er=Lt.o),Lt.F=null,Lt.J=null,Gt.Fa!=null&&0<Gt.Fa.length&&pr<Er&&(Lt.J=b(Gt,Lt,pr,Er-pr),Lt.F=Gt.mb,Lt.F==null&&Lt.F.length==0)){ti=In(Gt,3,"Could not decode alpha data.");break t}pr<Lt.j&&(qn=Lt.j-pr,pr=Lt.j,e(!(1&qn)),Lt.O+=Gt.R*qn,Lt.N+=Gt.B*(qn>>1),Lt.W+=Gt.B*(qn>>1),Lt.F!=null&&(Lt.J+=Lt.width*qn)),pr<Er&&(Lt.O+=Lt.v,Lt.N+=Lt.v>>1,Lt.W+=Lt.v>>1,Lt.F!=null&&(Lt.J+=Lt.v),Lt.ka=pr-Lt.j,Lt.U=Lt.va-Lt.v,Lt.T=Er-pr,ti=Lt.put(Lt))}Rn+1!=Gt.Ic||xi||(r(Gt.sa,Gt.ta-vn,Oi,ls+16*Gt.R,vn),r(Gt.qa,Gt.ra-br,Ur,Mn+8*Gt.B,br),r(Gt.Ha,Gt.Ia-br,Si,ys+8*Gt.B,br))}if(!ti)return In(Kn,6,"Output aborted.")}return 1})(Re,qe)),qe.bc!=null&&qe.bc(qe),Ke&=1}return Ke?(Re.cb=0,Ke):0})(w,te)||(T=w.a)}}else T=w.a}T==0&&be.Oa!=null&&be.Oa.fd&&(T=Cc(be.ba))}be=T}we=be!=0?null:11>we?Se.f.RGBA.eb:Se.f.kb.y}else we=null;return we};var kf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(C,X){for(var W="",D=0;D<4;D++)W+=String.fromCharCode(C[X++]);return W}function d(C,X){return C[X+0]|C[X+1]<<8}function g(C,X){return(C[X+0]|C[X+1]<<8|C[X+2]<<16)>>>0}function y(C,X){return(C[X+0]|C[X+1]<<8|C[X+2]<<16|C[X+3]<<24)>>>0}new c;var m=[0],x=[0],S=[],R=new c,E=t,M=(function(C,X){var W={},D=0,B=!1,F=0,ve=0;if(W.frames=[],!(function(O,ee){for(var se=0;se<4;se++)if(O[ee+se]!="RIFF".charCodeAt(se))return!0;return!1})(C,X)){for(y(C,X+=4),X+=8;X<C.length;){var ce=f(C,X),ae=y(C,X+=4);X+=4;var _e=ae+(1&ae);switch(ce){case"VP8 ":case"VP8L":W.frames[D]===void 0&&(W.frames[D]={}),(re=W.frames[D]).src_off=B?ve:X-8,re.src_size=F+ae+8,D++,B&&(B=!1,F=0,ve=0);break;case"VP8X":(re=W.header={}).feature_flags=C[X];var xe=X+4;re.canvas_width=1+g(C,xe),xe+=3,re.canvas_height=1+g(C,xe),xe+=3;break;case"ALPH":B=!0,F=_e+8,ve=X-8;break;case"ANIM":(re=W.header).bgcolor=y(C,X),xe=X+4,re.loop_count=d(C,xe),xe+=2;break;case"ANMF":var Ue,re;(re=W.frames[D]={}).offset_x=2*g(C,X),X+=3,re.offset_y=2*g(C,X),X+=3,re.width=1+g(C,X),X+=3,re.height=1+g(C,X),X+=3,re.duration=g(C,X),X+=3,Ue=C[X++],re.dispose=1&Ue,re.blend=Ue>>1&1}ce!="ANMF"&&(X+=_e)}return W}})(E,0);M.response=E,M.rgbaoutput=!0,M.dataurl=!1;var P=M.header?M.header:null,N=M.frames?M.frames:null;if(P){P.loop_counter=P.loop_count,m=[P.canvas_height],x=[P.canvas_width];for(var $=0;$<N.length&&N[$].blend!=0;$++);}var Q=N[0],V=R.WebPDecodeRGBA(E,Q.src_off,Q.src_size,x,m);Q.rgba=V,Q.imgwidth=x[0],Q.imgheight=m[0];for(var G=0;G<x[0]*m[0]*4;G++)S[G]=V[G];return this.width=x,this.height=m,this.data=S,this}function _V(){var t,e=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function bV(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,n,r,i,s,l,u,c,f,d=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new c,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new l,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new l,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,l=this.internal.Point,u=this.internal.Rectangle,c=this.internal.Matrix,f=new d}]);var g=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ee=O;Object.defineProperty(this,"pdf",{get:function(){return ee}});var se=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return se},set:function(Z){se=!!Z}});var me=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return me},set:function(Z){me=!!Z}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(Z){isNaN(Z)||(ue=Z)}});var H=0;Object.defineProperty(this,"posY",{get:function(){return H},set:function(Z){isNaN(Z)||(H=Z)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Z){var Y;typeof Z=="number"?Y=[Z,Z,Z,Z]:((Y=new Array(4))[0]=Z[0],Y[1]=Z.length>=2?Z[1]:Y[0],Y[2]=Z.length>=3?Z[2]:Y[0],Y[3]=Z.length>=4?Z[3]:Y[1]),f.margin=Y}});var j=!1;Object.defineProperty(this,"autoPaging",{get:function(){return j},set:function(Z){j=Z}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(Z){ge=Z}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(Z){he=Z}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Z){Z instanceof d&&(f=Z)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Z){f.path=Z}});var le=[];Object.defineProperty(this,"ctxStack",{get:function(){return le},set:function(Z){le=Z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Z){var Y;Y=y(Z),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=Y.a===0,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Z){var Y=y(Z);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=Y.a===0,this.ctx.strokeOpacity=Y.a,Y.a===0?this.pdf.setDrawColor(255,255,255):(Y.a,this.pdf.setDrawColor(Y.r,Y.g,Y.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Z){["butt","round","square"].indexOf(Z)!==-1&&(this.ctx.lineCap=Z,this.pdf.setLineCap(Z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Z){isNaN(Z)||(this.ctx.lineWidth=Z,this.pdf.setLineWidth(Z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Z){["bevel","round","miter"].indexOf(Z)!==-1&&(this.ctx.lineJoin=Z,this.pdf.setLineJoin(Z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Z){isNaN(Z)||(this.ctx.miterLimit=Z,this.pdf.setMiterLimit(Z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Z){this.ctx.textBaseline=Z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Z){["right","end","center","left","start"].indexOf(Z)!==-1&&(this.ctx.textAlign=Z)}});var pe=null,De=null,z=null;Object.defineProperty(this,"fontFaces",{get:function(){return z},set:function(Z){pe=null,De=null,z=Z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Z){var Y;if(this.ctx.font=Z,(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Z))!==null){var I=Y[1];Y[2];var L=Y[3],q=Y[4];Y[5];var ye=Y[6],Ce=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(q)[2];q=Math.floor(Ce==="px"?parseFloat(q)*this.pdf.internal.scaleFactor:Ce==="em"?parseFloat(q)*this.pdf.getFontSize():parseFloat(q)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(q);var Ae=(function(Dt){var gn,Mt,Ot=[],tn=Dt.trim();if(tn==="")return p1;if(tn in sx)return[sx[tn]];for(;tn!=="";){switch(Mt=null,gn=(tn=ax(tn)).charAt(0)){case'"':case"'":Mt=pV(tn.substring(1),gn);break;default:Mt=mV(tn)}if(Mt===null||(Ot.push(Mt[0]),(tn=ax(Mt[1]))!==""&&tn.charAt(0)!==","))return p1;tn=tn.replace(/^,/,"")}return Ot})(ye);if(this.fontFaces){var Oe=(function(Dt,gn){var Mt=Dt.getFontList(),Ot=JSON.stringify(Mt);if(pe===null||De!==Ot){var tn=(function(sn){var zt=[];return Object.keys(sn).forEach(function(Pn){sn[Pn].forEach(function(Kt){var on=null;switch(Kt){case"bold":on={family:Pn,weight:"bold"};break;case"italic":on={family:Pn,style:"italic"};break;case"bolditalic":on={family:Pn,weight:"bold",style:"italic"};break;case"":case"normal":on={family:Pn}}on!==null&&(on.ref={name:Pn,style:Kt},zt.push(on))})}),zt})(Mt);pe=(function(sn){for(var zt={},Pn=0;Pn<sn.length;++Pn){var Kt=d1(sn[Pn]),on=Kt.family,Hn=Kt.stretch,Ut=Kt.style,qt=Kt.weight;zt[on]=zt[on]||{},zt[on][Hn]=zt[on][Hn]||{},zt[on][Hn][Ut]=zt[on][Hn][Ut]||{},zt[on][Hn][Ut][qt]=Kt}return zt})(tn.concat(gn)),De=Ot}return pe})(this.pdf,this.fontFaces),We=Ae.map(function(Dt){return{family:Dt,stretch:"normal",weight:L,style:I}}),He=(function(Dt,gn,Mt){for(var Ot=(Mt=Mt||{}).defaultFontFamily||"times",tn=Object.assign({},dV,Mt.genericFontFamilies||{}),sn=null,zt=null,Pn=0;Pn<gn.length;++Pn)if(tn[(sn=d1(gn[Pn])).family]&&(sn.family=tn[sn.family]),Dt.hasOwnProperty(sn.family)){zt=Dt[sn.family];break}if(!(zt=zt||Dt[Ot]))throw new Error("Could not find a font-family for the rule '"+ox(sn)+"' and default family '"+Ot+"'.");if(zt=(function(Kt,on){if(on[Kt])return on[Kt];var Hn=J2[Kt],Ut=Hn<=J2.normal?-1:1,qt=ix(on,FN,Hn,Ut);if(!qt)throw new Error("Could not find a matching font-stretch value for "+Kt);return qt})(sn.stretch,zt),zt=(function(Kt,on){if(on[Kt])return on[Kt];for(var Hn=ON[Kt],Ut=0;Ut<Hn.length;++Ut)if(on[Hn[Ut]])return on[Hn[Ut]];throw new Error("Could not find a matching font-style for "+Kt)})(sn.style,zt),!(zt=(function(Kt,on){if(on[Kt])return on[Kt];if(Kt===400&&on[500])return on[500];if(Kt===500&&on[400])return on[400];var Hn=hV[Kt],Ut=ix(on,UN,Hn,Kt<400?-1:1);if(!Ut)throw new Error("Could not find a matching font-weight for value "+Kt);return Ut})(sn.weight,zt)))throw new Error("Failed to resolve a font for the rule '"+ox(sn)+"'.");return zt})(Oe,We);this.pdf.setFont(He.ref.name,He.ref.style)}else{var Ze="";(L==="bold"||parseInt(L,10)>=700||I==="bold")&&(Ze="bold"),I==="italic"&&(Ze+="italic"),Ze.length===0&&(Ze="normal");for(var _t="",xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Nt=0;Nt<Ae.length;Nt++){if(this.pdf.internal.getFont(Ae[Nt],Ze,{noFallback:!0,disableWarning:!0})!==void 0){_t=Ae[Nt];break}if(Ze==="bolditalic"&&this.pdf.internal.getFont(Ae[Nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)_t=Ae[Nt],Ze="bold";else if(this.pdf.internal.getFont(Ae[Nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){_t=Ae[Nt],Ze="normal";break}}if(_t===""){for(var Ft=0;Ft<Ae.length;Ft++)if(xt[Ae[Ft]]){_t=xt[Ae[Ft]];break}}_t=_t===""?"Times":_t,this.pdf.setFont(_t,Ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Z){this.ctx.globalCompositeOperation=Z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Z){this.ctx.globalAlpha=Z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Z){this.ctx.lineDashOffset=Z,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Z){this.ctx.lineDash=Z,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Z){this.ctx.ignoreClearRect=!!Z}})};g.prototype.setLineDash=function(O){this.lineDash=O},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){N.call(this,"fill",!1)},g.prototype.stroke=function(){N.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(O,ee){if(isNaN(O)||isNaN(ee))throw Xr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var se=this.ctx.transform.applyToPoint(new l(O,ee));this.path.push({type:"mt",x:se.x,y:se.y}),this.ctx.lastPoint=new l(O,ee)},g.prototype.closePath=function(){var O=new l(0,0),ee=0;for(ee=this.path.length-1;ee!==-1;ee--)if(this.path[ee].type==="begin"&&Dr(this.path[ee+1])==="object"&&typeof this.path[ee+1].x=="number"){O=new l(this.path[ee+1].x,this.path[ee+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(O.x,O.y)},g.prototype.lineTo=function(O,ee){if(isNaN(O)||isNaN(ee))throw Xr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var se=this.ctx.transform.applyToPoint(new l(O,ee));this.path.push({type:"lt",x:se.x,y:se.y}),this.ctx.lastPoint=new l(se.x,se.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},g.prototype.quadraticCurveTo=function(O,ee,se,me){if(isNaN(se)||isNaN(me)||isNaN(O)||isNaN(ee))throw Xr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new l(se,me)),H=this.ctx.transform.applyToPoint(new l(O,ee));this.path.push({type:"qct",x1:H.x,y1:H.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new l(ue.x,ue.y)},g.prototype.bezierCurveTo=function(O,ee,se,me,ue,H){if(isNaN(ue)||isNaN(H)||isNaN(O)||isNaN(ee)||isNaN(se)||isNaN(me))throw Xr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var j=this.ctx.transform.applyToPoint(new l(ue,H)),ge=this.ctx.transform.applyToPoint(new l(O,ee)),he=this.ctx.transform.applyToPoint(new l(se,me));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:he.x,y2:he.y,x:j.x,y:j.y}),this.ctx.lastPoint=new l(j.x,j.y)},g.prototype.arc=function(O,ee,se,me,ue,H){if(isNaN(O)||isNaN(ee)||isNaN(se)||isNaN(me)||isNaN(ue))throw Xr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(H=!!H,!this.ctx.transform.isIdentity){var j=this.ctx.transform.applyToPoint(new l(O,ee));O=j.x,ee=j.y;var ge=this.ctx.transform.applyToPoint(new l(0,se)),he=this.ctx.transform.applyToPoint(new l(0,0));se=Math.sqrt(Math.pow(ge.x-he.x,2)+Math.pow(ge.y-he.y,2))}Math.abs(ue-me)>=2*Math.PI&&(me=0,ue=2*Math.PI),this.path.push({type:"arc",x:O,y:ee,radius:se,startAngle:me,endAngle:ue,counterclockwise:H})},g.prototype.arcTo=function(O,ee,se,me,ue){throw new Error("arcTo not implemented.")},g.prototype.rect=function(O,ee,se,me){if(isNaN(O)||isNaN(ee)||isNaN(se)||isNaN(me))throw Xr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,ee),this.lineTo(O+se,ee),this.lineTo(O+se,ee+me),this.lineTo(O,ee+me),this.lineTo(O,ee),this.lineTo(O+se,ee),this.lineTo(O,ee)},g.prototype.fillRect=function(O,ee,se,me){if(isNaN(O)||isNaN(ee)||isNaN(se)||isNaN(me))throw Xr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,ee,se,me),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},g.prototype.strokeRect=function(O,ee,se,me){if(isNaN(O)||isNaN(ee)||isNaN(se)||isNaN(me))throw Xr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(O,ee,se,me),this.stroke())},g.prototype.clearRect=function(O,ee,se,me){if(isNaN(O)||isNaN(ee)||isNaN(se)||isNaN(me))throw Xr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,ee,se,me))},g.prototype.save=function(O){O=typeof O!="boolean"||O;for(var ee=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("q");if(this.pdf.setPage(ee),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var me=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=me}},g.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var ee=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("Q");this.pdf.setPage(ee),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(O){var ee,se,me,ue;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))ee=0,se=0,me=0,ue=0;else{var H=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(H!==null)ee=parseInt(H[1]),se=parseInt(H[2]),me=parseInt(H[3]),ue=1;else if((H=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)ee=parseInt(H[1]),se=parseInt(H[2]),me=parseInt(H[3]),ue=parseFloat(H[4]);else{if(ue=1,typeof O=="string"&&O.charAt(0)!=="#"){var j=new IN(O);O=j.ok?j.toHex():"#000000"}O.length===4?(ee=O.substring(1,2),ee+=ee,se=O.substring(2,3),se+=se,me=O.substring(3,4),me+=me):(ee=O.substring(1,3),se=O.substring(3,5),me=O.substring(5,7)),ee=parseInt(ee,16),se=parseInt(se,16),me=parseInt(me,16)}}return{r:ee,g:se,b:me,a:ue,style:O}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(O,ee,se,me){if(isNaN(ee)||isNaN(se)||typeof O!="string")throw Xr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(me=isNaN(me)?void 0:me,!m.call(this)){var ue=_e(this.ctx.transform.rotation),H=this.ctx.transform.scaleX;D.call(this,{text:O,x:ee,y:se,scale:H,angle:ue,align:this.textAlign,maxWidth:me})}},g.prototype.strokeText=function(O,ee,se,me){if(isNaN(ee)||isNaN(se)||typeof O!="string")throw Xr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){me=isNaN(me)?void 0:me;var ue=_e(this.ctx.transform.rotation),H=this.ctx.transform.scaleX;D.call(this,{text:O,x:ee,y:se,scale:H,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:me})}},g.prototype.measureText=function(O){if(typeof O!="string")throw Xr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ee=this.pdf,se=this.pdf.internal.scaleFactor,me=ee.internal.getFontSize(),ue=ee.getStringUnitWidth(O)*me/ee.internal.scaleFactor;return new function(H){var j=(H=H||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return j}}),this}({width:ue*=Math.round(96*se/72*1e4)/1e4})},g.prototype.scale=function(O,ee){if(isNaN(O)||isNaN(ee))throw Xr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var se=new c(O,0,0,ee,0,0);this.ctx.transform=this.ctx.transform.multiply(se)},g.prototype.rotate=function(O){if(isNaN(O))throw Xr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ee=new c(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},g.prototype.translate=function(O,ee){if(isNaN(O)||isNaN(ee))throw Xr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var se=new c(1,0,0,1,O,ee);this.ctx.transform=this.ctx.transform.multiply(se)},g.prototype.transform=function(O,ee,se,me,ue,H){if(isNaN(O)||isNaN(ee)||isNaN(se)||isNaN(me)||isNaN(ue)||isNaN(H))throw Xr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var j=new c(O,ee,se,me,ue,H);this.ctx.transform=this.ctx.transform.multiply(j)},g.prototype.setTransform=function(O,ee,se,me,ue,H){O=isNaN(O)?1:O,ee=isNaN(ee)?0:ee,se=isNaN(se)?0:se,me=isNaN(me)?1:me,ue=isNaN(ue)?0:ue,H=isNaN(H)?0:H,this.ctx.transform=new c(O,ee,se,me,ue,H)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(O,ee,se,me,ue,H,j,ge,he){var le=this.pdf.getImageProperties(O),pe=1,De=1,z=1,Z=1;me!==void 0&&ge!==void 0&&(z=ge/me,Z=he/ue,pe=le.width/me*ge/me,De=le.height/ue*he/ue),H===void 0&&(H=ee,j=se,ee=0,se=0),me!==void 0&&ge===void 0&&(ge=me,he=ue),me===void 0&&ge===void 0&&(ge=le.width,he=le.height);var Y=this.ctx.transform.decompose(),I=_e(Y.rotate.shx),L=new c,q=(L=(L=(L=L.multiply(Y.translate)).multiply(Y.skew)).multiply(Y.scale)).applyToRectangle(new u(H-ee*z,j-se*Z,me*pe,ue*De));if(this.autoPaging){for(var ye,Ce=R.call(this,q),Ae=[],Oe=0;Oe<Ce.length;Oe+=1)Ae.indexOf(Ce[Oe])===-1&&Ae.push(Ce[Oe]);P(Ae);for(var We=Ae[0],He=Ae[Ae.length-1],Ze=We;Ze<He+1;Ze++){this.pdf.setPage(Ze);var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=Ze===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Dt=Ze===1?0:Nt+(Ze-2)*Ft;if(this.ctx.clip_path.length!==0){var gn=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(ye,this.posX+this.margin[3],-Dt+xt+this.ctx.prevPageLastElemOffset),$.call(this,"fill",!0),this.path=gn}var Mt=JSON.parse(JSON.stringify(q));Mt=M([Mt],this.posX+this.margin[3],-Dt+xt+this.ctx.prevPageLastElemOffset)[0];var Ot=(Ze>We||Ze<He)&&S.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,Ft,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Mt.x,Mt.y,Mt.w,Mt.h,null,null,I),Ot&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(O,"JPEG",q.x,q.y,q.w,q.h,null,null,I)};var R=function(O,ee,se){var me=[];ee=ee||this.pdf.internal.pageSize.width,se=se||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":me.push(Math.floor((O.y+ue)/se)+1);break;case"arc":me.push(Math.floor((O.y+ue-O.radius)/se)+1),me.push(Math.floor((O.y+ue+O.radius)/se)+1);break;case"qct":var H=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);me.push(Math.floor((H.y+ue)/se)+1),me.push(Math.floor((H.y+H.h+ue)/se)+1);break;case"bct":var j=Ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);me.push(Math.floor((j.y+ue)/se)+1),me.push(Math.floor((j.y+j.h+ue)/se)+1);break;case"rect":me.push(Math.floor((O.y+ue)/se)+1),me.push(Math.floor((O.y+O.h+ue)/se)+1)}for(var ge=0;ge<me.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<me[ge];)E.call(this);return me},E=function(){var O=this.fillStyle,ee=this.strokeStyle,se=this.font,me=this.lineCap,ue=this.lineWidth,H=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=ee,this.font=se,this.lineCap=me,this.lineWidth=ue,this.lineJoin=H},M=function(O,ee,se){for(var me=0;me<O.length;me++)switch(O[me].type){case"bct":O[me].x2+=ee,O[me].y2+=se;case"qct":O[me].x1+=ee,O[me].y1+=se;default:O[me].x+=ee,O[me].y+=se}return O},P=function(O){return O.sort(function(ee,se){return ee-se})},N=function(O,ee){var se=this.fillStyle,me=this.strokeStyle,ue=this.lineCap,H=this.lineWidth,j=Math.abs(H*this.ctx.transform.scaleX),ge=this.lineJoin;if(this.autoPaging){for(var he,le,pe=JSON.parse(JSON.stringify(this.path)),De=JSON.parse(JSON.stringify(this.path)),z=[],Z=0;Z<De.length;Z++)if(De[Z].x!==void 0)for(var Y=R.call(this,De[Z]),I=0;I<Y.length;I+=1)z.indexOf(Y[I])===-1&&z.push(Y[I]);for(var L=0;L<z.length;L++)for(;this.pdf.internal.getNumberOfPages()<z[L];)E.call(this);P(z);for(var q=z[0],ye=z[z.length-1],Ce=q;Ce<ye+1;Ce++){this.pdf.setPage(Ce),this.fillStyle=se,this.strokeStyle=me,this.lineCap=ue,this.lineWidth=j,this.lineJoin=ge;var Ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Oe=Ce===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=Ce===1?0:We+(Ce-2)*He;if(this.ctx.clip_path.length!==0){var _t=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(he,this.posX+this.margin[3],-Ze+Oe+this.ctx.prevPageLastElemOffset),$.call(this,O,!0),this.path=_t}if(le=JSON.parse(JSON.stringify(pe)),this.path=M(le,this.posX+this.margin[3],-Ze+Oe+this.ctx.prevPageLastElemOffset),ee===!1||Ce===0){var xt=(Ce>q||Ce<ye)&&S.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ae,He,null).clip().discardPath()),$.call(this,O,ee),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=H}this.path=pe}else this.lineWidth=j,$.call(this,O,ee),this.lineWidth=H},$=function(O,ee){if((O!=="stroke"||ee||!x.call(this))&&(O==="stroke"||ee||!m.call(this))){for(var se,me,ue=[],H=this.path,j=0;j<H.length;j++){var ge=H[j];switch(ge.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:ge,deltas:[],abs:[]});break;case"lt":var he=ue.length;if(H[j-1]&&!isNaN(H[j-1].x)&&(se=[ge.x-H[j-1].x,ge.y-H[j-1].y],he>0)){for(;he>=0;he--)if(ue[he-1].close!==!0&&ue[he-1].begin!==!0){ue[he-1].deltas.push(se),ue[he-1].abs.push(ge);break}}break;case"bct":se=[ge.x1-H[j-1].x,ge.y1-H[j-1].y,ge.x2-H[j-1].x,ge.y2-H[j-1].y,ge.x-H[j-1].x,ge.y-H[j-1].y],ue[ue.length-1].deltas.push(se);break;case"qct":var le=H[j-1].x+2/3*(ge.x1-H[j-1].x),pe=H[j-1].y+2/3*(ge.y1-H[j-1].y),De=ge.x+2/3*(ge.x1-ge.x),z=ge.y+2/3*(ge.y1-ge.y),Z=ge.x,Y=ge.y;se=[le-H[j-1].x,pe-H[j-1].y,De-H[j-1].x,z-H[j-1].y,Z-H[j-1].x,Y-H[j-1].y],ue[ue.length-1].deltas.push(se);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(ge)}}me=ee?null:O==="stroke"?"stroke":"fill";for(var I=!1,L=0;L<ue.length;L++)if(ue[L].arc)for(var q=ue[L].abs,ye=0;ye<q.length;ye++){var Ce=q[ye];Ce.type==="arc"?G.call(this,Ce.x,Ce.y,Ce.radius,Ce.startAngle,Ce.endAngle,Ce.counterclockwise,void 0,ee,!I):B.call(this,Ce.x,Ce.y),I=!0}else if(ue[L].close===!0)this.pdf.internal.out("h"),I=!1;else if(ue[L].begin!==!0){var Ae=ue[L].start.x,Oe=ue[L].start.y;F.call(this,ue[L].deltas,Ae,Oe),I=!0}me&&C.call(this,me),ee&&X.call(this)}},Q=function(O){var ee=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,se=ee*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-se;case"top":return O+ee-se;case"hanging":return O+ee-2*se;case"middle":return O+ee/2-se;default:return O}},V=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(ee,se){this.colorStops.push([ee,se])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var G=function(O,ee,se,me,ue,H,j,ge,he){for(var le=ce.call(this,se,me,ue,H),pe=0;pe<le.length;pe++){var De=le[pe];pe===0&&(he?W.call(this,De.x1+O,De.y1+ee):B.call(this,De.x1+O,De.y1+ee)),ve.call(this,O,ee,De.x2,De.y2,De.x3,De.y3,De.x4,De.y4)}ge?X.call(this):C.call(this,j)},C=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},W=function(O,ee){this.pdf.internal.out(n(O)+" "+r(ee)+" m")},D=function(O){var ee;switch(O.align){case"right":case"end":ee="right";break;case"center":ee="center";break;default:ee="left"}var se,me,ue,H=this.pdf.getTextDimensions(O.text),j=Q.call(this,O.y),ge=V.call(this,j)-H.h,he=this.ctx.transform.applyToPoint(new l(O.x,j));if(this.autoPaging){var le=this.ctx.transform.decompose(),pe=new c;pe=(pe=(pe=pe.multiply(le.translate)).multiply(le.skew)).multiply(le.scale);for(var De=this.ctx.transform.applyToRectangle(new u(O.x,j,H.w,H.h)),z=pe.applyToRectangle(new u(O.x,ge,H.w,H.h)),Z=R.call(this,z),Y=[],I=0;I<Z.length;I+=1)Y.indexOf(Z[I])===-1&&Y.push(Z[I]);P(Y);for(var L=Y[0],q=Y[Y.length-1],ye=L;ye<q+1;ye++){this.pdf.setPage(ye);var Ce=ye===1?this.posY+this.margin[0]:this.margin[0],Ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[2],We=Oe-this.margin[0],He=this.pdf.internal.pageSize.width-this.margin[1],Ze=He-this.margin[3],_t=ye===1?0:Ae+(ye-2)*We;if(this.ctx.clip_path.length!==0){var xt=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(se,this.posX+this.margin[3],-1*_t+Ce),$.call(this,"fill",!0),this.path=xt}var Nt=M([JSON.parse(JSON.stringify(z))],this.posX+this.margin[3],-_t+Ce+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*O.scale),ue=this.lineWidth,this.lineWidth=ue*O.scale);var Ft=this.autoPaging!=="text";if(Ft||Nt.y+Nt.h<=Oe){if(Ft||Nt.y>=Ce&&Nt.x<=He){var Dt=Ft?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||He-Nt.x)[0],gn=M([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-_t+Ce+this.ctx.prevPageLastElemOffset)[0],Mt=Ft&&(ye>L||ye<q)&&S.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,We,null).clip().discardPath()),this.pdf.text(Dt,gn.x,gn.y,{angle:O.angle,align:ee,renderingMode:O.renderingMode}),Mt&&this.pdf.restoreGraphicsState()}}else Nt.y<Oe&&(this.ctx.prevPageLastElemOffset+=Oe-Nt.y);O.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=ue)}}else O.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*O.scale),ue=this.lineWidth,this.lineWidth=ue*O.scale),this.pdf.text(O.text,he.x+this.posX,he.y+this.posY,{angle:O.angle,align:ee,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=ue)},B=function(O,ee,se,me){se=se||0,me=me||0,this.pdf.internal.out(n(O+se)+" "+r(ee+me)+" l")},F=function(O,ee,se){return this.pdf.lines(O,ee,se,null,null)},ve=function(O,ee,se,me,ue,H,j,ge){this.pdf.internal.out([e(i(se+O)),e(s(me+ee)),e(i(ue+O)),e(s(H+ee)),e(i(j+O)),e(s(ge+ee)),"c"].join(" "))},ce=function(O,ee,se,me){for(var ue=2*Math.PI,H=Math.PI/2;ee>se;)ee-=ue;var j=Math.abs(se-ee);j<ue&&me&&(j=ue-j);for(var ge=[],he=me?-1:1,le=ee;j>1e-5;){var pe=le+he*Math.min(j,H);ge.push(ae.call(this,O,le,pe)),j-=Math.abs(pe-le),le=pe}return ge},ae=function(O,ee,se){var me=(se-ee)/2,ue=O*Math.cos(me),H=O*Math.sin(me),j=ue,ge=-H,he=j*j+ge*ge,le=he+j*ue+ge*H,pe=4/3*(Math.sqrt(2*he*le)-le)/(j*H-ge*ue),De=j-pe*ge,z=ge+pe*j,Z=De,Y=-z,I=me+ee,L=Math.cos(I),q=Math.sin(I);return{x1:O*Math.cos(ee),y1:O*Math.sin(ee),x2:De*L-z*q,y2:De*q+z*L,x3:Z*L-Y*q,y3:Z*q+Y*L,x4:O*Math.cos(se),y4:O*Math.sin(se)}},_e=function(O){return 180*O/Math.PI},xe=function(O,ee,se,me,ue,H){var j=O+.5*(se-O),ge=ee+.5*(me-ee),he=ue+.5*(se-ue),le=H+.5*(me-H),pe=Math.min(O,ue,j,he),De=Math.max(O,ue,j,he),z=Math.min(ee,H,ge,le),Z=Math.max(ee,H,ge,le);return new u(pe,z,De-pe,Z-z)},Ue=function(O,ee,se,me,ue,H,j,ge){var he,le,pe,De,z,Z,Y,I,L,q,ye,Ce,Ae,Oe,We=se-O,He=me-ee,Ze=ue-se,_t=H-me,xt=j-ue,Nt=ge-H;for(le=0;le<41;le++)L=(Y=(pe=O+(he=le/40)*We)+he*((z=se+he*Ze)-pe))+he*(z+he*(ue+he*xt-z)-Y),q=(I=(De=ee+he*He)+he*((Z=me+he*_t)-De))+he*(Z+he*(H+he*Nt-Z)-I),le==0?(ye=L,Ce=q,Ae=L,Oe=q):(ye=Math.min(ye,L),Ce=Math.min(Ce,q),Ae=Math.max(Ae,L),Oe=Math.max(Oe,q));return new u(Math.round(ye),Math.round(Ce),Math.round(Ae-ye),Math.round(Oe-Ce))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,ee,se=(O=this.ctx.lineDash,ee=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:ee}));this.prevLineDash!==se&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=se)}}})(ln.API),(function(t){var e=function(l){var u,c,f,d,g,y,m,x,S,R;for(c=[],f=0,d=(l+=u="\0\0\0\0".slice(l.length%4||4)).length;d>f;f+=4)(g=(l.charCodeAt(f)<<24)+(l.charCodeAt(f+1)<<16)+(l.charCodeAt(f+2)<<8)+l.charCodeAt(f+3))!==0?(y=(g=((g=((g=((g=(g-(R=g%85))/85)-(S=g%85))/85)-(x=g%85))/85)-(m=g%85))/85)%85,c.push(y+33,m+33,x+33,S+33,R+33)):c.push(122);return(function(E,M){for(var P=M;P>0;P--)E.pop()})(c,u.length),String.fromCharCode.apply(String,c)+"~>"},n=function(l){var u,c,f,d,g,y=String,m="length",x=255,S="charCodeAt",R="slice",E="replace";for(l[R](-2),l=l[R](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),f=[],d=0,g=(l+=u="uuuuu"[R](l[m]%5||5))[m];g>d;d+=5)c=52200625*(l[S](d)-33)+614125*(l[S](d+1)-33)+7225*(l[S](d+2)-33)+85*(l[S](d+3)-33)+(l[S](d+4)-33),f.push(x&c>>24,x&c>>16,x&c>>8,x&c);return(function(M,P){for(var N=P;N>0;N--)M.pop()})(f,u[m]),y.fromCharCode.apply(y,f)},r=function(l){return l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(l){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),u.test(l)===!1)return"";for(var c="",f=0;f<l.length;f+=2)c+=String.fromCharCode("0x"+(l[f]+l[f+1]));return c},s=function(l){for(var u=new Uint8Array(l.length),c=l.length;c--;)u[c]=l.charCodeAt(c);return(u=H2(u)).reduce(function(f,d){return f+String.fromCharCode(d)},"")};t.processDataByFilters=function(l,u){var c=0,f=l||"",d=[];for(typeof(u=u||[])=="string"&&(u=[u]),c=0;c<u.length;c+=1)switch(u[c]){case"ASCII85Decode":case"/ASCII85Decode":f=n(f),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=r(f),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=s(f),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[c]+'" is not implemented')}return{data:f,reverseChain:d.reverse().join(" ")}}})(ln.API),(function(t){t.loadFile=function(e,n,r){return(function(i,s,l){s=s!==!1,l=typeof l=="function"?l:function(){};var u=void 0;try{u=(function(c,f,d){var g=new XMLHttpRequest,y=0,m=function(x){var S=x.length,R=[],E=String.fromCharCode;for(y=0;y<S;y+=1)R.push(E(255&x.charCodeAt(y)));return R.join("")};if(g.open("GET",c,!f),g.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(g.onload=function(){g.status===200?d(m(this.responseText)):d(void 0)}),g.send(null),f&&g.status===200)return m(g.responseText)})(i,s,l)}catch{}return u})(e,n,r)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(ln.API),(function(t){function e(){return(xn.html2canvas?Promise.resolve(xn.html2canvas):Yy(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function n(){return(xn.DOMPurify?Promise.resolve(xn.DOMPurify):Yy(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var r=function(u){var c=Dr(u);return c==="undefined"?"undefined":c==="string"||u instanceof String?"string":c==="number"||u instanceof Number?"number":c==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(u,c){var f=document.createElement(u);for(var d in c.className&&(f.className=c.className),c.innerHTML&&c.dompurify&&(f.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)f.style[d]=c.style[d];return f},s=function u(c,f){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),g=c.firstChild;g;g=g.nextSibling)f!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||d.appendChild(u(g,f));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},l=function u(c){var f=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),d=u.convert(Promise.resolve(),f);return(d=d.setProgress(1,u,1,[u])).set(c)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(u,c){return u.__proto__=c||l.prototype,u},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(u,c){return this.then(function(){switch(c=c||(function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),c){case"string":return this.then(n).then(function(f){return this.set({src:i("div",{innerHTML:u,dompurify:f})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},l.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(c){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,c(this.prop.container,f)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(c){var f=this.opt.jsPDF,d=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var x=d[m],S=x.src.find(function(R){return R.format==="truetype"});S&&f.addFont(S.url,x.ref.name,x.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,f.context2d.save(!0),c(this.prop.container,y)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(u,c,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(u,c):this.outputPdf(u,c)},l.prototype.outputPdf=function(u,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,c)})},l.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},l.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(u){if(r(u)!=="object")return this;var c=Object.keys(u||{}).map(function(f){if(f in l.template.prop)return function(){this.prop[f]=u[f]};switch(f){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[f]=u[f]}}},this);return this.then(function(){return this.thenList(c)})},l.prototype.get=function(u,c){return this.then(function(){var f=u in l.template.prop?this.prop[u]:this.opt[u];return c?c(f):f})},l.prototype.setMargin=function(u){return this.then(function(){switch(r(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},l.prototype.setPageSize=function(u){function c(f,d){return Math.floor(f*d/72*96)}return this.then(function(){(u=u||ln.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:c(u.inner.width,u.k),height:c(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},l.prototype.setProgress=function(u,c,f,d){return u!=null&&(this.progress.val=u),c!=null&&(this.progress.state=c),f!=null&&(this.progress.n=f),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(u,c,f,d){return this.setProgress(u?this.progress.val+u:null,c||null,f?this.progress.n+f:null,d?this.progress.stack.concat(d):null)},l.prototype.then=function(u,c){var f=this;return this.thenCore(u,c,function(d,g){return f.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(y){return f.updateProgress(null,d),y}).then(d,g).then(function(y){return f.updateProgress(1),y})})},l.prototype.thenCore=function(u,c,f){f=f||Promise.prototype.then;var d=this;u&&(u=u.bind(d)),c&&(c=c.bind(d));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:l.convert(Object.assign({},d),Promise.prototype),y=f.call(g,u,c);return l.convert(y,d.__proto__)},l.prototype.thenExternal=function(u,c){return Promise.prototype.then.call(this,u,c)},l.prototype.thenList=function(u){var c=this;return u.forEach(function(f){c=c.thenCore(f)}),c},l.prototype.catch=function(u){u&&(u=u.bind(this));var c=Promise.prototype.catch.call(this,u);return l.convert(c,this)},l.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},l.prototype.error=function(u){return this.then(function(){throw new Error(u)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,ln.getPageSize=function(u,c,f){if(Dr(u)==="object"){var d=u;u=d.orientation,c=d.unit||c,f=d.format||f}c=c||"mm",f=f||"a4",u=(""+(u||"P")).toLowerCase();var g,y=(""+f).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+c}var x,S=0,R=0;if(m.hasOwnProperty(y))S=m[y][1]/g,R=m[y][0]/g;else try{S=f[1],R=f[0]}catch{throw new Error("Invalid format: "+f)}if(u==="p"||u==="portrait")u="p",R>S&&(x=R,R=S,S=x);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",S>R&&(x=R,R=S,S=x)}return{width:R,height:S,unit:c,k:g,orientation:u}},t.html=function(u,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(d1):null;var f=new l(c);return c.worker?f:f.from(u).doCallback()}})(ln.API),ln.API.addJS=function(t){var e,n,r=t;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var l=i[s],u=r.exec(l);if(u!=null){var c=u[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,d=[];for(s=0;s<f;s++){var g=n.internal.newObject();d.push(g);var y=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var l={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(l),l},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var l=r.children[s];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var u=this.count=this.count_r({count:0},l);if(u>0&&this.line("/Count "+u),l.options&&l.options.pageNumber){var c=n.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(ln.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,l,u){var c,f=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=l||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=(function(g){for(var y,m=256*g.charCodeAt(4)+g.charCodeAt(5),x=g.length,S={width:0,height:0,numcomponents:1},R=4;R<x;R+=2){if(R+=m,e.indexOf(g.charCodeAt(R+1))!==-1){y=256*g.charCodeAt(R+5)+g.charCodeAt(R+6),S={width:256*g.charCodeAt(R+7)+g.charCodeAt(R+8),height:y,numcomponents:g.charCodeAt(R+9)};break}m=256*g.charCodeAt(R+2)+g.charCodeAt(R+3)}return S})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:u,bitsPerComponent:8,filter:f,index:r,alias:i}}return d}})(ln.API),ln.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=QB(t,{checkCrc:!0}),l=s.width,u=s.height,c=s.channels,f=s.palette,d=s.depth;i=f&&c===1?(function(G){for(var C=G.width,X=G.height,W=G.data,D=G.palette,B=G.depth,F=!1,ve=[],ce=[],ae=void 0,_e=!1,xe=0,Ue=0;Ue<D.length;Ue++){var re=dS(D[Ue],4),O=re[0],ee=re[1],se=re[2],me=re[3];ve.push(O,ee,se),me!=null&&(me===0?(xe++,ce.length<1&&ce.push(Ue)):me<255&&(_e=!0))}if(_e||xe>1){F=!0,ce=void 0;var ue=C*X;ae=new Uint8Array(ue);for(var H=new DataView(W.buffer),j=0;j<ue;j++){var ge=m1(H,j,B),he=dS(D[ge],4)[3];ae[j]=he}}else xe===0&&(ce=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:F?8:void 0,colorBytes:W,alphaBytes:ae,needSMask:F,palette:ve,mask:ce}})(s):c===2||c===4?(function(G){for(var C=G.data,X=G.width,W=G.height,D=G.channels,B=G.depth,F=D===2?"DeviceGray":"DeviceRGB",ve=D-1,ce=X*W,ae=ve,_e=ce*ae,xe=1*ce,Ue=Math.ceil(_e*B/8),re=Math.ceil(xe*B/8),O=new Uint8Array(Ue),ee=new Uint8Array(re),se=new DataView(C.buffer),me=new DataView(O.buffer),ue=new DataView(ee.buffer),H=!1,j=0;j<ce;j++){for(var ge=j*D,he=0;he<ae;he++)gx(me,m1(se,ge+he,B),j*ae+he,B);var le=m1(se,ge+ae,B);le<(1<<B)-1&&(H=!0),gx(ue,le,1*j,B)}return{colorSpace:F,colorsPerPixel:ve,sMaskBitsPerComponent:H?B:void 0,colorBytes:O,alphaBytes:ee,needSMask:H}})(s):(function(G){var C=G.data,X=G.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:X,colorsPerPixel:X==="DeviceGray"?1:3,colorBytes:C instanceof Uint16Array?(function(W){for(var D=W.length,B=new Uint8Array(2*D),F=new DataView(B.buffer,B.byteOffset,B.byteLength),ve=0;ve<D;ve++)F.setUint16(2*ve,W[ve],!1);return B})(C):C,needSMask:!1}})(s);var g,y,m,x=i,S=x.colorSpace,R=x.colorsPerPixel,E=x.sMaskBitsPerComponent,M=x.colorBytes,P=x.alphaBytes,N=x.needSMask,$=x.palette,Q=x.mask,V=null;return r!==ln.API.image_compression.NONE&&typeof H2=="function"?(V=(function(G){var C;switch(G){case ln.API.image_compression.FAST:C=11;break;case ln.API.image_compression.MEDIUM:C=13;break;case ln.API.image_compression.SLOW:C=14;break;default:C=12}return C})(r),g=this.decode.FLATE_DECODE,y="/Predictor ".concat(V," /Colors ").concat(R," /BitsPerComponent ").concat(d," /Columns ").concat(l),t=fx(M,Math.ceil(l*R*d/8),R,d,r),N&&(m=fx(P,Math.ceil(l*E/8),1,E,r))):(g=void 0,y=void 0,t=M,N&&(m=P)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:n,data:t,index:e,filter:g,decodeParameters:y,transparency:Q,palette:$,sMask:m,predictor:V,width:l,height:u,bitsPerComponent:d,sMaskBitsPerComponent:E,colorSpace:S}}},(function(t){t.processGIF89A=function(e,n,r,i){var s=new wV(e),l=s.width,u=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:l,height:u},d=new g1(100).encode(f,100);return t.processJPEG.call(this,d,n,r,i)},t.processGIF87A=t.processGIF89A})(ln.API),ja.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ja.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(n){Xr.log("bit decode error:"+n)}},ja.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var c=this.palette[s>>7-u&1];this.data[l+4*u]=c.blue,this.data[l+4*u+1]=c.green,this.data[l+4*u+2]=c.red,this.data[l+4*u+3]=255}n!==0&&(this.pos+=4-n)}},ja.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*i*4,u=s>>4,c=15&s,f=this.palette[u];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*i+1>=this.width)break;f=this.palette[c],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},ja.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var l=this.palette[i];this.data[s]=l.red,this.data[s+1]=l.green,this.data[s+2]=l.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},ja.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,u=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,f=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=c,this.data[d+1]=u,this.data[d+2]=l,this.data[d+3]=f}this.pos+=t}},ja.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&e)/e*255|0,c=(l>>5&n)/n*255|0,f=(l>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=f,this.data[d+1]=c,this.data[d+2]=u,this.data[d+3]=255}this.pos+=t}},ja.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},ja.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*n;this.data[u]=s,this.data[u+1]=i,this.data[u+2]=r,this.data[u+3]=l}},ja.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var s=new ja(e,!1),l=s.width,u=s.height,c={data:s.getData(),width:l,height:u},f=new g1(100).encode(c,100);return t.processJPEG.call(this,f,n,r,i)}})(ln.API),vx.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var s=new vx(e),l=s.width,u=s.height,c={data:s.getData(),width:l,height:u},f=new g1(100).encode(c,100);return t.processJPEG.call(this,f,n,r,i)}})(ln.API),ln.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),l=new Uint8Array(i/4),u=0,c=0,f=0;f<i;f+=4){var d=r[f],g=r[f+1],y=r[f+2],m=r[f+3];s[u++]=d,s[u++]=g,s[u++]=y,l[c++]=m}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:x,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ln.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},th=ln.API,Mm=th.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:i.metadata.Unicode.widths,c=u.fof?u.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=f.fof?f.fof:1,g=e.doKerning!==!1,y=0,m=t.length,x=0,S=u[0]||c,R=[];for(n=0;n<m;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?R.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+l*(1e3/s)||0)/1e3):(y=g&&Dr(f[r])==="object"&&!isNaN(parseInt(f[r][x],10))?f[r][x]/d:0,R.push((u[r]||S)/c+y)),x=r;return R},lx=th.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return th.processArabic&&(t=th.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Mm.apply(this,arguments).reduce(function(s,l){return s+l},0)},ux=function(t,e,n,r){for(var i=[],s=0,l=t.length,u=0;s!==l&&u+e[s]<n;)u+=e[s],s++;i.push(t.slice(0,s));var c=s;for(u=0;s!==l;)u+e[s]>r&&(i.push(t.slice(c,s)),u=0,c=s),u+=e[s],s++;return c!==s&&i.push(t.slice(c,s)),i},cx=function(t,e,n){n||(n={});var r,i,s,l,u,c,f,d=[],g=[d],y=n.textIndent||0,m=0,x=0,S=t.split(" "),R=Mm.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var E=Array(c).join(" "),M=[];S.map(function(N){(N=N.split(/\s*\n/)).length>1?M=M.concat(N.map(function($,Q){return(Q&&$.length?`
`:"")+$})):M.push(N[0])}),S=M,c=lx.apply(this,[E,n])}for(s=0,l=S.length;s<l;s++){var P=0;if(r=S[s],c&&r[0]==`
`&&(r=r.substr(1),P=1),y+m+(x=(i=Mm.apply(this,[r,n])).reduce(function(N,$){return N+$},0))>e||P){if(x>e){for(u=ux.apply(this,[r,i,e-(y+m),e]),d.push(u.shift()),d=[u.pop()];u.length;)g.push([u.shift()]);x=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(N,$){return N+$},0)}else d=[r];g.push(d),y=x+c,m=R}else d.push(r),y+=m+x,m=R}return f=c?function(N,$){return($?E:"")+N.join(" ")}:function(N){return N.join(" ")},g.map(f)},th.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var g=this.internal.getFont(d.fontName,d.fontStyle),y="Unicode";return g.metadata[y]?{widths:g.metadata[y].widths||{0:1},kerning:g.metadata[y].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var u,c,f=[];for(u=0,c=r.length;u<c;u++)f=f.concat(cx.apply(this,[r[u],l,s]));return f},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var l=function(y){return"0x"+parseInt(y,10).toString(16)},u=t.__fontmetrics__.compress=function(y){var m,x,S,R,E=["{"];for(var M in y){if(m=y[M],isNaN(parseInt(M,10))?x="'"+M+"'":(M=parseInt(M,10),x=(x=l(M).slice(2)).slice(0,-1)+i[x.slice(-1)]),typeof m=="number")m<0?(S=l(m).slice(3),R="-"):(S=l(m).slice(2),R=""),S=R+S.slice(0,-1)+i[S.slice(-1)];else{if(Dr(m)!=="object")throw new Error("Don't know what to do with value type "+Dr(m)+".");S=u(m)}E.push(x+S)}return E.push("}"),E.join("")},c=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,x,S,R,E={},M=1,P=E,N=[],$="",Q="",V=y.length-1,G=1;G<V;G+=1)(R=y[G])=="'"?m?(S=m.join(""),m=void 0):m=[]:m?m.push(R):R=="{"?(N.push([P,S]),P={},S=void 0):R=="}"?((x=N.pop())[0][x[1]]=P,S=void 0,P=x[0]):R=="-"?M=-1:S===void 0?r.hasOwnProperty(R)?($+=r[R],S=parseInt($,16)*M,M=1,$=""):$+=R:r.hasOwnProperty(R)?(Q+=r[R],P[S]=parseInt(Q,16)*M,M=1,S=void 0,Q=""):Q+=R;return E},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},g={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var m=y.font,x=g.Unicode[m.postScriptName];x&&(m.metadata.Unicode={},m.metadata.Unicode.widths=x.widths,m.metadata.Unicode.kerning=x.kerning);var S=d.Unicode[m.postScriptName];S&&(m.metadata.Unicode.encoding=S,m.encoding=S.codePages[0])}])})(ln.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(og(u)),l.metadata=t.API.TTFFont.open(u),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,r)}}])})(ln),ln.API.addSvgAsImage=function(t,e,n,r,i,s,l,u){if(isNaN(e)||isNaN(n))throw Xr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Xr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(xn.canvg?Promise.resolve(xn.canvg):Yy(()=>import("./index.es-TMLXcekO.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(f,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(d)}).then(function(){g.addImage(c.toDataURL("image/jpeg",1),e,n,r,i,l,u)})},ln.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ln.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(l),c=[],f=0,d=0,g=0;function y(x,S){var R,E=!1;for(R=0;R<x.length;R+=1)x[R]===S&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=u.length;for(g=0;g<m;g+=1)n[u[g]].value=n[u[g]].defaultValue,n[u[g]].explicitSet=!1}if(Dr(t)==="object"){for(i in t)if(s=t[i],y(u,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&y(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(f=0;f<s.length;f+=1)if(r=!0,s[f].length===1&&typeof s[f][0]=="number")c.push(String(s[f]-1));else if(s[f].length>1){for(d=0;d<s[f].length;d+=1)typeof s[f][d]!="number"&&(r=!1);r===!0&&c.push([s[f][0]-1,s[f][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,S=[];for(x in n)n[x].explicitSet===!0&&(n[x].type==="name"?S.push("/"+x+" /"+n[x].value):S.push("/"+x+" "+n[x].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},ln.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",bV),this.internal.events.subscribe("postPutResources",_V)),this},(function(t){var e=t.API,n=e.pdfEscape16=function(s,l){for(var u,c=l.metadata.Unicode.widths,f=["","0","00","000","0000"],d=[""],g=0,y=s.length;g<y;++g){if(u=l.metadata.characterToGlyph(s.charCodeAt(g)),l.metadata.glyIdsUsed.push(u),l.metadata.toUnicode[u]=s.charCodeAt(g),c.indexOf(u)==-1&&(c.push(u),c.push([parseInt(l.metadata.widthOfGlyph(u),10)])),u=="0")return d.join("");u=u.toString(16),d.push(f[4-u.length],u)}return d.join("")},r=function(s){var l,u,c,f,d,g,y;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],g=0,y=(u=Object.keys(s).sort(function(m,x){return m-x})).length;g<y;g++)l=u[g],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[l]!==void 0&&s[l]!==null&&typeof s[l].toString=="function"&&(f=("0000"+s[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),c.push("<"+l+"><"+f+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(l){var u=l.font,c=l.out,f=l.newObject,d=l.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="Identity-H"){for(var g=u.metadata.Unicode.widths,y=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),m="",x=0;x<y.length;x++)m+=String.fromCharCode(y[x]);var S=f();d({data:m,addLength1:!0,objectId:S}),c("endobj");var R=f();d({data:r(u.metadata.toUnicode),addLength1:!0,objectId:R}),c("endobj");var E=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+oh(u.fontName)),c("/FontFile2 "+S+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),c("/Flags "+u.metadata.flags),c("/StemV "+u.metadata.stemV),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c(">>"),c("endobj");var M=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+oh(u.fontName)),c("/FontDescriptor "+E+" 0 R"),c("/W "+t.API.PDFObject.convert(g)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+u.encoding+")"),c(">>"),c(">>"),c("endobj"),u.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+R+" 0 R"),c("/BaseFont /"+oh(u.fontName)),c("/Encoding /"+u.encoding),c("/DescendantFonts ["+M+" 0 R]"),c(">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(l){var u=l.font,c=l.out,f=l.newObject,d=l.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var g=u.metadata.rawData,y="",m=0;m<g.length;m++)y+=String.fromCharCode(g[m]);var x=f();d({data:y,addLength1:!0,objectId:x}),c("endobj");var S=f();d({data:r(u.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var R=f();c("<<"),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c("/StemV "+u.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),c("/FontName /"+oh(u.fontName)),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c(">>"),c("endobj"),u.objectNumber=f();for(var E=0;E<u.metadata.hmtx.widths.length;E++)u.metadata.hmtx.widths[E]=parseInt(u.metadata.hmtx.widths[E]*(1e3/u.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+oh(u.fontName)+"/FontDescriptor "+R+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]);var i=function(s){var l,u=s.text||"",c=s.x,f=s.y,d=s.options||{},g=s.mutex||{},y=g.pdfEscape,m=g.activeFontKey,x=g.fonts,S=m,R="",E=0,M="",P=x[S].encoding;if(x[S].encoding!=="Identity-H")return{text:u,x:c,y:f,options:d,mutex:g};for(M=u,S=m,Array.isArray(u)&&(M=u[0]),E=0;E<M.length;E+=1)x[S].metadata.hasOwnProperty("cmap")&&(l=x[S].metadata.cmap.unicode.codeMap[M[E].charCodeAt(0)]),l||M[E].charCodeAt(0)<256&&x[S].metadata.hasOwnProperty("Unicode")?R+=M[E]:R+="";var N="";return parseInt(S.slice(1))<14||P==="WinAnsiEncoding"?N=y(R,S).split("").map(function($){return $.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(N=n(R,x[S])),g.isHex=!0,{text:N,x:c,y:f,options:d,mutex:g}};e.events.push(["postProcessText",function(s){var l=s.text||"",u=[],c={text:l,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?u.push([i(Object.assign({},c,{text:l[f][0]})).text,l[f][1],l[f][2]]):u.push(i(Object.assign({},c,{text:l[f]})).text);s.text=u}else s.text=i(Object.assign({},c,{text:l})).text}])})(ln),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(ln.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,l,u,c,f,d,g=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},R=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),M=!1,P=0;this.__bidiEngine__={};var N=function(W){var D=W.charCodeAt(),B=D>>8,F=S[B];return F!==void 0?g[256*F+(255&D)]:B===252||B===253?"AL":E.test(B)?"L":B===8?"R":"N"},$=function(W){for(var D,B=0;B<W.length;B++){if((D=N(W.charAt(B)))==="L")return!1;if(D==="R")return!0}return!1},Q=function(W,D,B,F){var ve,ce,ae,_e,xe=D[F];switch(xe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":M=!1;break;case"N":case"AN":break;case"EN":M&&(xe="AN");break;case"AL":M=!0,xe="R";break;case"WS":case"BN":xe="N";break;case"CS":F<1||F+1>=D.length||(ve=B[F-1])!=="EN"&&ve!=="AN"||(ce=D[F+1])!=="EN"&&ce!=="AN"?xe="N":M&&(ce="AN"),xe=ce===ve?ce:"N";break;case"ES":xe=(ve=F>0?B[F-1]:"B")==="EN"&&F+1<D.length&&D[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&B[F-1]==="EN"){xe="EN";break}if(M){xe="N";break}for(ae=F+1,_e=D.length;ae<_e&&D[ae]==="ET";)ae++;xe=ae<_e&&D[ae]==="EN"?"EN":"N";break;case"NSM":if(l&&!u){for(_e=D.length,ae=F+1;ae<_e&&D[ae]==="NSM";)ae++;if(ae<_e){var Ue=W[F],re=Ue>=1425&&Ue<=2303||Ue===64286;if(ve=D[ae],re&&(ve==="R"||ve==="AL")){xe="R";break}}}xe=F<1||(ve=D[F-1])==="B"?"N":B[F-1];break;case"B":M=!1,i=!0,xe=P;break;case"S":s=!0,xe="N"}return xe},V=function(W,D,B){var F=W.split("");return B&&G(F,B,{hiLevel:P}),F.reverse(),D&&D.reverse(),F.join("")},G=function(W,D,B){var F,ve,ce,ae,_e,xe=-1,Ue=W.length,re=0,O=[],ee=P?m:y,se=[];for(M=!1,i=!1,s=!1,ve=0;ve<Ue;ve++)se[ve]=N(W[ve]);for(ce=0;ce<Ue;ce++){if(_e=re,O[ce]=Q(W,se,O,ce),F=240&(re=ee[_e][x[O[ce]]]),re&=15,D[ce]=ae=ee[re][5],F>0)if(F===16){for(ve=xe;ve<ce;ve++)D[ve]=1;xe=-1}else xe=-1;if(ee[re][6])xe===-1&&(xe=ce);else if(xe>-1){for(ve=xe;ve<ce;ve++)D[ve]=ae;xe=-1}se[ce]==="B"&&(D[ce]=0),B.hiLevel|=ae}s&&(function(me,ue,H){for(var j=0;j<H;j++)if(me[j]==="S"){ue[j]=P;for(var ge=j-1;ge>=0&&me[ge]==="WS";ge--)ue[ge]=P}})(se,D,Ue)},C=function(W,D,B,F,ve){if(!(ve.hiLevel<W)){if(W===1&&P===1&&!i)return D.reverse(),void(B&&B.reverse());for(var ce,ae,_e,xe,Ue=D.length,re=0;re<Ue;){if(F[re]>=W){for(_e=re+1;_e<Ue&&F[_e]>=W;)_e++;for(xe=re,ae=_e-1;xe<ae;xe++,ae--)ce=D[xe],D[xe]=D[ae],D[ae]=ce,B&&(ce=B[xe],B[xe]=B[ae],B[ae]=ce);re=_e}re++}}},X=function(W,D,B){var F=W.split(""),ve={hiLevel:P};return B||(B=[]),G(F,B,ve),(function(ce,ae,_e){if(_e.hiLevel!==0&&d)for(var xe,Ue=0;Ue<ce.length;Ue++)ae[Ue]===1&&(xe=R.indexOf(ce[Ue]))>=0&&(ce[Ue]=R[xe+1])})(F,B,ve),C(2,F,D,B,ve),C(1,F,D,B,ve),F.join("")};return this.__bidiEngine__.doBidiReorder=function(W,D,B){if((function(ve,ce){if(ce)for(var ae=0;ae<ve.length;ae++)ce[ae]=ae;u===void 0&&(u=$(ve)),f===void 0&&(f=$(ve))})(W,D),l||!c||f)if(l&&c&&u^f)P=u?1:0,W=V(W,D,B);else if(!l&&c&&f)P=u?1:0,W=X(W,D,B),W=V(W,D);else if(!l||u||c||f){if(l&&!c&&u^f)W=V(W,D),u?(P=0,W=X(W,D,B)):(P=1,W=X(W,D,B),W=V(W,D));else if(l&&u&&!c&&f)P=1,W=X(W,D,B),W=V(W,D);else if(!l&&!c&&u^f){var F=d;u?(P=1,W=X(W,D,B),P=0,d=!1,W=X(W,D,B),d=F):(P=0,W=X(W,D,B),W=V(W,D),P=1,d=!1,W=X(W,D,B),d=F,W=V(W,D))}}else P=0,W=X(W,D,B);else P=u?1:0,W=X(W,D,B);return W},this.__bidiEngine__.setOptions=function(W){W&&(l=W.isInputVisual,c=W.isOutputVisual,u=W.isInputRtl,f=W.isOutputRtl,d=W.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var l=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(l=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?l.push([n.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):l.push([n.doBidiReorder(i[u])]);r.text=l}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(ln),ln.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new fc(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new OV(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new EV(this.contents),this.head=new SV(this),this.name=new IV(this),this.cmap=new VN(this),this.toUnicode={},this.hhea=new xV(this),this.maxp=new RV(this),this.hmtx=new kV(this),this.post=new CV(this),this.os2=new TV(this),this.loca=new MV(this),this.glyf=new LV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,u,c,f;for(f=[],l=0,u=(c=this.bbox).length;l<u;l++)e=c[l],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,l,u;for(l=0,s=0,u=(e=""+e).length;0<=u?s<u:s>u;s=0<=u?++s:--s)i=e.charCodeAt(s),l+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return l*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var tl,fc=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,l,u,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),l=this.readByte(),u=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^l)+256*(255^u)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*l+256*u+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t})(),EV=(function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,l,u,c,f,d,g,y,m,x,S;for(S in m=Object.keys(n).length,c=Math.log(2),g=16*Math.floor(Math.log(m)/c),l=Math.floor(g/c),d=16*m-g,(i=new fc).writeInt(this.scalarType),i.writeShort(m),i.writeShort(g),i.writeShort(l),i.writeShort(d),s=16*m,f=i.pos+s,u=null,x=[],n)for(y=n[S],i.writeString(S),i.writeInt(t(y)),i.writeInt(f),i.writeInt(y.length),x=x.concat(y),S==="head"&&(u=f),f+=y.length;f%4;)x.push(0),f++;return i.write(x),r=2981146554-t(i.data),i.pos=u+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,l;for(n=qN.call(n);n.length%4;)n.push(0);for(s=new fc(n),i=0,r=0,l=n.length;r<l;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),AV={}.hasOwnProperty,Ml=function(t,e){for(var n in e)AV.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};tl=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var SV=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ml(t,tl),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new fc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),wx=(function(){function t(e,n){var r,i,s,l,u,c,f,d,g,y,m,x,S,R,E,M,P;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),y=m/2,e.pos+=6,s=(function(){var N,$;for($=[],c=N=0;0<=y?N<y:N>y;c=0<=y?++N:--N)$.push(e.readUInt16());return $})(),e.pos+=2,S=(function(){var N,$;for($=[],c=N=0;0<=y?N<y:N>y;c=0<=y?++N:--N)$.push(e.readUInt16());return $})(),f=(function(){var N,$;for($=[],c=N=0;0<=y?N<y:N>y;c=0<=y?++N:--N)$.push(e.readUInt16());return $})(),d=(function(){var N,$;for($=[],c=N=0;0<=y?N<y:N>y;c=0<=y?++N:--N)$.push(e.readUInt16());return $})(),i=(this.length-e.pos+this.offset)/2,u=(function(){var N,$;for($=[],c=N=0;0<=i?N<i:N>i;c=0<=i?++N:--N)$.push(e.readUInt16());return $})(),c=E=0,P=s.length;E<P;c=++E)for(R=s[c],r=M=x=S[c];x<=R?M<=R:M>=R;r=x<=R?++M:--M)d[c]===0?l=r+f[c]:(l=u[d[c]/2+(r-x)-(y-c)]||0)!==0&&(l+=f[c]),this.codeMap[r]=65535&l}e.pos=g}return t.encode=function(e,n){var r,i,s,l,u,c,f,d,g,y,m,x,S,R,E,M,P,N,$,Q,V,G,C,X,W,D,B,F,ve,ce,ae,_e,xe,Ue,re,O,ee,se,me,ue,H,j,ge,he,le,pe;switch(F=new fc,l=Object.keys(e).sort(function(De,z){return De-z}),n){case"macroman":for(S=0,R=(function(){var De=[];for(x=0;x<256;++x)De.push(0);return De})(),M={0:0},s={},ve=0,xe=l.length;ve<xe;ve++)M[ge=e[i=l[ve]]]==null&&(M[ge]=++S),s[i]={old:e[i],new:M[e[i]]},R[i]=M[e[i]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(R),{charMap:s,subtable:F.data,maxGlyphID:S+1};case"unicode":for(D=[],g=[],P=0,M={},r={},E=f=null,ce=0,Ue=l.length;ce<Ue;ce++)M[$=e[i=l[ce]]]==null&&(M[$]=++P),r[i]={old:$,new:M[$]},u=M[$]-i,E!=null&&u===f||(E&&g.push(E),D.push(i),f=u),E=i;for(E&&g.push(E),g.push(65535),D.push(65535),X=2*(C=D.length),G=2*Math.pow(Math.log(C)/Math.LN2,2),y=Math.log(G/2)/Math.LN2,V=2*C-G,c=[],Q=[],m=[],x=ae=0,re=D.length;ae<re;x=++ae){if(W=D[x],d=g[x],W===65535){c.push(0),Q.push(0);break}if(W-(B=r[W].new)>=32768)for(c.push(0),Q.push(2*(m.length+C-x)),i=_e=W;W<=d?_e<=d:_e>=d;i=W<=d?++_e:--_e)m.push(r[i].new);else c.push(B-W),Q.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*C+2*m.length),F.writeUInt16(0),F.writeUInt16(X),F.writeUInt16(G),F.writeUInt16(y),F.writeUInt16(V),H=0,O=g.length;H<O;H++)i=g[H],F.writeUInt16(i);for(F.writeUInt16(0),j=0,ee=D.length;j<ee;j++)i=D[j],F.writeUInt16(i);for(he=0,se=c.length;he<se;he++)u=c[he],F.writeUInt16(u);for(le=0,me=Q.length;le<me;le++)N=Q[le],F.writeUInt16(N);for(pe=0,ue=m.length;pe<ue;pe++)S=m[pe],F.writeUInt16(S);return{charMap:r,subtable:F.data,maxGlyphID:P+1}}},t})(),VN=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ml(t,tl),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new wx(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=wx.encode(e,n),(i=new fc).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t})(),xV=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ml(t,tl),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),TV=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ml(t,tl),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),CV=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ml(t,tl),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var l,u,c;for(c=[],s=l=0,u=this.file.maxp.numGlyphs;0<=u?l<u:l>u;s=0<=u?++l:--l)c.push(e.readUInt32());return c}).call(this)}},t})(),NV=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},IV=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ml(t,tl),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,l,u,c,f,d,g,y;for(e.pos=this.offset,e.readShort(),n=e.readShort(),u=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(c={},s=d=0,g=r.length;d<g;s=++d)i=r[s],e.pos=i.offset,f=e.readString(i.length),l=new NV(f,i),c[y=i.nameID]==null&&(c[y]=[]),c[i.nameID].push(l);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),RV=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ml(t,tl),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),kV=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ml(t,tl),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,l,u,c;for(e.pos=this.offset,this.metrics=[],n=0,u=this.file.hhea.numberOfMetrics;0<=u?n<u:n>u;n=0<=u?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,d;for(d=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)d.push(e.readInt16());return d})(),this.widths=(function(){var f,d,g,y;for(y=[],f=0,d=(g=this.metrics).length;f<d;f++)s=g[f],y.push(s.advance);return y}).call(this),r=this.widths[this.widths.length-1],c=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)c.push(this.widths.push(r));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),qN=[].slice,LV=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ml(t,tl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,l,u,c,f,d,g;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,l=(u=new fc(n.read(i))).readShort(),f=u.readShort(),g=u.readShort(),c=u.readShort(),d=u.readShort(),this.cache[e]=l===-1?new PV(u,f,g,c,d):new DV(u,l,f,g,c,d),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,l,u,c;for(l=[],s=[],u=0,c=n.length;u<c;u++)i=e[n[u]],s.push(l.length),i&&(l=l.concat(i.encode(r)));return s.push(l.length),{table:l,offsets:s}},t})(),DV=(function(){function t(e,n,r,i,s,l){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=l,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),PV=(function(){function t(e,n,r,i,s){var l,u;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;u=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&u;)l.pos+=1&u?4:2,128&u?l.pos+=8:64&u?l.pos+=4:8&u&&(l.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new fc(qN.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),MV=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ml(t,tl),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,l=0;l<r.length;++l)if(r[l]=i,s<n.length&&n[s]==l){++s,r[l]=i;var u=this.offsets[l],c=this.offsets[l+1]-u;c>0&&(i+=c)}for(var f=new Array(4*r.length),d=0;d<r.length;++d)f[4*d+3]=255&r[d],f[4*d+2]=(65280&r[d])>>8,f[4*d+1]=(16711680&r[d])>>16,f[4*d]=(4278190080&r[d])>>24;return f},t})(),OV=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,l,u,c;for(i={},l=0,u=e.length;l<u;l++)i[s=e[l]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in c=this.glyphsFor(n))r=c[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,l,u,c,f,d,g,y,m,x,S,R,E;for(i in r=VN.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),m={0:0},E=r.charMap)m[(c=E[i]).old]=c.new;for(x in y=r.maxGlyphID,l)x in m||(m[x]=y++);return d=(function(M){var P,N;for(P in N={},M)N[M[P]]=P;return N})(m),g=Object.keys(d).sort(function(M,P){return M-P}),S=(function(){var M,P,N;for(N=[],M=0,P=g.length;M<P;M++)u=g[M],N.push(d[u]);return N})(),s=this.font.glyf.encode(l,S,m),f=this.font.loca.encode(s.offsets,S),R={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(R["OS/2"]=this.font.os2.raw()),this.font.directory.encode(R)},t})();ln.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,l;if(Array.isArray(n))return"["+(function(){var u,c,f;for(f=[],u=0,c=n.length;u<c;u++)r=n[u],f.push(e.convert(r));return f})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)l=n[i],s.push("/"+i+" "+e.convert(l));return s.push(">>"),s.join(`
`)}return""+n},e})();var FV=Object.defineProperty,UV=Object.defineProperties,BV=Object.getOwnPropertyDescriptors,_x=Object.getOwnPropertySymbols,VV=Object.prototype.hasOwnProperty,qV=Object.prototype.propertyIsEnumerable,X2=(t,e,n)=>e in t?FV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zn=(t,e)=>{for(var n in e||(e={}))VV.call(e,n)&&X2(t,n,e[n]);if(_x)for(var n of _x(e))qV.call(e,n)&&X2(t,n,e[n]);return t},gu=(t,e)=>UV(t,BV(e)),st=(t,e,n)=>X2(t,typeof e!="symbol"?e+"":e,n),zV=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{u(n.next(c))}catch(f){i(f)}},l=c=>{try{u(n.throw(c))}catch(f){i(f)}},u=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,l);u((n=n.apply(t,e)).next())});class Ig{constructor(e){st(this,"rootKey"),this.rootKey=e}}const HV=Object.seal({});class at extends Ig{constructor(e){super(e),st(this,"root"),this.root=new Array}prepForXml(e){var n;e.stack.push(this);const r=this.root.map(i=>i instanceof Ig?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:r.length?r.length===1&&((n=r[0])!=null&&n._attr)?r[0]:r:HV}}addChildElement(e){return this.root.push(e),this}}class Au extends at{prepForXml(e){const n=super.prepForXml(e);if(n&&(typeof n[this.rootKey]!="object"||Object.keys(n[this.rootKey]).length))return n}}class Wt extends Ig{constructor(e){super("_attr"),st(this,"xmlKeys"),this.root=e}prepForXml(e){const n={};return Object.entries(this.root).forEach(([r,i])=>{if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[r]||r;n[s]=i}}),{_attr:n}}}class Su extends Ig{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:r})=>r!==void 0).reduce((r,{key:i,value:s})=>gu(zn({},r),{[i]:s}),{})}}}class Di extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var y1={},Om={exports:{}},bx;function jw(){if(bx)return Om.exports;bx=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function($,Q,V){return Function.prototype.apply.call($,Q,V)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function($){return Object.getOwnPropertyNames($).concat(Object.getOwnPropertySymbols($))}:n=function($){return Object.getOwnPropertyNames($)};function r(N){console&&console.warn&&console.warn(N)}var i=Number.isNaN||function($){return $!==$};function s(){s.init.call(this)}Om.exports=s,Om.exports.once=E,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(N){if(typeof N!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(N){if(typeof N!="number"||N<0||i(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");l=N}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function($){if(typeof $!="number"||$<0||i($))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+$+".");return this._maxListeners=$,this};function c(N){return N._maxListeners===void 0?s.defaultMaxListeners:N._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function($){for(var Q=[],V=1;V<arguments.length;V++)Q.push(arguments[V]);var G=$==="error",C=this._events;if(C!==void 0)G=G&&C.error===void 0;else if(!G)return!1;if(G){var X;if(Q.length>0&&(X=Q[0]),X instanceof Error)throw X;var W=new Error("Unhandled error."+(X?" ("+X.message+")":""));throw W.context=X,W}var D=C[$];if(D===void 0)return!1;if(typeof D=="function")e(D,this,Q);else for(var B=D.length,F=x(D,B),V=0;V<B;++V)e(F[V],this,Q);return!0};function f(N,$,Q,V){var G,C,X;if(u(Q),C=N._events,C===void 0?(C=N._events=Object.create(null),N._eventsCount=0):(C.newListener!==void 0&&(N.emit("newListener",$,Q.listener?Q.listener:Q),C=N._events),X=C[$]),X===void 0)X=C[$]=Q,++N._eventsCount;else if(typeof X=="function"?X=C[$]=V?[Q,X]:[X,Q]:V?X.unshift(Q):X.push(Q),G=c(N),G>0&&X.length>G&&!X.warned){X.warned=!0;var W=new Error("Possible EventEmitter memory leak detected. "+X.length+" "+String($)+" listeners added. Use emitter.setMaxListeners() to increase limit");W.name="MaxListenersExceededWarning",W.emitter=N,W.type=$,W.count=X.length,r(W)}return N}s.prototype.addListener=function($,Q){return f(this,$,Q,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function($,Q){return f(this,$,Q,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(N,$,Q){var V={fired:!1,wrapFn:void 0,target:N,type:$,listener:Q},G=d.bind(V);return G.listener=Q,V.wrapFn=G,G}s.prototype.once=function($,Q){return u(Q),this.on($,g(this,$,Q)),this},s.prototype.prependOnceListener=function($,Q){return u(Q),this.prependListener($,g(this,$,Q)),this},s.prototype.removeListener=function($,Q){var V,G,C,X,W;if(u(Q),G=this._events,G===void 0)return this;if(V=G[$],V===void 0)return this;if(V===Q||V.listener===Q)--this._eventsCount===0?this._events=Object.create(null):(delete G[$],G.removeListener&&this.emit("removeListener",$,V.listener||Q));else if(typeof V!="function"){for(C=-1,X=V.length-1;X>=0;X--)if(V[X]===Q||V[X].listener===Q){W=V[X].listener,C=X;break}if(C<0)return this;C===0?V.shift():S(V,C),V.length===1&&(G[$]=V[0]),G.removeListener!==void 0&&this.emit("removeListener",$,W||Q)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function($){var Q,V,G;if(V=this._events,V===void 0)return this;if(V.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):V[$]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete V[$]),this;if(arguments.length===0){var C=Object.keys(V),X;for(G=0;G<C.length;++G)X=C[G],X!=="removeListener"&&this.removeAllListeners(X);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(Q=V[$],typeof Q=="function")this.removeListener($,Q);else if(Q!==void 0)for(G=Q.length-1;G>=0;G--)this.removeListener($,Q[G]);return this};function y(N,$,Q){var V=N._events;if(V===void 0)return[];var G=V[$];return G===void 0?[]:typeof G=="function"?Q?[G.listener||G]:[G]:Q?R(G):x(G,G.length)}s.prototype.listeners=function($){return y(this,$,!0)},s.prototype.rawListeners=function($){return y(this,$,!1)},s.listenerCount=function(N,$){return typeof N.listenerCount=="function"?N.listenerCount($):m.call(N,$)},s.prototype.listenerCount=m;function m(N){var $=this._events;if($!==void 0){var Q=$[N];if(typeof Q=="function")return 1;if(Q!==void 0)return Q.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function x(N,$){for(var Q=new Array($),V=0;V<$;++V)Q[V]=N[V];return Q}function S(N,$){for(;$+1<N.length;$++)N[$]=N[$+1];N.pop()}function R(N){for(var $=new Array(N.length),Q=0;Q<$.length;++Q)$[Q]=N[Q].listener||N[Q];return $}function E(N,$){return new Promise(function(Q,V){function G(X){N.removeListener($,C),V(X)}function C(){typeof N.removeListener=="function"&&N.removeListener("error",G),Q([].slice.call(arguments))}P(N,$,C,{once:!0}),$!=="error"&&M(N,G,{once:!0})})}function M(N,$,Q){typeof N.on=="function"&&P(N,"error",$,Q)}function P(N,$,Q,V){if(typeof N.on=="function")V.once?N.once($,Q):N.on($,Q);else if(typeof N.addEventListener=="function")N.addEventListener($,function G(C){V.once&&N.removeEventListener($,G),Q(C)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N)}return Om.exports}var Fm={exports:{}},Ex;function bc(){return Ex||(Ex=1,typeof Object.create=="function"?Fm.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Fm.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}),Fm.exports}function GV(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zN={exports:{}},Hi=zN.exports={},xl,Tl;function Q2(){throw new Error("setTimeout has not been defined")}function Z2(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?xl=setTimeout:xl=Q2}catch{xl=Q2}try{typeof clearTimeout=="function"?Tl=clearTimeout:Tl=Z2}catch{Tl=Z2}})();function HN(t){if(xl===setTimeout)return setTimeout(t,0);if((xl===Q2||!xl)&&setTimeout)return xl=setTimeout,setTimeout(t,0);try{return xl(t,0)}catch{try{return xl.call(null,t,0)}catch{return xl.call(this,t,0)}}}function jV(t){if(Tl===clearTimeout)return clearTimeout(t);if((Tl===Z2||!Tl)&&clearTimeout)return Tl=clearTimeout,clearTimeout(t);try{return Tl(t)}catch{try{return Tl.call(null,t)}catch{return Tl.call(this,t)}}}var du=[],Eh=!1,Jc,fg=-1;function $V(){!Eh||!Jc||(Eh=!1,Jc.length?du=Jc.concat(du):fg=-1,du.length&&GN())}function GN(){if(!Eh){var t=HN($V);Eh=!0;for(var e=du.length;e;){for(Jc=du,du=[];++fg<e;)Jc&&Jc[fg].run();fg=-1,e=du.length}Jc=null,Eh=!1,jV(t)}}Hi.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];du.push(new jN(t,e)),du.length===1&&!Eh&&HN(GN)};function jN(t,e){this.fun=t,this.array=e}jN.prototype.run=function(){this.fun.apply(null,this.array)};Hi.title="browser";Hi.browser=!0;Hi.env={};Hi.argv=[];Hi.version="";Hi.versions={};function xu(){}Hi.on=xu;Hi.addListener=xu;Hi.once=xu;Hi.off=xu;Hi.removeListener=xu;Hi.removeAllListeners=xu;Hi.emit=xu;Hi.prependListener=xu;Hi.prependOnceListener=xu;Hi.listeners=function(t){return[]};Hi.binding=function(t){throw new Error("process.binding is not supported")};Hi.cwd=function(){return"/"};Hi.chdir=function(t){throw new Error("process.chdir is not supported")};Hi.umask=function(){return 0};var WV=zN.exports;const jn=GV(WV);var v1,Ax;function $N(){return Ax||(Ax=1,v1=jw().EventEmitter),v1}var w1={},Fd={},Sx;function KV(){if(Sx)return Fd;Sx=1,Fd.byteLength=u,Fd.toByteArray=f,Fd.fromByteArray=y;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function l(m){var x=m.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=m.indexOf("=");S===-1&&(S=x);var R=S===x?0:4-S%4;return[S,R]}function u(m){var x=l(m),S=x[0],R=x[1];return(S+R)*3/4-R}function c(m,x,S){return(x+S)*3/4-S}function f(m){var x,S=l(m),R=S[0],E=S[1],M=new n(c(m,R,E)),P=0,N=E>0?R-4:R,$;for($=0;$<N;$+=4)x=e[m.charCodeAt($)]<<18|e[m.charCodeAt($+1)]<<12|e[m.charCodeAt($+2)]<<6|e[m.charCodeAt($+3)],M[P++]=x>>16&255,M[P++]=x>>8&255,M[P++]=x&255;return E===2&&(x=e[m.charCodeAt($)]<<2|e[m.charCodeAt($+1)]>>4,M[P++]=x&255),E===1&&(x=e[m.charCodeAt($)]<<10|e[m.charCodeAt($+1)]<<4|e[m.charCodeAt($+2)]>>2,M[P++]=x>>8&255,M[P++]=x&255),M}function d(m){return t[m>>18&63]+t[m>>12&63]+t[m>>6&63]+t[m&63]}function g(m,x,S){for(var R,E=[],M=x;M<S;M+=3)R=(m[M]<<16&16711680)+(m[M+1]<<8&65280)+(m[M+2]&255),E.push(d(R));return E.join("")}function y(m){for(var x,S=m.length,R=S%3,E=[],M=16383,P=0,N=S-R;P<N;P+=M)E.push(g(m,P,P+M>N?N:P+M));return R===1?(x=m[S-1],E.push(t[x>>2]+t[x<<4&63]+"==")):R===2&&(x=(m[S-2]<<8)+m[S-1],E.push(t[x>>10]+t[x>>4&63]+t[x<<2&63]+"=")),E.join("")}return Fd}var Um={};var xx;function YV(){return xx||(xx=1,Um.read=function(t,e,n,r,i){var s,l,u=i*8-r-1,c=(1<<u)-1,f=c>>1,d=-7,g=n?i-1:0,y=n?-1:1,m=t[e+g];for(g+=y,s=m&(1<<-d)-1,m>>=-d,d+=u;d>0;s=s*256+t[e+g],g+=y,d-=8);for(l=s&(1<<-d)-1,s>>=-d,d+=r;d>0;l=l*256+t[e+g],g+=y,d-=8);if(s===0)s=1-f;else{if(s===c)return l?NaN:(m?-1:1)*(1/0);l=l+Math.pow(2,r),s=s-f}return(m?-1:1)*l*Math.pow(2,s-r)},Um.write=function(t,e,n,r,i,s){var l,u,c,f=s*8-i-1,d=(1<<f)-1,g=d>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:s-1,x=r?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,l=d):(l=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-l))<1&&(l--,c*=2),l+g>=1?e+=y/c:e+=y*Math.pow(2,1-g),e*c>=2&&(l++,c/=2),l+g>=d?(u=0,l=d):l+g>=1?(u=(e*c-1)*Math.pow(2,i),l=l+g):(u=e*Math.pow(2,g-1)*Math.pow(2,i),l=0));i>=8;t[n+m]=u&255,m+=x,u/=256,i-=8);for(l=l<<i|u,f+=i;f>0;t[n+m]=l&255,m+=x,l/=256,f-=8);t[n+m-x]|=S*128}),Um}var Tx;function Xg(){return Tx||(Tx=1,(function(t){var e=KV(),n=YV(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=M,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,u.TYPED_ARRAY_SUPPORT=s(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var Y=new Uint8Array(1),I={foo:function(){return 42}};return Object.setPrototypeOf(I,Uint8Array.prototype),Object.setPrototypeOf(Y,I),Y.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function l(Y){if(Y>i)throw new RangeError('The value "'+Y+'" is invalid for option "size"');var I=new Uint8Array(Y);return Object.setPrototypeOf(I,u.prototype),I}function u(Y,I,L){if(typeof Y=="number"){if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(Y)}return c(Y,I,L)}u.poolSize=8192;function c(Y,I,L){if(typeof Y=="string")return y(Y,I);if(ArrayBuffer.isView(Y))return x(Y);if(Y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y);if(De(Y,ArrayBuffer)||Y&&De(Y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(De(Y,SharedArrayBuffer)||Y&&De(Y.buffer,SharedArrayBuffer)))return S(Y,I,L);if(typeof Y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var q=Y.valueOf&&Y.valueOf();if(q!=null&&q!==Y)return u.from(q,I,L);var ye=R(Y);if(ye)return ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Y[Symbol.toPrimitive]=="function")return u.from(Y[Symbol.toPrimitive]("string"),I,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y)}u.from=function(Y,I,L){return c(Y,I,L)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function f(Y){if(typeof Y!="number")throw new TypeError('"size" argument must be of type number');if(Y<0)throw new RangeError('The value "'+Y+'" is invalid for option "size"')}function d(Y,I,L){return f(Y),Y<=0?l(Y):I!==void 0?typeof L=="string"?l(Y).fill(I,L):l(Y).fill(I):l(Y)}u.alloc=function(Y,I,L){return d(Y,I,L)};function g(Y){return f(Y),l(Y<0?0:E(Y)|0)}u.allocUnsafe=function(Y){return g(Y)},u.allocUnsafeSlow=function(Y){return g(Y)};function y(Y,I){if((typeof I!="string"||I==="")&&(I="utf8"),!u.isEncoding(I))throw new TypeError("Unknown encoding: "+I);var L=P(Y,I)|0,q=l(L),ye=q.write(Y,I);return ye!==L&&(q=q.slice(0,ye)),q}function m(Y){for(var I=Y.length<0?0:E(Y.length)|0,L=l(I),q=0;q<I;q+=1)L[q]=Y[q]&255;return L}function x(Y){if(De(Y,Uint8Array)){var I=new Uint8Array(Y);return S(I.buffer,I.byteOffset,I.byteLength)}return m(Y)}function S(Y,I,L){if(I<0||Y.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(Y.byteLength<I+(L||0))throw new RangeError('"length" is outside of buffer bounds');var q;return I===void 0&&L===void 0?q=new Uint8Array(Y):L===void 0?q=new Uint8Array(Y,I):q=new Uint8Array(Y,I,L),Object.setPrototypeOf(q,u.prototype),q}function R(Y){if(u.isBuffer(Y)){var I=E(Y.length)|0,L=l(I);return L.length===0||Y.copy(L,0,0,I),L}if(Y.length!==void 0)return typeof Y.length!="number"||z(Y.length)?l(0):m(Y);if(Y.type==="Buffer"&&Array.isArray(Y.data))return m(Y.data)}function E(Y){if(Y>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return Y|0}function M(Y){return+Y!=Y&&(Y=0),u.alloc(+Y)}u.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==u.prototype},u.compare=function(I,L){if(De(I,Uint8Array)&&(I=u.from(I,I.offset,I.byteLength)),De(L,Uint8Array)&&(L=u.from(L,L.offset,L.byteLength)),!u.isBuffer(I)||!u.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===L)return 0;for(var q=I.length,ye=L.length,Ce=0,Ae=Math.min(q,ye);Ce<Ae;++Ce)if(I[Ce]!==L[Ce]){q=I[Ce],ye=L[Ce];break}return q<ye?-1:ye<q?1:0},u.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(I,L){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return u.alloc(0);var q;if(L===void 0)for(L=0,q=0;q<I.length;++q)L+=I[q].length;var ye=u.allocUnsafe(L),Ce=0;for(q=0;q<I.length;++q){var Ae=I[q];if(De(Ae,Uint8Array))Ce+Ae.length>ye.length?u.from(Ae).copy(ye,Ce):Uint8Array.prototype.set.call(ye,Ae,Ce);else if(u.isBuffer(Ae))Ae.copy(ye,Ce);else throw new TypeError('"list" argument must be an Array of Buffers');Ce+=Ae.length}return ye};function P(Y,I){if(u.isBuffer(Y))return Y.length;if(ArrayBuffer.isView(Y)||De(Y,ArrayBuffer))return Y.byteLength;if(typeof Y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Y);var L=Y.length,q=arguments.length>2&&arguments[2]===!0;if(!q&&L===0)return 0;for(var ye=!1;;)switch(I){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return j(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return le(Y).length;default:if(ye)return q?-1:j(Y).length;I=(""+I).toLowerCase(),ye=!0}}u.byteLength=P;function N(Y,I,L){var q=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,I>>>=0,L<=I))return"";for(Y||(Y="utf8");;)switch(Y){case"hex":return xe(this,I,L);case"utf8":case"utf-8":return F(this,I,L);case"ascii":return ae(this,I,L);case"latin1":case"binary":return _e(this,I,L);case"base64":return B(this,I,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ue(this,I,L);default:if(q)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),q=!0}}u.prototype._isBuffer=!0;function $(Y,I,L){var q=Y[I];Y[I]=Y[L],Y[L]=q}u.prototype.swap16=function(){var I=this.length;if(I%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var L=0;L<I;L+=2)$(this,L,L+1);return this},u.prototype.swap32=function(){var I=this.length;if(I%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var L=0;L<I;L+=4)$(this,L,L+3),$(this,L+1,L+2);return this},u.prototype.swap64=function(){var I=this.length;if(I%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var L=0;L<I;L+=8)$(this,L,L+7),$(this,L+1,L+6),$(this,L+2,L+5),$(this,L+3,L+4);return this},u.prototype.toString=function(){var I=this.length;return I===0?"":arguments.length===0?F(this,0,I):N.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(I){if(!u.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I?!0:u.compare(this,I)===0},u.prototype.inspect=function(){var I="",L=t.INSPECT_MAX_BYTES;return I=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(I+=" ... "),"<Buffer "+I+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(I,L,q,ye,Ce){if(De(I,Uint8Array)&&(I=u.from(I,I.offset,I.byteLength)),!u.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(L===void 0&&(L=0),q===void 0&&(q=I?I.length:0),ye===void 0&&(ye=0),Ce===void 0&&(Ce=this.length),L<0||q>I.length||ye<0||Ce>this.length)throw new RangeError("out of range index");if(ye>=Ce&&L>=q)return 0;if(ye>=Ce)return-1;if(L>=q)return 1;if(L>>>=0,q>>>=0,ye>>>=0,Ce>>>=0,this===I)return 0;for(var Ae=Ce-ye,Oe=q-L,We=Math.min(Ae,Oe),He=this.slice(ye,Ce),Ze=I.slice(L,q),_t=0;_t<We;++_t)if(He[_t]!==Ze[_t]){Ae=He[_t],Oe=Ze[_t];break}return Ae<Oe?-1:Oe<Ae?1:0};function Q(Y,I,L,q,ye){if(Y.length===0)return-1;if(typeof L=="string"?(q=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,z(L)&&(L=ye?0:Y.length-1),L<0&&(L=Y.length+L),L>=Y.length){if(ye)return-1;L=Y.length-1}else if(L<0)if(ye)L=0;else return-1;if(typeof I=="string"&&(I=u.from(I,q)),u.isBuffer(I))return I.length===0?-1:V(Y,I,L,q,ye);if(typeof I=="number")return I=I&255,typeof Uint8Array.prototype.indexOf=="function"?ye?Uint8Array.prototype.indexOf.call(Y,I,L):Uint8Array.prototype.lastIndexOf.call(Y,I,L):V(Y,[I],L,q,ye);throw new TypeError("val must be string, number or Buffer")}function V(Y,I,L,q,ye){var Ce=1,Ae=Y.length,Oe=I.length;if(q!==void 0&&(q=String(q).toLowerCase(),q==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(Y.length<2||I.length<2)return-1;Ce=2,Ae/=2,Oe/=2,L/=2}function We(Nt,Ft){return Ce===1?Nt[Ft]:Nt.readUInt16BE(Ft*Ce)}var He;if(ye){var Ze=-1;for(He=L;He<Ae;He++)if(We(Y,He)===We(I,Ze===-1?0:He-Ze)){if(Ze===-1&&(Ze=He),He-Ze+1===Oe)return Ze*Ce}else Ze!==-1&&(He-=He-Ze),Ze=-1}else for(L+Oe>Ae&&(L=Ae-Oe),He=L;He>=0;He--){for(var _t=!0,xt=0;xt<Oe;xt++)if(We(Y,He+xt)!==We(I,xt)){_t=!1;break}if(_t)return He}return-1}u.prototype.includes=function(I,L,q){return this.indexOf(I,L,q)!==-1},u.prototype.indexOf=function(I,L,q){return Q(this,I,L,q,!0)},u.prototype.lastIndexOf=function(I,L,q){return Q(this,I,L,q,!1)};function G(Y,I,L,q){L=Number(L)||0;var ye=Y.length-L;q?(q=Number(q),q>ye&&(q=ye)):q=ye;var Ce=I.length;q>Ce/2&&(q=Ce/2);for(var Ae=0;Ae<q;++Ae){var Oe=parseInt(I.substr(Ae*2,2),16);if(z(Oe))return Ae;Y[L+Ae]=Oe}return Ae}function C(Y,I,L,q){return pe(j(I,Y.length-L),Y,L,q)}function X(Y,I,L,q){return pe(ge(I),Y,L,q)}function W(Y,I,L,q){return pe(le(I),Y,L,q)}function D(Y,I,L,q){return pe(he(I,Y.length-L),Y,L,q)}u.prototype.write=function(I,L,q,ye){if(L===void 0)ye="utf8",q=this.length,L=0;else if(q===void 0&&typeof L=="string")ye=L,q=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(q)?(q=q>>>0,ye===void 0&&(ye="utf8")):(ye=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ce=this.length-L;if((q===void 0||q>Ce)&&(q=Ce),I.length>0&&(q<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");for(var Ae=!1;;)switch(ye){case"hex":return G(this,I,L,q);case"utf8":case"utf-8":return C(this,I,L,q);case"ascii":case"latin1":case"binary":return X(this,I,L,q);case"base64":return W(this,I,L,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,I,L,q);default:if(Ae)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),Ae=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(Y,I,L){return I===0&&L===Y.length?e.fromByteArray(Y):e.fromByteArray(Y.slice(I,L))}function F(Y,I,L){L=Math.min(Y.length,L);for(var q=[],ye=I;ye<L;){var Ce=Y[ye],Ae=null,Oe=Ce>239?4:Ce>223?3:Ce>191?2:1;if(ye+Oe<=L){var We,He,Ze,_t;switch(Oe){case 1:Ce<128&&(Ae=Ce);break;case 2:We=Y[ye+1],(We&192)===128&&(_t=(Ce&31)<<6|We&63,_t>127&&(Ae=_t));break;case 3:We=Y[ye+1],He=Y[ye+2],(We&192)===128&&(He&192)===128&&(_t=(Ce&15)<<12|(We&63)<<6|He&63,_t>2047&&(_t<55296||_t>57343)&&(Ae=_t));break;case 4:We=Y[ye+1],He=Y[ye+2],Ze=Y[ye+3],(We&192)===128&&(He&192)===128&&(Ze&192)===128&&(_t=(Ce&15)<<18|(We&63)<<12|(He&63)<<6|Ze&63,_t>65535&&_t<1114112&&(Ae=_t))}}Ae===null?(Ae=65533,Oe=1):Ae>65535&&(Ae-=65536,q.push(Ae>>>10&1023|55296),Ae=56320|Ae&1023),q.push(Ae),ye+=Oe}return ce(q)}var ve=4096;function ce(Y){var I=Y.length;if(I<=ve)return String.fromCharCode.apply(String,Y);for(var L="",q=0;q<I;)L+=String.fromCharCode.apply(String,Y.slice(q,q+=ve));return L}function ae(Y,I,L){var q="";L=Math.min(Y.length,L);for(var ye=I;ye<L;++ye)q+=String.fromCharCode(Y[ye]&127);return q}function _e(Y,I,L){var q="";L=Math.min(Y.length,L);for(var ye=I;ye<L;++ye)q+=String.fromCharCode(Y[ye]);return q}function xe(Y,I,L){var q=Y.length;(!I||I<0)&&(I=0),(!L||L<0||L>q)&&(L=q);for(var ye="",Ce=I;Ce<L;++Ce)ye+=Z[Y[Ce]];return ye}function Ue(Y,I,L){for(var q=Y.slice(I,L),ye="",Ce=0;Ce<q.length-1;Ce+=2)ye+=String.fromCharCode(q[Ce]+q[Ce+1]*256);return ye}u.prototype.slice=function(I,L){var q=this.length;I=~~I,L=L===void 0?q:~~L,I<0?(I+=q,I<0&&(I=0)):I>q&&(I=q),L<0?(L+=q,L<0&&(L=0)):L>q&&(L=q),L<I&&(L=I);var ye=this.subarray(I,L);return Object.setPrototypeOf(ye,u.prototype),ye};function re(Y,I,L){if(Y%1!==0||Y<0)throw new RangeError("offset is not uint");if(Y+I>L)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(I,L,q){I=I>>>0,L=L>>>0,q||re(I,L,this.length);for(var ye=this[I],Ce=1,Ae=0;++Ae<L&&(Ce*=256);)ye+=this[I+Ae]*Ce;return ye},u.prototype.readUintBE=u.prototype.readUIntBE=function(I,L,q){I=I>>>0,L=L>>>0,q||re(I,L,this.length);for(var ye=this[I+--L],Ce=1;L>0&&(Ce*=256);)ye+=this[I+--L]*Ce;return ye},u.prototype.readUint8=u.prototype.readUInt8=function(I,L){return I=I>>>0,L||re(I,1,this.length),this[I]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(I,L){return I=I>>>0,L||re(I,2,this.length),this[I]|this[I+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(I,L){return I=I>>>0,L||re(I,2,this.length),this[I]<<8|this[I+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(I,L){return I=I>>>0,L||re(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+this[I+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(I,L){return I=I>>>0,L||re(I,4,this.length),this[I]*16777216+(this[I+1]<<16|this[I+2]<<8|this[I+3])},u.prototype.readIntLE=function(I,L,q){I=I>>>0,L=L>>>0,q||re(I,L,this.length);for(var ye=this[I],Ce=1,Ae=0;++Ae<L&&(Ce*=256);)ye+=this[I+Ae]*Ce;return Ce*=128,ye>=Ce&&(ye-=Math.pow(2,8*L)),ye},u.prototype.readIntBE=function(I,L,q){I=I>>>0,L=L>>>0,q||re(I,L,this.length);for(var ye=L,Ce=1,Ae=this[I+--ye];ye>0&&(Ce*=256);)Ae+=this[I+--ye]*Ce;return Ce*=128,Ae>=Ce&&(Ae-=Math.pow(2,8*L)),Ae},u.prototype.readInt8=function(I,L){return I=I>>>0,L||re(I,1,this.length),this[I]&128?(255-this[I]+1)*-1:this[I]},u.prototype.readInt16LE=function(I,L){I=I>>>0,L||re(I,2,this.length);var q=this[I]|this[I+1]<<8;return q&32768?q|4294901760:q},u.prototype.readInt16BE=function(I,L){I=I>>>0,L||re(I,2,this.length);var q=this[I+1]|this[I]<<8;return q&32768?q|4294901760:q},u.prototype.readInt32LE=function(I,L){return I=I>>>0,L||re(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},u.prototype.readInt32BE=function(I,L){return I=I>>>0,L||re(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},u.prototype.readFloatLE=function(I,L){return I=I>>>0,L||re(I,4,this.length),n.read(this,I,!0,23,4)},u.prototype.readFloatBE=function(I,L){return I=I>>>0,L||re(I,4,this.length),n.read(this,I,!1,23,4)},u.prototype.readDoubleLE=function(I,L){return I=I>>>0,L||re(I,8,this.length),n.read(this,I,!0,52,8)},u.prototype.readDoubleBE=function(I,L){return I=I>>>0,L||re(I,8,this.length),n.read(this,I,!1,52,8)};function O(Y,I,L,q,ye,Ce){if(!u.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>ye||I<Ce)throw new RangeError('"value" argument is out of bounds');if(L+q>Y.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(I,L,q,ye){if(I=+I,L=L>>>0,q=q>>>0,!ye){var Ce=Math.pow(2,8*q)-1;O(this,I,L,q,Ce,0)}var Ae=1,Oe=0;for(this[L]=I&255;++Oe<q&&(Ae*=256);)this[L+Oe]=I/Ae&255;return L+q},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(I,L,q,ye){if(I=+I,L=L>>>0,q=q>>>0,!ye){var Ce=Math.pow(2,8*q)-1;O(this,I,L,q,Ce,0)}var Ae=q-1,Oe=1;for(this[L+Ae]=I&255;--Ae>=0&&(Oe*=256);)this[L+Ae]=I/Oe&255;return L+q},u.prototype.writeUint8=u.prototype.writeUInt8=function(I,L,q){return I=+I,L=L>>>0,q||O(this,I,L,1,255,0),this[L]=I&255,L+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(I,L,q){return I=+I,L=L>>>0,q||O(this,I,L,2,65535,0),this[L]=I&255,this[L+1]=I>>>8,L+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(I,L,q){return I=+I,L=L>>>0,q||O(this,I,L,2,65535,0),this[L]=I>>>8,this[L+1]=I&255,L+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(I,L,q){return I=+I,L=L>>>0,q||O(this,I,L,4,4294967295,0),this[L+3]=I>>>24,this[L+2]=I>>>16,this[L+1]=I>>>8,this[L]=I&255,L+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(I,L,q){return I=+I,L=L>>>0,q||O(this,I,L,4,4294967295,0),this[L]=I>>>24,this[L+1]=I>>>16,this[L+2]=I>>>8,this[L+3]=I&255,L+4},u.prototype.writeIntLE=function(I,L,q,ye){if(I=+I,L=L>>>0,!ye){var Ce=Math.pow(2,8*q-1);O(this,I,L,q,Ce-1,-Ce)}var Ae=0,Oe=1,We=0;for(this[L]=I&255;++Ae<q&&(Oe*=256);)I<0&&We===0&&this[L+Ae-1]!==0&&(We=1),this[L+Ae]=(I/Oe>>0)-We&255;return L+q},u.prototype.writeIntBE=function(I,L,q,ye){if(I=+I,L=L>>>0,!ye){var Ce=Math.pow(2,8*q-1);O(this,I,L,q,Ce-1,-Ce)}var Ae=q-1,Oe=1,We=0;for(this[L+Ae]=I&255;--Ae>=0&&(Oe*=256);)I<0&&We===0&&this[L+Ae+1]!==0&&(We=1),this[L+Ae]=(I/Oe>>0)-We&255;return L+q},u.prototype.writeInt8=function(I,L,q){return I=+I,L=L>>>0,q||O(this,I,L,1,127,-128),I<0&&(I=255+I+1),this[L]=I&255,L+1},u.prototype.writeInt16LE=function(I,L,q){return I=+I,L=L>>>0,q||O(this,I,L,2,32767,-32768),this[L]=I&255,this[L+1]=I>>>8,L+2},u.prototype.writeInt16BE=function(I,L,q){return I=+I,L=L>>>0,q||O(this,I,L,2,32767,-32768),this[L]=I>>>8,this[L+1]=I&255,L+2},u.prototype.writeInt32LE=function(I,L,q){return I=+I,L=L>>>0,q||O(this,I,L,4,2147483647,-2147483648),this[L]=I&255,this[L+1]=I>>>8,this[L+2]=I>>>16,this[L+3]=I>>>24,L+4},u.prototype.writeInt32BE=function(I,L,q){return I=+I,L=L>>>0,q||O(this,I,L,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[L]=I>>>24,this[L+1]=I>>>16,this[L+2]=I>>>8,this[L+3]=I&255,L+4};function ee(Y,I,L,q,ye,Ce){if(L+q>Y.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function se(Y,I,L,q,ye){return I=+I,L=L>>>0,ye||ee(Y,I,L,4),n.write(Y,I,L,q,23,4),L+4}u.prototype.writeFloatLE=function(I,L,q){return se(this,I,L,!0,q)},u.prototype.writeFloatBE=function(I,L,q){return se(this,I,L,!1,q)};function me(Y,I,L,q,ye){return I=+I,L=L>>>0,ye||ee(Y,I,L,8),n.write(Y,I,L,q,52,8),L+8}u.prototype.writeDoubleLE=function(I,L,q){return me(this,I,L,!0,q)},u.prototype.writeDoubleBE=function(I,L,q){return me(this,I,L,!1,q)},u.prototype.copy=function(I,L,q,ye){if(!u.isBuffer(I))throw new TypeError("argument should be a Buffer");if(q||(q=0),!ye&&ye!==0&&(ye=this.length),L>=I.length&&(L=I.length),L||(L=0),ye>0&&ye<q&&(ye=q),ye===q||I.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),I.length-L<ye-q&&(ye=I.length-L+q);var Ce=ye-q;return this===I&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,q,ye):Uint8Array.prototype.set.call(I,this.subarray(q,ye),L),Ce},u.prototype.fill=function(I,L,q,ye){if(typeof I=="string"){if(typeof L=="string"?(ye=L,L=0,q=this.length):typeof q=="string"&&(ye=q,q=this.length),ye!==void 0&&typeof ye!="string")throw new TypeError("encoding must be a string");if(typeof ye=="string"&&!u.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);if(I.length===1){var Ce=I.charCodeAt(0);(ye==="utf8"&&Ce<128||ye==="latin1")&&(I=Ce)}}else typeof I=="number"?I=I&255:typeof I=="boolean"&&(I=Number(I));if(L<0||this.length<L||this.length<q)throw new RangeError("Out of range index");if(q<=L)return this;L=L>>>0,q=q===void 0?this.length:q>>>0,I||(I=0);var Ae;if(typeof I=="number")for(Ae=L;Ae<q;++Ae)this[Ae]=I;else{var Oe=u.isBuffer(I)?I:u.from(I,ye),We=Oe.length;if(We===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(Ae=0;Ae<q-L;++Ae)this[Ae+L]=Oe[Ae%We]}return this};var ue=/[^+/0-9A-Za-z-_]/g;function H(Y){if(Y=Y.split("=")[0],Y=Y.trim().replace(ue,""),Y.length<2)return"";for(;Y.length%4!==0;)Y=Y+"=";return Y}function j(Y,I){I=I||1/0;for(var L,q=Y.length,ye=null,Ce=[],Ae=0;Ae<q;++Ae){if(L=Y.charCodeAt(Ae),L>55295&&L<57344){if(!ye){if(L>56319){(I-=3)>-1&&Ce.push(239,191,189);continue}else if(Ae+1===q){(I-=3)>-1&&Ce.push(239,191,189);continue}ye=L;continue}if(L<56320){(I-=3)>-1&&Ce.push(239,191,189),ye=L;continue}L=(ye-55296<<10|L-56320)+65536}else ye&&(I-=3)>-1&&Ce.push(239,191,189);if(ye=null,L<128){if((I-=1)<0)break;Ce.push(L)}else if(L<2048){if((I-=2)<0)break;Ce.push(L>>6|192,L&63|128)}else if(L<65536){if((I-=3)<0)break;Ce.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((I-=4)<0)break;Ce.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return Ce}function ge(Y){for(var I=[],L=0;L<Y.length;++L)I.push(Y.charCodeAt(L)&255);return I}function he(Y,I){for(var L,q,ye,Ce=[],Ae=0;Ae<Y.length&&!((I-=2)<0);++Ae)L=Y.charCodeAt(Ae),q=L>>8,ye=L%256,Ce.push(ye),Ce.push(q);return Ce}function le(Y){return e.toByteArray(H(Y))}function pe(Y,I,L,q){for(var ye=0;ye<q&&!(ye+L>=I.length||ye>=Y.length);++ye)I[ye+L]=Y[ye];return ye}function De(Y,I){return Y instanceof I||Y!=null&&Y.constructor!=null&&Y.constructor.name!=null&&Y.constructor.name===I.name}function z(Y){return Y!==Y}var Z=(function(){for(var Y="0123456789abcdef",I=new Array(256),L=0;L<16;++L)for(var q=L*16,ye=0;ye<16;++ye)I[q+ye]=Y[L]+Y[ye];return I})()})(w1)),w1}var _1={},b1={},E1,Cx;function WN(){return Cx||(Cx=1,E1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(e,n);if(u.value!==i||u.enumerable!==!0)return!1}return!0}),E1}var A1,Nx;function $w(){if(Nx)return A1;Nx=1;var t=WN();return A1=function(){return t()&&!!Symbol.toStringTag},A1}var S1,Ix;function KN(){return Ix||(Ix=1,S1=Object),S1}var x1,Rx;function JV(){return Rx||(Rx=1,x1=Error),x1}var T1,kx;function XV(){return kx||(kx=1,T1=EvalError),T1}var C1,Lx;function QV(){return Lx||(Lx=1,C1=RangeError),C1}var N1,Dx;function ZV(){return Dx||(Dx=1,N1=ReferenceError),N1}var I1,Px;function YN(){return Px||(Px=1,I1=SyntaxError),I1}var R1,Mx;function Qg(){return Mx||(Mx=1,R1=TypeError),R1}var k1,Ox;function eq(){return Ox||(Ox=1,k1=URIError),k1}var L1,Fx;function tq(){return Fx||(Fx=1,L1=Math.abs),L1}var D1,Ux;function nq(){return Ux||(Ux=1,D1=Math.floor),D1}var P1,Bx;function rq(){return Bx||(Bx=1,P1=Math.max),P1}var M1,Vx;function iq(){return Vx||(Vx=1,M1=Math.min),M1}var O1,qx;function sq(){return qx||(qx=1,O1=Math.pow),O1}var F1,zx;function oq(){return zx||(zx=1,F1=Math.round),F1}var U1,Hx;function aq(){return Hx||(Hx=1,U1=Number.isNaN||function(e){return e!==e}),U1}var B1,Gx;function lq(){if(Gx)return B1;Gx=1;var t=aq();return B1=function(n){return t(n)||n===0?n:n<0?-1:1},B1}var V1,jx;function uq(){return jx||(jx=1,V1=Object.getOwnPropertyDescriptor),V1}var q1,$x;function yp(){if($x)return q1;$x=1;var t=uq();if(t)try{t([],"length")}catch{t=null}return q1=t,q1}var z1,Wx;function Zg(){if(Wx)return z1;Wx=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return z1=t,z1}var H1,Kx;function cq(){if(Kx)return H1;Kx=1;var t=typeof Symbol<"u"&&Symbol,e=WN();return H1=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},H1}var G1,Yx;function JN(){return Yx||(Yx=1,G1=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),G1}var j1,Jx;function XN(){if(Jx)return j1;Jx=1;var t=KN();return j1=t.getPrototypeOf||null,j1}var $1,Xx;function fq(){if(Xx)return $1;Xx=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(c,f){for(var d=[],g=0;g<c.length;g+=1)d[g]=c[g];for(var y=0;y<f.length;y+=1)d[y+c.length]=f[y];return d},s=function(c,f){for(var d=[],g=f,y=0;g<c.length;g+=1,y+=1)d[y]=c[g];return d},l=function(u,c){for(var f="",d=0;d<u.length;d+=1)f+=u[d],d+1<u.length&&(f+=c);return f};return $1=function(c){var f=this;if(typeof f!="function"||e.apply(f)!==r)throw new TypeError(t+f);for(var d=s(arguments,1),g,y=function(){if(this instanceof g){var E=f.apply(this,i(d,arguments));return Object(E)===E?E:this}return f.apply(c,i(d,arguments))},m=n(0,f.length-d.length),x=[],S=0;S<m;S++)x[S]="$"+S;if(g=Function("binder","return function ("+l(x,",")+"){ return binder.apply(this,arguments); }")(y),f.prototype){var R=function(){};R.prototype=f.prototype,g.prototype=new R,R.prototype=null}return g},$1}var W1,Qx;function vp(){if(Qx)return W1;Qx=1;var t=fq();return W1=Function.prototype.bind||t,W1}var K1,Zx;function Ww(){return Zx||(Zx=1,K1=Function.prototype.call),K1}var Y1,eT;function Kw(){return eT||(eT=1,Y1=Function.prototype.apply),Y1}var J1,tT;function hq(){return tT||(tT=1,J1=typeof Reflect<"u"&&Reflect&&Reflect.apply),J1}var X1,nT;function QN(){if(nT)return X1;nT=1;var t=vp(),e=Kw(),n=Ww(),r=hq();return X1=r||t.call(n,e),X1}var Q1,rT;function Yw(){if(rT)return Q1;rT=1;var t=vp(),e=Qg(),n=Ww(),r=QN();return Q1=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return r(t,n,s)},Q1}var Z1,iT;function dq(){if(iT)return Z1;iT=1;var t=Yw(),e=yp(),n;try{n=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var r=!!n&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return Z1=r&&typeof r.get=="function"?t([r.get]):typeof s=="function"?(function(u){return s(u==null?u:i(u))}):!1,Z1}var ev,sT;function ZN(){if(sT)return ev;sT=1;var t=JN(),e=XN(),n=dq();return ev=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:n?function(i){return n(i)}:null,ev}var tv,oT;function pq(){if(oT)return tv;oT=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=vp();return tv=n.call(t,e),tv}var nv,aT;function Jw(){if(aT)return nv;aT=1;var t,e=KN(),n=JV(),r=XV(),i=QV(),s=ZV(),l=YN(),u=Qg(),c=eq(),f=tq(),d=nq(),g=rq(),y=iq(),m=sq(),x=oq(),S=lq(),R=Function,E=function(ge){try{return R('"use strict"; return ('+ge+").constructor;")()}catch{}},M=yp(),P=Zg(),N=function(){throw new u},$=M?(function(){try{return arguments.callee,N}catch{try{return M(arguments,"callee").get}catch{return N}}})():N,Q=cq()(),V=ZN(),G=XN(),C=JN(),X=Kw(),W=Ww(),D={},B=typeof Uint8Array>"u"||!V?t:V(Uint8Array),F={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":Q&&V?V([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":D,"%AsyncGenerator%":D,"%AsyncGeneratorFunction%":D,"%AsyncIteratorPrototype%":D,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":R,"%GeneratorFunction%":D,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Q&&V?V(V([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Q||!V?t:V(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":M,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Q||!V?t:V(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Q&&V?V(""[Symbol.iterator]()):t,"%Symbol%":Q?Symbol:t,"%SyntaxError%":l,"%ThrowTypeError%":$,"%TypedArray%":B,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":W,"%Function.prototype.apply%":X,"%Object.defineProperty%":P,"%Object.getPrototypeOf%":G,"%Math.abs%":f,"%Math.floor%":d,"%Math.max%":g,"%Math.min%":y,"%Math.pow%":m,"%Math.round%":x,"%Math.sign%":S,"%Reflect.getPrototypeOf%":C};if(V)try{null.error}catch(ge){var ve=V(V(ge));F["%Error.prototype%"]=ve}var ce=function ge(he){var le;if(he==="%AsyncFunction%")le=E("async function () {}");else if(he==="%GeneratorFunction%")le=E("function* () {}");else if(he==="%AsyncGeneratorFunction%")le=E("async function* () {}");else if(he==="%AsyncGenerator%"){var pe=ge("%AsyncGeneratorFunction%");pe&&(le=pe.prototype)}else if(he==="%AsyncIteratorPrototype%"){var De=ge("%AsyncGenerator%");De&&V&&(le=V(De.prototype))}return F[he]=le,le},ae={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_e=vp(),xe=pq(),Ue=_e.call(W,Array.prototype.concat),re=_e.call(X,Array.prototype.splice),O=_e.call(W,String.prototype.replace),ee=_e.call(W,String.prototype.slice),se=_e.call(W,RegExp.prototype.exec),me=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ue=/\\(\\)?/g,H=function(he){var le=ee(he,0,1),pe=ee(he,-1);if(le==="%"&&pe!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(pe==="%"&&le!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var De=[];return O(he,me,function(z,Z,Y,I){De[De.length]=Y?O(I,ue,"$1"):Z||z}),De},j=function(he,le){var pe=he,De;if(xe(ae,pe)&&(De=ae[pe],pe="%"+De[0]+"%"),xe(F,pe)){var z=F[pe];if(z===D&&(z=ce(pe)),typeof z>"u"&&!le)throw new u("intrinsic "+he+" exists, but is not available. Please file an issue!");return{alias:De,name:pe,value:z}}throw new l("intrinsic "+he+" does not exist!")};return nv=function(he,le){if(typeof he!="string"||he.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof le!="boolean")throw new u('"allowMissing" argument must be a boolean');if(se(/^%?[^%]*%?$/,he)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var pe=H(he),De=pe.length>0?pe[0]:"",z=j("%"+De+"%",le),Z=z.name,Y=z.value,I=!1,L=z.alias;L&&(De=L[0],re(pe,Ue([0,1],L)));for(var q=1,ye=!0;q<pe.length;q+=1){var Ce=pe[q],Ae=ee(Ce,0,1),Oe=ee(Ce,-1);if((Ae==='"'||Ae==="'"||Ae==="`"||Oe==='"'||Oe==="'"||Oe==="`")&&Ae!==Oe)throw new l("property names with quotes must have matching quotes");if((Ce==="constructor"||!ye)&&(I=!0),De+="."+Ce,Z="%"+De+"%",xe(F,Z))Y=F[Z];else if(Y!=null){if(!(Ce in Y)){if(!le)throw new u("base intrinsic for "+he+" exists, but the property is not available.");return}if(M&&q+1>=pe.length){var We=M(Y,Ce);ye=!!We,ye&&"get"in We&&!("originalValue"in We.get)?Y=We.get:Y=Y[Ce]}else ye=xe(Y,Ce),Y=Y[Ce];ye&&!I&&(F[Z]=Y)}}return Y},nv}var rv={exports:{}},iv,lT;function mq(){if(lT)return iv;lT=1;var t=Zg(),e=YN(),n=Qg(),r=yp();return iv=function(s,l,u){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`obj` must be an object or a function`");if(typeof l!="string"&&typeof l!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,d=arguments.length>5?arguments[5]:null,g=arguments.length>6?arguments[6]:!1,y=!!r&&r(s,l);if(t)t(s,l,{configurable:d===null&&y?y.configurable:!d,enumerable:c===null&&y?y.enumerable:!c,value:u,writable:f===null&&y?y.writable:!f});else if(g||!c&&!f&&!d)s[l]=u;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},iv}var sv,uT;function gq(){if(uT)return sv;uT=1;var t=Zg(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},sv=e,sv}var ov,cT;function yq(){if(cT)return ov;cT=1;var t=Jw(),e=mq(),n=gq()(),r=yp(),i=Qg(),s=t("%Math.floor%");return ov=function(u,c){if(typeof u!="function")throw new i("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||s(c)!==c)throw new i("`length` must be a positive 32-bit integer");var f=arguments.length>2&&!!arguments[2],d=!0,g=!0;if("length"in u&&r){var y=r(u,"length");y&&!y.configurable&&(d=!1),y&&!y.writable&&(g=!1)}return(d||g||!f)&&(n?e(u,"length",c,!0,!0):e(u,"length",c)),u},ov}var av,fT;function vq(){if(fT)return av;fT=1;var t=vp(),e=Kw(),n=QN();return av=function(){return n(t,e,arguments)},av}var hT;function e6(){return hT||(hT=1,(function(t){var e=yq(),n=Zg(),r=Yw(),i=vq();t.exports=function(l){var u=r(arguments),c=l.length-(arguments.length-1);return e(u,1+(c>0?c:0),!0)},n?n(t.exports,"apply",{value:i}):t.exports.apply=i})(rv)),rv.exports}var lv,dT;function wq(){if(dT)return lv;dT=1;var t=Jw(),e=e6(),n=e(t("String.prototype.indexOf"));return lv=function(i,s){var l=t(i,!!s);return typeof l=="function"&&n(i,".prototype.")>-1?e(l):l},lv}var uv,pT;function _q(){if(pT)return uv;pT=1;var t=$w()(),e=wq(),n=e("Object.prototype.toString"),r=function(u){return t&&u&&typeof u=="object"&&Symbol.toStringTag in u?!1:n(u)==="[object Arguments]"},i=function(u){return r(u)?!0:u!==null&&typeof u=="object"&&typeof u.length=="number"&&u.length>=0&&n(u)!=="[object Array]"&&n(u.callee)==="[object Function]"},s=(function(){return r(arguments)})();return r.isLegacyArguments=i,uv=s?r:i,uv}var cv,mT;function bq(){if(mT)return cv;mT=1;var t=Object.prototype.toString,e=Function.prototype.toString,n=/^\s*(?:function)?\*/,r=$w()(),i=Object.getPrototypeOf,s=function(){if(!r)return!1;try{return Function("return function*() {}")()}catch{}},l;return cv=function(c){if(typeof c!="function")return!1;if(n.test(e.call(c)))return!0;if(!r){var f=t.call(c);return f==="[object GeneratorFunction]"}if(!i)return!1;if(typeof l>"u"){var d=s();l=d?i(d):!1}return i(c)===l},cv}var fv,gT;function Eq(){if(gT)return fv;gT=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},e(function(){throw 42},null,n)}catch(M){M!==r&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(P){try{var N=t.call(P);return i.test(N)}catch{return!1}},l=function(P){try{return s(P)?!1:(t.call(P),!0)}catch{return!1}},u=Object.prototype.toString,c="[object Object]",f="[object Function]",d="[object GeneratorFunction]",g="[object HTMLAllCollection]",y="[object HTML document.all class]",m="[object HTMLCollection]",x=typeof Symbol=="function"&&!!Symbol.toStringTag,S=!(0 in[,]),R=function(){return!1};if(typeof document=="object"){var E=document.all;u.call(E)===u.call(document.all)&&(R=function(P){if((S||!P)&&(typeof P>"u"||typeof P=="object"))try{var N=u.call(P);return(N===g||N===y||N===m||N===c)&&P("")==null}catch{}return!1})}return fv=e?function(P){if(R(P))return!0;if(!P||typeof P!="function"&&typeof P!="object")return!1;try{e(P,null,n)}catch(N){if(N!==r)return!1}return!s(P)&&l(P)}:function(P){if(R(P))return!0;if(!P||typeof P!="function"&&typeof P!="object")return!1;if(x)return l(P);if(s(P))return!1;var N=u.call(P);return N!==f&&N!==d&&!/^\[object HTML/.test(N)?!1:l(P)},fv}var hv,yT;function Aq(){if(yT)return hv;yT=1;var t=Eq(),e=Object.prototype.toString,n=Object.prototype.hasOwnProperty,r=function(c,f,d){for(var g=0,y=c.length;g<y;g++)n.call(c,g)&&(d==null?f(c[g],g,c):f.call(d,c[g],g,c))},i=function(c,f,d){for(var g=0,y=c.length;g<y;g++)d==null?f(c.charAt(g),g,c):f.call(d,c.charAt(g),g,c)},s=function(c,f,d){for(var g in c)n.call(c,g)&&(d==null?f(c[g],g,c):f.call(d,c[g],g,c))};function l(u){return e.call(u)==="[object Array]"}return hv=function(c,f,d){if(!t(f))throw new TypeError("iterator must be a function");var g;arguments.length>=3&&(g=d),l(c)?r(c,f,g):typeof c=="string"?i(c,f,g):s(c,f,g)},hv}var dv,vT;function Sq(){return vT||(vT=1,dv=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),dv}var pv,wT;function xq(){if(wT)return pv;wT=1;var t=Sq(),e=typeof globalThis>"u"?Il:globalThis;return pv=function(){for(var r=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(r[r.length]=t[i]);return r},pv}var mv,_T;function Tq(){if(_T)return mv;_T=1;var t=Jw(),e=Yw(),n=e([t("%String.prototype.indexOf%")]);return mv=function(i,s){var l=t(i,!!s);return typeof l=="function"&&n(i,".prototype.")>-1?e([l]):l},mv}var gv,bT;function t6(){if(bT)return gv;bT=1;var t=Aq(),e=xq(),n=e6(),r=Tq(),i=yp(),s=ZN(),l=r("Object.prototype.toString"),u=$w()(),c=typeof globalThis>"u"?Il:globalThis,f=e(),d=r("String.prototype.slice"),g=r("Array.prototype.indexOf",!0)||function(R,E){for(var M=0;M<R.length;M+=1)if(R[M]===E)return M;return-1},y={__proto__:null};u&&i&&s?t(f,function(S){var R=new c[S];if(Symbol.toStringTag in R&&s){var E=s(R),M=i(E,Symbol.toStringTag);if(!M&&E){var P=s(E);M=i(P,Symbol.toStringTag)}y["$"+S]=n(M.get)}}):t(f,function(S){var R=new c[S],E=R.slice||R.set;E&&(y["$"+S]=n(E))});var m=function(R){var E=!1;return t(y,function(M,P){if(!E)try{"$"+M(R)===P&&(E=d(P,1))}catch{}}),E},x=function(R){var E=!1;return t(y,function(M,P){if(!E)try{M(R),E=d(P,1)}catch{}}),E};return gv=function(R){if(!R||typeof R!="object")return!1;if(!u){var E=d(l(R),8,-1);return g(f,E)>-1?E:E!=="Object"?!1:x(R)}return i?m(R):null},gv}var yv,ET;function Cq(){if(ET)return yv;ET=1;var t=t6();return yv=function(n){return!!t(n)},yv}var AT;function Nq(){return AT||(AT=1,(function(t){var e=_q(),n=bq(),r=t6(),i=Cq();function s(q){return q.call.bind(q)}var l=typeof BigInt<"u",u=typeof Symbol<"u",c=s(Object.prototype.toString),f=s(Number.prototype.valueOf),d=s(String.prototype.valueOf),g=s(Boolean.prototype.valueOf);if(l)var y=s(BigInt.prototype.valueOf);if(u)var m=s(Symbol.prototype.valueOf);function x(q,ye){if(typeof q!="object")return!1;try{return ye(q),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=n,t.isTypedArray=i;function S(q){return typeof Promise<"u"&&q instanceof Promise||q!==null&&typeof q=="object"&&typeof q.then=="function"&&typeof q.catch=="function"}t.isPromise=S;function R(q){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(q):i(q)||ee(q)}t.isArrayBufferView=R;function E(q){return r(q)==="Uint8Array"}t.isUint8Array=E;function M(q){return r(q)==="Uint8ClampedArray"}t.isUint8ClampedArray=M;function P(q){return r(q)==="Uint16Array"}t.isUint16Array=P;function N(q){return r(q)==="Uint32Array"}t.isUint32Array=N;function $(q){return r(q)==="Int8Array"}t.isInt8Array=$;function Q(q){return r(q)==="Int16Array"}t.isInt16Array=Q;function V(q){return r(q)==="Int32Array"}t.isInt32Array=V;function G(q){return r(q)==="Float32Array"}t.isFloat32Array=G;function C(q){return r(q)==="Float64Array"}t.isFloat64Array=C;function X(q){return r(q)==="BigInt64Array"}t.isBigInt64Array=X;function W(q){return r(q)==="BigUint64Array"}t.isBigUint64Array=W;function D(q){return c(q)==="[object Map]"}D.working=typeof Map<"u"&&D(new Map);function B(q){return typeof Map>"u"?!1:D.working?D(q):q instanceof Map}t.isMap=B;function F(q){return c(q)==="[object Set]"}F.working=typeof Set<"u"&&F(new Set);function ve(q){return typeof Set>"u"?!1:F.working?F(q):q instanceof Set}t.isSet=ve;function ce(q){return c(q)==="[object WeakMap]"}ce.working=typeof WeakMap<"u"&&ce(new WeakMap);function ae(q){return typeof WeakMap>"u"?!1:ce.working?ce(q):q instanceof WeakMap}t.isWeakMap=ae;function _e(q){return c(q)==="[object WeakSet]"}_e.working=typeof WeakSet<"u"&&_e(new WeakSet);function xe(q){return _e(q)}t.isWeakSet=xe;function Ue(q){return c(q)==="[object ArrayBuffer]"}Ue.working=typeof ArrayBuffer<"u"&&Ue(new ArrayBuffer);function re(q){return typeof ArrayBuffer>"u"?!1:Ue.working?Ue(q):q instanceof ArrayBuffer}t.isArrayBuffer=re;function O(q){return c(q)==="[object DataView]"}O.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&O(new DataView(new ArrayBuffer(1),0,1));function ee(q){return typeof DataView>"u"?!1:O.working?O(q):q instanceof DataView}t.isDataView=ee;var se=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function me(q){return c(q)==="[object SharedArrayBuffer]"}function ue(q){return typeof se>"u"?!1:(typeof me.working>"u"&&(me.working=me(new se)),me.working?me(q):q instanceof se)}t.isSharedArrayBuffer=ue;function H(q){return c(q)==="[object AsyncFunction]"}t.isAsyncFunction=H;function j(q){return c(q)==="[object Map Iterator]"}t.isMapIterator=j;function ge(q){return c(q)==="[object Set Iterator]"}t.isSetIterator=ge;function he(q){return c(q)==="[object Generator]"}t.isGeneratorObject=he;function le(q){return c(q)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=le;function pe(q){return x(q,f)}t.isNumberObject=pe;function De(q){return x(q,d)}t.isStringObject=De;function z(q){return x(q,g)}t.isBooleanObject=z;function Z(q){return l&&x(q,y)}t.isBigIntObject=Z;function Y(q){return u&&x(q,m)}t.isSymbolObject=Y;function I(q){return pe(q)||De(q)||z(q)||Z(q)||Y(q)}t.isBoxedPrimitive=I;function L(q){return typeof Uint8Array<"u"&&(re(q)||ue(q))}t.isAnyArrayBuffer=L,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(q){Object.defineProperty(t,q,{enumerable:!1,value:function(){throw new Error(q+" is not supported in userland")}})})})(b1)),b1}var vv,ST;function Iq(){return ST||(ST=1,vv=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),vv}var xT;function n6(){return xT||(xT=1,(function(t){var e=Object.getOwnPropertyDescriptors||function(ee){for(var se=Object.keys(ee),me={},ue=0;ue<se.length;ue++)me[se[ue]]=Object.getOwnPropertyDescriptor(ee,se[ue]);return me},n=/%[sdj%]/g;t.format=function(O){if(!$(O)){for(var ee=[],se=0;se<arguments.length;se++)ee.push(l(arguments[se]));return ee.join(" ")}for(var se=1,me=arguments,ue=me.length,H=String(O).replace(n,function(ge){if(ge==="%%")return"%";if(se>=ue)return ge;switch(ge){case"%s":return String(me[se++]);case"%d":return Number(me[se++]);case"%j":try{return JSON.stringify(me[se++])}catch{return"[Circular]"}default:return ge}}),j=me[se];se<ue;j=me[++se])M(j)||!C(j)?H+=" "+j:H+=" "+l(j);return H},t.deprecate=function(O,ee){if(typeof jn<"u"&&jn.noDeprecation===!0)return O;if(typeof jn>"u")return function(){return t.deprecate(O,ee).apply(this,arguments)};var se=!1;function me(){if(!se){if(jn.throwDeprecation)throw new Error(ee);jn.traceDeprecation?console.trace(ee):console.error(ee),se=!0}return O.apply(this,arguments)}return me};var r={},i=/^$/;if(jn.env.NODE_DEBUG){var s=jn.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(O){if(O=O.toUpperCase(),!r[O])if(i.test(O)){var ee=jn.pid;r[O]=function(){var se=t.format.apply(t,arguments);console.error("%s %d: %s",O,ee,se)}}else r[O]=function(){};return r[O]};function l(O,ee){var se={seen:[],stylize:c};return arguments.length>=3&&(se.depth=arguments[2]),arguments.length>=4&&(se.colors=arguments[3]),E(ee)?se.showHidden=ee:ee&&t._extend(se,ee),V(se.showHidden)&&(se.showHidden=!1),V(se.depth)&&(se.depth=2),V(se.colors)&&(se.colors=!1),V(se.customInspect)&&(se.customInspect=!0),se.colors&&(se.stylize=u),d(se,O,se.depth)}t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(O,ee){var se=l.styles[ee];return se?"\x1B["+l.colors[se][0]+"m"+O+"\x1B["+l.colors[se][1]+"m":O}function c(O,ee){return O}function f(O){var ee={};return O.forEach(function(se,me){ee[se]=!0}),ee}function d(O,ee,se){if(O.customInspect&&ee&&D(ee.inspect)&&ee.inspect!==t.inspect&&!(ee.constructor&&ee.constructor.prototype===ee)){var me=ee.inspect(se,O);return $(me)||(me=d(O,me,se)),me}var ue=g(O,ee);if(ue)return ue;var H=Object.keys(ee),j=f(H);if(O.showHidden&&(H=Object.getOwnPropertyNames(ee)),W(ee)&&(H.indexOf("message")>=0||H.indexOf("description")>=0))return y(ee);if(H.length===0){if(D(ee)){var ge=ee.name?": "+ee.name:"";return O.stylize("[Function"+ge+"]","special")}if(G(ee))return O.stylize(RegExp.prototype.toString.call(ee),"regexp");if(X(ee))return O.stylize(Date.prototype.toString.call(ee),"date");if(W(ee))return y(ee)}var he="",le=!1,pe=["{","}"];if(R(ee)&&(le=!0,pe=["[","]"]),D(ee)){var De=ee.name?": "+ee.name:"";he=" [Function"+De+"]"}if(G(ee)&&(he=" "+RegExp.prototype.toString.call(ee)),X(ee)&&(he=" "+Date.prototype.toUTCString.call(ee)),W(ee)&&(he=" "+y(ee)),H.length===0&&(!le||ee.length==0))return pe[0]+he+pe[1];if(se<0)return G(ee)?O.stylize(RegExp.prototype.toString.call(ee),"regexp"):O.stylize("[Object]","special");O.seen.push(ee);var z;return le?z=m(O,ee,se,j,H):z=H.map(function(Z){return x(O,ee,se,j,Z,le)}),O.seen.pop(),S(z,he,pe)}function g(O,ee){if(V(ee))return O.stylize("undefined","undefined");if($(ee)){var se="'"+JSON.stringify(ee).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return O.stylize(se,"string")}if(N(ee))return O.stylize(""+ee,"number");if(E(ee))return O.stylize(""+ee,"boolean");if(M(ee))return O.stylize("null","null")}function y(O){return"["+Error.prototype.toString.call(O)+"]"}function m(O,ee,se,me,ue){for(var H=[],j=0,ge=ee.length;j<ge;++j)_e(ee,String(j))?H.push(x(O,ee,se,me,String(j),!0)):H.push("");return ue.forEach(function(he){he.match(/^\d+$/)||H.push(x(O,ee,se,me,he,!0))}),H}function x(O,ee,se,me,ue,H){var j,ge,he;if(he=Object.getOwnPropertyDescriptor(ee,ue)||{value:ee[ue]},he.get?he.set?ge=O.stylize("[Getter/Setter]","special"):ge=O.stylize("[Getter]","special"):he.set&&(ge=O.stylize("[Setter]","special")),_e(me,ue)||(j="["+ue+"]"),ge||(O.seen.indexOf(he.value)<0?(M(se)?ge=d(O,he.value,null):ge=d(O,he.value,se-1),ge.indexOf(`
`)>-1&&(H?ge=ge.split(`
`).map(function(le){return"  "+le}).join(`
`).slice(2):ge=`
`+ge.split(`
`).map(function(le){return"   "+le}).join(`
`))):ge=O.stylize("[Circular]","special")),V(j)){if(H&&ue.match(/^\d+$/))return ge;j=JSON.stringify(""+ue),j.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(j=j.slice(1,-1),j=O.stylize(j,"name")):(j=j.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),j=O.stylize(j,"string"))}return j+": "+ge}function S(O,ee,se){var me=O.reduce(function(ue,H){return H.indexOf(`
`)>=0,ue+H.replace(/\u001b\[\d\d?m/g,"").length+1},0);return me>60?se[0]+(ee===""?"":ee+`
 `)+" "+O.join(`,
  `)+" "+se[1]:se[0]+ee+" "+O.join(", ")+" "+se[1]}t.types=Nq();function R(O){return Array.isArray(O)}t.isArray=R;function E(O){return typeof O=="boolean"}t.isBoolean=E;function M(O){return O===null}t.isNull=M;function P(O){return O==null}t.isNullOrUndefined=P;function N(O){return typeof O=="number"}t.isNumber=N;function $(O){return typeof O=="string"}t.isString=$;function Q(O){return typeof O=="symbol"}t.isSymbol=Q;function V(O){return O===void 0}t.isUndefined=V;function G(O){return C(O)&&F(O)==="[object RegExp]"}t.isRegExp=G,t.types.isRegExp=G;function C(O){return typeof O=="object"&&O!==null}t.isObject=C;function X(O){return C(O)&&F(O)==="[object Date]"}t.isDate=X,t.types.isDate=X;function W(O){return C(O)&&(F(O)==="[object Error]"||O instanceof Error)}t.isError=W,t.types.isNativeError=W;function D(O){return typeof O=="function"}t.isFunction=D;function B(O){return O===null||typeof O=="boolean"||typeof O=="number"||typeof O=="string"||typeof O=="symbol"||typeof O>"u"}t.isPrimitive=B,t.isBuffer=Iq();function F(O){return Object.prototype.toString.call(O)}function ve(O){return O<10?"0"+O.toString(10):O.toString(10)}var ce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ae(){var O=new Date,ee=[ve(O.getHours()),ve(O.getMinutes()),ve(O.getSeconds())].join(":");return[O.getDate(),ce[O.getMonth()],ee].join(" ")}t.log=function(){console.log("%s - %s",ae(),t.format.apply(t,arguments))},t.inherits=bc(),t._extend=function(O,ee){if(!ee||!C(ee))return O;for(var se=Object.keys(ee),me=se.length;me--;)O[se[me]]=ee[se[me]];return O};function _e(O,ee){return Object.prototype.hasOwnProperty.call(O,ee)}var xe=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(ee){if(typeof ee!="function")throw new TypeError('The "original" argument must be of type Function');if(xe&&ee[xe]){var se=ee[xe];if(typeof se!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(se,xe,{value:se,enumerable:!1,writable:!1,configurable:!0}),se}function se(){for(var me,ue,H=new Promise(function(he,le){me=he,ue=le}),j=[],ge=0;ge<arguments.length;ge++)j.push(arguments[ge]);j.push(function(he,le){he?ue(he):me(le)});try{ee.apply(this,j)}catch(he){ue(he)}return H}return Object.setPrototypeOf(se,Object.getPrototypeOf(ee)),xe&&Object.defineProperty(se,xe,{value:se,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(se,e(ee))},t.promisify.custom=xe;function Ue(O,ee){if(!O){var se=new Error("Promise was rejected with a falsy value");se.reason=O,O=se}return ee(O)}function re(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');function ee(){for(var se=[],me=0;me<arguments.length;me++)se.push(arguments[me]);var ue=se.pop();if(typeof ue!="function")throw new TypeError("The last argument must be of type Function");var H=this,j=function(){return ue.apply(H,arguments)};O.apply(this,se).then(function(ge){jn.nextTick(j.bind(null,null,ge))},function(ge){jn.nextTick(Ue.bind(null,ge,j))})}return Object.setPrototypeOf(ee,Object.getPrototypeOf(O)),Object.defineProperties(ee,e(O)),ee}t.callbackify=re})(_1)),_1}var wv,TT;function Rq(){if(TT)return wv;TT=1;function t(y,m){var x=Object.keys(y);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(y);m&&(S=S.filter(function(R){return Object.getOwnPropertyDescriptor(y,R).enumerable})),x.push.apply(x,S)}return x}function e(y){for(var m=1;m<arguments.length;m++){var x=arguments[m]!=null?arguments[m]:{};m%2?t(Object(x),!0).forEach(function(S){n(y,S,x[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(x)):t(Object(x)).forEach(function(S){Object.defineProperty(y,S,Object.getOwnPropertyDescriptor(x,S))})}return y}function n(y,m,x){return m in y?Object.defineProperty(y,m,{value:x,enumerable:!0,configurable:!0,writable:!0}):y[m]=x,y}function r(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function i(y,m){for(var x=0;x<m.length;x++){var S=m[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}function s(y,m,x){return m&&i(y.prototype,m),y}var l=Xg(),u=l.Buffer,c=n6(),f=c.inspect,d=f&&f.custom||"inspect";function g(y,m,x){u.prototype.copy.call(y,m,x)}return wv=(function(){function y(){r(this,y),this.head=null,this.tail=null,this.length=0}return s(y,[{key:"push",value:function(x){var S={data:x,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}},{key:"unshift",value:function(x){var S={data:x,next:this.head};this.length===0&&(this.tail=S),this.head=S,++this.length}},{key:"shift",value:function(){if(this.length!==0){var x=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,x}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(x){if(this.length===0)return"";for(var S=this.head,R=""+S.data;S=S.next;)R+=x+S.data;return R}},{key:"concat",value:function(x){if(this.length===0)return u.alloc(0);for(var S=u.allocUnsafe(x>>>0),R=this.head,E=0;R;)g(R.data,S,E),E+=R.data.length,R=R.next;return S}},{key:"consume",value:function(x,S){var R;return x<this.head.data.length?(R=this.head.data.slice(0,x),this.head.data=this.head.data.slice(x)):x===this.head.data.length?R=this.shift():R=S?this._getString(x):this._getBuffer(x),R}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(x){var S=this.head,R=1,E=S.data;for(x-=E.length;S=S.next;){var M=S.data,P=x>M.length?M.length:x;if(P===M.length?E+=M:E+=M.slice(0,x),x-=P,x===0){P===M.length?(++R,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=M.slice(P));break}++R}return this.length-=R,E}},{key:"_getBuffer",value:function(x){var S=u.allocUnsafe(x),R=this.head,E=1;for(R.data.copy(S),x-=R.data.length;R=R.next;){var M=R.data,P=x>M.length?M.length:x;if(M.copy(S,S.length-x,0,P),x-=P,x===0){P===M.length?(++E,R.next?this.head=R.next:this.head=this.tail=null):(this.head=R,R.data=M.slice(P));break}++E}return this.length-=E,S}},{key:d,value:function(x,S){return f(this,e({},S,{depth:0,customInspect:!1}))}}]),y})(),wv}var _v,CT;function r6(){if(CT)return _v;CT=1;function t(l,u){var c=this,f=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return f||d?(u?u(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,jn.nextTick(i,this,l)):jn.nextTick(i,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(g){!u&&g?c._writableState?c._writableState.errorEmitted?jn.nextTick(n,c):(c._writableState.errorEmitted=!0,jn.nextTick(e,c,g)):jn.nextTick(e,c,g):u?(jn.nextTick(n,c),u(g)):jn.nextTick(n,c)}),this)}function e(l,u){i(l,u),n(l)}function n(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(l,u){l.emit("error",u)}function s(l,u){var c=l._readableState,f=l._writableState;c&&c.autoDestroy||f&&f.autoDestroy?l.destroy(u):l.emit("error",u)}return _v={destroy:t,undestroy:r,errorOrDestroy:s},_v}var bv={},NT;function Gh(){if(NT)return bv;NT=1;function t(u,c){u.prototype=Object.create(c.prototype),u.prototype.constructor=u,u.__proto__=c}var e={};function n(u,c,f){f||(f=Error);function d(y,m,x){return typeof c=="string"?c:c(y,m,x)}var g=(function(y){t(m,y);function m(x,S,R){return y.call(this,d(x,S,R))||this}return m})(f);g.prototype.name=f.name,g.prototype.code=u,e[u]=g}function r(u,c){if(Array.isArray(u)){var f=u.length;return u=u.map(function(d){return String(d)}),f>2?"one of ".concat(c," ").concat(u.slice(0,f-1).join(", "),", or ")+u[f-1]:f===2?"one of ".concat(c," ").concat(u[0]," or ").concat(u[1]):"of ".concat(c," ").concat(u[0])}else return"of ".concat(c," ").concat(String(u))}function i(u,c,f){return u.substr(0,c.length)===c}function s(u,c,f){return(f===void 0||f>u.length)&&(f=u.length),u.substring(f-c.length,f)===c}function l(u,c,f){return typeof f!="number"&&(f=0),f+c.length>u.length?!1:u.indexOf(c,f)!==-1}return n("ERR_INVALID_OPT_VALUE",function(u,c){return'The value "'+c+'" is invalid for option "'+u+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(u,c,f){var d;typeof c=="string"&&i(c,"not ")?(d="must not be",c=c.replace(/^not /,"")):d="must be";var g;if(s(u," argument"))g="The ".concat(u," ").concat(d," ").concat(r(c,"type"));else{var y=l(u,".")?"property":"argument";g='The "'.concat(u,'" ').concat(y," ").concat(d," ").concat(r(c,"type"))}return g+=". Received type ".concat(typeof f),g},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),bv.codes=e,bv}var Ev,IT;function i6(){if(IT)return Ev;IT=1;var t=Gh().codes.ERR_INVALID_OPT_VALUE;function e(r,i,s){return r.highWaterMark!=null?r.highWaterMark:i?r[s]:null}function n(r,i,s,l){var u=e(i,l,s);if(u!=null){if(!(isFinite(u)&&Math.floor(u)===u)||u<0){var c=l?s:"highWaterMark";throw new t(c,u)}return Math.floor(u)}return r.objectMode?16:16*1024}return Ev={getHighWaterMark:n},Ev}var Av,RT;function kq(){if(RT)return Av;RT=1,Av=t;function t(n,r){if(e("noDeprecation"))return n;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(r);e("traceDeprecation")?console.trace(r):console.warn(r),i=!0}return n.apply(this,arguments)}return s}function e(n){try{if(!Il.localStorage)return!1}catch{return!1}var r=Il.localStorage[n];return r==null?!1:String(r).toLowerCase()==="true"}return Av}var Sv,kT;function s6(){if(kT)return Sv;kT=1,Sv=G;function t(ue){var H=this;this.next=null,this.entry=null,this.finish=function(){me(H,ue)}}var e;G.WritableState=Q;var n={deprecate:kq()},r=$N(),i=Xg().Buffer,s=Il.Uint8Array||function(){};function l(ue){return i.from(ue)}function u(ue){return i.isBuffer(ue)||ue instanceof s}var c=r6(),f=i6(),d=f.getHighWaterMark,g=Gh().codes,y=g.ERR_INVALID_ARG_TYPE,m=g.ERR_METHOD_NOT_IMPLEMENTED,x=g.ERR_MULTIPLE_CALLBACK,S=g.ERR_STREAM_CANNOT_PIPE,R=g.ERR_STREAM_DESTROYED,E=g.ERR_STREAM_NULL_VALUES,M=g.ERR_STREAM_WRITE_AFTER_END,P=g.ERR_UNKNOWN_ENCODING,N=c.errorOrDestroy;bc()(G,r);function $(){}function Q(ue,H,j){e=e||Ih(),ue=ue||{},typeof j!="boolean"&&(j=H instanceof e),this.objectMode=!!ue.objectMode,j&&(this.objectMode=this.objectMode||!!ue.writableObjectMode),this.highWaterMark=d(this,ue,"writableHighWaterMark",j),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ge=ue.decodeStrings===!1;this.decodeStrings=!ge,this.defaultEncoding=ue.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(he){ce(H,he)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ue.emitClose!==!1,this.autoDestroy=!!ue.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}Q.prototype.getBuffer=function(){for(var H=this.bufferedRequest,j=[];H;)j.push(H),H=H.next;return j},(function(){try{Object.defineProperty(Q.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var V;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(V=Function.prototype[Symbol.hasInstance],Object.defineProperty(G,Symbol.hasInstance,{value:function(H){return V.call(this,H)?!0:this!==G?!1:H&&H._writableState instanceof Q}})):V=function(H){return H instanceof this};function G(ue){e=e||Ih();var H=this instanceof e;if(!H&&!V.call(G,this))return new G(ue);this._writableState=new Q(ue,this,H),this.writable=!0,ue&&(typeof ue.write=="function"&&(this._write=ue.write),typeof ue.writev=="function"&&(this._writev=ue.writev),typeof ue.destroy=="function"&&(this._destroy=ue.destroy),typeof ue.final=="function"&&(this._final=ue.final)),r.call(this)}G.prototype.pipe=function(){N(this,new S)};function C(ue,H){var j=new M;N(ue,j),jn.nextTick(H,j)}function X(ue,H,j,ge){var he;return j===null?he=new E:typeof j!="string"&&!H.objectMode&&(he=new y("chunk",["string","Buffer"],j)),he?(N(ue,he),jn.nextTick(ge,he),!1):!0}G.prototype.write=function(ue,H,j){var ge=this._writableState,he=!1,le=!ge.objectMode&&u(ue);return le&&!i.isBuffer(ue)&&(ue=l(ue)),typeof H=="function"&&(j=H,H=null),le?H="buffer":H||(H=ge.defaultEncoding),typeof j!="function"&&(j=$),ge.ending?C(this,j):(le||X(this,ge,ue,j))&&(ge.pendingcb++,he=D(this,ge,le,ue,H,j)),he},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){var ue=this._writableState;ue.corked&&(ue.corked--,!ue.writing&&!ue.corked&&!ue.bufferProcessing&&ue.bufferedRequest&&xe(this,ue))},G.prototype.setDefaultEncoding=function(H){if(typeof H=="string"&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new P(H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(G.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function W(ue,H,j){return!ue.objectMode&&ue.decodeStrings!==!1&&typeof H=="string"&&(H=i.from(H,j)),H}Object.defineProperty(G.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function D(ue,H,j,ge,he,le){if(!j){var pe=W(H,ge,he);ge!==pe&&(j=!0,he="buffer",ge=pe)}var De=H.objectMode?1:ge.length;H.length+=De;var z=H.length<H.highWaterMark;if(z||(H.needDrain=!0),H.writing||H.corked){var Z=H.lastBufferedRequest;H.lastBufferedRequest={chunk:ge,encoding:he,isBuf:j,callback:le,next:null},Z?Z.next=H.lastBufferedRequest:H.bufferedRequest=H.lastBufferedRequest,H.bufferedRequestCount+=1}else B(ue,H,!1,De,ge,he,le);return z}function B(ue,H,j,ge,he,le,pe){H.writelen=ge,H.writecb=pe,H.writing=!0,H.sync=!0,H.destroyed?H.onwrite(new R("write")):j?ue._writev(he,H.onwrite):ue._write(he,le,H.onwrite),H.sync=!1}function F(ue,H,j,ge,he){--H.pendingcb,j?(jn.nextTick(he,ge),jn.nextTick(ee,ue,H),ue._writableState.errorEmitted=!0,N(ue,ge)):(he(ge),ue._writableState.errorEmitted=!0,N(ue,ge),ee(ue,H))}function ve(ue){ue.writing=!1,ue.writecb=null,ue.length-=ue.writelen,ue.writelen=0}function ce(ue,H){var j=ue._writableState,ge=j.sync,he=j.writecb;if(typeof he!="function")throw new x;if(ve(j),H)F(ue,j,ge,H,he);else{var le=Ue(j)||ue.destroyed;!le&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&xe(ue,j),ge?jn.nextTick(ae,ue,j,le,he):ae(ue,j,le,he)}}function ae(ue,H,j,ge){j||_e(ue,H),H.pendingcb--,ge(),ee(ue,H)}function _e(ue,H){H.length===0&&H.needDrain&&(H.needDrain=!1,ue.emit("drain"))}function xe(ue,H){H.bufferProcessing=!0;var j=H.bufferedRequest;if(ue._writev&&j&&j.next){var ge=H.bufferedRequestCount,he=new Array(ge),le=H.corkedRequestsFree;le.entry=j;for(var pe=0,De=!0;j;)he[pe]=j,j.isBuf||(De=!1),j=j.next,pe+=1;he.allBuffers=De,B(ue,H,!0,H.length,he,"",le.finish),H.pendingcb++,H.lastBufferedRequest=null,le.next?(H.corkedRequestsFree=le.next,le.next=null):H.corkedRequestsFree=new t(H),H.bufferedRequestCount=0}else{for(;j;){var z=j.chunk,Z=j.encoding,Y=j.callback,I=H.objectMode?1:z.length;if(B(ue,H,!1,I,z,Z,Y),j=j.next,H.bufferedRequestCount--,H.writing)break}j===null&&(H.lastBufferedRequest=null)}H.bufferedRequest=j,H.bufferProcessing=!1}G.prototype._write=function(ue,H,j){j(new m("_write()"))},G.prototype._writev=null,G.prototype.end=function(ue,H,j){var ge=this._writableState;return typeof ue=="function"?(j=ue,ue=null,H=null):typeof H=="function"&&(j=H,H=null),ue!=null&&this.write(ue,H),ge.corked&&(ge.corked=1,this.uncork()),ge.ending||se(this,ge,j),this},Object.defineProperty(G.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ue(ue){return ue.ending&&ue.length===0&&ue.bufferedRequest===null&&!ue.finished&&!ue.writing}function re(ue,H){ue._final(function(j){H.pendingcb--,j&&N(ue,j),H.prefinished=!0,ue.emit("prefinish"),ee(ue,H)})}function O(ue,H){!H.prefinished&&!H.finalCalled&&(typeof ue._final=="function"&&!H.destroyed?(H.pendingcb++,H.finalCalled=!0,jn.nextTick(re,ue,H)):(H.prefinished=!0,ue.emit("prefinish")))}function ee(ue,H){var j=Ue(H);if(j&&(O(ue,H),H.pendingcb===0&&(H.finished=!0,ue.emit("finish"),H.autoDestroy))){var ge=ue._readableState;(!ge||ge.autoDestroy&&ge.endEmitted)&&ue.destroy()}return j}function se(ue,H,j){H.ending=!0,ee(ue,H),j&&(H.finished?jn.nextTick(j):ue.once("finish",j)),H.ended=!0,ue.writable=!1}function me(ue,H,j){var ge=ue.entry;for(ue.entry=null;ge;){var he=ge.callback;H.pendingcb--,he(j),ge=ge.next}H.corkedRequestsFree.next=ue}return Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(H){this._writableState&&(this._writableState.destroyed=H)}}),G.prototype.destroy=c.destroy,G.prototype._undestroy=c.undestroy,G.prototype._destroy=function(ue,H){H(ue)},Sv}var xv,LT;function Ih(){if(LT)return xv;LT=1;var t=Object.keys||function(f){var d=[];for(var g in f)d.push(g);return d};xv=l;var e=o6(),n=s6();bc()(l,e);for(var r=t(n.prototype),i=0;i<r.length;i++){var s=r[i];l.prototype[s]||(l.prototype[s]=n.prototype[s])}function l(f){if(!(this instanceof l))return new l(f);e.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u(){this._writableState.ended||jn.nextTick(c,this)}function c(f){f.end()}return Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),xv}var Tv={},Bm={exports:{}},DT;function Lq(){return DT||(DT=1,(function(t,e){var n=Xg(),r=n.Buffer;function i(l,u){for(var c in l)u[c]=l[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(l,u,c){return r(l,u,c)}i(r,s),s.from=function(l,u,c){if(typeof l=="number")throw new TypeError("Argument must not be a number");return r(l,u,c)},s.alloc=function(l,u,c){if(typeof l!="number")throw new TypeError("Argument must be a number");var f=r(l);return u!==void 0?typeof c=="string"?f.fill(u,c):f.fill(u):f.fill(0),f},s.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return r(l)},s.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(l)}})(Bm,Bm.exports)),Bm.exports}var PT;function ew(){if(PT)return Tv;PT=1;var t=Lq().Buffer,e=t.isEncoding||function(E){switch(E=""+E,E&&E.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(E){if(!E)return"utf8";for(var M;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(M)return;E=(""+E).toLowerCase(),M=!0}}function r(E){var M=n(E);if(typeof M!="string"&&(t.isEncoding===e||!e(E)))throw new Error("Unknown encoding: "+E);return M||E}Tv.StringDecoder=i;function i(E){this.encoding=r(E);var M;switch(this.encoding){case"utf16le":this.text=g,this.end=y,M=4;break;case"utf8":this.fillLast=c,M=4;break;case"base64":this.text=m,this.end=x,M=3;break;default:this.write=S,this.end=R;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(M)}i.prototype.write=function(E){if(E.length===0)return"";var M,P;if(this.lastNeed){if(M=this.fillLast(E),M===void 0)return"";P=this.lastNeed,this.lastNeed=0}else P=0;return P<E.length?M?M+this.text(E,P):this.text(E,P):M||""},i.prototype.end=d,i.prototype.text=f,i.prototype.fillLast=function(E){if(this.lastNeed<=E.length)return E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,E.length),this.lastNeed-=E.length};function s(E){return E<=127?0:E>>5===6?2:E>>4===14?3:E>>3===30?4:E>>6===2?-1:-2}function l(E,M,P){var N=M.length-1;if(N<P)return 0;var $=s(M[N]);return $>=0?($>0&&(E.lastNeed=$-1),$):--N<P||$===-2?0:($=s(M[N]),$>=0?($>0&&(E.lastNeed=$-2),$):--N<P||$===-2?0:($=s(M[N]),$>=0?($>0&&($===2?$=0:E.lastNeed=$-3),$):0))}function u(E,M,P){if((M[0]&192)!==128)return E.lastNeed=0,"";if(E.lastNeed>1&&M.length>1){if((M[1]&192)!==128)return E.lastNeed=1,"";if(E.lastNeed>2&&M.length>2&&(M[2]&192)!==128)return E.lastNeed=2,""}}function c(E){var M=this.lastTotal-this.lastNeed,P=u(this,E);if(P!==void 0)return P;if(this.lastNeed<=E.length)return E.copy(this.lastChar,M,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,M,0,E.length),this.lastNeed-=E.length}function f(E,M){var P=l(this,E,M);if(!this.lastNeed)return E.toString("utf8",M);this.lastTotal=P;var N=E.length-(P-this.lastNeed);return E.copy(this.lastChar,0,N),E.toString("utf8",M,N)}function d(E){var M=E&&E.length?this.write(E):"";return this.lastNeed?M+"":M}function g(E,M){if((E.length-M)%2===0){var P=E.toString("utf16le",M);if(P){var N=P.charCodeAt(P.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1],P.slice(0,-1)}return P}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=E[E.length-1],E.toString("utf16le",M,E.length-1)}function y(E){var M=E&&E.length?this.write(E):"";if(this.lastNeed){var P=this.lastTotal-this.lastNeed;return M+this.lastChar.toString("utf16le",0,P)}return M}function m(E,M){var P=(E.length-M)%3;return P===0?E.toString("base64",M):(this.lastNeed=3-P,this.lastTotal=3,P===1?this.lastChar[0]=E[E.length-1]:(this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1]),E.toString("base64",M,E.length-P))}function x(E){var M=E&&E.length?this.write(E):"";return this.lastNeed?M+this.lastChar.toString("base64",0,3-this.lastNeed):M}function S(E){return E.toString(this.encoding)}function R(E){return E&&E.length?this.write(E):""}return Tv}var Cv,MT;function Xw(){if(MT)return Cv;MT=1;var t=Gh().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var l=!1;return function(){if(!l){l=!0;for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];s.apply(this,c)}}}function n(){}function r(s){return s.setHeader&&typeof s.abort=="function"}function i(s,l,u){if(typeof l=="function")return i(s,null,l);l||(l={}),u=e(u||n);var c=l.readable||l.readable!==!1&&s.readable,f=l.writable||l.writable!==!1&&s.writable,d=function(){s.writable||y()},g=s._writableState&&s._writableState.finished,y=function(){f=!1,g=!0,c||u.call(s)},m=s._readableState&&s._readableState.endEmitted,x=function(){c=!1,m=!0,f||u.call(s)},S=function(P){u.call(s,P)},R=function(){var P;if(c&&!m)return(!s._readableState||!s._readableState.ended)&&(P=new t),u.call(s,P);if(f&&!g)return(!s._writableState||!s._writableState.ended)&&(P=new t),u.call(s,P)},E=function(){s.req.on("finish",y)};return r(s)?(s.on("complete",y),s.on("abort",R),s.req?E():s.on("request",E)):f&&!s._writableState&&(s.on("end",d),s.on("close",d)),s.on("end",x),s.on("finish",y),l.error!==!1&&s.on("error",S),s.on("close",R),function(){s.removeListener("complete",y),s.removeListener("abort",R),s.removeListener("request",E),s.req&&s.req.removeListener("finish",y),s.removeListener("end",d),s.removeListener("close",d),s.removeListener("finish",y),s.removeListener("end",x),s.removeListener("error",S),s.removeListener("close",R)}}return Cv=i,Cv}var Nv,OT;function Dq(){if(OT)return Nv;OT=1;var t;function e(E,M,P){return M in E?Object.defineProperty(E,M,{value:P,enumerable:!0,configurable:!0,writable:!0}):E[M]=P,E}var n=Xw(),r=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),c=Symbol("handlePromise"),f=Symbol("stream");function d(E,M){return{value:E,done:M}}function g(E){var M=E[r];if(M!==null){var P=E[f].read();P!==null&&(E[u]=null,E[r]=null,E[i]=null,M(d(P,!1)))}}function y(E){jn.nextTick(g,E)}function m(E,M){return function(P,N){E.then(function(){if(M[l]){P(d(void 0,!0));return}M[c](P,N)},N)}}var x=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var M=this,P=this[s];if(P!==null)return Promise.reject(P);if(this[l])return Promise.resolve(d(void 0,!0));if(this[f].destroyed)return new Promise(function(V,G){jn.nextTick(function(){M[s]?G(M[s]):V(d(void 0,!0))})});var N=this[u],$;if(N)$=new Promise(m(N,this));else{var Q=this[f].read();if(Q!==null)return Promise.resolve(d(Q,!1));$=new Promise(this[c])}return this[u]=$,$}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var M=this;return new Promise(function(P,N){M[f].destroy(null,function($){if($){N($);return}P(d(void 0,!0))})})}),t),x),R=function(M){var P,N=Object.create(S,(P={},e(P,f,{value:M,writable:!0}),e(P,r,{value:null,writable:!0}),e(P,i,{value:null,writable:!0}),e(P,s,{value:null,writable:!0}),e(P,l,{value:M._readableState.endEmitted,writable:!0}),e(P,c,{value:function(Q,V){var G=N[f].read();G?(N[u]=null,N[r]=null,N[i]=null,Q(d(G,!1))):(N[r]=Q,N[i]=V)},writable:!0}),P));return N[u]=null,n(M,function($){if($&&$.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Q=N[i];Q!==null&&(N[u]=null,N[r]=null,N[i]=null,Q($)),N[s]=$;return}var V=N[r];V!==null&&(N[u]=null,N[r]=null,N[i]=null,V(d(void 0,!0))),N[l]=!0}),M.on("readable",y.bind(null,N)),N};return Nv=R,Nv}var Iv,FT;function Pq(){return FT||(FT=1,Iv=function(){throw new Error("Readable.from is not available in the browser")}),Iv}var Rv,UT;function o6(){if(UT)return Rv;UT=1,Rv=C;var t;C.ReadableState=G,jw().EventEmitter;var e=function(pe,De){return pe.listeners(De).length},n=$N(),r=Xg().Buffer,i=Il.Uint8Array||function(){};function s(le){return r.from(le)}function l(le){return r.isBuffer(le)||le instanceof i}var u=n6(),c;u&&u.debuglog?c=u.debuglog("stream"):c=function(){};var f=Rq(),d=r6(),g=i6(),y=g.getHighWaterMark,m=Gh().codes,x=m.ERR_INVALID_ARG_TYPE,S=m.ERR_STREAM_PUSH_AFTER_EOF,R=m.ERR_METHOD_NOT_IMPLEMENTED,E=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,M,P,N;bc()(C,n);var $=d.errorOrDestroy,Q=["error","close","destroy","pause","resume"];function V(le,pe,De){if(typeof le.prependListener=="function")return le.prependListener(pe,De);!le._events||!le._events[pe]?le.on(pe,De):Array.isArray(le._events[pe])?le._events[pe].unshift(De):le._events[pe]=[De,le._events[pe]]}function G(le,pe,De){t=t||Ih(),le=le||{},typeof De!="boolean"&&(De=pe instanceof t),this.objectMode=!!le.objectMode,De&&(this.objectMode=this.objectMode||!!le.readableObjectMode),this.highWaterMark=y(this,le,"readableHighWaterMark",De),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=le.emitClose!==!1,this.autoDestroy=!!le.autoDestroy,this.destroyed=!1,this.defaultEncoding=le.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,le.encoding&&(M||(M=ew().StringDecoder),this.decoder=new M(le.encoding),this.encoding=le.encoding)}function C(le){if(t=t||Ih(),!(this instanceof C))return new C(le);var pe=this instanceof t;this._readableState=new G(le,this,pe),this.readable=!0,le&&(typeof le.read=="function"&&(this._read=le.read),typeof le.destroy=="function"&&(this._destroy=le.destroy)),n.call(this)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(pe){this._readableState&&(this._readableState.destroyed=pe)}}),C.prototype.destroy=d.destroy,C.prototype._undestroy=d.undestroy,C.prototype._destroy=function(le,pe){pe(le)},C.prototype.push=function(le,pe){var De=this._readableState,z;return De.objectMode?z=!0:typeof le=="string"&&(pe=pe||De.defaultEncoding,pe!==De.encoding&&(le=r.from(le,pe),pe=""),z=!0),X(this,le,pe,!1,z)},C.prototype.unshift=function(le){return X(this,le,null,!0,!1)};function X(le,pe,De,z,Z){c("readableAddChunk",pe);var Y=le._readableState;if(pe===null)Y.reading=!1,ce(le,Y);else{var I;if(Z||(I=D(Y,pe)),I)$(le,I);else if(Y.objectMode||pe&&pe.length>0)if(typeof pe!="string"&&!Y.objectMode&&Object.getPrototypeOf(pe)!==r.prototype&&(pe=s(pe)),z)Y.endEmitted?$(le,new E):W(le,Y,pe,!0);else if(Y.ended)$(le,new S);else{if(Y.destroyed)return!1;Y.reading=!1,Y.decoder&&!De?(pe=Y.decoder.write(pe),Y.objectMode||pe.length!==0?W(le,Y,pe,!1):xe(le,Y)):W(le,Y,pe,!1)}else z||(Y.reading=!1,xe(le,Y))}return!Y.ended&&(Y.length<Y.highWaterMark||Y.length===0)}function W(le,pe,De,z){pe.flowing&&pe.length===0&&!pe.sync?(pe.awaitDrain=0,le.emit("data",De)):(pe.length+=pe.objectMode?1:De.length,z?pe.buffer.unshift(De):pe.buffer.push(De),pe.needReadable&&ae(le)),xe(le,pe)}function D(le,pe){var De;return!l(pe)&&typeof pe!="string"&&pe!==void 0&&!le.objectMode&&(De=new x("chunk",["string","Buffer","Uint8Array"],pe)),De}C.prototype.isPaused=function(){return this._readableState.flowing===!1},C.prototype.setEncoding=function(le){M||(M=ew().StringDecoder);var pe=new M(le);this._readableState.decoder=pe,this._readableState.encoding=this._readableState.decoder.encoding;for(var De=this._readableState.buffer.head,z="";De!==null;)z+=pe.write(De.data),De=De.next;return this._readableState.buffer.clear(),z!==""&&this._readableState.buffer.push(z),this._readableState.length=z.length,this};var B=1073741824;function F(le){return le>=B?le=B:(le--,le|=le>>>1,le|=le>>>2,le|=le>>>4,le|=le>>>8,le|=le>>>16,le++),le}function ve(le,pe){return le<=0||pe.length===0&&pe.ended?0:pe.objectMode?1:le!==le?pe.flowing&&pe.length?pe.buffer.head.data.length:pe.length:(le>pe.highWaterMark&&(pe.highWaterMark=F(le)),le<=pe.length?le:pe.ended?pe.length:(pe.needReadable=!0,0))}C.prototype.read=function(le){c("read",le),le=parseInt(le,10);var pe=this._readableState,De=le;if(le!==0&&(pe.emittedReadable=!1),le===0&&pe.needReadable&&((pe.highWaterMark!==0?pe.length>=pe.highWaterMark:pe.length>0)||pe.ended))return c("read: emitReadable",pe.length,pe.ended),pe.length===0&&pe.ended?j(this):ae(this),null;if(le=ve(le,pe),le===0&&pe.ended)return pe.length===0&&j(this),null;var z=pe.needReadable;c("need readable",z),(pe.length===0||pe.length-le<pe.highWaterMark)&&(z=!0,c("length less than watermark",z)),pe.ended||pe.reading?(z=!1,c("reading or ended",z)):z&&(c("do read"),pe.reading=!0,pe.sync=!0,pe.length===0&&(pe.needReadable=!0),this._read(pe.highWaterMark),pe.sync=!1,pe.reading||(le=ve(De,pe)));var Z;return le>0?Z=H(le,pe):Z=null,Z===null?(pe.needReadable=pe.length<=pe.highWaterMark,le=0):(pe.length-=le,pe.awaitDrain=0),pe.length===0&&(pe.ended||(pe.needReadable=!0),De!==le&&pe.ended&&j(this)),Z!==null&&this.emit("data",Z),Z};function ce(le,pe){if(c("onEofChunk"),!pe.ended){if(pe.decoder){var De=pe.decoder.end();De&&De.length&&(pe.buffer.push(De),pe.length+=pe.objectMode?1:De.length)}pe.ended=!0,pe.sync?ae(le):(pe.needReadable=!1,pe.emittedReadable||(pe.emittedReadable=!0,_e(le)))}}function ae(le){var pe=le._readableState;c("emitReadable",pe.needReadable,pe.emittedReadable),pe.needReadable=!1,pe.emittedReadable||(c("emitReadable",pe.flowing),pe.emittedReadable=!0,jn.nextTick(_e,le))}function _e(le){var pe=le._readableState;c("emitReadable_",pe.destroyed,pe.length,pe.ended),!pe.destroyed&&(pe.length||pe.ended)&&(le.emit("readable"),pe.emittedReadable=!1),pe.needReadable=!pe.flowing&&!pe.ended&&pe.length<=pe.highWaterMark,ue(le)}function xe(le,pe){pe.readingMore||(pe.readingMore=!0,jn.nextTick(Ue,le,pe))}function Ue(le,pe){for(;!pe.reading&&!pe.ended&&(pe.length<pe.highWaterMark||pe.flowing&&pe.length===0);){var De=pe.length;if(c("maybeReadMore read 0"),le.read(0),De===pe.length)break}pe.readingMore=!1}C.prototype._read=function(le){$(this,new R("_read()"))},C.prototype.pipe=function(le,pe){var De=this,z=this._readableState;switch(z.pipesCount){case 0:z.pipes=le;break;case 1:z.pipes=[z.pipes,le];break;default:z.pipes.push(le);break}z.pipesCount+=1,c("pipe count=%d opts=%j",z.pipesCount,pe);var Z=(!pe||pe.end!==!1)&&le!==jn.stdout&&le!==jn.stderr,Y=Z?L:Ze;z.endEmitted?jn.nextTick(Y):De.once("end",Y),le.on("unpipe",I);function I(_t,xt){c("onunpipe"),_t===De&&xt&&xt.hasUnpiped===!1&&(xt.hasUnpiped=!0,Ce())}function L(){c("onend"),le.end()}var q=re(De);le.on("drain",q);var ye=!1;function Ce(){c("cleanup"),le.removeListener("close",We),le.removeListener("finish",He),le.removeListener("drain",q),le.removeListener("error",Oe),le.removeListener("unpipe",I),De.removeListener("end",L),De.removeListener("end",Ze),De.removeListener("data",Ae),ye=!0,z.awaitDrain&&(!le._writableState||le._writableState.needDrain)&&q()}De.on("data",Ae);function Ae(_t){c("ondata");var xt=le.write(_t);c("dest.write",xt),xt===!1&&((z.pipesCount===1&&z.pipes===le||z.pipesCount>1&&he(z.pipes,le)!==-1)&&!ye&&(c("false write response, pause",z.awaitDrain),z.awaitDrain++),De.pause())}function Oe(_t){c("onerror",_t),Ze(),le.removeListener("error",Oe),e(le,"error")===0&&$(le,_t)}V(le,"error",Oe);function We(){le.removeListener("finish",He),Ze()}le.once("close",We);function He(){c("onfinish"),le.removeListener("close",We),Ze()}le.once("finish",He);function Ze(){c("unpipe"),De.unpipe(le)}return le.emit("pipe",De),z.flowing||(c("pipe resume"),De.resume()),le};function re(le){return function(){var De=le._readableState;c("pipeOnDrain",De.awaitDrain),De.awaitDrain&&De.awaitDrain--,De.awaitDrain===0&&e(le,"data")&&(De.flowing=!0,ue(le))}}C.prototype.unpipe=function(le){var pe=this._readableState,De={hasUnpiped:!1};if(pe.pipesCount===0)return this;if(pe.pipesCount===1)return le&&le!==pe.pipes?this:(le||(le=pe.pipes),pe.pipes=null,pe.pipesCount=0,pe.flowing=!1,le&&le.emit("unpipe",this,De),this);if(!le){var z=pe.pipes,Z=pe.pipesCount;pe.pipes=null,pe.pipesCount=0,pe.flowing=!1;for(var Y=0;Y<Z;Y++)z[Y].emit("unpipe",this,{hasUnpiped:!1});return this}var I=he(pe.pipes,le);return I===-1?this:(pe.pipes.splice(I,1),pe.pipesCount-=1,pe.pipesCount===1&&(pe.pipes=pe.pipes[0]),le.emit("unpipe",this,De),this)},C.prototype.on=function(le,pe){var De=n.prototype.on.call(this,le,pe),z=this._readableState;return le==="data"?(z.readableListening=this.listenerCount("readable")>0,z.flowing!==!1&&this.resume()):le==="readable"&&!z.endEmitted&&!z.readableListening&&(z.readableListening=z.needReadable=!0,z.flowing=!1,z.emittedReadable=!1,c("on readable",z.length,z.reading),z.length?ae(this):z.reading||jn.nextTick(ee,this)),De},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(le,pe){var De=n.prototype.removeListener.call(this,le,pe);return le==="readable"&&jn.nextTick(O,this),De},C.prototype.removeAllListeners=function(le){var pe=n.prototype.removeAllListeners.apply(this,arguments);return(le==="readable"||le===void 0)&&jn.nextTick(O,this),pe};function O(le){var pe=le._readableState;pe.readableListening=le.listenerCount("readable")>0,pe.resumeScheduled&&!pe.paused?pe.flowing=!0:le.listenerCount("data")>0&&le.resume()}function ee(le){c("readable nexttick read 0"),le.read(0)}C.prototype.resume=function(){var le=this._readableState;return le.flowing||(c("resume"),le.flowing=!le.readableListening,se(this,le)),le.paused=!1,this};function se(le,pe){pe.resumeScheduled||(pe.resumeScheduled=!0,jn.nextTick(me,le,pe))}function me(le,pe){c("resume",pe.reading),pe.reading||le.read(0),pe.resumeScheduled=!1,le.emit("resume"),ue(le),pe.flowing&&!pe.reading&&le.read(0)}C.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ue(le){var pe=le._readableState;for(c("flow",pe.flowing);pe.flowing&&le.read()!==null;);}C.prototype.wrap=function(le){var pe=this,De=this._readableState,z=!1;le.on("end",function(){if(c("wrapped end"),De.decoder&&!De.ended){var I=De.decoder.end();I&&I.length&&pe.push(I)}pe.push(null)}),le.on("data",function(I){if(c("wrapped data"),De.decoder&&(I=De.decoder.write(I)),!(De.objectMode&&I==null)&&!(!De.objectMode&&(!I||!I.length))){var L=pe.push(I);L||(z=!0,le.pause())}});for(var Z in le)this[Z]===void 0&&typeof le[Z]=="function"&&(this[Z]=(function(L){return function(){return le[L].apply(le,arguments)}})(Z));for(var Y=0;Y<Q.length;Y++)le.on(Q[Y],this.emit.bind(this,Q[Y]));return this._read=function(I){c("wrapped _read",I),z&&(z=!1,le.resume())},this},typeof Symbol=="function"&&(C.prototype[Symbol.asyncIterator]=function(){return P===void 0&&(P=Dq()),P(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(pe){this._readableState&&(this._readableState.flowing=pe)}}),C._fromList=H,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function H(le,pe){if(pe.length===0)return null;var De;return pe.objectMode?De=pe.buffer.shift():!le||le>=pe.length?(pe.decoder?De=pe.buffer.join(""):pe.buffer.length===1?De=pe.buffer.first():De=pe.buffer.concat(pe.length),pe.buffer.clear()):De=pe.buffer.consume(le,pe.decoder),De}function j(le){var pe=le._readableState;c("endReadable",pe.endEmitted),pe.endEmitted||(pe.ended=!0,jn.nextTick(ge,pe,le))}function ge(le,pe){if(c("endReadableNT",le.endEmitted,le.length),!le.endEmitted&&le.length===0&&(le.endEmitted=!0,pe.readable=!1,pe.emit("end"),le.autoDestroy)){var De=pe._writableState;(!De||De.autoDestroy&&De.finished)&&pe.destroy()}}typeof Symbol=="function"&&(C.from=function(le,pe){return N===void 0&&(N=Pq()),N(C,le,pe)});function he(le,pe){for(var De=0,z=le.length;De<z;De++)if(le[De]===pe)return De;return-1}return Rv}var kv,BT;function a6(){if(BT)return kv;BT=1,kv=u;var t=Gh().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,n=t.ERR_MULTIPLE_CALLBACK,r=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,s=Ih();bc()(u,s);function l(d,g){var y=this._transformState;y.transforming=!1;var m=y.writecb;if(m===null)return this.emit("error",new n);y.writechunk=null,y.writecb=null,g!=null&&this.push(g),m(d);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function u(d){if(!(this instanceof u))return new u(d);s.call(this,d),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",c)}function c(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(g,y){f(d,g,y)}):f(this,null,null)}u.prototype.push=function(d,g){return this._transformState.needTransform=!1,s.prototype.push.call(this,d,g)},u.prototype._transform=function(d,g,y){y(new e("_transform()"))},u.prototype._write=function(d,g,y){var m=this._transformState;if(m.writecb=y,m.writechunk=d,m.writeencoding=g,!m.transforming){var x=this._readableState;(m.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},u.prototype._read=function(d){var g=this._transformState;g.writechunk!==null&&!g.transforming?(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform)):g.needTransform=!0},u.prototype._destroy=function(d,g){s.prototype._destroy.call(this,d,function(y){g(y)})};function f(d,g,y){if(g)return d.emit("error",g);if(y!=null&&d.push(y),d._writableState.length)throw new i;if(d._transformState.transforming)throw new r;return d.push(null)}return kv}var Lv,VT;function Mq(){if(VT)return Lv;VT=1,Lv=e;var t=a6();bc()(e,t);function e(n){if(!(this instanceof e))return new e(n);t.call(this,n)}return e.prototype._transform=function(n,r,i){i(null,n)},Lv}var Dv,qT;function Oq(){if(qT)return Dv;qT=1;var t;function e(y){var m=!1;return function(){m||(m=!0,y.apply(void 0,arguments))}}var n=Gh().codes,r=n.ERR_MISSING_ARGS,i=n.ERR_STREAM_DESTROYED;function s(y){if(y)throw y}function l(y){return y.setHeader&&typeof y.abort=="function"}function u(y,m,x,S){S=e(S);var R=!1;y.on("close",function(){R=!0}),t===void 0&&(t=Xw()),t(y,{readable:m,writable:x},function(M){if(M)return S(M);R=!0,S()});var E=!1;return function(M){if(!R&&!E){if(E=!0,l(y))return y.abort();if(typeof y.destroy=="function")return y.destroy();S(M||new i("pipe"))}}}function c(y){y()}function f(y,m){return y.pipe(m)}function d(y){return!y.length||typeof y[y.length-1]!="function"?s:y.pop()}function g(){for(var y=arguments.length,m=new Array(y),x=0;x<y;x++)m[x]=arguments[x];var S=d(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new r("streams");var R,E=m.map(function(M,P){var N=P<m.length-1,$=P>0;return u(M,N,$,function(Q){R||(R=Q),Q&&E.forEach(c),!N&&(E.forEach(c),S(R))})});return m.reduce(f)}return Dv=g,Dv}var Pv,zT;function Qw(){if(zT)return Pv;zT=1,Pv=n;var t=jw().EventEmitter,e=bc();e(n,t),n.Readable=o6(),n.Writable=s6(),n.Duplex=Ih(),n.Transform=a6(),n.PassThrough=Mq(),n.finished=Xw(),n.pipeline=Oq(),n.Stream=n;function n(){t.call(this)}return n.prototype.pipe=function(r,i){var s=this;function l(m){r.writable&&r.write(m)===!1&&s.pause&&s.pause()}s.on("data",l);function u(){s.readable&&s.resume&&s.resume()}r.on("drain",u),!r._isStdio&&(!i||i.end!==!1)&&(s.on("end",f),s.on("close",d));var c=!1;function f(){c||(c=!0,r.end())}function d(){c||(c=!0,typeof r.destroy=="function"&&r.destroy())}function g(m){if(y(),t.listenerCount(this,"error")===0)throw m}s.on("error",g),r.on("error",g);function y(){s.removeListener("data",l),r.removeListener("drain",u),s.removeListener("end",f),s.removeListener("close",d),s.removeListener("error",g),r.removeListener("error",g),s.removeListener("end",y),s.removeListener("close",y),r.removeListener("close",y)}return s.on("end",y),s.on("close",y),r.on("close",y),r.emit("pipe",s),r},Pv}var HT;function Fq(){return HT||(HT=1,(function(t){(function(e){e.parser=function(H,j){return new r(H,j)},e.SAXParser=r,e.SAXStream=d,e.createStream=f,e.MAX_BUFFER_LENGTH=64*1024;var n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(H,j){if(!(this instanceof r))return new r(H,j);var ge=this;s(ge),ge.q=ge.c="",ge.bufferCheckPosition=e.MAX_BUFFER_LENGTH,ge.opt=j||{},ge.opt.lowercase=ge.opt.lowercase||ge.opt.lowercasetags,ge.looseCase=ge.opt.lowercase?"toLowerCase":"toUpperCase",ge.tags=[],ge.closed=ge.closedRoot=ge.sawRoot=!1,ge.tag=ge.error=null,ge.strict=!!H,ge.noscript=!!(H||ge.opt.noscript),ge.state=C.BEGIN,ge.strictEntities=ge.opt.strictEntities,ge.ENTITIES=ge.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),ge.attribList=[],ge.opt.xmlns&&(ge.ns=Object.create(S)),ge.trackPosition=ge.opt.position!==!1,ge.trackPosition&&(ge.position=ge.line=ge.column=0),W(ge,"onready")}Object.create||(Object.create=function(H){function j(){}j.prototype=H;var ge=new j;return ge}),Object.keys||(Object.keys=function(H){var j=[];for(var ge in H)H.hasOwnProperty(ge)&&j.push(ge);return j});function i(H){for(var j=Math.max(e.MAX_BUFFER_LENGTH,10),ge=0,he=0,le=n.length;he<le;he++){var pe=H[n[he]].length;if(pe>j)switch(n[he]){case"textNode":B(H);break;case"cdata":D(H,"oncdata",H.cdata),H.cdata="";break;case"script":D(H,"onscript",H.script),H.script="";break;default:ve(H,"Max buffer length exceeded: "+n[he])}ge=Math.max(ge,pe)}var De=e.MAX_BUFFER_LENGTH-ge;H.bufferCheckPosition=De+H.position}function s(H){for(var j=0,ge=n.length;j<ge;j++)H[n[j]]=""}function l(H){B(H),H.cdata!==""&&(D(H,"oncdata",H.cdata),H.cdata=""),H.script!==""&&(D(H,"onscript",H.script),H.script="")}r.prototype={end:function(){ce(this)},write:ue,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){l(this)}};var u;try{u=Qw().Stream}catch{u=function(){}}var c=e.EVENTS.filter(function(H){return H!=="error"&&H!=="end"});function f(H,j){return new d(H,j)}function d(H,j){if(!(this instanceof d))return new d(H,j);u.apply(this),this._parser=new r(H,j),this.writable=!0,this.readable=!0;var ge=this;this._parser.onend=function(){ge.emit("end")},this._parser.onerror=function(he){ge.emit("error",he),ge._parser.error=null},this._decoder=null,c.forEach(function(he){Object.defineProperty(ge,"on"+he,{get:function(){return ge._parser["on"+he]},set:function(le){if(!le)return ge.removeAllListeners(he),ge._parser["on"+he]=le,le;ge.on(he,le)},enumerable:!0,configurable:!1})})}d.prototype=Object.create(u.prototype,{constructor:{value:d}}),d.prototype.write=function(H){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(H)){if(!this._decoder){var j=ew().StringDecoder;this._decoder=new j("utf8")}H=this._decoder.write(H)}return this._parser.write(H.toString()),this.emit("data",H),!0},d.prototype.end=function(H){return H&&H.length&&this.write(H),this._parser.end(),!0},d.prototype.on=function(H,j){var ge=this;return!ge._parser["on"+H]&&c.indexOf(H)!==-1&&(ge._parser["on"+H]=function(){var he=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);he.splice(0,0,H),ge.emit.apply(ge,he)}),u.prototype.on.call(ge,H,j)};var g="[CDATA[",y="DOCTYPE",m="http://www.w3.org/XML/1998/namespace",x="http://www.w3.org/2000/xmlns/",S={xml:m,xmlns:x},R=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,M=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,P=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function N(H){return H===" "||H===`
`||H==="\r"||H==="	"}function $(H){return H==='"'||H==="'"}function Q(H){return H===">"||N(H)}function V(H,j){return H.test(j)}function G(H,j){return!V(H,j)}var C=0;e.STATE={BEGIN:C++,BEGIN_WHITESPACE:C++,TEXT:C++,TEXT_ENTITY:C++,OPEN_WAKA:C++,SGML_DECL:C++,SGML_DECL_QUOTED:C++,DOCTYPE:C++,DOCTYPE_QUOTED:C++,DOCTYPE_DTD:C++,DOCTYPE_DTD_QUOTED:C++,COMMENT_STARTING:C++,COMMENT:C++,COMMENT_ENDING:C++,COMMENT_ENDED:C++,CDATA:C++,CDATA_ENDING:C++,CDATA_ENDING_2:C++,PROC_INST:C++,PROC_INST_BODY:C++,PROC_INST_ENDING:C++,OPEN_TAG:C++,OPEN_TAG_SLASH:C++,ATTRIB:C++,ATTRIB_NAME:C++,ATTRIB_NAME_SAW_WHITE:C++,ATTRIB_VALUE:C++,ATTRIB_VALUE_QUOTED:C++,ATTRIB_VALUE_CLOSED:C++,ATTRIB_VALUE_UNQUOTED:C++,ATTRIB_VALUE_ENTITY_Q:C++,ATTRIB_VALUE_ENTITY_U:C++,CLOSE_TAG:C++,CLOSE_TAG_SAW_WHITE:C++,SCRIPT:C++,SCRIPT_ENDING:C++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(H){var j=e.ENTITIES[H],ge=typeof j=="number"?String.fromCharCode(j):j;e.ENTITIES[H]=ge});for(var X in e.STATE)e.STATE[e.STATE[X]]=X;C=e.STATE;function W(H,j,ge){H[j]&&H[j](ge)}function D(H,j,ge){H.textNode&&B(H),W(H,j,ge)}function B(H){H.textNode=F(H.opt,H.textNode),H.textNode&&W(H,"ontext",H.textNode),H.textNode=""}function F(H,j){return H.trim&&(j=j.trim()),H.normalize&&(j=j.replace(/\s+/g," ")),j}function ve(H,j){return B(H),H.trackPosition&&(j+=`
Line: `+H.line+`
Column: `+H.column+`
Char: `+H.c),j=new Error(j),H.error=j,W(H,"onerror",j),H}function ce(H){return H.sawRoot&&!H.closedRoot&&ae(H,"Unclosed root tag"),H.state!==C.BEGIN&&H.state!==C.BEGIN_WHITESPACE&&H.state!==C.TEXT&&ve(H,"Unexpected end"),B(H),H.c="",H.closed=!0,W(H,"onend"),r.call(H,H.strict,H.opt),H}function ae(H,j){if(typeof H!="object"||!(H instanceof r))throw new Error("bad call to strictFail");H.strict&&ve(H,j)}function _e(H){H.strict||(H.tagName=H.tagName[H.looseCase]());var j=H.tags[H.tags.length-1]||H,ge=H.tag={name:H.tagName,attributes:{}};H.opt.xmlns&&(ge.ns=j.ns),H.attribList.length=0,D(H,"onopentagstart",ge)}function xe(H,j){var ge=H.indexOf(":"),he=ge<0?["",H]:H.split(":"),le=he[0],pe=he[1];return j&&H==="xmlns"&&(le="xmlns",pe=""),{prefix:le,local:pe}}function Ue(H){if(H.strict||(H.attribName=H.attribName[H.looseCase]()),H.attribList.indexOf(H.attribName)!==-1||H.tag.attributes.hasOwnProperty(H.attribName)){H.attribName=H.attribValue="";return}if(H.opt.xmlns){var j=xe(H.attribName,!0),ge=j.prefix,he=j.local;if(ge==="xmlns")if(he==="xml"&&H.attribValue!==m)ae(H,"xml: prefix must be bound to "+m+`
Actual: `+H.attribValue);else if(he==="xmlns"&&H.attribValue!==x)ae(H,"xmlns: prefix must be bound to "+x+`
Actual: `+H.attribValue);else{var le=H.tag,pe=H.tags[H.tags.length-1]||H;le.ns===pe.ns&&(le.ns=Object.create(pe.ns)),le.ns[he]=H.attribValue}H.attribList.push([H.attribName,H.attribValue])}else H.tag.attributes[H.attribName]=H.attribValue,D(H,"onattribute",{name:H.attribName,value:H.attribValue});H.attribName=H.attribValue=""}function re(H,j){if(H.opt.xmlns){var ge=H.tag,he=xe(H.tagName);ge.prefix=he.prefix,ge.local=he.local,ge.uri=ge.ns[he.prefix]||"",ge.prefix&&!ge.uri&&(ae(H,"Unbound namespace prefix: "+JSON.stringify(H.tagName)),ge.uri=he.prefix);var le=H.tags[H.tags.length-1]||H;ge.ns&&le.ns!==ge.ns&&Object.keys(ge.ns).forEach(function(Ae){D(H,"onopennamespace",{prefix:Ae,uri:ge.ns[Ae]})});for(var pe=0,De=H.attribList.length;pe<De;pe++){var z=H.attribList[pe],Z=z[0],Y=z[1],I=xe(Z,!0),L=I.prefix,q=I.local,ye=L===""?"":ge.ns[L]||"",Ce={name:Z,value:Y,prefix:L,local:q,uri:ye};L&&L!=="xmlns"&&!ye&&(ae(H,"Unbound namespace prefix: "+JSON.stringify(L)),Ce.uri=L),H.tag.attributes[Z]=Ce,D(H,"onattribute",Ce)}H.attribList.length=0}H.tag.isSelfClosing=!!j,H.sawRoot=!0,H.tags.push(H.tag),D(H,"onopentag",H.tag),j||(!H.noscript&&H.tagName.toLowerCase()==="script"?H.state=C.SCRIPT:H.state=C.TEXT,H.tag=null,H.tagName=""),H.attribName=H.attribValue="",H.attribList.length=0}function O(H){if(!H.tagName){ae(H,"Weird empty close tag."),H.textNode+="</>",H.state=C.TEXT;return}if(H.script){if(H.tagName!=="script"){H.script+="</"+H.tagName+">",H.tagName="",H.state=C.SCRIPT;return}D(H,"onscript",H.script),H.script=""}var j=H.tags.length,ge=H.tagName;H.strict||(ge=ge[H.looseCase]());for(var he=ge;j--;){var le=H.tags[j];if(le.name!==he)ae(H,"Unexpected close tag");else break}if(j<0){ae(H,"Unmatched closing tag: "+H.tagName),H.textNode+="</"+H.tagName+">",H.state=C.TEXT;return}H.tagName=ge;for(var pe=H.tags.length;pe-- >j;){var De=H.tag=H.tags.pop();H.tagName=H.tag.name,D(H,"onclosetag",H.tagName);var z={};for(var Z in De.ns)z[Z]=De.ns[Z];var Y=H.tags[H.tags.length-1]||H;H.opt.xmlns&&De.ns!==Y.ns&&Object.keys(De.ns).forEach(function(I){var L=De.ns[I];D(H,"onclosenamespace",{prefix:I,uri:L})})}j===0&&(H.closedRoot=!0),H.tagName=H.attribValue=H.attribName="",H.attribList.length=0,H.state=C.TEXT}function ee(H){var j=H.entity,ge=j.toLowerCase(),he,le="";return H.ENTITIES[j]?H.ENTITIES[j]:H.ENTITIES[ge]?H.ENTITIES[ge]:(j=ge,j.charAt(0)==="#"&&(j.charAt(1)==="x"?(j=j.slice(2),he=parseInt(j,16),le=he.toString(16)):(j=j.slice(1),he=parseInt(j,10),le=he.toString(10))),j=j.replace(/^0+/,""),isNaN(he)||le.toLowerCase()!==j?(ae(H,"Invalid character entity"),"&"+H.entity+";"):String.fromCodePoint(he))}function se(H,j){j==="<"?(H.state=C.OPEN_WAKA,H.startTagPosition=H.position):N(j)||(ae(H,"Non-whitespace before first tag."),H.textNode=j,H.state=C.TEXT)}function me(H,j){var ge="";return j<H.length&&(ge=H.charAt(j)),ge}function ue(H){var j=this;if(this.error)throw this.error;if(j.closed)return ve(j,"Cannot write after close. Assign an onready handler.");if(H===null)return ce(j);typeof H=="object"&&(H=H.toString());for(var ge=0,he="";he=me(H,ge++),j.c=he,!!he;)switch(j.trackPosition&&(j.position++,he===`
`?(j.line++,j.column=0):j.column++),j.state){case C.BEGIN:if(j.state=C.BEGIN_WHITESPACE,he==="\uFEFF")continue;se(j,he);continue;case C.BEGIN_WHITESPACE:se(j,he);continue;case C.TEXT:if(j.sawRoot&&!j.closedRoot){for(var le=ge-1;he&&he!=="<"&&he!=="&";)he=me(H,ge++),he&&j.trackPosition&&(j.position++,he===`
`?(j.line++,j.column=0):j.column++);j.textNode+=H.substring(le,ge-1)}he==="<"&&!(j.sawRoot&&j.closedRoot&&!j.strict)?(j.state=C.OPEN_WAKA,j.startTagPosition=j.position):(!N(he)&&(!j.sawRoot||j.closedRoot)&&ae(j,"Text data outside of root node."),he==="&"?j.state=C.TEXT_ENTITY:j.textNode+=he);continue;case C.SCRIPT:he==="<"?j.state=C.SCRIPT_ENDING:j.script+=he;continue;case C.SCRIPT_ENDING:he==="/"?j.state=C.CLOSE_TAG:(j.script+="<"+he,j.state=C.SCRIPT);continue;case C.OPEN_WAKA:if(he==="!")j.state=C.SGML_DECL,j.sgmlDecl="";else if(!N(he))if(V(R,he))j.state=C.OPEN_TAG,j.tagName=he;else if(he==="/")j.state=C.CLOSE_TAG,j.tagName="";else if(he==="?")j.state=C.PROC_INST,j.procInstName=j.procInstBody="";else{if(ae(j,"Unencoded <"),j.startTagPosition+1<j.position){var pe=j.position-j.startTagPosition;he=new Array(pe).join(" ")+he}j.textNode+="<"+he,j.state=C.TEXT}continue;case C.SGML_DECL:(j.sgmlDecl+he).toUpperCase()===g?(D(j,"onopencdata"),j.state=C.CDATA,j.sgmlDecl="",j.cdata=""):j.sgmlDecl+he==="--"?(j.state=C.COMMENT,j.comment="",j.sgmlDecl=""):(j.sgmlDecl+he).toUpperCase()===y?(j.state=C.DOCTYPE,(j.doctype||j.sawRoot)&&ae(j,"Inappropriately located doctype declaration"),j.doctype="",j.sgmlDecl=""):he===">"?(D(j,"onsgmldeclaration",j.sgmlDecl),j.sgmlDecl="",j.state=C.TEXT):($(he)&&(j.state=C.SGML_DECL_QUOTED),j.sgmlDecl+=he);continue;case C.SGML_DECL_QUOTED:he===j.q&&(j.state=C.SGML_DECL,j.q=""),j.sgmlDecl+=he;continue;case C.DOCTYPE:he===">"?(j.state=C.TEXT,D(j,"ondoctype",j.doctype),j.doctype=!0):(j.doctype+=he,he==="["?j.state=C.DOCTYPE_DTD:$(he)&&(j.state=C.DOCTYPE_QUOTED,j.q=he));continue;case C.DOCTYPE_QUOTED:j.doctype+=he,he===j.q&&(j.q="",j.state=C.DOCTYPE);continue;case C.DOCTYPE_DTD:j.doctype+=he,he==="]"?j.state=C.DOCTYPE:$(he)&&(j.state=C.DOCTYPE_DTD_QUOTED,j.q=he);continue;case C.DOCTYPE_DTD_QUOTED:j.doctype+=he,he===j.q&&(j.state=C.DOCTYPE_DTD,j.q="");continue;case C.COMMENT:he==="-"?j.state=C.COMMENT_ENDING:j.comment+=he;continue;case C.COMMENT_ENDING:he==="-"?(j.state=C.COMMENT_ENDED,j.comment=F(j.opt,j.comment),j.comment&&D(j,"oncomment",j.comment),j.comment=""):(j.comment+="-"+he,j.state=C.COMMENT);continue;case C.COMMENT_ENDED:he!==">"?(ae(j,"Malformed comment"),j.comment+="--"+he,j.state=C.COMMENT):j.state=C.TEXT;continue;case C.CDATA:he==="]"?j.state=C.CDATA_ENDING:j.cdata+=he;continue;case C.CDATA_ENDING:he==="]"?j.state=C.CDATA_ENDING_2:(j.cdata+="]"+he,j.state=C.CDATA);continue;case C.CDATA_ENDING_2:he===">"?(j.cdata&&D(j,"oncdata",j.cdata),D(j,"onclosecdata"),j.cdata="",j.state=C.TEXT):he==="]"?j.cdata+="]":(j.cdata+="]]"+he,j.state=C.CDATA);continue;case C.PROC_INST:he==="?"?j.state=C.PROC_INST_ENDING:N(he)?j.state=C.PROC_INST_BODY:j.procInstName+=he;continue;case C.PROC_INST_BODY:if(!j.procInstBody&&N(he))continue;he==="?"?j.state=C.PROC_INST_ENDING:j.procInstBody+=he;continue;case C.PROC_INST_ENDING:he===">"?(D(j,"onprocessinginstruction",{name:j.procInstName,body:j.procInstBody}),j.procInstName=j.procInstBody="",j.state=C.TEXT):(j.procInstBody+="?"+he,j.state=C.PROC_INST_BODY);continue;case C.OPEN_TAG:V(E,he)?j.tagName+=he:(_e(j),he===">"?re(j):he==="/"?j.state=C.OPEN_TAG_SLASH:(N(he)||ae(j,"Invalid character in tag name"),j.state=C.ATTRIB));continue;case C.OPEN_TAG_SLASH:he===">"?(re(j,!0),O(j)):(ae(j,"Forward-slash in opening tag not followed by >"),j.state=C.ATTRIB);continue;case C.ATTRIB:if(N(he))continue;he===">"?re(j):he==="/"?j.state=C.OPEN_TAG_SLASH:V(R,he)?(j.attribName=he,j.attribValue="",j.state=C.ATTRIB_NAME):ae(j,"Invalid attribute name");continue;case C.ATTRIB_NAME:he==="="?j.state=C.ATTRIB_VALUE:he===">"?(ae(j,"Attribute without value"),j.attribValue=j.attribName,Ue(j),re(j)):N(he)?j.state=C.ATTRIB_NAME_SAW_WHITE:V(E,he)?j.attribName+=he:ae(j,"Invalid attribute name");continue;case C.ATTRIB_NAME_SAW_WHITE:if(he==="=")j.state=C.ATTRIB_VALUE;else{if(N(he))continue;ae(j,"Attribute without value"),j.tag.attributes[j.attribName]="",j.attribValue="",D(j,"onattribute",{name:j.attribName,value:""}),j.attribName="",he===">"?re(j):V(R,he)?(j.attribName=he,j.state=C.ATTRIB_NAME):(ae(j,"Invalid attribute name"),j.state=C.ATTRIB)}continue;case C.ATTRIB_VALUE:if(N(he))continue;$(he)?(j.q=he,j.state=C.ATTRIB_VALUE_QUOTED):(ae(j,"Unquoted attribute value"),j.state=C.ATTRIB_VALUE_UNQUOTED,j.attribValue=he);continue;case C.ATTRIB_VALUE_QUOTED:if(he!==j.q){he==="&"?j.state=C.ATTRIB_VALUE_ENTITY_Q:j.attribValue+=he;continue}Ue(j),j.q="",j.state=C.ATTRIB_VALUE_CLOSED;continue;case C.ATTRIB_VALUE_CLOSED:N(he)?j.state=C.ATTRIB:he===">"?re(j):he==="/"?j.state=C.OPEN_TAG_SLASH:V(R,he)?(ae(j,"No whitespace between attributes"),j.attribName=he,j.attribValue="",j.state=C.ATTRIB_NAME):ae(j,"Invalid attribute name");continue;case C.ATTRIB_VALUE_UNQUOTED:if(!Q(he)){he==="&"?j.state=C.ATTRIB_VALUE_ENTITY_U:j.attribValue+=he;continue}Ue(j),he===">"?re(j):j.state=C.ATTRIB;continue;case C.CLOSE_TAG:if(j.tagName)he===">"?O(j):V(E,he)?j.tagName+=he:j.script?(j.script+="</"+j.tagName,j.tagName="",j.state=C.SCRIPT):(N(he)||ae(j,"Invalid tagname in closing tag"),j.state=C.CLOSE_TAG_SAW_WHITE);else{if(N(he))continue;G(R,he)?j.script?(j.script+="</"+he,j.state=C.SCRIPT):ae(j,"Invalid tagname in closing tag."):j.tagName=he}continue;case C.CLOSE_TAG_SAW_WHITE:if(N(he))continue;he===">"?O(j):ae(j,"Invalid characters in closing tag");continue;case C.TEXT_ENTITY:case C.ATTRIB_VALUE_ENTITY_Q:case C.ATTRIB_VALUE_ENTITY_U:var De,z;switch(j.state){case C.TEXT_ENTITY:De=C.TEXT,z="textNode";break;case C.ATTRIB_VALUE_ENTITY_Q:De=C.ATTRIB_VALUE_QUOTED,z="attribValue";break;case C.ATTRIB_VALUE_ENTITY_U:De=C.ATTRIB_VALUE_UNQUOTED,z="attribValue";break}he===";"?(j[z]+=ee(j),j.entity="",j.state=De):V(j.entity.length?P:M,he)?j.entity+=he:(ae(j,"Invalid character in entity name"),j[z]+="&"+j.entity+he,j.entity="",j.state=De);continue;default:throw new Error(j,"Unknown state: "+j.state)}return j.position>=j.bufferCheckPosition&&i(j),j}String.fromCodePoint||(function(){var H=String.fromCharCode,j=Math.floor,ge=function(){var he=16384,le=[],pe,De,z=-1,Z=arguments.length;if(!Z)return"";for(var Y="";++z<Z;){var I=Number(arguments[z]);if(!isFinite(I)||I<0||I>1114111||j(I)!==I)throw RangeError("Invalid code point: "+I);I<=65535?le.push(I):(I-=65536,pe=(I>>10)+55296,De=I%1024+56320,le.push(pe,De)),(z+1===Z||le.length>he)&&(Y+=H.apply(null,le),le.length=0)}return Y};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ge,configurable:!0,writable:!0}):String.fromCodePoint=ge})()})(t)})(y1)),y1}var Mv,GT;function Zw(){return GT||(GT=1,Mv={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}),Mv}var Ov,jT;function e_(){if(jT)return Ov;jT=1;var t=Zw().isArray;return Ov={copyOptions:function(e){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r},ensureFlagExists:function(e,n){(!(e in n)||typeof n[e]!="boolean")&&(n[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!t(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,n){(!(e+"Key"in n)||typeof n[e+"Key"]!="string")&&(n[e+"Key"]=n.compact?"_"+e:e)},checkFnExists:function(e,n){return e+"Fn"in n}},Ov}var Fv,$T;function l6(){if($T)return Fv;$T=1;var t=Fq(),e=e_(),n=Zw().isArray,r,i;function s(E){return r=e.copyOptions(E),e.ensureFlagExists("ignoreDeclaration",r),e.ensureFlagExists("ignoreInstruction",r),e.ensureFlagExists("ignoreAttributes",r),e.ensureFlagExists("ignoreText",r),e.ensureFlagExists("ignoreComment",r),e.ensureFlagExists("ignoreCdata",r),e.ensureFlagExists("ignoreDoctype",r),e.ensureFlagExists("compact",r),e.ensureFlagExists("alwaysChildren",r),e.ensureFlagExists("addParent",r),e.ensureFlagExists("trim",r),e.ensureFlagExists("nativeType",r),e.ensureFlagExists("nativeTypeAttributes",r),e.ensureFlagExists("sanitize",r),e.ensureFlagExists("instructionHasAttributes",r),e.ensureFlagExists("captureSpacesBetweenElements",r),e.ensureAlwaysArrayExists(r),e.ensureKeyExists("declaration",r),e.ensureKeyExists("instruction",r),e.ensureKeyExists("attributes",r),e.ensureKeyExists("text",r),e.ensureKeyExists("comment",r),e.ensureKeyExists("cdata",r),e.ensureKeyExists("doctype",r),e.ensureKeyExists("type",r),e.ensureKeyExists("name",r),e.ensureKeyExists("elements",r),e.ensureKeyExists("parent",r),e.checkFnExists("doctype",r),e.checkFnExists("instruction",r),e.checkFnExists("cdata",r),e.checkFnExists("comment",r),e.checkFnExists("text",r),e.checkFnExists("instructionName",r),e.checkFnExists("elementName",r),e.checkFnExists("attributeName",r),e.checkFnExists("attributeValue",r),e.checkFnExists("attributes",r),r}function l(E){var M=Number(E);if(!isNaN(M))return M;var P=E.toLowerCase();return P==="true"?!0:P==="false"?!1:E}function u(E,M){var P;if(r.compact){if(!i[r[E+"Key"]]&&(n(r.alwaysArray)?r.alwaysArray.indexOf(r[E+"Key"])!==-1:r.alwaysArray)&&(i[r[E+"Key"]]=[]),i[r[E+"Key"]]&&!n(i[r[E+"Key"]])&&(i[r[E+"Key"]]=[i[r[E+"Key"]]]),E+"Fn"in r&&typeof M=="string"&&(M=r[E+"Fn"](M,i)),E==="instruction"&&("instructionFn"in r||"instructionNameFn"in r)){for(P in M)if(M.hasOwnProperty(P))if("instructionFn"in r)M[P]=r.instructionFn(M[P],P,i);else{var N=M[P];delete M[P],M[r.instructionNameFn(P,N,i)]=N}}n(i[r[E+"Key"]])?i[r[E+"Key"]].push(M):i[r[E+"Key"]]=M}else{i[r.elementsKey]||(i[r.elementsKey]=[]);var $={};if($[r.typeKey]=E,E==="instruction"){for(P in M)if(M.hasOwnProperty(P))break;$[r.nameKey]="instructionNameFn"in r?r.instructionNameFn(P,M,i):P,r.instructionHasAttributes?($[r.attributesKey]=M[P][r.attributesKey],"instructionFn"in r&&($[r.attributesKey]=r.instructionFn($[r.attributesKey],P,i))):("instructionFn"in r&&(M[P]=r.instructionFn(M[P],P,i)),$[r.instructionKey]=M[P])}else E+"Fn"in r&&(M=r[E+"Fn"](M,i)),$[r[E+"Key"]]=M;r.addParent&&($[r.parentKey]=i),i[r.elementsKey].push($)}}function c(E){if("attributesFn"in r&&E&&(E=r.attributesFn(E,i)),(r.trim||"attributeValueFn"in r||"attributeNameFn"in r||r.nativeTypeAttributes)&&E){var M;for(M in E)if(E.hasOwnProperty(M)&&(r.trim&&(E[M]=E[M].trim()),r.nativeTypeAttributes&&(E[M]=l(E[M])),"attributeValueFn"in r&&(E[M]=r.attributeValueFn(E[M],M,i)),"attributeNameFn"in r)){var P=E[M];delete E[M],E[r.attributeNameFn(M,E[M],i)]=P}}return E}function f(E){var M={};if(E.body&&(E.name.toLowerCase()==="xml"||r.instructionHasAttributes)){for(var P=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,N;(N=P.exec(E.body))!==null;)M[N[1]]=N[2]||N[3]||N[4];M=c(M)}if(E.name.toLowerCase()==="xml"){if(r.ignoreDeclaration)return;i[r.declarationKey]={},Object.keys(M).length&&(i[r.declarationKey][r.attributesKey]=M),r.addParent&&(i[r.declarationKey][r.parentKey]=i)}else{if(r.ignoreInstruction)return;r.trim&&(E.body=E.body.trim());var $={};r.instructionHasAttributes&&Object.keys(M).length?($[E.name]={},$[E.name][r.attributesKey]=M):$[E.name]=E.body,u("instruction",$)}}function d(E,M){var P;if(typeof E=="object"&&(M=E.attributes,E=E.name),M=c(M),"elementNameFn"in r&&(E=r.elementNameFn(E,i)),r.compact){if(P={},!r.ignoreAttributes&&M&&Object.keys(M).length){P[r.attributesKey]={};var N;for(N in M)M.hasOwnProperty(N)&&(P[r.attributesKey][N]=M[N])}!(E in i)&&(n(r.alwaysArray)?r.alwaysArray.indexOf(E)!==-1:r.alwaysArray)&&(i[E]=[]),i[E]&&!n(i[E])&&(i[E]=[i[E]]),n(i[E])?i[E].push(P):i[E]=P}else i[r.elementsKey]||(i[r.elementsKey]=[]),P={},P[r.typeKey]="element",P[r.nameKey]=E,!r.ignoreAttributes&&M&&Object.keys(M).length&&(P[r.attributesKey]=M),r.alwaysChildren&&(P[r.elementsKey]=[]),i[r.elementsKey].push(P);P[r.parentKey]=i,i=P}function g(E){r.ignoreText||!E.trim()&&!r.captureSpacesBetweenElements||(r.trim&&(E=E.trim()),r.nativeType&&(E=l(E)),r.sanitize&&(E=E.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),u("text",E))}function y(E){r.ignoreComment||(r.trim&&(E=E.trim()),u("comment",E))}function m(E){var M=i[r.parentKey];r.addParent||delete i[r.parentKey],i=M}function x(E){r.ignoreCdata||(r.trim&&(E=E.trim()),u("cdata",E))}function S(E){r.ignoreDoctype||(E=E.replace(/^ /,""),r.trim&&(E=E.trim()),u("doctype",E))}function R(E){E.note=E}return Fv=function(E,M){var P=t.parser(!0,{}),N={};if(i=N,r=s(M),P.opt={strictEntities:!0},P.onopentag=d,P.ontext=g,P.oncomment=y,P.onclosetag=m,P.onerror=R,P.oncdata=x,P.ondoctype=S,P.onprocessinginstruction=f,P.write(E).close(),N[r.elementsKey]){var $=N[r.elementsKey];delete N[r.elementsKey],N[r.elementsKey]=$,delete N.text}return N},Fv}var Uv,WT;function Uq(){if(WT)return Uv;WT=1;var t=e_(),e=l6();function n(r){var i=t.copyOptions(r);return t.ensureSpacesExists(i),i}return Uv=function(r,i){var s,l,u,c;return s=n(i),l=e(r,s),c="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?u=JSON.stringify(l,function(f,d){return f===c?"_":d},s.spaces):u=JSON.stringify(l,null,s.spaces),u.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},Uv}var Bv,KT;function u6(){if(KT)return Bv;KT=1;var t=e_(),e=Zw().isArray,n,r;function i(P){var N=t.copyOptions(P);return t.ensureFlagExists("ignoreDeclaration",N),t.ensureFlagExists("ignoreInstruction",N),t.ensureFlagExists("ignoreAttributes",N),t.ensureFlagExists("ignoreText",N),t.ensureFlagExists("ignoreComment",N),t.ensureFlagExists("ignoreCdata",N),t.ensureFlagExists("ignoreDoctype",N),t.ensureFlagExists("compact",N),t.ensureFlagExists("indentText",N),t.ensureFlagExists("indentCdata",N),t.ensureFlagExists("indentAttributes",N),t.ensureFlagExists("indentInstruction",N),t.ensureFlagExists("fullTagEmptyElement",N),t.ensureFlagExists("noQuotesForNativeAttributes",N),t.ensureSpacesExists(N),typeof N.spaces=="number"&&(N.spaces=Array(N.spaces+1).join(" ")),t.ensureKeyExists("declaration",N),t.ensureKeyExists("instruction",N),t.ensureKeyExists("attributes",N),t.ensureKeyExists("text",N),t.ensureKeyExists("comment",N),t.ensureKeyExists("cdata",N),t.ensureKeyExists("doctype",N),t.ensureKeyExists("type",N),t.ensureKeyExists("name",N),t.ensureKeyExists("elements",N),t.checkFnExists("doctype",N),t.checkFnExists("instruction",N),t.checkFnExists("cdata",N),t.checkFnExists("comment",N),t.checkFnExists("text",N),t.checkFnExists("instructionName",N),t.checkFnExists("elementName",N),t.checkFnExists("attributeName",N),t.checkFnExists("attributeValue",N),t.checkFnExists("attributes",N),t.checkFnExists("fullTagEmptyElement",N),N}function s(P,N,$){return(!$&&P.spaces?`
`:"")+Array(N+1).join(P.spaces)}function l(P,N,$){if(N.ignoreAttributes)return"";"attributesFn"in N&&(P=N.attributesFn(P,r,n));var Q,V,G,C,X=[];for(Q in P)P.hasOwnProperty(Q)&&P[Q]!==null&&P[Q]!==void 0&&(C=N.noQuotesForNativeAttributes&&typeof P[Q]!="string"?"":'"',V=""+P[Q],V=V.replace(/"/g,"&quot;"),G="attributeNameFn"in N?N.attributeNameFn(Q,V,r,n):Q,X.push(N.spaces&&N.indentAttributes?s(N,$+1,!1):" "),X.push(G+"="+C+("attributeValueFn"in N?N.attributeValueFn(V,Q,r,n):V)+C));return P&&Object.keys(P).length&&N.spaces&&N.indentAttributes&&X.push(s(N,$,!1)),X.join("")}function u(P,N,$){return n=P,r="xml",N.ignoreDeclaration?"":"<?xml"+l(P[N.attributesKey],N,$)+"?>"}function c(P,N,$){if(N.ignoreInstruction)return"";var Q;for(Q in P)if(P.hasOwnProperty(Q))break;var V="instructionNameFn"in N?N.instructionNameFn(Q,P[Q],r,n):Q;if(typeof P[Q]=="object")return n=P,r=V,"<?"+V+l(P[Q][N.attributesKey],N,$)+"?>";var G=P[Q]?P[Q]:"";return"instructionFn"in N&&(G=N.instructionFn(G,Q,r,n)),"<?"+V+(G?" "+G:"")+"?>"}function f(P,N){return N.ignoreComment?"":"<!--"+("commentFn"in N?N.commentFn(P,r,n):P)+"-->"}function d(P,N){return N.ignoreCdata?"":"<![CDATA["+("cdataFn"in N?N.cdataFn(P,r,n):P.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function g(P,N){return N.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in N?N.doctypeFn(P,r,n):P)+">"}function y(P,N){return N.ignoreText?"":(P=""+P,P=P.replace(/&amp;/g,"&"),P=P.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in N?N.textFn(P,r,n):P)}function m(P,N){var $;if(P.elements&&P.elements.length)for($=0;$<P.elements.length;++$)switch(P.elements[$][N.typeKey]){case"text":if(N.indentText)return!0;break;case"cdata":if(N.indentCdata)return!0;break;case"instruction":if(N.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function x(P,N,$){n=P,r=P.name;var Q=[],V="elementNameFn"in N?N.elementNameFn(P.name,P):P.name;Q.push("<"+V),P[N.attributesKey]&&Q.push(l(P[N.attributesKey],N,$));var G=P[N.elementsKey]&&P[N.elementsKey].length||P[N.attributesKey]&&P[N.attributesKey]["xml:space"]==="preserve";return G||("fullTagEmptyElementFn"in N?G=N.fullTagEmptyElementFn(P.name,P):G=N.fullTagEmptyElement),G?(Q.push(">"),P[N.elementsKey]&&P[N.elementsKey].length&&(Q.push(S(P[N.elementsKey],N,$+1)),n=P,r=P.name),Q.push(N.spaces&&m(P,N)?`
`+Array($+1).join(N.spaces):""),Q.push("</"+V+">")):Q.push("/>"),Q.join("")}function S(P,N,$,Q){return P.reduce(function(V,G){var C=s(N,$,Q&&!V);switch(G.type){case"element":return V+C+x(G,N,$);case"comment":return V+C+f(G[N.commentKey],N);case"doctype":return V+C+g(G[N.doctypeKey],N);case"cdata":return V+(N.indentCdata?C:"")+d(G[N.cdataKey],N);case"text":return V+(N.indentText?C:"")+y(G[N.textKey],N);case"instruction":var X={};return X[G[N.nameKey]]=G[N.attributesKey]?G:G[N.instructionKey],V+(N.indentInstruction?C:"")+c(X,N,$)}},"")}function R(P,N,$){var Q;for(Q in P)if(P.hasOwnProperty(Q))switch(Q){case N.parentKey:case N.attributesKey:break;case N.textKey:if(N.indentText||$)return!0;break;case N.cdataKey:if(N.indentCdata||$)return!0;break;case N.instructionKey:if(N.indentInstruction||$)return!0;break;case N.doctypeKey:case N.commentKey:return!0;default:return!0}return!1}function E(P,N,$,Q,V){n=P,r=N;var G="elementNameFn"in $?$.elementNameFn(N,P):N;if(typeof P>"u"||P===null||P==="")return"fullTagEmptyElementFn"in $&&$.fullTagEmptyElementFn(N,P)||$.fullTagEmptyElement?"<"+G+"></"+G+">":"<"+G+"/>";var C=[];if(N){if(C.push("<"+G),typeof P!="object")return C.push(">"+y(P,$)+"</"+G+">"),C.join("");P[$.attributesKey]&&C.push(l(P[$.attributesKey],$,Q));var X=R(P,$,!0)||P[$.attributesKey]&&P[$.attributesKey]["xml:space"]==="preserve";if(X||("fullTagEmptyElementFn"in $?X=$.fullTagEmptyElementFn(N,P):X=$.fullTagEmptyElement),X)C.push(">");else return C.push("/>"),C.join("")}return C.push(M(P,$,Q+1,!1)),n=P,r=N,N&&C.push((V?s($,Q,!1):"")+"</"+G+">"),C.join("")}function M(P,N,$,Q){var V,G,C,X=[];for(G in P)if(P.hasOwnProperty(G))for(C=e(P[G])?P[G]:[P[G]],V=0;V<C.length;++V){switch(G){case N.declarationKey:X.push(u(C[V],N,$));break;case N.instructionKey:X.push((N.indentInstruction?s(N,$,Q):"")+c(C[V],N,$));break;case N.attributesKey:case N.parentKey:break;case N.textKey:X.push((N.indentText?s(N,$,Q):"")+y(C[V],N));break;case N.cdataKey:X.push((N.indentCdata?s(N,$,Q):"")+d(C[V],N));break;case N.doctypeKey:X.push(s(N,$,Q)+g(C[V],N));break;case N.commentKey:X.push(s(N,$,Q)+f(C[V],N));break;default:X.push(s(N,$,Q)+E(C[V],G,N,$,R(C[V],N)))}Q=Q&&!X.length}return X.join("")}return Bv=function(P,N){N=i(N);var $=[];return n=P,r="_root_",N.compact?$.push(M(P,N,0,!0)):(P[N.declarationKey]&&$.push(u(P[N.declarationKey],N,0)),P[N.elementsKey]&&P[N.elementsKey].length&&$.push(S(P[N.elementsKey],N,0,!$.length))),$.join("")},Bv}var Vv,YT;function Bq(){if(YT)return Vv;YT=1;var t=u6();return Vv=function(e,n){e instanceof Buffer&&(e=e.toString());var r=null;if(typeof e=="string")try{r=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else r=e;return t(r,n)},Vv}var qv,JT;function Vq(){if(JT)return qv;JT=1;var t=l6(),e=Uq(),n=u6(),r=Bq();return qv={xml2js:t,xml2json:e,js2xml:n,json2xml:r},qv}var c6=Vq();const t_=t=>{switch(t.type){case void 0:case"element":const e=new zq(t.name,t.attributes),n=t.elements||[];for(const r of n){const i=t_(r);i!==void 0&&e.push(i)}return e;case"text":return t.text;default:return}};class qq extends Wt{}class zq extends at{static fromXmlString(e){const n=c6.xml2js(e,{compact:!1});return t_(n)}constructor(e,n){super(e),n&&this.root.push(new qq(n))}push(e){this.root.push(e)}}class Hq extends at{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class f6 extends at{constructor(e,n){super(e),n&&(this.root=n.root)}}const Qs=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},e0=t=>{const e=Qs(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},h6=(t,e)=>{const n=e*2;if(t.length!==n||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${n} digit hex value`);return t},XT=t=>h6(t,1),n_=t=>{const e=t.slice(-2),n=t.substring(0,t.length-2);return`${Number(n)}${e}`},d6=t=>{const e=n_(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},Rh=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return h6(e,3)},pu=t=>typeof t=="string"?n_(t):Qs(t),Gq=t=>typeof t=="string"?d6(t):e0(t),Ms=t=>typeof t=="string"?d6(t):e0(t),jq=t=>{const e=t.substring(0,t.length-1);return`${Number(e)}%`},p6=t=>typeof t=="number"?Qs(t):t.slice(-1)==="%"?jq(t):n_(t),$q=e0,Wq=e0,Kq=t=>t.toISOString();class Tt extends at{constructor(e,n=!0){super(e),n!==!0&&this.root.push(new Di({val:n}))}}class zv extends at{constructor(e,n){super(e),this.root.push(new Di({val:Gq(n)}))}}class tf extends at{constructor(e,n){super(e),this.root.push(new Di({val:n}))}}const Ud=(t,e)=>new Pr({name:t,attributes:{value:{key:"w:val",value:e}}});class Jd extends at{constructor(e,n){super(e),this.root.push(new Di({val:n}))}}class Yq extends at{constructor(e,n){super(e),this.root.push(new Di({val:n}))}}class Hc extends at{constructor(e,n){super(e),this.root.push(n)}}class Pr extends at{constructor({name:e,attributes:n,children:r}){super(e),n&&this.root.push(new Su(n)),r&&this.root.push(...r)}}const Do={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class Jq extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{val:"w:val"})}}class m6 extends at{constructor(e){super("w:jc"),this.root.push(new Jq({val:e}))}}class Lr extends at{constructor(e,{color:n,size:r,space:i,style:s}){super(e),this.root.push(new Xq({style:s,color:n===void 0?void 0:Rh(n),size:r===void 0?void 0:$q(r),space:i===void 0?void 0:Wq(i)}))}}class Xq extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const r_={SINGLE:"single",NONE:"none"};class Qq extends Au{constructor(e){super("w:pBdr"),e.top&&this.root.push(new Lr("w:top",e.top)),e.bottom&&this.root.push(new Lr("w:bottom",e.bottom)),e.left&&this.root.push(new Lr("w:left",e.left)),e.right&&this.root.push(new Lr("w:right",e.right)),e.between&&this.root.push(new Lr("w:between",e.between))}}class Zq extends at{constructor(){super("w:pBdr");const e=new Lr("w:bottom",{color:"auto",space:1,style:r_.SINGLE,size:6});this.root.push(e)}}class ez extends at{constructor({start:e,end:n,left:r,right:i,hanging:s,firstLine:l}){super("w:ind"),this.root.push(new Su({start:{key:"w:start",value:e===void 0?void 0:pu(e)},end:{key:"w:end",value:n===void 0?void 0:pu(n)},left:{key:"w:left",value:r===void 0?void 0:pu(r)},right:{key:"w:right",value:i===void 0?void 0:pu(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:Ms(s)},firstLine:{key:"w:firstLine",value:l===void 0?void 0:Ms(l)}}))}}let tz=class extends at{constructor(){super("w:br")}};const i_={BEGIN:"begin",END:"end",SEPARATE:"separate"};class s_ extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Vm extends at{constructor(e){super("w:fldChar"),this.root.push(new s_({type:i_.BEGIN,dirty:e}))}}class qm extends at{constructor(e){super("w:fldChar"),this.root.push(new s_({type:i_.SEPARATE,dirty:e}))}}class zm extends at{constructor(e){super("w:fldChar"),this.root.push(new s_({type:i_.END,dirty:e}))}}const kh={DEFAULT:"default",PRESERVE:"preserve"};class Lh extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{space:"xml:space"})}}class nz extends at{constructor(){super("w:instrText"),this.root.push(new Lh({space:kh.PRESERVE})),this.root.push("PAGE")}}class rz extends at{constructor(){super("w:instrText"),this.root.push(new Lh({space:kh.PRESERVE})),this.root.push("NUMPAGES")}}class iz extends at{constructor(){super("w:instrText"),this.root.push(new Lh({space:kh.PRESERVE})),this.root.push("SECTIONPAGES")}}class sz extends at{constructor(){super("w:instrText"),this.root.push(new Lh({space:kh.PRESERVE})),this.root.push("SECTION")}}class oz extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class t0 extends at{constructor({fill:e,color:n,type:r}){super("w:shd"),this.root.push(new oz({fill:e===void 0?void 0:Rh(e),color:n===void 0?void 0:Rh(n),type:r}))}}class az extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const lz={DOT:"dot"};class uz extends at{constructor(e){super("w:em"),this.root.push(new Di({val:e}))}}class cz extends uz{constructor(e=lz.DOT){super(e)}}class fz extends at{constructor(e){super("w:spacing"),this.root.push(new Di({val:pu(e)}))}}class hz extends at{constructor(e){super("w:color"),this.root.push(new Di({val:Rh(e)}))}}class dz extends at{constructor(e){super("w:highlight"),this.root.push(new Di({val:e}))}}class pz extends at{constructor(e){super("w:highlightCs"),this.root.push(new Di({val:e}))}}const mz=t=>new Pr({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class QT extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class Hv extends at{constructor(e,n){if(super("w:rFonts"),typeof e=="string"){const r=e;this.root.push(new QT({ascii:r,cs:r,eastAsia:r,hAnsi:r,hint:n}))}else{const r=e;this.root.push(new QT(r))}}}let g6=class extends at{constructor(e){super("w:vertAlign"),this.root.push(new Di({val:e}))}};class gz extends g6{constructor(){super("superscript")}}class yz extends g6{constructor(){super("subscript")}}const y6={SINGLE:"single"};class vz extends at{constructor(e=y6.SINGLE,n){super("w:u"),this.root.push(new Di({val:e,color:n===void 0?void 0:Rh(n)}))}}class pf extends Au{constructor(e){var n,r;if(super("w:rPr"),!e)return;e.style&&this.push(new tf("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new Hv(e.font)):"name"in e.font?this.push(new Hv(e.font.name,e.font.hint)):this.push(new Hv(e.font))),e.bold!==void 0&&this.push(new Tt("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new Tt("w:bCs",(n=e.boldComplexScript)!=null?n:e.bold)),e.italics!==void 0&&this.push(new Tt("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new Tt("w:iCs",(r=e.italicsComplexScript)!=null?r:e.italics)),e.smallCaps!==void 0?this.push(new Tt("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new Tt("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new Tt("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new Tt("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new Tt("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new Tt("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new Tt("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new Tt("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new Tt("w:vanish",e.vanish)),e.color&&this.push(new hz(e.color)),e.characterSpacing&&this.push(new fz(e.characterSpacing)),e.scale!==void 0&&this.push(new Jd("w:w",e.scale)),e.kern&&this.push(new zv("w:kern",e.kern)),e.position&&this.push(new tf("w:position",e.position)),e.size!==void 0&&this.push(new zv("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new zv("w:szCs",i)),e.highlight&&this.push(new dz(e.highlight));const s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new pz(s)),e.underline&&this.push(new vz(e.underline.type,e.underline.color)),e.effect&&this.push(new tf("w:effect",e.effect)),e.border&&this.push(new Lr("w:bdr",e.border)),e.shading&&this.push(new t0(e.shading)),e.subScript&&this.push(new yz),e.superScript&&this.push(new gz),e.rightToLeft!==void 0&&this.push(new Tt("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new cz(e.emphasisMark.type)),e.language&&this.push(mz(e.language)),e.specVanish&&this.push(new Tt("w:specVanish",e.vanish)),e.math&&this.push(new Tt("w:oMath",e.math)),e.revision&&this.push(new wz(e.revision))}push(e){this.root.push(e)}}class wz extends at{constructor(e){super("w:rPrChange"),this.root.push(new az({id:e.id,author:e.author,date:e.date})),this.addChildElement(new pf(e))}}class ZT extends at{constructor(e){var n;super("w:t"),typeof e=="string"?(this.root.push(new Lh({space:kh.PRESERVE})),this.root.push(e)):(this.root.push(new Lh({space:(n=e.space)!=null?n:kh.DEFAULT})),this.root.push(e.text))}}const Hm={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class wp extends at{constructor(e){if(super("w:r"),st(this,"properties"),this.properties=new pf(e),this.root.push(this.properties),e.break)for(let n=0;n<e.break;n++)this.root.push(new tz);if(e.children)for(const n of e.children){if(typeof n=="string"){switch(n){case Hm.CURRENT:this.root.push(new Vm),this.root.push(new nz),this.root.push(new qm),this.root.push(new zm);break;case Hm.TOTAL_PAGES:this.root.push(new Vm),this.root.push(new rz),this.root.push(new qm),this.root.push(new zm);break;case Hm.TOTAL_PAGES_IN_SECTION:this.root.push(new Vm),this.root.push(new iz),this.root.push(new qm),this.root.push(new zm);break;case Hm.CURRENT_SECTION:this.root.push(new Vm),this.root.push(new sz),this.root.push(new qm),this.root.push(new zm);break;default:this.root.push(new ZT(n));break}continue}this.root.push(n)}else e.text!==void 0&&this.root.push(new ZT(e.text))}}class Hr extends wp{constructor(e){super(typeof e=="string"?{text:e}:e)}}var Gv={},zr={},jv,e4;function _p(){if(e4)return jv;e4=1,jv=t;function t(e,n){if(!e)throw new Error(n||"Assertion failed")}return t.equal=function(n,r,i){if(n!=r)throw new Error(i||"Assertion failed: "+n+" != "+r)},jv}var t4;function Ol(){if(t4)return zr;t4=1;var t=_p(),e=bc();zr.inherits=e;function n(D,B){return(D.charCodeAt(B)&64512)!==55296||B<0||B+1>=D.length?!1:(D.charCodeAt(B+1)&64512)===56320}function r(D,B){if(Array.isArray(D))return D.slice();if(!D)return[];var F=[];if(typeof D=="string")if(B){if(B==="hex")for(D=D.replace(/[^a-z0-9]+/ig,""),D.length%2!==0&&(D="0"+D),ce=0;ce<D.length;ce+=2)F.push(parseInt(D[ce]+D[ce+1],16))}else for(var ve=0,ce=0;ce<D.length;ce++){var ae=D.charCodeAt(ce);ae<128?F[ve++]=ae:ae<2048?(F[ve++]=ae>>6|192,F[ve++]=ae&63|128):n(D,ce)?(ae=65536+((ae&1023)<<10)+(D.charCodeAt(++ce)&1023),F[ve++]=ae>>18|240,F[ve++]=ae>>12&63|128,F[ve++]=ae>>6&63|128,F[ve++]=ae&63|128):(F[ve++]=ae>>12|224,F[ve++]=ae>>6&63|128,F[ve++]=ae&63|128)}else for(ce=0;ce<D.length;ce++)F[ce]=D[ce]|0;return F}zr.toArray=r;function i(D){for(var B="",F=0;F<D.length;F++)B+=u(D[F].toString(16));return B}zr.toHex=i;function s(D){var B=D>>>24|D>>>8&65280|D<<8&16711680|(D&255)<<24;return B>>>0}zr.htonl=s;function l(D,B){for(var F="",ve=0;ve<D.length;ve++){var ce=D[ve];B==="little"&&(ce=s(ce)),F+=c(ce.toString(16))}return F}zr.toHex32=l;function u(D){return D.length===1?"0"+D:D}zr.zero2=u;function c(D){return D.length===7?"0"+D:D.length===6?"00"+D:D.length===5?"000"+D:D.length===4?"0000"+D:D.length===3?"00000"+D:D.length===2?"000000"+D:D.length===1?"0000000"+D:D}zr.zero8=c;function f(D,B,F,ve){var ce=F-B;t(ce%4===0);for(var ae=new Array(ce/4),_e=0,xe=B;_e<ae.length;_e++,xe+=4){var Ue;ve==="big"?Ue=D[xe]<<24|D[xe+1]<<16|D[xe+2]<<8|D[xe+3]:Ue=D[xe+3]<<24|D[xe+2]<<16|D[xe+1]<<8|D[xe],ae[_e]=Ue>>>0}return ae}zr.join32=f;function d(D,B){for(var F=new Array(D.length*4),ve=0,ce=0;ve<D.length;ve++,ce+=4){var ae=D[ve];B==="big"?(F[ce]=ae>>>24,F[ce+1]=ae>>>16&255,F[ce+2]=ae>>>8&255,F[ce+3]=ae&255):(F[ce+3]=ae>>>24,F[ce+2]=ae>>>16&255,F[ce+1]=ae>>>8&255,F[ce]=ae&255)}return F}zr.split32=d;function g(D,B){return D>>>B|D<<32-B}zr.rotr32=g;function y(D,B){return D<<B|D>>>32-B}zr.rotl32=y;function m(D,B){return D+B>>>0}zr.sum32=m;function x(D,B,F){return D+B+F>>>0}zr.sum32_3=x;function S(D,B,F,ve){return D+B+F+ve>>>0}zr.sum32_4=S;function R(D,B,F,ve,ce){return D+B+F+ve+ce>>>0}zr.sum32_5=R;function E(D,B,F,ve){var ce=D[B],ae=D[B+1],_e=ve+ae>>>0,xe=(_e<ve?1:0)+F+ce;D[B]=xe>>>0,D[B+1]=_e}zr.sum64=E;function M(D,B,F,ve){var ce=B+ve>>>0,ae=(ce<B?1:0)+D+F;return ae>>>0}zr.sum64_hi=M;function P(D,B,F,ve){var ce=B+ve;return ce>>>0}zr.sum64_lo=P;function N(D,B,F,ve,ce,ae,_e,xe){var Ue=0,re=B;re=re+ve>>>0,Ue+=re<B?1:0,re=re+ae>>>0,Ue+=re<ae?1:0,re=re+xe>>>0,Ue+=re<xe?1:0;var O=D+F+ce+_e+Ue;return O>>>0}zr.sum64_4_hi=N;function $(D,B,F,ve,ce,ae,_e,xe){var Ue=B+ve+ae+xe;return Ue>>>0}zr.sum64_4_lo=$;function Q(D,B,F,ve,ce,ae,_e,xe,Ue,re){var O=0,ee=B;ee=ee+ve>>>0,O+=ee<B?1:0,ee=ee+ae>>>0,O+=ee<ae?1:0,ee=ee+xe>>>0,O+=ee<xe?1:0,ee=ee+re>>>0,O+=ee<re?1:0;var se=D+F+ce+_e+Ue+O;return se>>>0}zr.sum64_5_hi=Q;function V(D,B,F,ve,ce,ae,_e,xe,Ue,re){var O=B+ve+ae+xe+re;return O>>>0}zr.sum64_5_lo=V;function G(D,B,F){var ve=B<<32-F|D>>>F;return ve>>>0}zr.rotr64_hi=G;function C(D,B,F){var ve=D<<32-F|B>>>F;return ve>>>0}zr.rotr64_lo=C;function X(D,B,F){return D>>>F}zr.shr64_hi=X;function W(D,B,F){var ve=D<<32-F|B>>>F;return ve>>>0}return zr.shr64_lo=W,zr}var $v={},n4;function bp(){if(n4)return $v;n4=1;var t=Ol(),e=_p();function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return $v.BlockHash=n,n.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var l=i.length%this._delta8;this.pending=i.slice(i.length-l,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-l,this.endian);for(var u=0;u<i.length;u+=this._delta32)this._update(i,u,u+this._delta32)}return this},n.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},n.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,l=s-(i+this.padLength)%s,u=new Array(l+this.padLength);u[0]=128;for(var c=1;c<l;c++)u[c]=0;if(i<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)u[c++]=0;u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=i>>>24&255,u[c++]=i>>>16&255,u[c++]=i>>>8&255,u[c++]=i&255}else for(u[c++]=i&255,u[c++]=i>>>8&255,u[c++]=i>>>16&255,u[c++]=i>>>24&255,u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=0,f=8;f<this.padLength;f++)u[c++]=0;return u},$v}var Gc={},El={},r4;function v6(){if(r4)return El;r4=1;var t=Ol(),e=t.rotr32;function n(d,g,y,m){if(d===0)return r(g,y,m);if(d===1||d===3)return s(g,y,m);if(d===2)return i(g,y,m)}El.ft_1=n;function r(d,g,y){return d&g^~d&y}El.ch32=r;function i(d,g,y){return d&g^d&y^g&y}El.maj32=i;function s(d,g,y){return d^g^y}El.p32=s;function l(d){return e(d,2)^e(d,13)^e(d,22)}El.s0_256=l;function u(d){return e(d,6)^e(d,11)^e(d,25)}El.s1_256=u;function c(d){return e(d,7)^e(d,18)^d>>>3}El.g0_256=c;function f(d){return e(d,17)^e(d,19)^d>>>10}return El.g1_256=f,El}var Wv,i4;function _z(){if(i4)return Wv;i4=1;var t=Ol(),e=bp(),n=v6(),r=t.rotl32,i=t.sum32,s=t.sum32_5,l=n.ft_1,u=e.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(f,u),Wv=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(g,y){for(var m=this.W,x=0;x<16;x++)m[x]=g[y+x];for(;x<m.length;x++)m[x]=r(m[x-3]^m[x-8]^m[x-14]^m[x-16],1);var S=this.h[0],R=this.h[1],E=this.h[2],M=this.h[3],P=this.h[4];for(x=0;x<m.length;x++){var N=~~(x/20),$=s(r(S,5),l(N,R,E,M),P,m[x],c[N]);P=M,M=E,E=r(R,30),R=S,S=$}this.h[0]=i(this.h[0],S),this.h[1]=i(this.h[1],R),this.h[2]=i(this.h[2],E),this.h[3]=i(this.h[3],M),this.h[4]=i(this.h[4],P)},f.prototype._digest=function(g){return g==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Wv}var Kv,s4;function w6(){if(s4)return Kv;s4=1;var t=Ol(),e=bp(),n=v6(),r=_p(),i=t.sum32,s=t.sum32_4,l=t.sum32_5,u=n.ch32,c=n.maj32,f=n.s0_256,d=n.s1_256,g=n.g0_256,y=n.g1_256,m=e.BlockHash,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function S(){if(!(this instanceof S))return new S;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=x,this.W=new Array(64)}return t.inherits(S,m),Kv=S,S.blockSize=512,S.outSize=256,S.hmacStrength=192,S.padLength=64,S.prototype._update=function(E,M){for(var P=this.W,N=0;N<16;N++)P[N]=E[M+N];for(;N<P.length;N++)P[N]=s(y(P[N-2]),P[N-7],g(P[N-15]),P[N-16]);var $=this.h[0],Q=this.h[1],V=this.h[2],G=this.h[3],C=this.h[4],X=this.h[5],W=this.h[6],D=this.h[7];for(r(this.k.length===P.length),N=0;N<P.length;N++){var B=l(D,d(C),u(C,X,W),this.k[N],P[N]),F=i(f($),c($,Q,V));D=W,W=X,X=C,C=i(G,B),G=V,V=Q,Q=$,$=i(B,F)}this.h[0]=i(this.h[0],$),this.h[1]=i(this.h[1],Q),this.h[2]=i(this.h[2],V),this.h[3]=i(this.h[3],G),this.h[4]=i(this.h[4],C),this.h[5]=i(this.h[5],X),this.h[6]=i(this.h[6],W),this.h[7]=i(this.h[7],D)},S.prototype._digest=function(E){return E==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Kv}var Yv,o4;function bz(){if(o4)return Yv;o4=1;var t=Ol(),e=w6();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(n,e),Yv=n,n.blockSize=512,n.outSize=224,n.hmacStrength=192,n.padLength=64,n.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},Yv}var Jv,a4;function _6(){if(a4)return Jv;a4=1;var t=Ol(),e=bp(),n=_p(),r=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,l=t.shr64_lo,u=t.sum64,c=t.sum64_hi,f=t.sum64_lo,d=t.sum64_4_hi,g=t.sum64_4_lo,y=t.sum64_5_hi,m=t.sum64_5_lo,x=e.BlockHash,S=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function R(){if(!(this instanceof R))return new R;x.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=S,this.W=new Array(160)}t.inherits(R,x),Jv=R,R.blockSize=1024,R.outSize=512,R.hmacStrength=192,R.padLength=128,R.prototype._prepareBlock=function(F,ve){for(var ce=this.W,ae=0;ae<32;ae++)ce[ae]=F[ve+ae];for(;ae<ce.length;ae+=2){var _e=W(ce[ae-4],ce[ae-3]),xe=D(ce[ae-4],ce[ae-3]),Ue=ce[ae-14],re=ce[ae-13],O=C(ce[ae-30],ce[ae-29]),ee=X(ce[ae-30],ce[ae-29]),se=ce[ae-32],me=ce[ae-31];ce[ae]=d(_e,xe,Ue,re,O,ee,se,me),ce[ae+1]=g(_e,xe,Ue,re,O,ee,se,me)}},R.prototype._update=function(F,ve){this._prepareBlock(F,ve);var ce=this.W,ae=this.h[0],_e=this.h[1],xe=this.h[2],Ue=this.h[3],re=this.h[4],O=this.h[5],ee=this.h[6],se=this.h[7],me=this.h[8],ue=this.h[9],H=this.h[10],j=this.h[11],ge=this.h[12],he=this.h[13],le=this.h[14],pe=this.h[15];n(this.k.length===ce.length);for(var De=0;De<ce.length;De+=2){var z=le,Z=pe,Y=V(me,ue),I=G(me,ue),L=E(me,ue,H,j,ge),q=M(me,ue,H,j,ge,he),ye=this.k[De],Ce=this.k[De+1],Ae=ce[De],Oe=ce[De+1],We=y(z,Z,Y,I,L,q,ye,Ce,Ae,Oe),He=m(z,Z,Y,I,L,q,ye,Ce,Ae,Oe);z=$(ae,_e),Z=Q(ae,_e),Y=P(ae,_e,xe,Ue,re),I=N(ae,_e,xe,Ue,re,O);var Ze=c(z,Z,Y,I),_t=f(z,Z,Y,I);le=ge,pe=he,ge=H,he=j,H=me,j=ue,me=c(ee,se,We,He),ue=f(se,se,We,He),ee=re,se=O,re=xe,O=Ue,xe=ae,Ue=_e,ae=c(We,He,Ze,_t),_e=f(We,He,Ze,_t)}u(this.h,0,ae,_e),u(this.h,2,xe,Ue),u(this.h,4,re,O),u(this.h,6,ee,se),u(this.h,8,me,ue),u(this.h,10,H,j),u(this.h,12,ge,he),u(this.h,14,le,pe)},R.prototype._digest=function(F){return F==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function E(B,F,ve,ce,ae){var _e=B&ve^~B&ae;return _e<0&&(_e+=4294967296),_e}function M(B,F,ve,ce,ae,_e){var xe=F&ce^~F&_e;return xe<0&&(xe+=4294967296),xe}function P(B,F,ve,ce,ae){var _e=B&ve^B&ae^ve&ae;return _e<0&&(_e+=4294967296),_e}function N(B,F,ve,ce,ae,_e){var xe=F&ce^F&_e^ce&_e;return xe<0&&(xe+=4294967296),xe}function $(B,F){var ve=r(B,F,28),ce=r(F,B,2),ae=r(F,B,7),_e=ve^ce^ae;return _e<0&&(_e+=4294967296),_e}function Q(B,F){var ve=i(B,F,28),ce=i(F,B,2),ae=i(F,B,7),_e=ve^ce^ae;return _e<0&&(_e+=4294967296),_e}function V(B,F){var ve=r(B,F,14),ce=r(B,F,18),ae=r(F,B,9),_e=ve^ce^ae;return _e<0&&(_e+=4294967296),_e}function G(B,F){var ve=i(B,F,14),ce=i(B,F,18),ae=i(F,B,9),_e=ve^ce^ae;return _e<0&&(_e+=4294967296),_e}function C(B,F){var ve=r(B,F,1),ce=r(B,F,8),ae=s(B,F,7),_e=ve^ce^ae;return _e<0&&(_e+=4294967296),_e}function X(B,F){var ve=i(B,F,1),ce=i(B,F,8),ae=l(B,F,7),_e=ve^ce^ae;return _e<0&&(_e+=4294967296),_e}function W(B,F){var ve=r(B,F,19),ce=r(F,B,29),ae=s(B,F,6),_e=ve^ce^ae;return _e<0&&(_e+=4294967296),_e}function D(B,F){var ve=i(B,F,19),ce=i(F,B,29),ae=l(B,F,6),_e=ve^ce^ae;return _e<0&&(_e+=4294967296),_e}return Jv}var Xv,l4;function Ez(){if(l4)return Xv;l4=1;var t=Ol(),e=_6();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(n,e),Xv=n,n.blockSize=1024,n.outSize=384,n.hmacStrength=192,n.padLength=128,n.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},Xv}var u4;function Az(){return u4||(u4=1,Gc.sha1=_z(),Gc.sha224=bz(),Gc.sha256=w6(),Gc.sha384=Ez(),Gc.sha512=_6()),Gc}var Qv={},c4;function Sz(){if(c4)return Qv;c4=1;var t=Ol(),e=bp(),n=t.rotl32,r=t.sum32,i=t.sum32_3,s=t.sum32_4,l=e.BlockHash;function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(u,l),Qv.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(R,E){for(var M=this.h[0],P=this.h[1],N=this.h[2],$=this.h[3],Q=this.h[4],V=M,G=P,C=N,X=$,W=Q,D=0;D<80;D++){var B=r(n(s(M,c(D,P,N,$),R[g[D]+E],f(D)),m[D]),Q);M=Q,Q=$,$=n(N,10),N=P,P=B,B=r(n(s(V,c(79-D,G,C,X),R[y[D]+E],d(D)),x[D]),W),V=W,W=X,X=n(C,10),C=G,G=B}B=i(this.h[1],N,X),this.h[1]=i(this.h[2],$,W),this.h[2]=i(this.h[3],Q,V),this.h[3]=i(this.h[4],M,G),this.h[4]=i(this.h[0],P,C),this.h[0]=B},u.prototype._digest=function(R){return R==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function c(S,R,E,M){return S<=15?R^E^M:S<=31?R&E|~R&M:S<=47?(R|~E)^M:S<=63?R&M|E&~M:R^(E|~M)}function f(S){return S<=15?0:S<=31?1518500249:S<=47?1859775393:S<=63?2400959708:2840853838}function d(S){return S<=15?1352829926:S<=31?1548603684:S<=47?1836072691:S<=63?2053994217:0}var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Qv}var Zv,f4;function xz(){if(f4)return Zv;f4=1;var t=Ol(),e=_p();function n(r,i,s){if(!(this instanceof n))return new n(r,i,s);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return Zv=n,n.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},n.prototype.update=function(i,s){return this.inner.update(i,s),this},n.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},Zv}var h4;function Tz(){return h4||(h4=1,(function(t){var e=t;e.utils=Ol(),e.common=bp(),e.sha=Az(),e.ripemd=Sz(),e.hmac=xz(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Gv)),Gv}var Cz=Tz();const Nz=Gw(Cz);let Iz="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Rz=(t,e=21)=>(n=e)=>{let r="",i=n|0;for(;i--;)r+=t[Math.random()*t.length|0];return r},kz=(t=21)=>{let e="",n=t|0;for(;n--;)e+=Iz[Math.random()*64|0];return e};const $a=t=>Math.floor(t*72*20),n0=(t=0)=>{let e=t;return()=>++e},Lz=()=>n0(),Dz=()=>n0(1),Pz=()=>n0(),Mz=()=>n0(),Oz=()=>kz().toLowerCase(),d4=t=>Nz.sha1().update(t instanceof ArrayBuffer?new Uint8Array(t):t).digest("hex"),Bd=t=>Rz("1234567890abcdef",t)(),Fz=()=>`${Bd(8)}-${Bd(4)}-${Bd(4)}-${Bd(4)}-${Bd(12)}`,Uz={PAGE:"page"},Bz={PAGE:"page"},Vz=()=>new Pr({name:"wp:simplePos",attributes:{x:{key:"x",value:0},y:{key:"y",value:0}}}),b6=t=>new Pr({name:"wp:align",children:[t]}),E6=t=>new Pr({name:"wp:posOffset",children:[t.toString()]}),qz=({relative:t,align:e,offset:n})=>new Pr({name:"wp:positionH",attributes:{relativeFrom:{key:"relativeFrom",value:t??Uz.PAGE}},children:[(()=>{if(e)return b6(e);if(n!==void 0)return E6(n);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]}),zz=({relative:t,align:e,offset:n})=>new Pr({name:"wp:positionV",attributes:{relativeFrom:{key:"relativeFrom",value:t??Bz.PAGE}},children:[(()=>{if(e)return b6(e);if(n!==void 0)return E6(n);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]});class Hz extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{uri:"uri"})}}const Gz=t=>new Pr({name:"asvg:svgBlip",attributes:{asvg:{key:"xmlns:asvg",value:"http://schemas.microsoft.com/office/drawing/2016/SVG/main"},embed:{key:"r:embed",value:`rId{${t.fileName}}`}}}),jz=t=>new Pr({name:"a:ext",attributes:{uri:{key:"uri",value:"{96DAC541-7B7A-43D3-8B79-37D633B846F1}"}},children:[Gz(t)]}),$z=t=>new Pr({name:"a:extLst",children:[jz(t)]}),Wz=t=>new Pr({name:"a:blip",attributes:{embed:{key:"r:embed",value:`rId{${t.type==="svg"?t.fallback.fileName:t.fileName}}`},cstate:{key:"cstate",value:"none"}},children:t.type==="svg"?[$z(t)]:[]});class Kz extends at{constructor(){super("a:srcRect")}}class Yz extends at{constructor(){super("a:fillRect")}}class Jz extends at{constructor(){super("a:stretch"),this.root.push(new Yz)}}class Xz extends at{constructor(e){super("pic:blipFill"),this.root.push(Wz(e)),this.root.push(new Kz),this.root.push(new Jz)}}class Qz extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}}class Zz extends at{constructor(){super("a:picLocks"),this.root.push(new Qz({noChangeAspect:1,noChangeArrowheads:1}))}}class eH extends at{constructor(){super("pic:cNvPicPr"),this.root.push(new Zz)}}const A6=(t,e)=>new Pr({name:"a:hlinkClick",attributes:gu(zn({},e?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${t}`}})});class tH extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}}class nH extends at{constructor(){super("pic:cNvPr"),this.root.push(new tH({id:0,name:"",descr:""}))}prepForXml(e){for(let n=e.stack.length-1;n>=0;n--){const r=e.stack[n];if(r instanceof o_){this.root.push(A6(r.linkId,!1));break}}return super.prepForXml(e)}}class rH extends at{constructor(){super("pic:nvPicPr"),this.root.push(new nH),this.root.push(new eH)}}class iH extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{xmlns:"xmlns:pic"})}}class sH extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class oH extends at{constructor(e,n){super("a:ext"),st(this,"attributes"),this.attributes=new sH({cx:e,cy:n}),this.root.push(this.attributes)}}class aH extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{x:"x",y:"y"})}}class lH extends at{constructor(){super("a:off"),this.root.push(new aH({x:0,y:0}))}}class uH extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}}class cH extends at{constructor(e){var n,r;super("a:xfrm"),st(this,"extents"),this.root.push(new uH({flipVertical:(n=e.flip)==null?void 0:n.vertical,flipHorizontal:(r=e.flip)==null?void 0:r.horizontal,rotation:e.rotation})),this.extents=new oH(e.emus.x,e.emus.y),this.root.push(new lH),this.root.push(this.extents)}}const S6=()=>new Pr({name:"a:noFill"}),fH=t=>new Pr({name:"a:srgbClr",attributes:{value:{key:"val",value:t.value}}}),hH=t=>new Pr({name:"a:schemeClr",attributes:{value:{key:"val",value:t.value}}}),p4=t=>new Pr({name:"a:solidFill",children:[t.type==="rgb"?fH(t):hH(t)]}),dH=t=>new Pr({name:"a:ln",attributes:{width:{key:"w",value:t.width},cap:{key:"cap",value:t.cap},compoundLine:{key:"cmpd",value:t.compoundLine},align:{key:"algn",value:t.align}},children:[t.type==="noFill"?S6():t.solidFillType==="rgb"?p4({type:"rgb",value:t.value}):p4({type:"scheme",value:t.value})]});class pH extends at{constructor(){super("a:avLst")}}class mH extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{prst:"prst"})}}class gH extends at{constructor(){super("a:prstGeom"),this.root.push(new mH({prst:"rect"})),this.root.push(new pH)}}class yH extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{bwMode:"bwMode"})}}class vH extends at{constructor({outline:e,transform:n}){super("pic:spPr"),st(this,"form"),this.root.push(new yH({bwMode:"auto"})),this.form=new cH(n),this.root.push(this.form),this.root.push(new gH),e&&(this.root.push(S6()),this.root.push(dH(e)))}}class wH extends at{constructor({mediaData:e,transform:n,outline:r}){super("pic:pic"),this.root.push(new iH({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new rH),this.root.push(new Xz(e)),this.root.push(new vH({transform:n,outline:r}))}}class _H extends at{constructor({mediaData:e,transform:n,outline:r}){super("a:graphicData"),st(this,"pic"),this.root.push(new Hz({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new wH({mediaData:e,transform:n,outline:r}),this.root.push(this.pic)}}class bH extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{a:"xmlns:a"})}}class x6 extends at{constructor({mediaData:e,transform:n,outline:r}){super("a:graphic"),st(this,"data"),this.root.push(new bH({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new _H({mediaData:e,transform:n,outline:r}),this.root.push(this.data)}}const Gm={NONE:0,SQUARE:1,TIGHT:2,TOP_AND_BOTTOM:3},EH={BOTH_SIDES:"bothSides"};class m4 extends at{constructor(){super("wp:wrapNone")}}class AH extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}}class SH extends at{constructor(e,n={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new AH({wrapText:e.side||EH.BOTH_SIDES,distT:n.top,distB:n.bottom,distL:n.left,distR:n.right}))}}class xH extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class TH extends at{constructor(e={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new xH({distT:e.top,distB:e.bottom}))}}class CH extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class NH extends at{constructor(e={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new CH({distT:e.top,distB:e.bottom}))}}class T6 extends at{constructor({name:e,description:n,title:r}={name:"",description:"",title:""}){super("wp:docPr"),st(this,"docPropertiesUniqueNumericId",Pz());const i={id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:e}};n!=null&&(i.description={key:"descr",value:n}),r!=null&&(i.title={key:"title",value:r}),this.root.push(new Su(i))}prepForXml(e){for(let n=e.stack.length-1;n>=0;n--){const r=e.stack[n];if(r instanceof o_){this.root.push(A6(r.linkId,!0));break}}return super.prepForXml(e)}}const C6=({top:t,right:e,bottom:n,left:r})=>new Pr({name:"wp:effectExtent",attributes:{top:{key:"t",value:t},right:{key:"r",value:e},bottom:{key:"b",value:n},left:{key:"l",value:r}}}),N6=({x:t,y:e})=>new Pr({name:"wp:extent",attributes:{x:{key:"cx",value:t},y:{key:"cy",value:e}}});class IH extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}}class RH extends at{constructor(){super("a:graphicFrameLocks"),this.root.push(new IH({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}const I6=()=>new Pr({name:"wp:cNvGraphicFramePr",children:[new RH]});class kH extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}}class LH extends at{constructor({mediaData:e,transform:n,drawingOptions:r}){super("wp:anchor");const i=zn({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},r.floating);if(this.root.push(new kH({distT:i.margins&&i.margins.top||0,distB:i.margins&&i.margins.bottom||0,distL:i.margins&&i.margins.left||0,distR:i.margins&&i.margins.right||0,simplePos:"0",allowOverlap:i.allowOverlap===!0?"1":"0",behindDoc:i.behindDocument===!0?"1":"0",locked:i.lockAnchor===!0?"1":"0",layoutInCell:i.layoutInCell===!0?"1":"0",relativeHeight:i.zIndex?i.zIndex:n.emus.y})),this.root.push(Vz()),this.root.push(qz(i.horizontalPosition)),this.root.push(zz(i.verticalPosition)),this.root.push(N6({x:n.emus.x,y:n.emus.y})),this.root.push(C6({top:0,right:0,bottom:0,left:0})),r.floating!==void 0&&r.floating.wrap!==void 0)switch(r.floating.wrap.type){case Gm.SQUARE:this.root.push(new SH(r.floating.wrap,r.floating.margins));break;case Gm.TIGHT:this.root.push(new TH(r.floating.margins));break;case Gm.TOP_AND_BOTTOM:this.root.push(new NH(r.floating.margins));break;case Gm.NONE:default:this.root.push(new m4)}else this.root.push(new m4);this.root.push(new T6(r.docProperties)),this.root.push(I6()),this.root.push(new x6({mediaData:e,transform:n,outline:r.outline}))}}const DH=({mediaData:t,transform:e,docProperties:n,outline:r})=>{var i,s,l,u;return new Pr({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[N6({x:e.emus.x,y:e.emus.y}),C6(r?{top:((i=r.width)!=null?i:9525)*2,right:((s=r.width)!=null?s:9525)*2,bottom:((l=r.width)!=null?l:9525)*2,left:((u=r.width)!=null?u:9525)*2}:{top:0,right:0,bottom:0,left:0}),new T6(n),I6(),new x6({mediaData:t,transform:e,outline:r})]})};class PH extends at{constructor(e,n={}){super("w:drawing"),n.floating?this.root.push(new LH({mediaData:e,transform:e.transformation,drawingOptions:n})):this.root.push(DH({mediaData:e,transform:e.transformation,docProperties:n.docProperties,outline:n.outline}))}}const MH=t=>{const e=";base64,",n=t.indexOf(e),r=n===-1?0:n+e.length;return new Uint8Array(atob(t.substring(r)).split("").map(i=>i.charCodeAt(0)))},OH=t=>typeof t=="string"?MH(t):t,e2=(t,e)=>({data:OH(t.data),fileName:e,transformation:{pixels:{x:Math.round(t.transformation.width),y:Math.round(t.transformation.height)},emus:{x:Math.round(t.transformation.width*9525),y:Math.round(t.transformation.height*9525)},flip:t.transformation.flip,rotation:t.transformation.rotation?t.transformation.rotation*6e4:void 0}});class FH extends wp{constructor(e){super({}),st(this,"imageData");const r=`${d4(e.data)}.${e.type}`;this.imageData=e.type==="svg"?gu(zn({type:e.type},e2(e,r)),{fallback:zn({type:e.fallback.type},e2(gu(zn({},e.fallback),{transformation:e.transformation}),`${d4(e.fallback.data)}.${e.fallback.type}`))}):zn({type:e.type},e2(e,r));const i=new PH(this.imageData,{floating:e.floating,docProperties:e.altText,outline:e.outline});this.root.push(i)}prepForXml(e){return e.file.Media.addImage(this.imageData.fileName,this.imageData),this.imageData.type==="svg"&&e.file.Media.addImage(this.imageData.fallback.fileName,this.imageData.fallback),super.prepForXml(e)}}class UH extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{xmlns:"xmlns"})}}class BH extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const VH={EXTERNAL:"External"};class qH extends at{constructor(e,n,r,i){super("Relationship"),this.root.push(new BH({id:e,type:n,target:r,targetMode:i}))}}class mf extends at{constructor(){super("Relationships"),this.root.push(new UH({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,n,r,i){const s=new qH(`rId${e}`,n,r,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class zH extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class HH extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class GH extends at{constructor({id:e,initials:n,author:r,date:i=new Date,children:s}){super("w:comment"),this.root.push(new zH({id:e,initials:n,author:r,date:i.toISOString()}));for(const l of s)this.root.push(l)}}class jH extends at{constructor({children:e}){super("w:comments"),st(this,"relationships"),this.root.push(new HH({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const n of e)this.root.push(new GH(n));this.relationships=new mf}get Relationships(){return this.relationships}}class $H extends at{constructor(){super("w:pageBreakBefore")}}const tw={AUTO:"auto"};class WH extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class KH extends at{constructor(e){super("w:spacing"),this.root.push(new WH(e))}}const Wa={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",HEADING_6:"Heading6",TITLE:"Title"};let jm=class extends at{constructor(e){super("w:pStyle"),this.root.push(new Di({val:e}))}};class YH extends at{constructor(e){super("w:tabs");for(const n of e)this.root.push(new XH(n))}}const g4={LEFT:"left",RIGHT:"right"};class JH extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class XH extends at{constructor({type:e,position:n,leader:r}){super("w:tab"),this.root.push(new JH({val:e,pos:n,leader:r}))}}class t2 extends at{constructor(e,n){super("w:numPr"),this.root.push(new QH(n)),this.root.push(new ZH(e))}}class QH extends at{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Di({val:e}))}}class ZH extends at{constructor(e){super("w:numId"),this.root.push(new Di({val:typeof e=="string"?`{${e}}`:e}))}}class R6 extends at{constructor(){super(...arguments),st(this,"fileChild",Symbol())}}class eG extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class o_ extends at{constructor(e,n,r){super("w:hyperlink"),st(this,"linkId"),this.linkId=n;const i={history:1,anchor:r||void 0,id:r?void 0:`rId${this.linkId}`},s=new eG(i);this.root.push(s),e.forEach(l=>{this.root.push(l)})}}class tG extends at{constructor(e){super("w:externalHyperlink"),this.options=e}}class nG extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class rG extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{id:"w:id"})}}class iG{constructor(e){st(this,"bookmarkUniqueNumericId",Mz()),st(this,"start"),st(this,"children"),st(this,"end");const n=this.bookmarkUniqueNumericId();this.start=new sG(e.id,n),this.children=e.children,this.end=new oG(n)}}class sG extends at{constructor(e,n){super("w:bookmarkStart");const r=new nG({name:e,id:n});this.root.push(r)}}class oG extends at{constructor(e){super("w:bookmarkEnd");const n=new rG({id:e});this.root.push(n)}}class aG extends at{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new Di({val:e}))}}const lG={TOP:"top",CENTER:"center",BOTTOM:"bottom"};gu(zn({},lG),{BOTH:"both"});class uG extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{verticalAlign:"w:val"})}}class k6 extends at{constructor(e){super("w:vAlign"),this.root.push(new uG({verticalAlign:e}))}}class cG extends at{constructor({space:e,count:n,separate:r,equalWidth:i,children:s}){super("w:cols"),this.root.push(new Su({space:{key:"w:space",value:e===void 0?void 0:Ms(e)},count:{key:"w:num",value:n===void 0?void 0:Qs(n)},separate:{key:"w:sep",value:r},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(l=>this.addChildElement(l))}}const fG=({type:t,linePitch:e,charSpace:n})=>new Pr({name:"w:docGrid",attributes:{type:{key:"w:type",value:t},linePitch:{key:"w:linePitch",value:Qs(e)},charSpace:{key:"w:charSpace",value:n?Qs(n):void 0}}}),Ah={DEFAULT:"default",FIRST:"first",EVEN:"even"};class hG extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const y4={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class n2 extends at{constructor(e,n){super(e),this.root.push(new hG({type:n.type||Ah.DEFAULT,id:`rId${n.id}`}))}}const dG=({countBy:t,start:e,restart:n,distance:r})=>new Pr({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:Qs(t)},start:{key:"w:start",value:e===void 0?void 0:Qs(e)},restart:{key:"w:restart",value:n},distance:{key:"w:distance",value:r===void 0?void 0:Ms(r)}}});class v4 extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class pG extends Au{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new v4({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new v4({})),e.pageBorderTop&&this.root.push(new Lr("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new Lr("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new Lr("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new Lr("w:right",e.pageBorderRight))}}class mG extends at{constructor(e,n,r,i,s,l,u){super("w:pgMar"),this.root.push(new Su({top:{key:"w:top",value:pu(e)},right:{key:"w:right",value:Ms(n)},bottom:{key:"w:bottom",value:pu(r)},left:{key:"w:left",value:Ms(i)},header:{key:"w:header",value:Ms(s)},footer:{key:"w:footer",value:Ms(l)},gutter:{key:"w:gutter",value:Ms(u)}}))}}class gG extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class yG extends at{constructor({start:e,formatType:n,separator:r}){super("w:pgNumType"),this.root.push(new gG({start:e===void 0?void 0:Qs(e),formatType:n,separator:r}))}}const nw={PORTRAIT:"portrait",LANDSCAPE:"landscape"},vG=({width:t,height:e,orientation:n,code:r})=>{const i=Ms(t),s=Ms(e);return new Pr({name:"w:pgSz",attributes:{width:{key:"w:w",value:n===nw.LANDSCAPE?s:i},height:{key:"w:h",value:n===nw.LANDSCAPE?i:s},orientation:{key:"w:orient",value:n},code:{key:"w:code",value:r}}})};class wG extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{val:"w:val"})}}class _G extends at{constructor(e){super("w:textDirection"),this.root.push(new wG({val:e}))}}class bG extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{val:"w:val"})}}class EG extends at{constructor(e){super("w:type"),this.root.push(new bG({val:e}))}}const jc={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},r2={WIDTH:11906,HEIGHT:16838,ORIENTATION:nw.PORTRAIT};class AG extends at{constructor({page:{size:{width:e=r2.WIDTH,height:n=r2.HEIGHT,orientation:r=r2.ORIENTATION}={},margin:{top:i=jc.TOP,right:s=jc.RIGHT,bottom:l=jc.BOTTOM,left:u=jc.LEFT,header:c=jc.HEADER,footer:f=jc.FOOTER,gutter:d=jc.GUTTER}={},pageNumbers:g={},borders:y,textDirection:m}={},grid:{linePitch:x=360,charSpace:S,type:R}={},headerWrapperGroup:E={},footerWrapperGroup:M={},lineNumbers:P,titlePage:N,verticalAlign:$,column:Q,type:V}={}){super("w:sectPr"),this.addHeaderFooterGroup(y4.HEADER,E),this.addHeaderFooterGroup(y4.FOOTER,M),V&&this.root.push(new EG(V)),this.root.push(vG({width:e,height:n,orientation:r})),this.root.push(new mG(i,s,l,u,c,f,d)),y&&this.root.push(new pG(y)),P&&this.root.push(dG(P)),this.root.push(new yG(g)),Q&&this.root.push(new cG(Q)),$&&this.root.push(new k6($)),N!==void 0&&this.root.push(new Tt("w:titlePg",N)),m&&this.root.push(new _G(m)),this.root.push(fG({linePitch:x,charSpace:S,type:R}))}addHeaderFooterGroup(e,n){n.default&&this.root.push(new n2(e,{type:Ah.DEFAULT,id:n.default.View.ReferenceId})),n.first&&this.root.push(new n2(e,{type:Ah.FIRST,id:n.first.View.ReferenceId})),n.even&&this.root.push(new n2(e,{type:Ah.EVEN,id:n.even.View.ReferenceId}))}}class SG extends at{constructor(){super("w:body"),st(this,"sections",[])}addSection(e){const n=this.sections.pop();this.root.push(this.createSectionParagraph(n)),this.sections.push(new AG(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const n=new Pt({}),r=new Dh({});return r.push(e),n.addChildElement(r),n}}const w4={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class r0 extends Wt{constructor(e,n){super(zn({Ignorable:n},Object.fromEntries(e.map(r=>[r,w4[r]])))),st(this,"xmlKeys",zn({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(w4).map(r=>[r,`xmlns:${r}`]))))}}class xG extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class TG extends at{constructor(e){super("w:background"),this.root.push(new xG({color:e.color===void 0?void 0:Rh(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:XT(e.themeShade),themeTint:e.themeTint===void 0?void 0:XT(e.themeTint)}))}}class CG extends at{constructor(e){super("w:document"),st(this,"body"),this.root.push(new r0(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new SG,e.background&&this.root.push(new TG(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class L6{constructor(e){st(this,"document"),st(this,"relationships"),this.document=new CG(e),this.relationships=new mf}get View(){return this.document}get Relationships(){return this.relationships}}class NG extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{val:"w:val"})}}class IG extends at{constructor(){super("w:wordWrap"),this.root.push(new NG({val:0}))}}const RG=t=>{var e,n;return new Pr({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(n=t.space)==null?void 0:n.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class Dh extends Au{constructor(e){var n,r;if(super("w:pPr"),st(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new jm(e.heading)),e.bullet&&this.push(new jm("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new jm("ListParagraph"))),e.style&&this.push(new jm(e.style)),e.keepNext!==void 0&&this.push(new Tt("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new Tt("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new $H),e.frame&&this.push(RG(e.frame)),e.widowControl!==void 0&&this.push(new Tt("w:widowControl",e.widowControl)),e.bullet&&this.push(new t2(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(n=e.numbering.instance)!=null?n:0}),this.push(new t2(`${e.numbering.reference}-${(r=e.numbering.instance)!=null?r:0}`,e.numbering.level))):e.numbering===!1&&this.push(new t2(0,0)),e.border&&this.push(new Qq(e.border)),e.thematicBreak&&this.push(new Zq),e.shading&&this.push(new t0(e.shading)),e.wordWrap&&this.push(new IG),e.overflowPunctuation&&this.push(new Tt("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:g4.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:g4.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new YH(i)),e.bidirectional!==void 0&&this.push(new Tt("w:bidi",e.bidirectional)),e.spacing&&this.push(new KH(e.spacing)),e.indent&&this.push(new ez(e.indent)),e.contextualSpacing!==void 0&&this.push(new Tt("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new m6(e.alignment)),e.outlineLevel!==void 0&&this.push(new aG(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new Tt("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new Tt("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new pf(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof L6)for(const n of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(n.reference,n.instance);return super.prepForXml(e)}}class Pt extends R6{constructor(e){if(super("w:p"),st(this,"properties"),typeof e=="string")return this.properties=new Dh({}),this.root.push(this.properties),this.root.push(new Hr(e)),this;if(this.properties=new Dh(e),this.root.push(this.properties),e.text&&this.root.push(new Hr(e.text)),e.children)for(const n of e.children){if(n instanceof iG){this.root.push(n.start);for(const r of n.children)this.root.push(r);this.root.push(n.end);continue}this.root.push(n)}}prepForXml(e){for(const n of this.root)if(n instanceof tG){const r=this.root.indexOf(n),i=new o_(n.options.children,Oz());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",n.options.link,VH.EXTERNAL),this.root[r]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}class kG extends at{constructor(e){super("w:tblGrid");for(const n of e)this.root.push(new LG(n))}}class LG extends at{constructor(e){super("w:gridCol"),e!==void 0&&this.root.push(new Su({width:{key:"w:w",value:Ms(e)}}))}}const D6={TABLE:"w:tblCellMar",TABLE_CELL:"w:tcMar"};class P6 extends Au{constructor(e,{marginUnitType:n=Sh.DXA,top:r,left:i,bottom:s,right:l}){super(e),r!==void 0&&this.root.push(new Xc("w:top",{type:n,size:r})),i!==void 0&&this.root.push(new Xc("w:left",{type:n,size:i})),s!==void 0&&this.root.push(new Xc("w:bottom",{type:n,size:s})),l!==void 0&&this.root.push(new Xc("w:right",{type:n,size:l}))}}const Sh={AUTO:"auto",DXA:"dxa",NIL:"nil",PERCENTAGE:"pct"};class Xc extends at{constructor(e,{type:n=Sh.AUTO,size:r}){super(e);let i=r;n===Sh.PERCENTAGE&&typeof r=="number"&&(i=`${r}%`),this.root.push(new Su({type:{key:"w:type",value:n},size:{key:"w:w",value:p6(i)}}))}}class DG extends Au{constructor(e){super("w:tcBorders"),e.top&&this.root.push(new Lr("w:top",e.top)),e.start&&this.root.push(new Lr("w:start",e.start)),e.left&&this.root.push(new Lr("w:left",e.left)),e.bottom&&this.root.push(new Lr("w:bottom",e.bottom)),e.end&&this.root.push(new Lr("w:end",e.end)),e.right&&this.root.push(new Lr("w:right",e.right))}}class PG extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{val:"w:val"})}}class MG extends at{constructor(e){super("w:gridSpan"),this.root.push(new PG({val:Qs(e)}))}}const M6={CONTINUE:"continue",RESTART:"restart"};class OG extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{val:"w:val"})}}class _4 extends at{constructor(e){super("w:vMerge"),this.root.push(new OG({val:e}))}}class FG extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{val:"w:val"})}}class UG extends at{constructor(e){super("w:textDirection"),this.root.push(new FG({val:e}))}}class BG extends Au{constructor(e){super("w:tcPr"),e.width&&this.root.push(new Xc("w:tcW",e.width)),e.columnSpan&&this.root.push(new MG(e.columnSpan)),e.verticalMerge?this.root.push(new _4(e.verticalMerge)):e.rowSpan&&e.rowSpan>1&&this.root.push(new _4(M6.RESTART)),e.borders&&this.root.push(new DG(e.borders)),e.shading&&this.root.push(new t0(e.shading)),e.margins&&this.root.push(new P6(D6.TABLE_CELL,e.margins)),e.textDirection&&this.root.push(new UG(e.textDirection)),e.verticalAlign&&this.root.push(new k6(e.verticalAlign))}}class cr extends at{constructor(e){super("w:tc"),this.options=e,this.root.push(new BG(e));for(const n of e.children)this.root.push(n)}prepForXml(e){return this.root[this.root.length-1]instanceof Pt||this.root.push(new Pt({})),super.prepForXml(e)}}const nh={style:r_.NONE,size:0,color:"auto"},rh={style:r_.SINGLE,size:4,color:"auto"};class O6 extends at{constructor(e){super("w:tblBorders"),e.top?this.root.push(new Lr("w:top",e.top)):this.root.push(new Lr("w:top",rh)),e.left?this.root.push(new Lr("w:left",e.left)):this.root.push(new Lr("w:left",rh)),e.bottom?this.root.push(new Lr("w:bottom",e.bottom)):this.root.push(new Lr("w:bottom",rh)),e.right?this.root.push(new Lr("w:right",e.right)):this.root.push(new Lr("w:right",rh)),e.insideHorizontal?this.root.push(new Lr("w:insideH",e.insideHorizontal)):this.root.push(new Lr("w:insideH",rh)),e.insideVertical?this.root.push(new Lr("w:insideV",e.insideVertical)):this.root.push(new Lr("w:insideV",rh))}}st(O6,"NONE",{top:nh,bottom:nh,left:nh,right:nh,insideHorizontal:nh,insideVertical:nh});class VG extends at{constructor({horizontalAnchor:e,verticalAnchor:n,absoluteHorizontalPosition:r,relativeHorizontalPosition:i,absoluteVerticalPosition:s,relativeVerticalPosition:l,bottomFromText:u,topFromText:c,leftFromText:f,rightFromText:d,overlap:g}){super("w:tblpPr"),this.root.push(new Su({leftFromText:{key:"w:leftFromText",value:f===void 0?void 0:Ms(f)},rightFromText:{key:"w:rightFromText",value:d===void 0?void 0:Ms(d)},topFromText:{key:"w:topFromText",value:c===void 0?void 0:Ms(c)},bottomFromText:{key:"w:bottomFromText",value:u===void 0?void 0:Ms(u)},absoluteHorizontalPosition:{key:"w:tblpX",value:r===void 0?void 0:pu(r)},absoluteVerticalPosition:{key:"w:tblpY",value:s===void 0?void 0:pu(s)},horizontalAnchor:{key:"w:horzAnchor",value:e===void 0?void 0:e},relativeHorizontalPosition:{key:"w:tblpXSpec",value:i},relativeVerticalPosition:{key:"w:tblpYSpec",value:l},verticalAnchor:{key:"w:vertAnchor",value:n}})),g&&this.root.push(new Yq("w:tblOverlap",g))}}class qG extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{type:"w:type"})}}class zG extends at{constructor(e){super("w:tblLayout"),this.root.push(new qG({type:e}))}}const HG={DXA:"dxa"};class F6 extends at{constructor({type:e=HG.DXA,value:n}){super("w:tblCellSpacing"),this.root.push(new Su({type:{key:"w:type",value:e},value:{key:"w:w",value:p6(n)}}))}}class GG extends Au{constructor(e){super("w:tblPr"),e.style&&this.root.push(new tf("w:tblStyle",e.style)),e.float&&this.root.push(new VG(e.float)),e.visuallyRightToLeft!==void 0&&this.root.push(new Tt("w:bidiVisual",e.visuallyRightToLeft)),e.width&&this.root.push(new Xc("w:tblW",e.width)),e.alignment&&this.root.push(new m6(e.alignment)),e.indent&&this.root.push(new Xc("w:tblInd",e.indent)),e.borders&&this.root.push(new O6(e.borders)),e.shading&&this.root.push(new t0(e.shading)),e.layout&&this.root.push(new zG(e.layout)),e.cellMargin&&this.root.push(new P6(D6.TABLE,e.cellMargin)),e.cellSpacing&&this.root.push(new F6(e.cellSpacing))}}class jG extends R6{constructor({rows:e,width:n,columnWidths:r=Array(Math.max(...e.map(m=>m.CellCount))).fill(100),margins:i,indent:s,float:l,layout:u,style:c,borders:f,alignment:d,visuallyRightToLeft:g,cellSpacing:y}){super("w:tbl"),this.root.push(new GG({borders:f??{},width:n??{size:100},indent:s,float:l,layout:u,style:c,alignment:d,cellMargin:i,visuallyRightToLeft:g,cellSpacing:y})),this.root.push(new kG(r));for(const m of e)this.root.push(m);e.forEach((m,x)=>{if(x===e.length-1)return;let S=0;m.cells.forEach(R=>{if(R.options.rowSpan&&R.options.rowSpan>1){const E=new cr({rowSpan:R.options.rowSpan-1,columnSpan:R.options.columnSpan,borders:R.options.borders,children:[],verticalMerge:M6.CONTINUE});e[x+1].addCellToColumnIndex(E,S)}S+=R.options.columnSpan||1})})}}class $G extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{value:"w:val",rule:"w:hRule"})}}class WG extends at{constructor(e,n){super("w:trHeight"),this.root.push(new $G({value:Ms(e),rule:n}))}}class KG extends Au{constructor(e){super("w:trPr"),e.cantSplit!==void 0&&this.root.push(new Tt("w:cantSplit",e.cantSplit)),e.tableHeader!==void 0&&this.root.push(new Tt("w:tblHeader",e.tableHeader)),e.height&&this.root.push(new WG(e.height.value,e.height.rule)),e.cellSpacing&&this.root.push(new F6(e.cellSpacing))}}class Ws extends at{constructor(e){super("w:tr"),this.options=e,this.root.push(new KG(e));for(const n of e.children)this.root.push(n)}get CellCount(){return this.options.children.length}get cells(){return this.root.filter(e=>e instanceof cr)}addCellToIndex(e,n){this.root.splice(n+1,0,e)}addCellToColumnIndex(e,n){const r=this.columnIndexToRootIndex(n,!0);this.addCellToIndex(e,r-1)}rootIndexToColumnIndex(e){if(e<1||e>=this.root.length)throw new Error(`cell 'rootIndex' should between 1 to ${this.root.length-1}`);let n=0;for(let r=1;r<e;r++){const i=this.root[r];n+=i.options.columnSpan||1}return n}columnIndexToRootIndex(e,n=!1){if(e<0)throw new Error("cell 'columnIndex' should not less than zero");let r=0,i=1;for(;r<=e;){if(i>=this.root.length){if(n)return this.root.length;throw new Error(`cell 'columnIndex' should not great than ${r-1}`)}const s=this.root[i];i+=1,r+=s&&s.options.columnSpan||1}return i-1}}class YG extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class JG extends at{constructor(){super("Properties"),this.root.push(new YG({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class XG extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{xmlns:"xmlns"})}}class QG extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class cu extends at{constructor(e,n){super("Default"),this.root.push(new QG({contentType:e,extension:n}))}}class ZG extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class wa extends at{constructor(e,n){super("Override"),this.root.push(new ZG({contentType:e,partName:n}))}}class ej extends at{constructor(){super("Types"),this.root.push(new XG({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new cu("image/png","png")),this.root.push(new cu("image/jpeg","jpeg")),this.root.push(new cu("image/jpeg","jpg")),this.root.push(new cu("image/bmp","bmp")),this.root.push(new cu("image/gif","gif")),this.root.push(new cu("image/svg+xml","svg")),this.root.push(new cu("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new cu("application/xml","xml")),this.root.push(new cu("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new wa("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new wa("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new wa("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new wa("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new wa("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new wa("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new wa("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new wa("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new wa("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new wa("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new wa("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new wa("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class tj extends at{constructor(e){super("cp:coreProperties"),this.root.push(new r0(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new Hc("dc:title",e.title)),e.subject&&this.root.push(new Hc("dc:subject",e.subject)),e.creator&&this.root.push(new Hc("dc:creator",e.creator)),e.keywords&&this.root.push(new Hc("cp:keywords",e.keywords)),e.description&&this.root.push(new Hc("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Hc("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Hc("cp:revision",String(e.revision))),this.root.push(new b4("dcterms:created")),this.root.push(new b4("dcterms:modified"))}}class nj extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{type:"xsi:type"})}}class b4 extends at{constructor(e){super(e),this.root.push(new nj({type:"dcterms:W3CDTF"})),this.root.push(Kq(new Date))}}class rj extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class ij extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class sj extends at{constructor(e,n){super("property"),this.root.push(new ij({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:n.name})),this.root.push(new oj(n.value))}}class oj extends at{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class aj extends at{constructor(e){super("Properties"),st(this,"nextId"),st(this,"properties",[]),this.root.push(new rj({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const n of e)this.addCustomProperty(n)}prepForXml(e){return this.properties.forEach(n=>this.root.push(n)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new sj(this.nextId++,e))}}const $m=({id:t,fontKey:e,subsetted:n},r)=>new Pr({name:r,attributes:zn({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...n?[new Tt("w:subsetted",n)]:[]]}),lj=({name:t,altName:e,panose1:n,charset:r,family:i,notTrueType:s,pitch:l,sig:u,embedRegular:c,embedBold:f,embedItalic:d,embedBoldItalic:g})=>new Pr({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[Ud("w:altName",e)]:[],...n?[Ud("w:panose1",n)]:[],...r?[Ud("w:charset",r)]:[],Ud("w:family",i),...s?[new Tt("w:notTrueType",s)]:[],Ud("w:pitch",l),...u?[new Pr({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:u.usb0},usb1:{key:"w:usb1",value:u.usb1},usb2:{key:"w:usb2",value:u.usb2},usb3:{key:"w:usb3",value:u.usb3},csb0:{key:"w:csb0",value:u.csb0},csb1:{key:"w:csb1",value:u.csb1}}})]:[],...c?[$m(c,"w:embedRegular")]:[],...f?[$m(f,"w:embedBold")]:[],...d?[$m(d,"w:embedItalic")]:[],...g?[$m(g,"w:embedBoldItalic")]:[]]}),uj=({name:t,index:e,fontKey:n,characterSet:r})=>lj({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:r,family:"auto",pitch:"variable",embedRegular:{fontKey:n,id:`rId${e}`}}),cj=t=>new Pr({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,n)=>uj({name:e.name,index:n+1,fontKey:e.fontKey}))});class fj{constructor(e){st(this,"fontTable"),st(this,"relationships"),st(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(n=>gu(zn({},n),{fontKey:Fz()})),this.fontTable=cj(this.fontOptionsWithKey),this.relationships=new mf;for(let n=0;n<e.length;n++)this.relationships.createRelationship(n+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[n].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class hj extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let dj=class extends f6{constructor(e,n){super("w:ftr",n),st(this,"refId"),this.refId=e,n||this.root.push(new hj({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class pj{constructor(e,n,r){st(this,"footer"),st(this,"relationships"),this.media=e,this.footer=new dj(n,r),this.relationships=new mf}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class mj extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class gj extends at{constructor(){super("w:footnoteRef")}}class yj extends wp{constructor(){super({style:"FootnoteReference"}),this.root.push(new gj)}}const E4={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class i2 extends at{constructor(e){super("w:footnote"),this.root.push(new mj({type:e.type,id:e.id}));for(let n=0;n<e.children.length;n++){const r=e.children[n];n===0&&r.addRunToFront(new yj),this.root.push(r)}}}class vj extends at{constructor(){super("w:continuationSeparator")}}class wj extends wp{constructor(){super({}),this.root.push(new vj)}}class _j extends at{constructor(){super("w:separator")}}class bj extends wp{constructor(){super({}),this.root.push(new _j)}}class Ej extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class Aj extends at{constructor(){super("w:footnotes"),this.root.push(new Ej({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new i2({id:-1,type:E4.SEPERATOR,children:[new Pt({spacing:{after:0,line:240,lineRule:tw.AUTO},children:[new bj]})]});this.root.push(e);const n=new i2({id:0,type:E4.CONTINUATION_SEPERATOR,children:[new Pt({spacing:{after:0,line:240,lineRule:tw.AUTO},children:[new wj]})]});this.root.push(n)}createFootNote(e,n){const r=new i2({id:e,children:n});this.root.push(r)}}class Sj{constructor(){st(this,"footnotess"),st(this,"relationships"),this.footnotess=new Aj,this.relationships=new mf}get View(){return this.footnotess}get Relationships(){return this.relationships}}class xj extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let Tj=class extends f6{constructor(e,n){super("w:hdr",n),st(this,"refId"),this.refId=e,n||this.root.push(new xj({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class Cj{constructor(e,n,r){st(this,"header"),st(this,"relationships"),this.media=e,this.header=new Tj(n,r),this.relationships=new mf}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class Nj{constructor(){st(this,"map"),this.map=new Map}addImage(e,n){this.map.set(e,n)}get Array(){return Array.from(this.map.values())}}const fu={BULLET:"bullet"};class Ij extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class Rj extends at{constructor(e){super("w:numFmt"),this.root.push(new Di({val:e}))}}class kj extends at{constructor(e){super("w:lvlText"),this.root.push(new Di({val:e}))}}class Lj extends at{constructor(e){super("w:lvlJc"),this.root.push(new Di({val:e}))}}class Dj extends at{constructor(e){super("w:suff"),this.root.push(new Di({val:e}))}}class Pj extends at{constructor(){super("w:isLgl")}}class Mj extends at{constructor({level:e,format:n,text:r,alignment:i=Do.START,start:s=1,style:l,suffix:u,isLegalNumberingStyle:c}){if(super("w:lvl"),st(this,"paragraphProperties"),st(this,"runProperties"),this.root.push(new Jd("w:start",Qs(s))),n&&this.root.push(new Rj(n)),u&&this.root.push(new Dj(u)),c&&this.root.push(new Pj),r&&this.root.push(new kj(r)),this.root.push(new Lj(i)),this.paragraphProperties=new Dh(l&&l.paragraph),this.runProperties=new pf(l&&l.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Ij({ilvl:Qs(e),tentative:1}))}}class Oj extends Mj{}class Fj extends at{constructor(e){super("w:multiLevelType"),this.root.push(new Di({val:e}))}}class Uj extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class A4 extends at{constructor(e,n){super("w:abstractNum"),st(this,"id"),this.root.push(new Uj({abstractNumId:Qs(e),restartNumberingAfterBreak:0})),this.root.push(new Fj("hybridMultilevel")),this.id=e;for(const r of n)this.root.push(new Oj(r))}}class Bj extends at{constructor(e){super("w:abstractNumId"),this.root.push(new Di({val:e}))}}class Vj extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{numId:"w:numId"})}}class S4 extends at{constructor(e){if(super("w:num"),st(this,"numId"),st(this,"reference"),st(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new Vj({numId:Qs(e.numId)})),this.root.push(new Bj(Qs(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const n of e.overrideLevels)this.root.push(new zj(n.num,n.start))}}class qj extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{ilvl:"w:ilvl"})}}class zj extends at{constructor(e,n){super("w:lvlOverride"),this.root.push(new qj({ilvl:e})),n!==void 0&&this.root.push(new Gj(n))}}class Hj extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{val:"w:val"})}}class Gj extends at{constructor(e){super("w:startOverride"),this.root.push(new Hj({val:e}))}}class jj extends at{constructor(e){super("w:numbering"),st(this,"abstractNumberingMap",new Map),st(this,"concreteNumberingMap",new Map),st(this,"referenceConfigMap",new Map),st(this,"abstractNumUniqueNumericId",Lz()),st(this,"concreteNumUniqueNumericId",Dz()),this.root.push(new r0(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const n=new A4(this.abstractNumUniqueNumericId(),[{level:0,format:fu.BULLET,text:"",alignment:Do.LEFT,style:{paragraph:{indent:{left:$a(.5),hanging:$a(.25)}}}},{level:1,format:fu.BULLET,text:"",alignment:Do.LEFT,style:{paragraph:{indent:{left:$a(1),hanging:$a(.25)}}}},{level:2,format:fu.BULLET,text:"",alignment:Do.LEFT,style:{paragraph:{indent:{left:2160,hanging:$a(.25)}}}},{level:3,format:fu.BULLET,text:"",alignment:Do.LEFT,style:{paragraph:{indent:{left:2880,hanging:$a(.25)}}}},{level:4,format:fu.BULLET,text:"",alignment:Do.LEFT,style:{paragraph:{indent:{left:3600,hanging:$a(.25)}}}},{level:5,format:fu.BULLET,text:"",alignment:Do.LEFT,style:{paragraph:{indent:{left:4320,hanging:$a(.25)}}}},{level:6,format:fu.BULLET,text:"",alignment:Do.LEFT,style:{paragraph:{indent:{left:5040,hanging:$a(.25)}}}},{level:7,format:fu.BULLET,text:"",alignment:Do.LEFT,style:{paragraph:{indent:{left:5760,hanging:$a(.25)}}}},{level:8,format:fu.BULLET,text:"",alignment:Do.LEFT,style:{paragraph:{indent:{left:6480,hanging:$a(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new S4({numId:1,abstractNumId:n.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",n);for(const r of e.config)this.abstractNumberingMap.set(r.reference,new A4(this.abstractNumUniqueNumericId(),r.levels)),this.referenceConfigMap.set(r.reference,r.levels)}prepForXml(e){for(const n of this.abstractNumberingMap.values())this.root.push(n);for(const n of this.concreteNumberingMap.values())this.root.push(n);return super.prepForXml(e)}createConcreteNumberingInstance(e,n){const r=this.abstractNumberingMap.get(e);if(!r)return;const i=`${e}-${n}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(e),l=s&&s[0].start,u={numId:this.concreteNumUniqueNumericId(),abstractNumId:r.id,reference:e,instance:n,overrideLevels:[l&&Number.isInteger(l)?{num:0,start:l}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new S4(u))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class $j extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class Wj extends at{constructor(e){super("w:compatSetting"),this.root.push(new $j({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class Kj extends at{constructor(e){super("w:compat"),e.version&&this.root.push(new Wj(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new Tt("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new Tt("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new Tt("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new Tt("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new Tt("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new Tt("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new Tt("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new Tt("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new Tt("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new Tt("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new Tt("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new Tt("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new Tt("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new Tt("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new Tt("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new Tt("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new Tt("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new Tt("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new Tt("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new Tt("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new Tt("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new Tt("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new Tt("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new Tt("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new Tt("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new Tt("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new Tt("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new Tt("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new Tt("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new Tt("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new Tt("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new Tt("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new Tt("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new Tt("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new Tt("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new Tt("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new Tt("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Tt("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new Tt("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new Tt("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new Tt("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new Tt("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new Tt("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new Tt("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new Tt("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new Tt("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new Tt("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new Tt("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new Tt("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new Tt("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new Tt("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new Tt("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new Tt("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new Tt("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new Tt("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new Tt("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new Tt("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new Tt("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new Tt("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new Tt("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new Tt("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new Tt("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Tt("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new Tt("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new Tt("w:cachedColBalance",e.cachedColumnBalance))}}class Yj extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class Jj extends at{constructor(e){var n,r,i,s,l,u,c,f;super("w:settings"),this.root.push(new Yj({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Tt("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new Tt("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new Tt("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new Tt("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new Jd("w:defaultTabStop",e.defaultTabStop)),((n=e.hyphenation)==null?void 0:n.autoHyphenation)!==void 0&&this.root.push(new Tt("w:autoHyphenation",e.hyphenation.autoHyphenation)),((r=e.hyphenation)==null?void 0:r.hyphenationZone)!==void 0&&this.root.push(new Jd("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new Jd("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((s=e.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new Tt("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new Kj(gu(zn({},(l=e.compatibility)!=null?l:{}),{version:(f=(c=(u=e.compatibility)==null?void 0:u.version)!=null?c:e.compatibilityModeVersion)!=null?f:15})))}}class U6 extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{val:"w:val"})}}class Xj extends at{constructor(e){super("w:name"),this.root.push(new U6({val:e}))}}class Qj extends at{constructor(e){super("w:uiPriority"),this.root.push(new U6({val:Qs(e)}))}}class Zj extends Wt{constructor(){super(...arguments),st(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class B6 extends at{constructor(e,n){super("w:style"),this.root.push(new Zj(e)),n.name&&this.root.push(new Xj(n.name)),n.basedOn&&this.root.push(new tf("w:basedOn",n.basedOn)),n.next&&this.root.push(new tf("w:next",n.next)),n.link&&this.root.push(new tf("w:link",n.link)),n.uiPriority!==void 0&&this.root.push(new Qj(n.uiPriority)),n.semiHidden!==void 0&&this.root.push(new Tt("w:semiHidden",n.semiHidden)),n.unhideWhenUsed!==void 0&&this.root.push(new Tt("w:unhideWhenUsed",n.unhideWhenUsed)),n.quickFormat!==void 0&&this.root.push(new Tt("w:qFormat",n.quickFormat))}}class i0 extends B6{constructor(e){super({type:"paragraph",styleId:e.id},e),st(this,"paragraphProperties"),st(this,"runProperties"),this.paragraphProperties=new Dh(e.paragraph),this.runProperties=new pf(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class s0 extends B6{constructor(e){super({type:"character",styleId:e.id},zn({uiPriority:99,unhideWhenUsed:!0},e)),st(this,"runProperties"),this.runProperties=new pf(e.run),this.root.push(this.runProperties)}}class Ec extends i0{constructor(e){super(zn({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class e$ extends Ec{constructor(e){super(zn({id:"Title",name:"Title"},e))}}class t$ extends Ec{constructor(e){super(zn({id:"Heading1",name:"Heading 1"},e))}}class n$ extends Ec{constructor(e){super(zn({id:"Heading2",name:"Heading 2"},e))}}class r$ extends Ec{constructor(e){super(zn({id:"Heading3",name:"Heading 3"},e))}}class i$ extends Ec{constructor(e){super(zn({id:"Heading4",name:"Heading 4"},e))}}class s$ extends Ec{constructor(e){super(zn({id:"Heading5",name:"Heading 5"},e))}}class o$ extends Ec{constructor(e){super(zn({id:"Heading6",name:"Heading 6"},e))}}class a$ extends Ec{constructor(e){super(zn({id:"Strong",name:"Strong"},e))}}class l$ extends i0{constructor(e){super(zn({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class u$ extends i0{constructor(e){super(zn({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:tw.AUTO}},run:{size:20}},e))}}class c$ extends s0{constructor(e){super(zn({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class f$ extends s0{constructor(e){super(zn({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class h$ extends s0{constructor(e){super(zn({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:y6.SINGLE}}},e))}}class rw extends at{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const n of e.importedStyles)this.root.push(n);if(e.paragraphStyles)for(const n of e.paragraphStyles)this.root.push(new i0(n));if(e.characterStyles)for(const n of e.characterStyles)this.root.push(new s0(n))}}class d$ extends at{constructor(e){super("w:pPrDefault"),this.root.push(new Dh(e))}}class p$ extends at{constructor(e){super("w:rPrDefault"),this.root.push(new pf(e))}}class m$ extends at{constructor(e){super("w:docDefaults"),st(this,"runPropertiesDefaults"),st(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new p$(e.run),this.paragraphPropertiesDefaults=new d$(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class g${newInstance(e){const n=c6.xml2js(e,{compact:!1});let r;for(const l of n.elements||[])l.name==="w:styles"&&(r=l);if(r===void 0)throw new Error("can not find styles element");const i=r.elements||[];return new rw({initialStyles:new Hq(r.attributes),importedStyles:i.map(l=>t_(l))})}}class x4{newInstance(e={}){var n;return{initialStyles:new r0(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new m$((n=e.document)!=null?n:{}),new e$(zn({run:{size:56}},e.title)),new t$(zn({run:{color:"2E74B5",size:32}},e.heading1)),new n$(zn({run:{color:"2E74B5",size:26}},e.heading2)),new r$(zn({run:{color:"1F4D78",size:24}},e.heading3)),new i$(zn({run:{color:"2E74B5",italics:!0}},e.heading4)),new s$(zn({run:{color:"2E74B5"}},e.heading5)),new o$(zn({run:{color:"1F4D78"}},e.heading6)),new a$(zn({run:{bold:!0}},e.strong)),new l$(e.listParagraph||{}),new h$(e.hyperlink||{}),new c$(e.footnoteReference||{}),new u$(e.footnoteText||{}),new f$(e.footnoteTextChar||{})]}}}let y$=class{constructor(e){st(this,"currentRelationshipId",1),st(this,"documentWrapper"),st(this,"headers",[]),st(this,"footers",[]),st(this,"coreProperties"),st(this,"numbering"),st(this,"media"),st(this,"fileRelationships"),st(this,"footnotesWrapper"),st(this,"settings"),st(this,"contentTypes"),st(this,"customProperties"),st(this,"appProperties"),st(this,"styles"),st(this,"comments"),st(this,"fontWrapper");var n,r,i,s,l,u,c,f,d,g,y,m;if(this.coreProperties=new tj(gu(zn({},e),{creator:(n=e.creator)!=null?n:"Un-named",revision:(r=e.revision)!=null?r:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new jj(e.numbering?e.numbering:{config:[]}),this.comments=new jH((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new mf,this.customProperties=new aj((l=e.customProperties)!=null?l:[]),this.appProperties=new JG,this.footnotesWrapper=new Sj,this.contentTypes=new ej,this.documentWrapper=new L6({background:e.background}),this.settings=new Jj({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(u=e.features)==null?void 0:u.trackRevisions,updateFields:(c=e.features)==null?void 0:c.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(f=e.hyphenation)==null?void 0:f.autoHyphenation,hyphenationZone:(d=e.hyphenation)==null?void 0:d.hyphenationZone,consecutiveHyphenLimit:(g=e.hyphenation)==null?void 0:g.consecutiveHyphenLimit,doNotHyphenateCaps:(y=e.hyphenation)==null?void 0:y.doNotHyphenateCaps}}),this.media=new Nj,e.externalStyles!==void 0){const x=new g$;this.styles=x.newInstance(e.externalStyles)}else if(e.styles){const S=new x4().newInstance(e.styles.default);this.styles=new rw(zn(zn({},S),e.styles))}else{const x=new x4;this.styles=new rw(x.newInstance())}this.addDefaultRelationships();for(const x of e.sections)this.addSection(x);if(e.footnotes)for(const x in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(x),e.footnotes[x].children);this.fontWrapper=new fj((m=e.fonts)!=null?m:[])}addSection({headers:e={},footers:n={},children:r,properties:i}){this.documentWrapper.View.Body.addSection(gu(zn({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:n.default?this.createFooter(n.default):void 0,first:n.first?this.createFooter(n.first):void 0,even:n.even?this.createFooter(n.even):void 0}}));for(const s of r)this.documentWrapper.View.add(s)}createHeader(e){const n=new Cj(this.media,this.currentRelationshipId++);for(const r of e.options.children)n.add(r);return this.addHeaderToDocument(n),n}createFooter(e){const n=new pj(this.media,this.currentRelationshipId++);for(const r of e.options.children)n.add(r);return this.addFooterToDocument(n),n}addHeaderToDocument(e,n=Ah.DEFAULT){this.headers.push({header:e,type:n}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,n=Ah.DEFAULT){this.footers.push({footer:e,type:n}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};var v$=Qw();function Wm(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var s2={exports:{}},T4;function w$(){return T4||(T4=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,i,s){function l(f,d){if(!i[f]){if(!r[f]){var g=typeof Wm=="function"&&Wm;if(!d&&g)return g(f,!0);if(u)return u(f,!0);var y=new Error("Cannot find module '"+f+"'");throw y.code="MODULE_NOT_FOUND",y}var m=i[f]={exports:{}};r[f][0].call(m.exports,function(x){var S=r[f][1][x];return l(S||x)},m,m.exports,n,r,i,s)}return i[f].exports}for(var u=typeof Wm=="function"&&Wm,c=0;c<s.length;c++)l(s[c]);return l})({1:[function(n,r,i){var s=n("./utils"),l=n("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var f,d,g,y,m,x,S,R=[],E=0,M=c.length,P=M,N=s.getTypeOf(c)!=="string";E<c.length;)P=M-E,g=N?(f=c[E++],d=E<M?c[E++]:0,E<M?c[E++]:0):(f=c.charCodeAt(E++),d=E<M?c.charCodeAt(E++):0,E<M?c.charCodeAt(E++):0),y=f>>2,m=(3&f)<<4|d>>4,x=1<P?(15&d)<<2|g>>6:64,S=2<P?63&g:64,R.push(u.charAt(y)+u.charAt(m)+u.charAt(x)+u.charAt(S));return R.join("")},i.decode=function(c){var f,d,g,y,m,x,S=0,R=0,E="data:";if(c.substr(0,E.length)===E)throw new Error("Invalid base64 input, it looks like a data url.");var M,P=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===u.charAt(64)&&P--,c.charAt(c.length-2)===u.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(M=l.uint8array?new Uint8Array(0|P):new Array(0|P);S<c.length;)f=u.indexOf(c.charAt(S++))<<2|(y=u.indexOf(c.charAt(S++)))>>4,d=(15&y)<<4|(m=u.indexOf(c.charAt(S++)))>>2,g=(3&m)<<6|(x=u.indexOf(c.charAt(S++))),M[R++]=f,m!==64&&(M[R++]=d),x!==64&&(M[R++]=g);return M}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),l=n("./stream/DataWorker"),u=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function f(d,g,y,m,x){this.compressedSize=d,this.uncompressedSize=g,this.crc32=y,this.compression=m,this.compressedContent=x}f.prototype={getContentWorker:function(){var d=new l(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),g=this;return d.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new l(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(d,g,y){return d.pipe(new u).pipe(new c("uncompressedSize")).pipe(g.compressWorker(y)).pipe(new c("compressedSize")).withStreamInfo("compression",g)},r.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),l=(function(){for(var u,c=[],f=0;f<256;f++){u=f;for(var d=0;d<8;d++)u=1&u?3988292384^u>>>1:u>>>1;c[f]=u}return c})();r.exports=function(u,c){return u!==void 0&&u.length?s.getTypeOf(u)!=="string"?(function(f,d,g,y){var m=l,x=y+g;f^=-1;for(var S=y;S<x;S++)f=f>>>8^m[255&(f^d[S])];return-1^f})(0|c,u,u.length,0):(function(f,d,g,y){var m=l,x=y+g;f^=-1;for(var S=y;S<x;S++)f=f>>>8^m[255&(f^d.charCodeAt(S))];return-1^f})(0|c,u,u.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=n("pako"),u=n("./utils"),c=n("./stream/GenericWorker"),f=s?"uint8array":"array";function d(g,y){c.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=y,this.meta={}}i.magic="\b\0",u.inherits(d,c),d.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(f,g.data),!1)},d.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(y){g.push({data:y,meta:g.meta})}},i.compressWorker=function(g){return new d("Deflate",g)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(m,x){var S,R="";for(S=0;S<x;S++)R+=String.fromCharCode(255&m),m>>>=8;return R}function l(m,x,S,R,E,M){var P,N,$=m.file,Q=m.compression,V=M!==f.utf8encode,G=u.transformTo("string",M($.name)),C=u.transformTo("string",f.utf8encode($.name)),X=$.comment,W=u.transformTo("string",M(X)),D=u.transformTo("string",f.utf8encode(X)),B=C.length!==$.name.length,F=D.length!==X.length,ve="",ce="",ae="",_e=$.dir,xe=$.date,Ue={crc32:0,compressedSize:0,uncompressedSize:0};x&&!S||(Ue.crc32=m.crc32,Ue.compressedSize=m.compressedSize,Ue.uncompressedSize=m.uncompressedSize);var re=0;x&&(re|=8),V||!B&&!F||(re|=2048);var O=0,ee=0;_e&&(O|=16),E==="UNIX"?(ee=798,O|=(function(me,ue){var H=me;return me||(H=ue?16893:33204),(65535&H)<<16})($.unixPermissions,_e)):(ee=20,O|=(function(me){return 63&(me||0)})($.dosPermissions)),P=xe.getUTCHours(),P<<=6,P|=xe.getUTCMinutes(),P<<=5,P|=xe.getUTCSeconds()/2,N=xe.getUTCFullYear()-1980,N<<=4,N|=xe.getUTCMonth()+1,N<<=5,N|=xe.getUTCDate(),B&&(ce=s(1,1)+s(d(G),4)+C,ve+="up"+s(ce.length,2)+ce),F&&(ae=s(1,1)+s(d(W),4)+D,ve+="uc"+s(ae.length,2)+ae);var se="";return se+=`
\0`,se+=s(re,2),se+=Q.magic,se+=s(P,2),se+=s(N,2),se+=s(Ue.crc32,4),se+=s(Ue.compressedSize,4),se+=s(Ue.uncompressedSize,4),se+=s(G.length,2),se+=s(ve.length,2),{fileRecord:g.LOCAL_FILE_HEADER+se+G+ve,dirRecord:g.CENTRAL_FILE_HEADER+s(ee,2)+se+s(W.length,2)+"\0\0\0\0"+s(O,4)+s(R,4)+G+ve+W}}var u=n("../utils"),c=n("../stream/GenericWorker"),f=n("../utf8"),d=n("../crc32"),g=n("../signature");function y(m,x,S,R){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=S,this.encodeFileName=R,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(y,c),y.prototype.push=function(m){var x=m.meta.percent||0,S=this.entriesCount,R=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,c.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:S?(x+100*(S-R-1))/S:100}}))},y.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var x=this.streamFiles&&!m.file.dir;if(x){var S=l(m,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:S.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(m){this.accumulate=!1;var x=this.streamFiles&&!m.file.dir,S=l(m,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(S.dirRecord),x)this.push({data:(function(R){return g.DATA_DESCRIPTOR+s(R.crc32,4)+s(R.compressedSize,4)+s(R.uncompressedSize,4)})(m),meta:{percent:100}});else for(this.push({data:S.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var m=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var S=this.bytesWritten-m,R=(function(E,M,P,N,$){var Q=u.transformTo("string",$(N));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(E,2)+s(E,2)+s(M,4)+s(P,4)+s(Q.length,2)+Q})(this.dirRecords.length,S,m,this.zipComment,this.encodeFileName);this.push({data:R,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(m){this._sources.push(m);var x=this;return m.on("data",function(S){x.processChunk(S)}),m.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),m.on("error",function(S){x.error(S)}),this},y.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(m){var x=this._sources;if(!c.prototype.error.call(this,m))return!1;for(var S=0;S<x.length;S++)try{x[S].error(m)}catch{}return!0},y.prototype.lock=function(){c.prototype.lock.call(this);for(var m=this._sources,x=0;x<m.length;x++)m[x].lock()},r.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),l=n("./ZipFileWorker");i.generateWorker=function(u,c,f){var d=new l(c.streamFiles,f,c.platform,c.encodeFileName),g=0;try{u.forEach(function(y,m){g++;var x=(function(M,P){var N=M||P,$=s[N];if(!$)throw new Error(N+" is not a valid compression method !");return $})(m.options.compression,c.compression),S=m.options.compressionOptions||c.compressionOptions||{},R=m.dir,E=m.date;m._compressWorker(x,S).withStreamInfo("file",{name:y,dir:R,date:E,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(d)}),d.entriesCount=g}catch(y){d.error(y)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new s;for(var u in this)typeof this[u]!="function"&&(l[u]=this[u]);return l}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(l,u){return new s().loadAsync(l,u)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),l=n("./external"),u=n("./utf8"),c=n("./zipEntries"),f=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function g(y){return new l.Promise(function(m,x){var S=y.decompressed.getContentWorker().pipe(new f);S.on("error",function(R){x(R)}).on("end",function(){S.streamInfo.crc32!==y.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(y,m){var x=this;return m=s.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),d.isNode&&d.isStream(y)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",y,!0,m.optimizedBinaryString,m.base64).then(function(S){var R=new c(m);return R.load(S),R}).then(function(S){var R=[l.Promise.resolve(S)],E=S.files;if(m.checkCRC32)for(var M=0;M<E.length;M++)R.push(g(E[M]));return l.Promise.all(R)}).then(function(S){for(var R=S.shift(),E=R.files,M=0;M<E.length;M++){var P=E[M],N=P.fileNameStr,$=s.resolve(P.fileNameStr);x.file($,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:m.createFolders}),P.dir||(x.file($).unsafeOriginalName=N)}return R.zipComment.length&&(x.comment=R.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),l=n("../stream/GenericWorker");function u(c,f){l.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(f)}s.inherits(u,l),u.prototype._bindStream=function(c){var f=this;(this._stream=c).pause(),c.on("data",function(d){f.push({data:d,meta:{percent:0}})}).on("error",function(d){f.isPaused?this.generatedError=d:f.error(d)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},u.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function l(u,c,f){s.call(this,c),this._helper=u;var d=this;u.on("data",function(g,y){d.push(g)||d._helper.pause(),f&&f(y)}).on("error",function(g){d.emit("error",g)}).on("end",function(){d.push(null)})}n("../utils").inherits(l,s),l.prototype._read=function(){this._helper.resume()},r.exports=l},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,l);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,l)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var l=new Buffer(s);return l.fill(0),l},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s($,Q,V){var G,C=u.getTypeOf(Q),X=u.extend(V||{},d);X.date=X.date||new Date,X.compression!==null&&(X.compression=X.compression.toUpperCase()),typeof X.unixPermissions=="string"&&(X.unixPermissions=parseInt(X.unixPermissions,8)),X.unixPermissions&&16384&X.unixPermissions&&(X.dir=!0),X.dosPermissions&&16&X.dosPermissions&&(X.dir=!0),X.dir&&($=E($)),X.createFolders&&(G=R($))&&M.call(this,G,!0);var W=C==="string"&&X.binary===!1&&X.base64===!1;V&&V.binary!==void 0||(X.binary=!W),(Q instanceof g&&Q.uncompressedSize===0||X.dir||!Q||Q.length===0)&&(X.base64=!1,X.binary=!0,Q="",X.compression="STORE",C="string");var D=null;D=Q instanceof g||Q instanceof c?Q:x.isNode&&x.isStream(Q)?new S($,Q):u.prepareContent($,Q,X.binary,X.optimizedBinaryString,X.base64);var B=new y($,D,X);this.files[$]=B}var l=n("./utf8"),u=n("./utils"),c=n("./stream/GenericWorker"),f=n("./stream/StreamHelper"),d=n("./defaults"),g=n("./compressedObject"),y=n("./zipObject"),m=n("./generate"),x=n("./nodejsUtils"),S=n("./nodejs/NodejsStreamInputAdapter"),R=function($){$.slice(-1)==="/"&&($=$.substring(0,$.length-1));var Q=$.lastIndexOf("/");return 0<Q?$.substring(0,Q):""},E=function($){return $.slice(-1)!=="/"&&($+="/"),$},M=function($,Q){return Q=Q!==void 0?Q:d.createFolders,$=E($),this.files[$]||s.call(this,$,null,{dir:!0,createFolders:Q}),this.files[$]};function P($){return Object.prototype.toString.call($)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function($){var Q,V,G;for(Q in this.files)G=this.files[Q],(V=Q.slice(this.root.length,Q.length))&&Q.slice(0,this.root.length)===this.root&&$(V,G)},filter:function($){var Q=[];return this.forEach(function(V,G){$(V,G)&&Q.push(G)}),Q},file:function($,Q,V){if(arguments.length!==1)return $=this.root+$,s.call(this,$,Q,V),this;if(P($)){var G=$;return this.filter(function(X,W){return!W.dir&&G.test(X)})}var C=this.files[this.root+$];return C&&!C.dir?C:null},folder:function($){if(!$)return this;if(P($))return this.filter(function(C,X){return X.dir&&$.test(C)});var Q=this.root+$,V=M.call(this,Q),G=this.clone();return G.root=V.name,G},remove:function($){$=this.root+$;var Q=this.files[$];if(Q||($.slice(-1)!=="/"&&($+="/"),Q=this.files[$]),Q&&!Q.dir)delete this.files[$];else for(var V=this.filter(function(C,X){return X.name.slice(0,$.length)===$}),G=0;G<V.length;G++)delete this.files[V[G].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function($){var Q,V={};try{if((V=u.extend($||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=V.type.toLowerCase(),V.compression=V.compression.toUpperCase(),V.type==="binarystring"&&(V.type="string"),!V.type)throw new Error("No output type specified.");u.checkSupport(V.type),V.platform!=="darwin"&&V.platform!=="freebsd"&&V.platform!=="linux"&&V.platform!=="sunos"||(V.platform="UNIX"),V.platform==="win32"&&(V.platform="DOS");var G=V.comment||this.comment||"";Q=m.generateWorker(this,V,G)}catch(C){(Q=new c("error")).error(C)}return new f(Q,V.type||"string",V.mimeType)},generateAsync:function($,Q){return this.generateInternalStream($).accumulate(Q)},generateNodeStream:function($,Q){return($=$||{}).type||($.type="nodebuffer"),this.generateInternalStream($).toNodejsStream(Q)}};r.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function l(u){s.call(this,u);for(var c=0;c<this.data.length;c++)u[c]=255&u[c]}n("../utils").inherits(l,s),l.prototype.byteAt=function(u){return this.data[this.zero+u]},l.prototype.lastIndexOfSignature=function(u){for(var c=u.charCodeAt(0),f=u.charCodeAt(1),d=u.charCodeAt(2),g=u.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===c&&this.data[y+1]===f&&this.data[y+2]===d&&this.data[y+3]===g)return y-this.zero;return-1},l.prototype.readAndCheckSignature=function(u){var c=u.charCodeAt(0),f=u.charCodeAt(1),d=u.charCodeAt(2),g=u.charCodeAt(3),y=this.readData(4);return c===y[0]&&f===y[1]&&d===y[2]&&g===y[3]},l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},r.exports=l},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function l(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var c,f=0;for(this.checkOffset(u),c=this.index+u-1;c>=this.index;c--)f=(f<<8)+this.byteAt(c);return this.index+=u,f},readString:function(u){return s.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},r.exports=l},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function l(u){s.call(this,u)}n("../utils").inherits(l,s),l.prototype.readData=function(u){this.checkOffset(u);var c=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},r.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function l(u){s.call(this,u)}n("../utils").inherits(l,s),l.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},l.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},l.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},l.prototype.readData=function(u){this.checkOffset(u);var c=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},r.exports=l},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function l(u){s.call(this,u)}n("../utils").inherits(l,s),l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},r.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),l=n("../support"),u=n("./ArrayReader"),c=n("./StringReader"),f=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");r.exports=function(g){var y=s.getTypeOf(g);return s.checkSupport(y),y!=="string"||l.uint8array?y==="nodebuffer"?new f(g):l.uint8array?new d(s.transformTo("uint8array",g)):new u(s.transformTo("array",g)):new c(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),l=n("../utils");function u(c){s.call(this,"ConvertWorker to "+c),this.destType=c}l.inherits(u,s),u.prototype.processChunk=function(c){this.push({data:l.transformTo(this.destType,c.data),meta:c.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),l=n("../crc32");function u(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(u,s),u.prototype.processChunk=function(c){this.streamInfo.crc32=l(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),l=n("./GenericWorker");function u(c){l.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}s.inherits(u,l),u.prototype.processChunk=function(c){if(c){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+c.data.length}l.prototype.processChunk.call(this,c)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),l=n("./GenericWorker");function u(c){l.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){f.dataIsReady=!0,f.data=d,f.max=d&&d.length||0,f.type=s.getTypeOf(d),f.isPaused||f._tickAndRepeat()},function(d){f.error(d)})}s.inherits(u,l),u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,f);break;case"uint8array":c=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":c=this.data.slice(this.index,f)}return this.index=f,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,u){return this._listeners[l].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,u){if(this._listeners[l])for(var c=0;c<this._listeners[l].length;c++)this._listeners[l][c].call(this,u)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var u=this;return l.on("data",function(c){u.processChunk(c)}),l.on("end",function(){u.end()}),l.on("error",function(c){u.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,u){return this.extraStreamInfo[l]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),l=n("./ConvertWorker"),u=n("./GenericWorker"),c=n("../base64"),f=n("../support"),d=n("../external"),g=null;if(f.nodestream)try{g=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(x,S){return new d.Promise(function(R,E){var M=[],P=x._internalType,N=x._outputType,$=x._mimeType;x.on("data",function(Q,V){M.push(Q),S&&S(V)}).on("error",function(Q){M=[],E(Q)}).on("end",function(){try{var Q=(function(V,G,C){switch(V){case"blob":return s.newBlob(s.transformTo("arraybuffer",G),C);case"base64":return c.encode(G);default:return s.transformTo(V,G)}})(N,(function(V,G){var C,X=0,W=null,D=0;for(C=0;C<G.length;C++)D+=G[C].length;switch(V){case"string":return G.join("");case"array":return Array.prototype.concat.apply([],G);case"uint8array":for(W=new Uint8Array(D),C=0;C<G.length;C++)W.set(G[C],X),X+=G[C].length;return W;case"nodebuffer":return Buffer.concat(G);default:throw new Error("concat : unsupported type '"+V+"'")}})(P,M),$);R(Q)}catch(V){E(V)}M=[]}).resume()})}function m(x,S,R){var E=S;switch(S){case"blob":case"arraybuffer":E="uint8array";break;case"base64":E="string"}try{this._internalType=E,this._outputType=S,this._mimeType=R,s.checkSupport(E),this._worker=x.pipe(new l(E)),x.lock()}catch(M){this._worker=new u("error"),this._worker.error(M)}}m.prototype={accumulate:function(x){return y(this,x)},on:function(x,S){var R=this;return x==="data"?this._worker.on(x,function(E){S.call(R,E.data,E.meta)}):this._worker.on(x,function(){s.delay(S,arguments,R)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},x)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(s),i.blob=l.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),l=n("./support"),u=n("./nodejsUtils"),c=n("./stream/GenericWorker"),f=new Array(256),d=0;d<256;d++)f[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;f[254]=f[254]=1;function g(){c.call(this,"utf-8 decode"),this.leftOver=null}function y(){c.call(this,"utf-8 encode")}i.utf8encode=function(m){return l.nodebuffer?u.newBufferFrom(m,"utf-8"):(function(x){var S,R,E,M,P,N=x.length,$=0;for(M=0;M<N;M++)(64512&(R=x.charCodeAt(M)))==55296&&M+1<N&&(64512&(E=x.charCodeAt(M+1)))==56320&&(R=65536+(R-55296<<10)+(E-56320),M++),$+=R<128?1:R<2048?2:R<65536?3:4;for(S=l.uint8array?new Uint8Array($):new Array($),M=P=0;P<$;M++)(64512&(R=x.charCodeAt(M)))==55296&&M+1<N&&(64512&(E=x.charCodeAt(M+1)))==56320&&(R=65536+(R-55296<<10)+(E-56320),M++),R<128?S[P++]=R:(R<2048?S[P++]=192|R>>>6:(R<65536?S[P++]=224|R>>>12:(S[P++]=240|R>>>18,S[P++]=128|R>>>12&63),S[P++]=128|R>>>6&63),S[P++]=128|63&R);return S})(m)},i.utf8decode=function(m){return l.nodebuffer?s.transformTo("nodebuffer",m).toString("utf-8"):(function(x){var S,R,E,M,P=x.length,N=new Array(2*P);for(S=R=0;S<P;)if((E=x[S++])<128)N[R++]=E;else if(4<(M=f[E]))N[R++]=65533,S+=M-1;else{for(E&=M===2?31:M===3?15:7;1<M&&S<P;)E=E<<6|63&x[S++],M--;1<M?N[R++]=65533:E<65536?N[R++]=E:(E-=65536,N[R++]=55296|E>>10&1023,N[R++]=56320|1023&E)}return N.length!==R&&(N.subarray?N=N.subarray(0,R):N.length=R),s.applyFromCharCode(N)})(m=s.transformTo(l.uint8array?"uint8array":"array",m))},s.inherits(g,c),g.prototype.processChunk=function(m){var x=s.transformTo(l.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var S=x;(x=new Uint8Array(S.length+this.leftOver.length)).set(this.leftOver,0),x.set(S,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var R=(function(M,P){var N;for((P=P||M.length)>M.length&&(P=M.length),N=P-1;0<=N&&(192&M[N])==128;)N--;return N<0||N===0?P:N+f[M[N]]>P?N:P})(x),E=x;R!==x.length&&(l.uint8array?(E=x.subarray(0,R),this.leftOver=x.subarray(R,x.length)):(E=x.slice(0,R),this.leftOver=x.slice(R,x.length))),this.push({data:i.utf8decode(E),meta:m.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=g,s.inherits(y,c),y.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),l=n("./base64"),u=n("./nodejsUtils"),c=n("./external");function f(S){return S}function d(S,R){for(var E=0;E<S.length;++E)R[E]=255&S.charCodeAt(E);return R}n("setimmediate"),i.newBlob=function(S,R){i.checkSupport("blob");try{return new Blob([S],{type:R})}catch{try{var E=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return E.append(S),E.getBlob(R)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(S,R,E){var M=[],P=0,N=S.length;if(N<=E)return String.fromCharCode.apply(null,S);for(;P<N;)R==="array"||R==="nodebuffer"?M.push(String.fromCharCode.apply(null,S.slice(P,Math.min(P+E,N)))):M.push(String.fromCharCode.apply(null,S.subarray(P,Math.min(P+E,N)))),P+=E;return M.join("")},stringifyByChar:function(S){for(var R="",E=0;E<S.length;E++)R+=String.fromCharCode(S[E]);return R},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}})()}};function y(S){var R=65536,E=i.getTypeOf(S),M=!0;if(E==="uint8array"?M=g.applyCanBeUsed.uint8array:E==="nodebuffer"&&(M=g.applyCanBeUsed.nodebuffer),M)for(;1<R;)try{return g.stringifyByChunk(S,E,R)}catch{R=Math.floor(R/2)}return g.stringifyByChar(S)}function m(S,R){for(var E=0;E<S.length;E++)R[E]=S[E];return R}i.applyFromCharCode=y;var x={};x.string={string:f,array:function(S){return d(S,new Array(S.length))},arraybuffer:function(S){return x.string.uint8array(S).buffer},uint8array:function(S){return d(S,new Uint8Array(S.length))},nodebuffer:function(S){return d(S,u.allocBuffer(S.length))}},x.array={string:y,array:f,arraybuffer:function(S){return new Uint8Array(S).buffer},uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return u.newBufferFrom(S)}},x.arraybuffer={string:function(S){return y(new Uint8Array(S))},array:function(S){return m(new Uint8Array(S),new Array(S.byteLength))},arraybuffer:f,uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return u.newBufferFrom(new Uint8Array(S))}},x.uint8array={string:y,array:function(S){return m(S,new Array(S.length))},arraybuffer:function(S){return S.buffer},uint8array:f,nodebuffer:function(S){return u.newBufferFrom(S)}},x.nodebuffer={string:y,array:function(S){return m(S,new Array(S.length))},arraybuffer:function(S){return x.nodebuffer.uint8array(S).buffer},uint8array:function(S){return m(S,new Uint8Array(S.length))},nodebuffer:f},i.transformTo=function(S,R){if(R=R||"",!S)return R;i.checkSupport(S);var E=i.getTypeOf(R);return x[E][S](R)},i.resolve=function(S){for(var R=S.split("/"),E=[],M=0;M<R.length;M++){var P=R[M];P==="."||P===""&&M!==0&&M!==R.length-1||(P===".."?E.pop():E.push(P))}return E.join("/")},i.getTypeOf=function(S){return typeof S=="string"?"string":Object.prototype.toString.call(S)==="[object Array]"?"array":s.nodebuffer&&u.isBuffer(S)?"nodebuffer":s.uint8array&&S instanceof Uint8Array?"uint8array":s.arraybuffer&&S instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(S){if(!s[S.toLowerCase()])throw new Error(S+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(S){var R,E,M="";for(E=0;E<(S||"").length;E++)M+="\\x"+((R=S.charCodeAt(E))<16?"0":"")+R.toString(16).toUpperCase();return M},i.delay=function(S,R,E){setImmediate(function(){S.apply(E||null,R||[])})},i.inherits=function(S,R){function E(){}E.prototype=R.prototype,S.prototype=new E},i.extend=function(){var S,R,E={};for(S=0;S<arguments.length;S++)for(R in arguments[S])Object.prototype.hasOwnProperty.call(arguments[S],R)&&E[R]===void 0&&(E[R]=arguments[S][R]);return E},i.prepareContent=function(S,R,E,M,P){return c.Promise.resolve(R).then(function(N){return s.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new c.Promise(function($,Q){var V=new FileReader;V.onload=function(G){$(G.target.result)},V.onerror=function(G){Q(G.target.error)},V.readAsArrayBuffer(N)}):N}).then(function(N){var $=i.getTypeOf(N);return $?($==="arraybuffer"?N=i.transformTo("uint8array",N):$==="string"&&(P?N=l.decode(N):E&&M!==!0&&(N=(function(Q){return d(Q,s.uint8array?new Uint8Array(Q.length):new Array(Q.length))})(N))),N):c.Promise.reject(new Error("Can't read the data of '"+S+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),l=n("./utils"),u=n("./signature"),c=n("./zipEntry"),f=n("./support");function d(g){this.files=[],this.loadOptions=g}d.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(y)+", expected "+l.pretty(g)+")")}},isSignature:function(g,y){var m=this.reader.index;this.reader.setIndex(g);var x=this.reader.readString(4)===y;return this.reader.setIndex(m),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),y=f.uint8array?"uint8array":"array",m=l.transformTo(y,g);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,y,m,x=this.zip64EndOfCentralSize-44;0<x;)g=this.reader.readInt(2),y=this.reader.readInt(4),m=this.reader.readData(y),this.zip64ExtensibleData[g]={id:g,length:y,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,y;for(g=0;g<this.files.length;g++)y=this.files[g],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(g=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var y=g;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var x=y-m;if(0<x)this.isSignature(y,u.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(g){this.reader=s(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),l=n("./utils"),u=n("./compressedObject"),c=n("./crc32"),f=n("./utf8"),d=n("./compressions"),g=n("./support");function y(m,x){this.options=m,this.loadOptions=x}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var x,S;if(m.skip(22),this.fileNameLength=m.readInt(2),S=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(S),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=(function(R){for(var E in d)if(Object.prototype.hasOwnProperty.call(d,E)&&d[E].magic===R)return d[E];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,x,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var x=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(x),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=s(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var x,S,R,E=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<E;)x=m.readInt(2),S=m.readInt(2),R=m.readData(S),this.extraFields[x]={id:x,length:S,value:R};m.setIndex(E)},handleUTF8:function(){var m=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var S=l.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(S)}var R=this.findExtraFieldUnicodeComment();if(R!==null)this.fileCommentStr=R;else{var E=l.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var x=s(m.value);return x.readInt(1)!==1||c(this.fileName)!==x.readInt(4)?null:f.utf8decode(x.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var x=s(m.value);return x.readInt(1)!==1||c(this.fileComment)!==x.readInt(4)?null:f.utf8decode(x.readData(m.length-5))}return null}},r.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(x,S,R){this.name=x,this.dir=R.dir,this.date=R.date,this.comment=R.comment,this.unixPermissions=R.unixPermissions,this.dosPermissions=R.dosPermissions,this._data=S,this._dataBinary=R.binary,this.options={compression:R.compression,compressionOptions:R.compressionOptions}}var l=n("./stream/StreamHelper"),u=n("./stream/DataWorker"),c=n("./utf8"),f=n("./compressedObject"),d=n("./stream/GenericWorker");s.prototype={internalStream:function(x){var S=null,R="string";try{if(!x)throw new Error("No output type specified.");var E=(R=x.toLowerCase())==="string"||R==="text";R!=="binarystring"&&R!=="text"||(R="string"),S=this._decompressWorker();var M=!this._dataBinary;M&&!E&&(S=S.pipe(new c.Utf8EncodeWorker)),!M&&E&&(S=S.pipe(new c.Utf8DecodeWorker))}catch(P){(S=new d("error")).error(P)}return new l(S,R,"")},async:function(x,S){return this.internalStream(x).accumulate(S)},nodeStream:function(x,S){return this.internalStream(x||"nodebuffer").toNodejsStream(S)},_compressWorker:function(x,S){if(this._data instanceof f&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var R=this._decompressWorker();return this._dataBinary||(R=R.pipe(new c.Utf8EncodeWorker)),f.createWorkerFrom(R,x,S)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof d?this._data:new u(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<g.length;m++)s.prototype[g[m]]=y;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var l,u,c=s.MutationObserver||s.WebKitMutationObserver;if(c){var f=0,d=new c(x),g=s.document.createTextNode("");d.observe(g,{characterData:!0}),l=function(){g.data=f=++f%2}}else if(s.setImmediate||s.MessageChannel===void 0)l="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var S=s.document.createElement("script");S.onreadystatechange=function(){x(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},s.document.documentElement.appendChild(S)}:function(){setTimeout(x,0)};else{var y=new s.MessageChannel;y.port1.onmessage=x,l=function(){y.port2.postMessage(0)}}var m=[];function x(){var S,R;u=!0;for(var E=m.length;E;){for(R=m,m=[],S=-1;++S<E;)R[S]();E=m.length}u=!1}r.exports=function(S){m.push(S)!==1||u||l()}}).call(this,typeof Il<"u"?Il:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function l(){}var u={},c=["REJECTED"],f=["FULFILLED"],d=["PENDING"];function g(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,E!==l&&S(this,E)}function y(E,M,P){this.promise=E,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function m(E,M,P){s(function(){var N;try{N=M(P)}catch($){return u.reject(E,$)}N===E?u.reject(E,new TypeError("Cannot resolve promise with itself")):u.resolve(E,N)})}function x(E){var M=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof M=="function")return function(){M.apply(E,arguments)}}function S(E,M){var P=!1;function N(V){P||(P=!0,u.reject(E,V))}function $(V){P||(P=!0,u.resolve(E,V))}var Q=R(function(){M($,N)});Q.status==="error"&&N(Q.value)}function R(E,M){var P={};try{P.value=E(M),P.status="success"}catch(N){P.status="error",P.value=N}return P}(r.exports=g).prototype.finally=function(E){if(typeof E!="function")return this;var M=this.constructor;return this.then(function(P){return M.resolve(E()).then(function(){return P})},function(P){return M.resolve(E()).then(function(){throw P})})},g.prototype.catch=function(E){return this.then(null,E)},g.prototype.then=function(E,M){if(typeof E!="function"&&this.state===f||typeof M!="function"&&this.state===c)return this;var P=new this.constructor(l);return this.state!==d?m(P,this.state===f?E:M,this.outcome):this.queue.push(new y(P,E,M)),P},y.prototype.callFulfilled=function(E){u.resolve(this.promise,E)},y.prototype.otherCallFulfilled=function(E){m(this.promise,this.onFulfilled,E)},y.prototype.callRejected=function(E){u.reject(this.promise,E)},y.prototype.otherCallRejected=function(E){m(this.promise,this.onRejected,E)},u.resolve=function(E,M){var P=R(x,M);if(P.status==="error")return u.reject(E,P.value);var N=P.value;if(N)S(E,N);else{E.state=f,E.outcome=M;for(var $=-1,Q=E.queue.length;++$<Q;)E.queue[$].callFulfilled(M)}return E},u.reject=function(E,M){E.state=c,E.outcome=M;for(var P=-1,N=E.queue.length;++P<N;)E.queue[P].callRejected(M);return E},g.resolve=function(E){return E instanceof this?E:u.resolve(new this(l),E)},g.reject=function(E){var M=new this(l);return u.reject(M,E)},g.all=function(E){var M=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=E.length,N=!1;if(!P)return this.resolve([]);for(var $=new Array(P),Q=0,V=-1,G=new this(l);++V<P;)C(E[V],V);return G;function C(X,W){M.resolve(X).then(function(D){$[W]=D,++Q!==P||N||(N=!0,u.resolve(G,$))},function(D){N||(N=!0,u.reject(G,D))})}},g.race=function(E){var M=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=E.length,N=!1;if(!P)return this.resolve([]);for(var $=-1,Q=new this(l);++$<P;)V=E[$],M.resolve(V).then(function(G){N||(N=!0,u.resolve(Q,G))},function(G){N||(N=!0,u.reject(Q,G))});var V;return Q}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),l=n("./utils/common"),u=n("./utils/strings"),c=n("./zlib/messages"),f=n("./zlib/zstream"),d=Object.prototype.toString,g=0,y=-1,m=0,x=8;function S(E){if(!(this instanceof S))return new S(E);this.options=l.assign({level:y,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},E||{});var M=this.options;M.raw&&0<M.windowBits?M.windowBits=-M.windowBits:M.gzip&&0<M.windowBits&&M.windowBits<16&&(M.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var P=s.deflateInit2(this.strm,M.level,M.method,M.windowBits,M.memLevel,M.strategy);if(P!==g)throw new Error(c[P]);if(M.header&&s.deflateSetHeader(this.strm,M.header),M.dictionary){var N;if(N=typeof M.dictionary=="string"?u.string2buf(M.dictionary):d.call(M.dictionary)==="[object ArrayBuffer]"?new Uint8Array(M.dictionary):M.dictionary,(P=s.deflateSetDictionary(this.strm,N))!==g)throw new Error(c[P]);this._dict_set=!0}}function R(E,M){var P=new S(M);if(P.push(E,!0),P.err)throw P.msg||c[P.err];return P.result}S.prototype.push=function(E,M){var P,N,$=this.strm,Q=this.options.chunkSize;if(this.ended)return!1;N=M===~~M?M:M===!0?4:0,typeof E=="string"?$.input=u.string2buf(E):d.call(E)==="[object ArrayBuffer]"?$.input=new Uint8Array(E):$.input=E,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new l.Buf8(Q),$.next_out=0,$.avail_out=Q),(P=s.deflate($,N))!==1&&P!==g)return this.onEnd(P),!(this.ended=!0);$.avail_out!==0&&($.avail_in!==0||N!==4&&N!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(l.shrinkBuf($.output,$.next_out))):this.onData(l.shrinkBuf($.output,$.next_out)))}while((0<$.avail_in||$.avail_out===0)&&P!==1);return N===4?(P=s.deflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===g):N!==2||(this.onEnd(g),!($.avail_out=0))},S.prototype.onData=function(E){this.chunks.push(E)},S.prototype.onEnd=function(E){E===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},i.Deflate=S,i.deflate=R,i.deflateRaw=function(E,M){return(M=M||{}).raw=!0,R(E,M)},i.gzip=function(E,M){return(M=M||{}).gzip=!0,R(E,M)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),l=n("./utils/common"),u=n("./utils/strings"),c=n("./zlib/constants"),f=n("./zlib/messages"),d=n("./zlib/zstream"),g=n("./zlib/gzheader"),y=Object.prototype.toString;function m(S){if(!(this instanceof m))return new m(S);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},S||{});var R=this.options;R.raw&&0<=R.windowBits&&R.windowBits<16&&(R.windowBits=-R.windowBits,R.windowBits===0&&(R.windowBits=-15)),!(0<=R.windowBits&&R.windowBits<16)||S&&S.windowBits||(R.windowBits+=32),15<R.windowBits&&R.windowBits<48&&(15&R.windowBits)==0&&(R.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var E=s.inflateInit2(this.strm,R.windowBits);if(E!==c.Z_OK)throw new Error(f[E]);this.header=new g,s.inflateGetHeader(this.strm,this.header)}function x(S,R){var E=new m(R);if(E.push(S,!0),E.err)throw E.msg||f[E.err];return E.result}m.prototype.push=function(S,R){var E,M,P,N,$,Q,V=this.strm,G=this.options.chunkSize,C=this.options.dictionary,X=!1;if(this.ended)return!1;M=R===~~R?R:R===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof S=="string"?V.input=u.binstring2buf(S):y.call(S)==="[object ArrayBuffer]"?V.input=new Uint8Array(S):V.input=S,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new l.Buf8(G),V.next_out=0,V.avail_out=G),(E=s.inflate(V,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&C&&(Q=typeof C=="string"?u.string2buf(C):y.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,E=s.inflateSetDictionary(this.strm,Q)),E===c.Z_BUF_ERROR&&X===!0&&(E=c.Z_OK,X=!1),E!==c.Z_STREAM_END&&E!==c.Z_OK)return this.onEnd(E),!(this.ended=!0);V.next_out&&(V.avail_out!==0&&E!==c.Z_STREAM_END&&(V.avail_in!==0||M!==c.Z_FINISH&&M!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=u.utf8border(V.output,V.next_out),N=V.next_out-P,$=u.buf2string(V.output,P),V.next_out=N,V.avail_out=G-N,N&&l.arraySet(V.output,V.output,P,N,0),this.onData($)):this.onData(l.shrinkBuf(V.output,V.next_out)))),V.avail_in===0&&V.avail_out===0&&(X=!0)}while((0<V.avail_in||V.avail_out===0)&&E!==c.Z_STREAM_END);return E===c.Z_STREAM_END&&(M=c.Z_FINISH),M===c.Z_FINISH?(E=s.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===c.Z_OK):M!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(V.avail_out=0))},m.prototype.onData=function(S){this.chunks.push(S)},m.prototype.onEnd=function(S){S===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},i.Inflate=m,i.inflate=x,i.inflateRaw=function(S,R){return(R=R||{}).raw=!0,x(S,R)},i.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var d=f.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var g in d)d.hasOwnProperty(g)&&(c[g]=d[g])}}return c},i.shrinkBuf=function(c,f){return c.length===f?c:c.subarray?c.subarray(0,f):(c.length=f,c)};var l={arraySet:function(c,f,d,g,y){if(f.subarray&&c.subarray)c.set(f.subarray(d,d+g),y);else for(var m=0;m<g;m++)c[y+m]=f[d+m]},flattenChunks:function(c){var f,d,g,y,m,x;for(f=g=0,d=c.length;f<d;f++)g+=c[f].length;for(x=new Uint8Array(g),f=y=0,d=c.length;f<d;f++)m=c[f],x.set(m,y),y+=m.length;return x}},u={arraySet:function(c,f,d,g,y){for(var m=0;m<g;m++)c[y+m]=f[d+m]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,l)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,u))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),l=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var c=new s.Buf8(256),f=0;f<256;f++)c[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function d(g,y){if(y<65537&&(g.subarray&&u||!g.subarray&&l))return String.fromCharCode.apply(null,s.shrinkBuf(g,y));for(var m="",x=0;x<y;x++)m+=String.fromCharCode(g[x]);return m}c[254]=c[254]=1,i.string2buf=function(g){var y,m,x,S,R,E=g.length,M=0;for(S=0;S<E;S++)(64512&(m=g.charCodeAt(S)))==55296&&S+1<E&&(64512&(x=g.charCodeAt(S+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),S++),M+=m<128?1:m<2048?2:m<65536?3:4;for(y=new s.Buf8(M),S=R=0;R<M;S++)(64512&(m=g.charCodeAt(S)))==55296&&S+1<E&&(64512&(x=g.charCodeAt(S+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),S++),m<128?y[R++]=m:(m<2048?y[R++]=192|m>>>6:(m<65536?y[R++]=224|m>>>12:(y[R++]=240|m>>>18,y[R++]=128|m>>>12&63),y[R++]=128|m>>>6&63),y[R++]=128|63&m);return y},i.buf2binstring=function(g){return d(g,g.length)},i.binstring2buf=function(g){for(var y=new s.Buf8(g.length),m=0,x=y.length;m<x;m++)y[m]=g.charCodeAt(m);return y},i.buf2string=function(g,y){var m,x,S,R,E=y||g.length,M=new Array(2*E);for(m=x=0;m<E;)if((S=g[m++])<128)M[x++]=S;else if(4<(R=c[S]))M[x++]=65533,m+=R-1;else{for(S&=R===2?31:R===3?15:7;1<R&&m<E;)S=S<<6|63&g[m++],R--;1<R?M[x++]=65533:S<65536?M[x++]=S:(S-=65536,M[x++]=55296|S>>10&1023,M[x++]=56320|1023&S)}return d(M,x)},i.utf8border=function(g,y){var m;for((y=y||g.length)>g.length&&(y=g.length),m=y-1;0<=m&&(192&g[m])==128;)m--;return m<0||m===0?y:m+c[g[m]]>y?m:y}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,l,u,c){for(var f=65535&s|0,d=s>>>16&65535|0,g=0;u!==0;){for(u-=g=2e3<u?2e3:u;d=d+(f=f+l[c++]|0)|0,--g;);f%=65521,d%=65521}return f|d<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=(function(){for(var l,u=[],c=0;c<256;c++){l=c;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;u[c]=l}return u})();r.exports=function(l,u,c,f){var d=s,g=f+c;l^=-1;for(var y=f;y<g;y++)l=l>>>8^d[255&(l^u[y])];return-1^l}},{}],46:[function(n,r,i){var s,l=n("../utils/common"),u=n("./trees"),c=n("./adler32"),f=n("./crc32"),d=n("./messages"),g=0,y=4,m=0,x=-2,S=-1,R=4,E=2,M=8,P=9,N=286,$=30,Q=19,V=2*N+1,G=15,C=3,X=258,W=X+C+1,D=42,B=113,F=1,ve=2,ce=3,ae=4;function _e(z,Z){return z.msg=d[Z],Z}function xe(z){return(z<<1)-(4<z?9:0)}function Ue(z){for(var Z=z.length;0<=--Z;)z[Z]=0}function re(z){var Z=z.state,Y=Z.pending;Y>z.avail_out&&(Y=z.avail_out),Y!==0&&(l.arraySet(z.output,Z.pending_buf,Z.pending_out,Y,z.next_out),z.next_out+=Y,Z.pending_out+=Y,z.total_out+=Y,z.avail_out-=Y,Z.pending-=Y,Z.pending===0&&(Z.pending_out=0))}function O(z,Z){u._tr_flush_block(z,0<=z.block_start?z.block_start:-1,z.strstart-z.block_start,Z),z.block_start=z.strstart,re(z.strm)}function ee(z,Z){z.pending_buf[z.pending++]=Z}function se(z,Z){z.pending_buf[z.pending++]=Z>>>8&255,z.pending_buf[z.pending++]=255&Z}function me(z,Z){var Y,I,L=z.max_chain_length,q=z.strstart,ye=z.prev_length,Ce=z.nice_match,Ae=z.strstart>z.w_size-W?z.strstart-(z.w_size-W):0,Oe=z.window,We=z.w_mask,He=z.prev,Ze=z.strstart+X,_t=Oe[q+ye-1],xt=Oe[q+ye];z.prev_length>=z.good_match&&(L>>=2),Ce>z.lookahead&&(Ce=z.lookahead);do if(Oe[(Y=Z)+ye]===xt&&Oe[Y+ye-1]===_t&&Oe[Y]===Oe[q]&&Oe[++Y]===Oe[q+1]){q+=2,Y++;do;while(Oe[++q]===Oe[++Y]&&Oe[++q]===Oe[++Y]&&Oe[++q]===Oe[++Y]&&Oe[++q]===Oe[++Y]&&Oe[++q]===Oe[++Y]&&Oe[++q]===Oe[++Y]&&Oe[++q]===Oe[++Y]&&Oe[++q]===Oe[++Y]&&q<Ze);if(I=X-(Ze-q),q=Ze-X,ye<I){if(z.match_start=Z,Ce<=(ye=I))break;_t=Oe[q+ye-1],xt=Oe[q+ye]}}while((Z=He[Z&We])>Ae&&--L!=0);return ye<=z.lookahead?ye:z.lookahead}function ue(z){var Z,Y,I,L,q,ye,Ce,Ae,Oe,We,He=z.w_size;do{if(L=z.window_size-z.lookahead-z.strstart,z.strstart>=He+(He-W)){for(l.arraySet(z.window,z.window,He,He,0),z.match_start-=He,z.strstart-=He,z.block_start-=He,Z=Y=z.hash_size;I=z.head[--Z],z.head[Z]=He<=I?I-He:0,--Y;);for(Z=Y=He;I=z.prev[--Z],z.prev[Z]=He<=I?I-He:0,--Y;);L+=He}if(z.strm.avail_in===0)break;if(ye=z.strm,Ce=z.window,Ae=z.strstart+z.lookahead,Oe=L,We=void 0,We=ye.avail_in,Oe<We&&(We=Oe),Y=We===0?0:(ye.avail_in-=We,l.arraySet(Ce,ye.input,ye.next_in,We,Ae),ye.state.wrap===1?ye.adler=c(ye.adler,Ce,We,Ae):ye.state.wrap===2&&(ye.adler=f(ye.adler,Ce,We,Ae)),ye.next_in+=We,ye.total_in+=We,We),z.lookahead+=Y,z.lookahead+z.insert>=C)for(q=z.strstart-z.insert,z.ins_h=z.window[q],z.ins_h=(z.ins_h<<z.hash_shift^z.window[q+1])&z.hash_mask;z.insert&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[q+C-1])&z.hash_mask,z.prev[q&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=q,q++,z.insert--,!(z.lookahead+z.insert<C)););}while(z.lookahead<W&&z.strm.avail_in!==0)}function H(z,Z){for(var Y,I;;){if(z.lookahead<W){if(ue(z),z.lookahead<W&&Z===g)return F;if(z.lookahead===0)break}if(Y=0,z.lookahead>=C&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+C-1])&z.hash_mask,Y=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),Y!==0&&z.strstart-Y<=z.w_size-W&&(z.match_length=me(z,Y)),z.match_length>=C)if(I=u._tr_tally(z,z.strstart-z.match_start,z.match_length-C),z.lookahead-=z.match_length,z.match_length<=z.max_lazy_match&&z.lookahead>=C){for(z.match_length--;z.strstart++,z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+C-1])&z.hash_mask,Y=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart,--z.match_length!=0;);z.strstart++}else z.strstart+=z.match_length,z.match_length=0,z.ins_h=z.window[z.strstart],z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+1])&z.hash_mask;else I=u._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++;if(I&&(O(z,!1),z.strm.avail_out===0))return F}return z.insert=z.strstart<C-1?z.strstart:C-1,Z===y?(O(z,!0),z.strm.avail_out===0?ce:ae):z.last_lit&&(O(z,!1),z.strm.avail_out===0)?F:ve}function j(z,Z){for(var Y,I,L;;){if(z.lookahead<W){if(ue(z),z.lookahead<W&&Z===g)return F;if(z.lookahead===0)break}if(Y=0,z.lookahead>=C&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+C-1])&z.hash_mask,Y=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),z.prev_length=z.match_length,z.prev_match=z.match_start,z.match_length=C-1,Y!==0&&z.prev_length<z.max_lazy_match&&z.strstart-Y<=z.w_size-W&&(z.match_length=me(z,Y),z.match_length<=5&&(z.strategy===1||z.match_length===C&&4096<z.strstart-z.match_start)&&(z.match_length=C-1)),z.prev_length>=C&&z.match_length<=z.prev_length){for(L=z.strstart+z.lookahead-C,I=u._tr_tally(z,z.strstart-1-z.prev_match,z.prev_length-C),z.lookahead-=z.prev_length-1,z.prev_length-=2;++z.strstart<=L&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+C-1])&z.hash_mask,Y=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),--z.prev_length!=0;);if(z.match_available=0,z.match_length=C-1,z.strstart++,I&&(O(z,!1),z.strm.avail_out===0))return F}else if(z.match_available){if((I=u._tr_tally(z,0,z.window[z.strstart-1]))&&O(z,!1),z.strstart++,z.lookahead--,z.strm.avail_out===0)return F}else z.match_available=1,z.strstart++,z.lookahead--}return z.match_available&&(I=u._tr_tally(z,0,z.window[z.strstart-1]),z.match_available=0),z.insert=z.strstart<C-1?z.strstart:C-1,Z===y?(O(z,!0),z.strm.avail_out===0?ce:ae):z.last_lit&&(O(z,!1),z.strm.avail_out===0)?F:ve}function ge(z,Z,Y,I,L){this.good_length=z,this.max_lazy=Z,this.nice_length=Y,this.max_chain=I,this.func=L}function he(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*V),this.dyn_dtree=new l.Buf16(2*(2*$+1)),this.bl_tree=new l.Buf16(2*(2*Q+1)),Ue(this.dyn_ltree),Ue(this.dyn_dtree),Ue(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(G+1),this.heap=new l.Buf16(2*N+1),Ue(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*N+1),Ue(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function le(z){var Z;return z&&z.state?(z.total_in=z.total_out=0,z.data_type=E,(Z=z.state).pending=0,Z.pending_out=0,Z.wrap<0&&(Z.wrap=-Z.wrap),Z.status=Z.wrap?D:B,z.adler=Z.wrap===2?0:1,Z.last_flush=g,u._tr_init(Z),m):_e(z,x)}function pe(z){var Z=le(z);return Z===m&&(function(Y){Y.window_size=2*Y.w_size,Ue(Y.head),Y.max_lazy_match=s[Y.level].max_lazy,Y.good_match=s[Y.level].good_length,Y.nice_match=s[Y.level].nice_length,Y.max_chain_length=s[Y.level].max_chain,Y.strstart=0,Y.block_start=0,Y.lookahead=0,Y.insert=0,Y.match_length=Y.prev_length=C-1,Y.match_available=0,Y.ins_h=0})(z.state),Z}function De(z,Z,Y,I,L,q){if(!z)return x;var ye=1;if(Z===S&&(Z=6),I<0?(ye=0,I=-I):15<I&&(ye=2,I-=16),L<1||P<L||Y!==M||I<8||15<I||Z<0||9<Z||q<0||R<q)return _e(z,x);I===8&&(I=9);var Ce=new he;return(z.state=Ce).strm=z,Ce.wrap=ye,Ce.gzhead=null,Ce.w_bits=I,Ce.w_size=1<<Ce.w_bits,Ce.w_mask=Ce.w_size-1,Ce.hash_bits=L+7,Ce.hash_size=1<<Ce.hash_bits,Ce.hash_mask=Ce.hash_size-1,Ce.hash_shift=~~((Ce.hash_bits+C-1)/C),Ce.window=new l.Buf8(2*Ce.w_size),Ce.head=new l.Buf16(Ce.hash_size),Ce.prev=new l.Buf16(Ce.w_size),Ce.lit_bufsize=1<<L+6,Ce.pending_buf_size=4*Ce.lit_bufsize,Ce.pending_buf=new l.Buf8(Ce.pending_buf_size),Ce.d_buf=1*Ce.lit_bufsize,Ce.l_buf=3*Ce.lit_bufsize,Ce.level=Z,Ce.strategy=q,Ce.method=Y,pe(z)}s=[new ge(0,0,0,0,function(z,Z){var Y=65535;for(Y>z.pending_buf_size-5&&(Y=z.pending_buf_size-5);;){if(z.lookahead<=1){if(ue(z),z.lookahead===0&&Z===g)return F;if(z.lookahead===0)break}z.strstart+=z.lookahead,z.lookahead=0;var I=z.block_start+Y;if((z.strstart===0||z.strstart>=I)&&(z.lookahead=z.strstart-I,z.strstart=I,O(z,!1),z.strm.avail_out===0)||z.strstart-z.block_start>=z.w_size-W&&(O(z,!1),z.strm.avail_out===0))return F}return z.insert=0,Z===y?(O(z,!0),z.strm.avail_out===0?ce:ae):(z.strstart>z.block_start&&(O(z,!1),z.strm.avail_out),F)}),new ge(4,4,8,4,H),new ge(4,5,16,8,H),new ge(4,6,32,32,H),new ge(4,4,16,16,j),new ge(8,16,32,32,j),new ge(8,16,128,128,j),new ge(8,32,128,256,j),new ge(32,128,258,1024,j),new ge(32,258,258,4096,j)],i.deflateInit=function(z,Z){return De(z,Z,M,15,8,0)},i.deflateInit2=De,i.deflateReset=pe,i.deflateResetKeep=le,i.deflateSetHeader=function(z,Z){return z&&z.state?z.state.wrap!==2?x:(z.state.gzhead=Z,m):x},i.deflate=function(z,Z){var Y,I,L,q;if(!z||!z.state||5<Z||Z<0)return z?_e(z,x):x;if(I=z.state,!z.output||!z.input&&z.avail_in!==0||I.status===666&&Z!==y)return _e(z,z.avail_out===0?-5:x);if(I.strm=z,Y=I.last_flush,I.last_flush=Z,I.status===D)if(I.wrap===2)z.adler=0,ee(I,31),ee(I,139),ee(I,8),I.gzhead?(ee(I,(I.gzhead.text?1:0)+(I.gzhead.hcrc?2:0)+(I.gzhead.extra?4:0)+(I.gzhead.name?8:0)+(I.gzhead.comment?16:0)),ee(I,255&I.gzhead.time),ee(I,I.gzhead.time>>8&255),ee(I,I.gzhead.time>>16&255),ee(I,I.gzhead.time>>24&255),ee(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),ee(I,255&I.gzhead.os),I.gzhead.extra&&I.gzhead.extra.length&&(ee(I,255&I.gzhead.extra.length),ee(I,I.gzhead.extra.length>>8&255)),I.gzhead.hcrc&&(z.adler=f(z.adler,I.pending_buf,I.pending,0)),I.gzindex=0,I.status=69):(ee(I,0),ee(I,0),ee(I,0),ee(I,0),ee(I,0),ee(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),ee(I,3),I.status=B);else{var ye=M+(I.w_bits-8<<4)<<8;ye|=(2<=I.strategy||I.level<2?0:I.level<6?1:I.level===6?2:3)<<6,I.strstart!==0&&(ye|=32),ye+=31-ye%31,I.status=B,se(I,ye),I.strstart!==0&&(se(I,z.adler>>>16),se(I,65535&z.adler)),z.adler=1}if(I.status===69)if(I.gzhead.extra){for(L=I.pending;I.gzindex<(65535&I.gzhead.extra.length)&&(I.pending!==I.pending_buf_size||(I.gzhead.hcrc&&I.pending>L&&(z.adler=f(z.adler,I.pending_buf,I.pending-L,L)),re(z),L=I.pending,I.pending!==I.pending_buf_size));)ee(I,255&I.gzhead.extra[I.gzindex]),I.gzindex++;I.gzhead.hcrc&&I.pending>L&&(z.adler=f(z.adler,I.pending_buf,I.pending-L,L)),I.gzindex===I.gzhead.extra.length&&(I.gzindex=0,I.status=73)}else I.status=73;if(I.status===73)if(I.gzhead.name){L=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>L&&(z.adler=f(z.adler,I.pending_buf,I.pending-L,L)),re(z),L=I.pending,I.pending===I.pending_buf_size)){q=1;break}q=I.gzindex<I.gzhead.name.length?255&I.gzhead.name.charCodeAt(I.gzindex++):0,ee(I,q)}while(q!==0);I.gzhead.hcrc&&I.pending>L&&(z.adler=f(z.adler,I.pending_buf,I.pending-L,L)),q===0&&(I.gzindex=0,I.status=91)}else I.status=91;if(I.status===91)if(I.gzhead.comment){L=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>L&&(z.adler=f(z.adler,I.pending_buf,I.pending-L,L)),re(z),L=I.pending,I.pending===I.pending_buf_size)){q=1;break}q=I.gzindex<I.gzhead.comment.length?255&I.gzhead.comment.charCodeAt(I.gzindex++):0,ee(I,q)}while(q!==0);I.gzhead.hcrc&&I.pending>L&&(z.adler=f(z.adler,I.pending_buf,I.pending-L,L)),q===0&&(I.status=103)}else I.status=103;if(I.status===103&&(I.gzhead.hcrc?(I.pending+2>I.pending_buf_size&&re(z),I.pending+2<=I.pending_buf_size&&(ee(I,255&z.adler),ee(I,z.adler>>8&255),z.adler=0,I.status=B)):I.status=B),I.pending!==0){if(re(z),z.avail_out===0)return I.last_flush=-1,m}else if(z.avail_in===0&&xe(Z)<=xe(Y)&&Z!==y)return _e(z,-5);if(I.status===666&&z.avail_in!==0)return _e(z,-5);if(z.avail_in!==0||I.lookahead!==0||Z!==g&&I.status!==666){var Ce=I.strategy===2?(function(Ae,Oe){for(var We;;){if(Ae.lookahead===0&&(ue(Ae),Ae.lookahead===0)){if(Oe===g)return F;break}if(Ae.match_length=0,We=u._tr_tally(Ae,0,Ae.window[Ae.strstart]),Ae.lookahead--,Ae.strstart++,We&&(O(Ae,!1),Ae.strm.avail_out===0))return F}return Ae.insert=0,Oe===y?(O(Ae,!0),Ae.strm.avail_out===0?ce:ae):Ae.last_lit&&(O(Ae,!1),Ae.strm.avail_out===0)?F:ve})(I,Z):I.strategy===3?(function(Ae,Oe){for(var We,He,Ze,_t,xt=Ae.window;;){if(Ae.lookahead<=X){if(ue(Ae),Ae.lookahead<=X&&Oe===g)return F;if(Ae.lookahead===0)break}if(Ae.match_length=0,Ae.lookahead>=C&&0<Ae.strstart&&(He=xt[Ze=Ae.strstart-1])===xt[++Ze]&&He===xt[++Ze]&&He===xt[++Ze]){_t=Ae.strstart+X;do;while(He===xt[++Ze]&&He===xt[++Ze]&&He===xt[++Ze]&&He===xt[++Ze]&&He===xt[++Ze]&&He===xt[++Ze]&&He===xt[++Ze]&&He===xt[++Ze]&&Ze<_t);Ae.match_length=X-(_t-Ze),Ae.match_length>Ae.lookahead&&(Ae.match_length=Ae.lookahead)}if(Ae.match_length>=C?(We=u._tr_tally(Ae,1,Ae.match_length-C),Ae.lookahead-=Ae.match_length,Ae.strstart+=Ae.match_length,Ae.match_length=0):(We=u._tr_tally(Ae,0,Ae.window[Ae.strstart]),Ae.lookahead--,Ae.strstart++),We&&(O(Ae,!1),Ae.strm.avail_out===0))return F}return Ae.insert=0,Oe===y?(O(Ae,!0),Ae.strm.avail_out===0?ce:ae):Ae.last_lit&&(O(Ae,!1),Ae.strm.avail_out===0)?F:ve})(I,Z):s[I.level].func(I,Z);if(Ce!==ce&&Ce!==ae||(I.status=666),Ce===F||Ce===ce)return z.avail_out===0&&(I.last_flush=-1),m;if(Ce===ve&&(Z===1?u._tr_align(I):Z!==5&&(u._tr_stored_block(I,0,0,!1),Z===3&&(Ue(I.head),I.lookahead===0&&(I.strstart=0,I.block_start=0,I.insert=0))),re(z),z.avail_out===0))return I.last_flush=-1,m}return Z!==y?m:I.wrap<=0?1:(I.wrap===2?(ee(I,255&z.adler),ee(I,z.adler>>8&255),ee(I,z.adler>>16&255),ee(I,z.adler>>24&255),ee(I,255&z.total_in),ee(I,z.total_in>>8&255),ee(I,z.total_in>>16&255),ee(I,z.total_in>>24&255)):(se(I,z.adler>>>16),se(I,65535&z.adler)),re(z),0<I.wrap&&(I.wrap=-I.wrap),I.pending!==0?m:1)},i.deflateEnd=function(z){var Z;return z&&z.state?(Z=z.state.status)!==D&&Z!==69&&Z!==73&&Z!==91&&Z!==103&&Z!==B&&Z!==666?_e(z,x):(z.state=null,Z===B?_e(z,-3):m):x},i.deflateSetDictionary=function(z,Z){var Y,I,L,q,ye,Ce,Ae,Oe,We=Z.length;if(!z||!z.state||(q=(Y=z.state).wrap)===2||q===1&&Y.status!==D||Y.lookahead)return x;for(q===1&&(z.adler=c(z.adler,Z,We,0)),Y.wrap=0,We>=Y.w_size&&(q===0&&(Ue(Y.head),Y.strstart=0,Y.block_start=0,Y.insert=0),Oe=new l.Buf8(Y.w_size),l.arraySet(Oe,Z,We-Y.w_size,Y.w_size,0),Z=Oe,We=Y.w_size),ye=z.avail_in,Ce=z.next_in,Ae=z.input,z.avail_in=We,z.next_in=0,z.input=Z,ue(Y);Y.lookahead>=C;){for(I=Y.strstart,L=Y.lookahead-(C-1);Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[I+C-1])&Y.hash_mask,Y.prev[I&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=I,I++,--L;);Y.strstart=I,Y.lookahead=C-1,ue(Y)}return Y.strstart+=Y.lookahead,Y.block_start=Y.strstart,Y.insert=Y.lookahead,Y.lookahead=0,Y.match_length=Y.prev_length=C-1,Y.match_available=0,z.next_in=Ce,z.input=Ae,z.avail_in=ye,Y.wrap=q,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,l){var u,c,f,d,g,y,m,x,S,R,E,M,P,N,$,Q,V,G,C,X,W,D,B,F,ve;u=s.state,c=s.next_in,F=s.input,f=c+(s.avail_in-5),d=s.next_out,ve=s.output,g=d-(l-s.avail_out),y=d+(s.avail_out-257),m=u.dmax,x=u.wsize,S=u.whave,R=u.wnext,E=u.window,M=u.hold,P=u.bits,N=u.lencode,$=u.distcode,Q=(1<<u.lenbits)-1,V=(1<<u.distbits)-1;e:do{P<15&&(M+=F[c++]<<P,P+=8,M+=F[c++]<<P,P+=8),G=N[M&Q];t:for(;;){if(M>>>=C=G>>>24,P-=C,(C=G>>>16&255)===0)ve[d++]=65535&G;else{if(!(16&C)){if((64&C)==0){G=N[(65535&G)+(M&(1<<C)-1)];continue t}if(32&C){u.mode=12;break e}s.msg="invalid literal/length code",u.mode=30;break e}X=65535&G,(C&=15)&&(P<C&&(M+=F[c++]<<P,P+=8),X+=M&(1<<C)-1,M>>>=C,P-=C),P<15&&(M+=F[c++]<<P,P+=8,M+=F[c++]<<P,P+=8),G=$[M&V];n:for(;;){if(M>>>=C=G>>>24,P-=C,!(16&(C=G>>>16&255))){if((64&C)==0){G=$[(65535&G)+(M&(1<<C)-1)];continue n}s.msg="invalid distance code",u.mode=30;break e}if(W=65535&G,P<(C&=15)&&(M+=F[c++]<<P,(P+=8)<C&&(M+=F[c++]<<P,P+=8)),m<(W+=M&(1<<C)-1)){s.msg="invalid distance too far back",u.mode=30;break e}if(M>>>=C,P-=C,(C=d-g)<W){if(S<(C=W-C)&&u.sane){s.msg="invalid distance too far back",u.mode=30;break e}if(B=E,(D=0)===R){if(D+=x-C,C<X){for(X-=C;ve[d++]=E[D++],--C;);D=d-W,B=ve}}else if(R<C){if(D+=x+R-C,(C-=R)<X){for(X-=C;ve[d++]=E[D++],--C;);if(D=0,R<X){for(X-=C=R;ve[d++]=E[D++],--C;);D=d-W,B=ve}}}else if(D+=R-C,C<X){for(X-=C;ve[d++]=E[D++],--C;);D=d-W,B=ve}for(;2<X;)ve[d++]=B[D++],ve[d++]=B[D++],ve[d++]=B[D++],X-=3;X&&(ve[d++]=B[D++],1<X&&(ve[d++]=B[D++]))}else{for(D=d-W;ve[d++]=ve[D++],ve[d++]=ve[D++],ve[d++]=ve[D++],2<(X-=3););X&&(ve[d++]=ve[D++],1<X&&(ve[d++]=ve[D++]))}break}}break}}while(c<f&&d<y);c-=X=P>>3,M&=(1<<(P-=X<<3))-1,s.next_in=c,s.next_out=d,s.avail_in=c<f?f-c+5:5-(c-f),s.avail_out=d<y?y-d+257:257-(d-y),u.hold=M,u.bits=P}},{}],49:[function(n,r,i){var s=n("../utils/common"),l=n("./adler32"),u=n("./crc32"),c=n("./inffast"),f=n("./inftrees"),d=1,g=2,y=0,m=-2,x=1,S=852,R=592;function E(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function M(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function P(D){var B;return D&&D.state?(B=D.state,D.total_in=D.total_out=B.total=0,D.msg="",B.wrap&&(D.adler=1&B.wrap),B.mode=x,B.last=0,B.havedict=0,B.dmax=32768,B.head=null,B.hold=0,B.bits=0,B.lencode=B.lendyn=new s.Buf32(S),B.distcode=B.distdyn=new s.Buf32(R),B.sane=1,B.back=-1,y):m}function N(D){var B;return D&&D.state?((B=D.state).wsize=0,B.whave=0,B.wnext=0,P(D)):m}function $(D,B){var F,ve;return D&&D.state?(ve=D.state,B<0?(F=0,B=-B):(F=1+(B>>4),B<48&&(B&=15)),B&&(B<8||15<B)?m:(ve.window!==null&&ve.wbits!==B&&(ve.window=null),ve.wrap=F,ve.wbits=B,N(D))):m}function Q(D,B){var F,ve;return D?(ve=new M,(D.state=ve).window=null,(F=$(D,B))!==y&&(D.state=null),F):m}var V,G,C=!0;function X(D){if(C){var B;for(V=new s.Buf32(512),G=new s.Buf32(32),B=0;B<144;)D.lens[B++]=8;for(;B<256;)D.lens[B++]=9;for(;B<280;)D.lens[B++]=7;for(;B<288;)D.lens[B++]=8;for(f(d,D.lens,0,288,V,0,D.work,{bits:9}),B=0;B<32;)D.lens[B++]=5;f(g,D.lens,0,32,G,0,D.work,{bits:5}),C=!1}D.lencode=V,D.lenbits=9,D.distcode=G,D.distbits=5}function W(D,B,F,ve){var ce,ae=D.state;return ae.window===null&&(ae.wsize=1<<ae.wbits,ae.wnext=0,ae.whave=0,ae.window=new s.Buf8(ae.wsize)),ve>=ae.wsize?(s.arraySet(ae.window,B,F-ae.wsize,ae.wsize,0),ae.wnext=0,ae.whave=ae.wsize):(ve<(ce=ae.wsize-ae.wnext)&&(ce=ve),s.arraySet(ae.window,B,F-ve,ce,ae.wnext),(ve-=ce)?(s.arraySet(ae.window,B,F-ve,ve,0),ae.wnext=ve,ae.whave=ae.wsize):(ae.wnext+=ce,ae.wnext===ae.wsize&&(ae.wnext=0),ae.whave<ae.wsize&&(ae.whave+=ce))),0}i.inflateReset=N,i.inflateReset2=$,i.inflateResetKeep=P,i.inflateInit=function(D){return Q(D,15)},i.inflateInit2=Q,i.inflate=function(D,B){var F,ve,ce,ae,_e,xe,Ue,re,O,ee,se,me,ue,H,j,ge,he,le,pe,De,z,Z,Y,I,L=0,q=new s.Buf8(4),ye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return m;(F=D.state).mode===12&&(F.mode=13),_e=D.next_out,ce=D.output,Ue=D.avail_out,ae=D.next_in,ve=D.input,xe=D.avail_in,re=F.hold,O=F.bits,ee=xe,se=Ue,Z=y;e:for(;;)switch(F.mode){case x:if(F.wrap===0){F.mode=13;break}for(;O<16;){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}if(2&F.wrap&&re===35615){q[F.check=0]=255&re,q[1]=re>>>8&255,F.check=u(F.check,q,2,0),O=re=0,F.mode=2;break}if(F.flags=0,F.head&&(F.head.done=!1),!(1&F.wrap)||(((255&re)<<8)+(re>>8))%31){D.msg="incorrect header check",F.mode=30;break}if((15&re)!=8){D.msg="unknown compression method",F.mode=30;break}if(O-=4,z=8+(15&(re>>>=4)),F.wbits===0)F.wbits=z;else if(z>F.wbits){D.msg="invalid window size",F.mode=30;break}F.dmax=1<<z,D.adler=F.check=1,F.mode=512&re?10:12,O=re=0;break;case 2:for(;O<16;){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}if(F.flags=re,(255&F.flags)!=8){D.msg="unknown compression method",F.mode=30;break}if(57344&F.flags){D.msg="unknown header flags set",F.mode=30;break}F.head&&(F.head.text=re>>8&1),512&F.flags&&(q[0]=255&re,q[1]=re>>>8&255,F.check=u(F.check,q,2,0)),O=re=0,F.mode=3;case 3:for(;O<32;){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}F.head&&(F.head.time=re),512&F.flags&&(q[0]=255&re,q[1]=re>>>8&255,q[2]=re>>>16&255,q[3]=re>>>24&255,F.check=u(F.check,q,4,0)),O=re=0,F.mode=4;case 4:for(;O<16;){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}F.head&&(F.head.xflags=255&re,F.head.os=re>>8),512&F.flags&&(q[0]=255&re,q[1]=re>>>8&255,F.check=u(F.check,q,2,0)),O=re=0,F.mode=5;case 5:if(1024&F.flags){for(;O<16;){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}F.length=re,F.head&&(F.head.extra_len=re),512&F.flags&&(q[0]=255&re,q[1]=re>>>8&255,F.check=u(F.check,q,2,0)),O=re=0}else F.head&&(F.head.extra=null);F.mode=6;case 6:if(1024&F.flags&&(xe<(me=F.length)&&(me=xe),me&&(F.head&&(z=F.head.extra_len-F.length,F.head.extra||(F.head.extra=new Array(F.head.extra_len)),s.arraySet(F.head.extra,ve,ae,me,z)),512&F.flags&&(F.check=u(F.check,ve,me,ae)),xe-=me,ae+=me,F.length-=me),F.length))break e;F.length=0,F.mode=7;case 7:if(2048&F.flags){if(xe===0)break e;for(me=0;z=ve[ae+me++],F.head&&z&&F.length<65536&&(F.head.name+=String.fromCharCode(z)),z&&me<xe;);if(512&F.flags&&(F.check=u(F.check,ve,me,ae)),xe-=me,ae+=me,z)break e}else F.head&&(F.head.name=null);F.length=0,F.mode=8;case 8:if(4096&F.flags){if(xe===0)break e;for(me=0;z=ve[ae+me++],F.head&&z&&F.length<65536&&(F.head.comment+=String.fromCharCode(z)),z&&me<xe;);if(512&F.flags&&(F.check=u(F.check,ve,me,ae)),xe-=me,ae+=me,z)break e}else F.head&&(F.head.comment=null);F.mode=9;case 9:if(512&F.flags){for(;O<16;){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}if(re!==(65535&F.check)){D.msg="header crc mismatch",F.mode=30;break}O=re=0}F.head&&(F.head.hcrc=F.flags>>9&1,F.head.done=!0),D.adler=F.check=0,F.mode=12;break;case 10:for(;O<32;){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}D.adler=F.check=E(re),O=re=0,F.mode=11;case 11:if(F.havedict===0)return D.next_out=_e,D.avail_out=Ue,D.next_in=ae,D.avail_in=xe,F.hold=re,F.bits=O,2;D.adler=F.check=1,F.mode=12;case 12:if(B===5||B===6)break e;case 13:if(F.last){re>>>=7&O,O-=7&O,F.mode=27;break}for(;O<3;){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}switch(F.last=1&re,O-=1,3&(re>>>=1)){case 0:F.mode=14;break;case 1:if(X(F),F.mode=20,B!==6)break;re>>>=2,O-=2;break e;case 2:F.mode=17;break;case 3:D.msg="invalid block type",F.mode=30}re>>>=2,O-=2;break;case 14:for(re>>>=7&O,O-=7&O;O<32;){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}if((65535&re)!=(re>>>16^65535)){D.msg="invalid stored block lengths",F.mode=30;break}if(F.length=65535&re,O=re=0,F.mode=15,B===6)break e;case 15:F.mode=16;case 16:if(me=F.length){if(xe<me&&(me=xe),Ue<me&&(me=Ue),me===0)break e;s.arraySet(ce,ve,ae,me,_e),xe-=me,ae+=me,Ue-=me,_e+=me,F.length-=me;break}F.mode=12;break;case 17:for(;O<14;){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}if(F.nlen=257+(31&re),re>>>=5,O-=5,F.ndist=1+(31&re),re>>>=5,O-=5,F.ncode=4+(15&re),re>>>=4,O-=4,286<F.nlen||30<F.ndist){D.msg="too many length or distance symbols",F.mode=30;break}F.have=0,F.mode=18;case 18:for(;F.have<F.ncode;){for(;O<3;){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}F.lens[ye[F.have++]]=7&re,re>>>=3,O-=3}for(;F.have<19;)F.lens[ye[F.have++]]=0;if(F.lencode=F.lendyn,F.lenbits=7,Y={bits:F.lenbits},Z=f(0,F.lens,0,19,F.lencode,0,F.work,Y),F.lenbits=Y.bits,Z){D.msg="invalid code lengths set",F.mode=30;break}F.have=0,F.mode=19;case 19:for(;F.have<F.nlen+F.ndist;){for(;ge=(L=F.lencode[re&(1<<F.lenbits)-1])>>>16&255,he=65535&L,!((j=L>>>24)<=O);){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}if(he<16)re>>>=j,O-=j,F.lens[F.have++]=he;else{if(he===16){for(I=j+2;O<I;){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}if(re>>>=j,O-=j,F.have===0){D.msg="invalid bit length repeat",F.mode=30;break}z=F.lens[F.have-1],me=3+(3&re),re>>>=2,O-=2}else if(he===17){for(I=j+3;O<I;){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}O-=j,z=0,me=3+(7&(re>>>=j)),re>>>=3,O-=3}else{for(I=j+7;O<I;){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}O-=j,z=0,me=11+(127&(re>>>=j)),re>>>=7,O-=7}if(F.have+me>F.nlen+F.ndist){D.msg="invalid bit length repeat",F.mode=30;break}for(;me--;)F.lens[F.have++]=z}}if(F.mode===30)break;if(F.lens[256]===0){D.msg="invalid code -- missing end-of-block",F.mode=30;break}if(F.lenbits=9,Y={bits:F.lenbits},Z=f(d,F.lens,0,F.nlen,F.lencode,0,F.work,Y),F.lenbits=Y.bits,Z){D.msg="invalid literal/lengths set",F.mode=30;break}if(F.distbits=6,F.distcode=F.distdyn,Y={bits:F.distbits},Z=f(g,F.lens,F.nlen,F.ndist,F.distcode,0,F.work,Y),F.distbits=Y.bits,Z){D.msg="invalid distances set",F.mode=30;break}if(F.mode=20,B===6)break e;case 20:F.mode=21;case 21:if(6<=xe&&258<=Ue){D.next_out=_e,D.avail_out=Ue,D.next_in=ae,D.avail_in=xe,F.hold=re,F.bits=O,c(D,se),_e=D.next_out,ce=D.output,Ue=D.avail_out,ae=D.next_in,ve=D.input,xe=D.avail_in,re=F.hold,O=F.bits,F.mode===12&&(F.back=-1);break}for(F.back=0;ge=(L=F.lencode[re&(1<<F.lenbits)-1])>>>16&255,he=65535&L,!((j=L>>>24)<=O);){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}if(ge&&(240&ge)==0){for(le=j,pe=ge,De=he;ge=(L=F.lencode[De+((re&(1<<le+pe)-1)>>le)])>>>16&255,he=65535&L,!(le+(j=L>>>24)<=O);){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}re>>>=le,O-=le,F.back+=le}if(re>>>=j,O-=j,F.back+=j,F.length=he,ge===0){F.mode=26;break}if(32&ge){F.back=-1,F.mode=12;break}if(64&ge){D.msg="invalid literal/length code",F.mode=30;break}F.extra=15&ge,F.mode=22;case 22:if(F.extra){for(I=F.extra;O<I;){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}F.length+=re&(1<<F.extra)-1,re>>>=F.extra,O-=F.extra,F.back+=F.extra}F.was=F.length,F.mode=23;case 23:for(;ge=(L=F.distcode[re&(1<<F.distbits)-1])>>>16&255,he=65535&L,!((j=L>>>24)<=O);){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}if((240&ge)==0){for(le=j,pe=ge,De=he;ge=(L=F.distcode[De+((re&(1<<le+pe)-1)>>le)])>>>16&255,he=65535&L,!(le+(j=L>>>24)<=O);){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}re>>>=le,O-=le,F.back+=le}if(re>>>=j,O-=j,F.back+=j,64&ge){D.msg="invalid distance code",F.mode=30;break}F.offset=he,F.extra=15&ge,F.mode=24;case 24:if(F.extra){for(I=F.extra;O<I;){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}F.offset+=re&(1<<F.extra)-1,re>>>=F.extra,O-=F.extra,F.back+=F.extra}if(F.offset>F.dmax){D.msg="invalid distance too far back",F.mode=30;break}F.mode=25;case 25:if(Ue===0)break e;if(me=se-Ue,F.offset>me){if((me=F.offset-me)>F.whave&&F.sane){D.msg="invalid distance too far back",F.mode=30;break}ue=me>F.wnext?(me-=F.wnext,F.wsize-me):F.wnext-me,me>F.length&&(me=F.length),H=F.window}else H=ce,ue=_e-F.offset,me=F.length;for(Ue<me&&(me=Ue),Ue-=me,F.length-=me;ce[_e++]=H[ue++],--me;);F.length===0&&(F.mode=21);break;case 26:if(Ue===0)break e;ce[_e++]=F.length,Ue--,F.mode=21;break;case 27:if(F.wrap){for(;O<32;){if(xe===0)break e;xe--,re|=ve[ae++]<<O,O+=8}if(se-=Ue,D.total_out+=se,F.total+=se,se&&(D.adler=F.check=F.flags?u(F.check,ce,se,_e-se):l(F.check,ce,se,_e-se)),se=Ue,(F.flags?re:E(re))!==F.check){D.msg="incorrect data check",F.mode=30;break}O=re=0}F.mode=28;case 28:if(F.wrap&&F.flags){for(;O<32;){if(xe===0)break e;xe--,re+=ve[ae++]<<O,O+=8}if(re!==(4294967295&F.total)){D.msg="incorrect length check",F.mode=30;break}O=re=0}F.mode=29;case 29:Z=1;break e;case 30:Z=-3;break e;case 31:return-4;default:return m}return D.next_out=_e,D.avail_out=Ue,D.next_in=ae,D.avail_in=xe,F.hold=re,F.bits=O,(F.wsize||se!==D.avail_out&&F.mode<30&&(F.mode<27||B!==4))&&W(D,D.output,D.next_out,se-D.avail_out)?(F.mode=31,-4):(ee-=D.avail_in,se-=D.avail_out,D.total_in+=ee,D.total_out+=se,F.total+=se,F.wrap&&se&&(D.adler=F.check=F.flags?u(F.check,ce,se,D.next_out-se):l(F.check,ce,se,D.next_out-se)),D.data_type=F.bits+(F.last?64:0)+(F.mode===12?128:0)+(F.mode===20||F.mode===15?256:0),(ee==0&&se===0||B===4)&&Z===y&&(Z=-5),Z)},i.inflateEnd=function(D){if(!D||!D.state)return m;var B=D.state;return B.window&&(B.window=null),D.state=null,y},i.inflateGetHeader=function(D,B){var F;return D&&D.state?(2&(F=D.state).wrap)==0?m:((F.head=B).done=!1,y):m},i.inflateSetDictionary=function(D,B){var F,ve=B.length;return D&&D.state?(F=D.state).wrap!==0&&F.mode!==11?m:F.mode===11&&l(1,B,ve,0)!==F.check?-3:W(D,B,ve,ve)?(F.mode=31,-4):(F.havedict=1,y):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,g,y,m,x,S,R,E){var M,P,N,$,Q,V,G,C,X,W=E.bits,D=0,B=0,F=0,ve=0,ce=0,ae=0,_e=0,xe=0,Ue=0,re=0,O=null,ee=0,se=new s.Buf16(16),me=new s.Buf16(16),ue=null,H=0;for(D=0;D<=15;D++)se[D]=0;for(B=0;B<m;B++)se[g[y+B]]++;for(ce=W,ve=15;1<=ve&&se[ve]===0;ve--);if(ve<ce&&(ce=ve),ve===0)return x[S++]=20971520,x[S++]=20971520,E.bits=1,0;for(F=1;F<ve&&se[F]===0;F++);for(ce<F&&(ce=F),D=xe=1;D<=15;D++)if(xe<<=1,(xe-=se[D])<0)return-1;if(0<xe&&(d===0||ve!==1))return-1;for(me[1]=0,D=1;D<15;D++)me[D+1]=me[D]+se[D];for(B=0;B<m;B++)g[y+B]!==0&&(R[me[g[y+B]]++]=B);if(V=d===0?(O=ue=R,19):d===1?(O=l,ee-=257,ue=u,H-=257,256):(O=c,ue=f,-1),D=F,Q=S,_e=B=re=0,N=-1,$=(Ue=1<<(ae=ce))-1,d===1&&852<Ue||d===2&&592<Ue)return 1;for(;;){for(G=D-_e,X=R[B]<V?(C=0,R[B]):R[B]>V?(C=ue[H+R[B]],O[ee+R[B]]):(C=96,0),M=1<<D-_e,F=P=1<<ae;x[Q+(re>>_e)+(P-=M)]=G<<24|C<<16|X|0,P!==0;);for(M=1<<D-1;re&M;)M>>=1;if(M!==0?(re&=M-1,re+=M):re=0,B++,--se[D]==0){if(D===ve)break;D=g[y+R[B]]}if(ce<D&&(re&$)!==N){for(_e===0&&(_e=ce),Q+=F,xe=1<<(ae=D-_e);ae+_e<ve&&!((xe-=se[ae+_e])<=0);)ae++,xe<<=1;if(Ue+=1<<ae,d===1&&852<Ue||d===2&&592<Ue)return 1;x[N=re&$]=ce<<24|ae<<16|Q-S|0}}return re!==0&&(x[Q+re]=D-_e<<24|64<<16|0),E.bits=ce,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),l=0,u=1;function c(L){for(var q=L.length;0<=--q;)L[q]=0}var f=0,d=29,g=256,y=g+1+d,m=30,x=19,S=2*y+1,R=15,E=16,M=7,P=256,N=16,$=17,Q=18,V=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],G=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=new Array(2*(y+2));c(W);var D=new Array(2*m);c(D);var B=new Array(512);c(B);var F=new Array(256);c(F);var ve=new Array(d);c(ve);var ce,ae,_e,xe=new Array(m);function Ue(L,q,ye,Ce,Ae){this.static_tree=L,this.extra_bits=q,this.extra_base=ye,this.elems=Ce,this.max_length=Ae,this.has_stree=L&&L.length}function re(L,q){this.dyn_tree=L,this.max_code=0,this.stat_desc=q}function O(L){return L<256?B[L]:B[256+(L>>>7)]}function ee(L,q){L.pending_buf[L.pending++]=255&q,L.pending_buf[L.pending++]=q>>>8&255}function se(L,q,ye){L.bi_valid>E-ye?(L.bi_buf|=q<<L.bi_valid&65535,ee(L,L.bi_buf),L.bi_buf=q>>E-L.bi_valid,L.bi_valid+=ye-E):(L.bi_buf|=q<<L.bi_valid&65535,L.bi_valid+=ye)}function me(L,q,ye){se(L,ye[2*q],ye[2*q+1])}function ue(L,q){for(var ye=0;ye|=1&L,L>>>=1,ye<<=1,0<--q;);return ye>>>1}function H(L,q,ye){var Ce,Ae,Oe=new Array(R+1),We=0;for(Ce=1;Ce<=R;Ce++)Oe[Ce]=We=We+ye[Ce-1]<<1;for(Ae=0;Ae<=q;Ae++){var He=L[2*Ae+1];He!==0&&(L[2*Ae]=ue(Oe[He]++,He))}}function j(L){var q;for(q=0;q<y;q++)L.dyn_ltree[2*q]=0;for(q=0;q<m;q++)L.dyn_dtree[2*q]=0;for(q=0;q<x;q++)L.bl_tree[2*q]=0;L.dyn_ltree[2*P]=1,L.opt_len=L.static_len=0,L.last_lit=L.matches=0}function ge(L){8<L.bi_valid?ee(L,L.bi_buf):0<L.bi_valid&&(L.pending_buf[L.pending++]=L.bi_buf),L.bi_buf=0,L.bi_valid=0}function he(L,q,ye,Ce){var Ae=2*q,Oe=2*ye;return L[Ae]<L[Oe]||L[Ae]===L[Oe]&&Ce[q]<=Ce[ye]}function le(L,q,ye){for(var Ce=L.heap[ye],Ae=ye<<1;Ae<=L.heap_len&&(Ae<L.heap_len&&he(q,L.heap[Ae+1],L.heap[Ae],L.depth)&&Ae++,!he(q,Ce,L.heap[Ae],L.depth));)L.heap[ye]=L.heap[Ae],ye=Ae,Ae<<=1;L.heap[ye]=Ce}function pe(L,q,ye){var Ce,Ae,Oe,We,He=0;if(L.last_lit!==0)for(;Ce=L.pending_buf[L.d_buf+2*He]<<8|L.pending_buf[L.d_buf+2*He+1],Ae=L.pending_buf[L.l_buf+He],He++,Ce===0?me(L,Ae,q):(me(L,(Oe=F[Ae])+g+1,q),(We=V[Oe])!==0&&se(L,Ae-=ve[Oe],We),me(L,Oe=O(--Ce),ye),(We=G[Oe])!==0&&se(L,Ce-=xe[Oe],We)),He<L.last_lit;);me(L,P,q)}function De(L,q){var ye,Ce,Ae,Oe=q.dyn_tree,We=q.stat_desc.static_tree,He=q.stat_desc.has_stree,Ze=q.stat_desc.elems,_t=-1;for(L.heap_len=0,L.heap_max=S,ye=0;ye<Ze;ye++)Oe[2*ye]!==0?(L.heap[++L.heap_len]=_t=ye,L.depth[ye]=0):Oe[2*ye+1]=0;for(;L.heap_len<2;)Oe[2*(Ae=L.heap[++L.heap_len]=_t<2?++_t:0)]=1,L.depth[Ae]=0,L.opt_len--,He&&(L.static_len-=We[2*Ae+1]);for(q.max_code=_t,ye=L.heap_len>>1;1<=ye;ye--)le(L,Oe,ye);for(Ae=Ze;ye=L.heap[1],L.heap[1]=L.heap[L.heap_len--],le(L,Oe,1),Ce=L.heap[1],L.heap[--L.heap_max]=ye,L.heap[--L.heap_max]=Ce,Oe[2*Ae]=Oe[2*ye]+Oe[2*Ce],L.depth[Ae]=(L.depth[ye]>=L.depth[Ce]?L.depth[ye]:L.depth[Ce])+1,Oe[2*ye+1]=Oe[2*Ce+1]=Ae,L.heap[1]=Ae++,le(L,Oe,1),2<=L.heap_len;);L.heap[--L.heap_max]=L.heap[1],(function(xt,Nt){var Ft,Dt,gn,Mt,Ot,tn,sn=Nt.dyn_tree,zt=Nt.max_code,Pn=Nt.stat_desc.static_tree,Kt=Nt.stat_desc.has_stree,on=Nt.stat_desc.extra_bits,Hn=Nt.stat_desc.extra_base,Ut=Nt.stat_desc.max_length,qt=0;for(Mt=0;Mt<=R;Mt++)xt.bl_count[Mt]=0;for(sn[2*xt.heap[xt.heap_max]+1]=0,Ft=xt.heap_max+1;Ft<S;Ft++)Ut<(Mt=sn[2*sn[2*(Dt=xt.heap[Ft])+1]+1]+1)&&(Mt=Ut,qt++),sn[2*Dt+1]=Mt,zt<Dt||(xt.bl_count[Mt]++,Ot=0,Hn<=Dt&&(Ot=on[Dt-Hn]),tn=sn[2*Dt],xt.opt_len+=tn*(Mt+Ot),Kt&&(xt.static_len+=tn*(Pn[2*Dt+1]+Ot)));if(qt!==0){do{for(Mt=Ut-1;xt.bl_count[Mt]===0;)Mt--;xt.bl_count[Mt]--,xt.bl_count[Mt+1]+=2,xt.bl_count[Ut]--,qt-=2}while(0<qt);for(Mt=Ut;Mt!==0;Mt--)for(Dt=xt.bl_count[Mt];Dt!==0;)zt<(gn=xt.heap[--Ft])||(sn[2*gn+1]!==Mt&&(xt.opt_len+=(Mt-sn[2*gn+1])*sn[2*gn],sn[2*gn+1]=Mt),Dt--)}})(L,q),H(Oe,_t,L.bl_count)}function z(L,q,ye){var Ce,Ae,Oe=-1,We=q[1],He=0,Ze=7,_t=4;for(We===0&&(Ze=138,_t=3),q[2*(ye+1)+1]=65535,Ce=0;Ce<=ye;Ce++)Ae=We,We=q[2*(Ce+1)+1],++He<Ze&&Ae===We||(He<_t?L.bl_tree[2*Ae]+=He:Ae!==0?(Ae!==Oe&&L.bl_tree[2*Ae]++,L.bl_tree[2*N]++):He<=10?L.bl_tree[2*$]++:L.bl_tree[2*Q]++,Oe=Ae,_t=(He=0)===We?(Ze=138,3):Ae===We?(Ze=6,3):(Ze=7,4))}function Z(L,q,ye){var Ce,Ae,Oe=-1,We=q[1],He=0,Ze=7,_t=4;for(We===0&&(Ze=138,_t=3),Ce=0;Ce<=ye;Ce++)if(Ae=We,We=q[2*(Ce+1)+1],!(++He<Ze&&Ae===We)){if(He<_t)for(;me(L,Ae,L.bl_tree),--He!=0;);else Ae!==0?(Ae!==Oe&&(me(L,Ae,L.bl_tree),He--),me(L,N,L.bl_tree),se(L,He-3,2)):He<=10?(me(L,$,L.bl_tree),se(L,He-3,3)):(me(L,Q,L.bl_tree),se(L,He-11,7));Oe=Ae,_t=(He=0)===We?(Ze=138,3):Ae===We?(Ze=6,3):(Ze=7,4)}}c(xe);var Y=!1;function I(L,q,ye,Ce){se(L,(f<<1)+(Ce?1:0),3),(function(Ae,Oe,We,He){ge(Ae),ee(Ae,We),ee(Ae,~We),s.arraySet(Ae.pending_buf,Ae.window,Oe,We,Ae.pending),Ae.pending+=We})(L,q,ye)}i._tr_init=function(L){Y||((function(){var q,ye,Ce,Ae,Oe,We=new Array(R+1);for(Ae=Ce=0;Ae<d-1;Ae++)for(ve[Ae]=Ce,q=0;q<1<<V[Ae];q++)F[Ce++]=Ae;for(F[Ce-1]=Ae,Ae=Oe=0;Ae<16;Ae++)for(xe[Ae]=Oe,q=0;q<1<<G[Ae];q++)B[Oe++]=Ae;for(Oe>>=7;Ae<m;Ae++)for(xe[Ae]=Oe<<7,q=0;q<1<<G[Ae]-7;q++)B[256+Oe++]=Ae;for(ye=0;ye<=R;ye++)We[ye]=0;for(q=0;q<=143;)W[2*q+1]=8,q++,We[8]++;for(;q<=255;)W[2*q+1]=9,q++,We[9]++;for(;q<=279;)W[2*q+1]=7,q++,We[7]++;for(;q<=287;)W[2*q+1]=8,q++,We[8]++;for(H(W,y+1,We),q=0;q<m;q++)D[2*q+1]=5,D[2*q]=ue(q,5);ce=new Ue(W,V,g+1,y,R),ae=new Ue(D,G,0,m,R),_e=new Ue(new Array(0),C,0,x,M)})(),Y=!0),L.l_desc=new re(L.dyn_ltree,ce),L.d_desc=new re(L.dyn_dtree,ae),L.bl_desc=new re(L.bl_tree,_e),L.bi_buf=0,L.bi_valid=0,j(L)},i._tr_stored_block=I,i._tr_flush_block=function(L,q,ye,Ce){var Ae,Oe,We=0;0<L.level?(L.strm.data_type===2&&(L.strm.data_type=(function(He){var Ze,_t=4093624447;for(Ze=0;Ze<=31;Ze++,_t>>>=1)if(1&_t&&He.dyn_ltree[2*Ze]!==0)return l;if(He.dyn_ltree[18]!==0||He.dyn_ltree[20]!==0||He.dyn_ltree[26]!==0)return u;for(Ze=32;Ze<g;Ze++)if(He.dyn_ltree[2*Ze]!==0)return u;return l})(L)),De(L,L.l_desc),De(L,L.d_desc),We=(function(He){var Ze;for(z(He,He.dyn_ltree,He.l_desc.max_code),z(He,He.dyn_dtree,He.d_desc.max_code),De(He,He.bl_desc),Ze=x-1;3<=Ze&&He.bl_tree[2*X[Ze]+1]===0;Ze--);return He.opt_len+=3*(Ze+1)+5+5+4,Ze})(L),Ae=L.opt_len+3+7>>>3,(Oe=L.static_len+3+7>>>3)<=Ae&&(Ae=Oe)):Ae=Oe=ye+5,ye+4<=Ae&&q!==-1?I(L,q,ye,Ce):L.strategy===4||Oe===Ae?(se(L,2+(Ce?1:0),3),pe(L,W,D)):(se(L,4+(Ce?1:0),3),(function(He,Ze,_t,xt){var Nt;for(se(He,Ze-257,5),se(He,_t-1,5),se(He,xt-4,4),Nt=0;Nt<xt;Nt++)se(He,He.bl_tree[2*X[Nt]+1],3);Z(He,He.dyn_ltree,Ze-1),Z(He,He.dyn_dtree,_t-1)})(L,L.l_desc.max_code+1,L.d_desc.max_code+1,We+1),pe(L,L.dyn_ltree,L.dyn_dtree)),j(L),Ce&&ge(L)},i._tr_tally=function(L,q,ye){return L.pending_buf[L.d_buf+2*L.last_lit]=q>>>8&255,L.pending_buf[L.d_buf+2*L.last_lit+1]=255&q,L.pending_buf[L.l_buf+L.last_lit]=255&ye,L.last_lit++,q===0?L.dyn_ltree[2*ye]++:(L.matches++,q--,L.dyn_ltree[2*(F[ye]+g+1)]++,L.dyn_dtree[2*O(q)]++),L.last_lit===L.lit_bufsize-1},i._tr_align=function(L){se(L,2,3),me(L,P,W),(function(q){q.bi_valid===16?(ee(q,q.bi_buf),q.bi_buf=0,q.bi_valid=0):8<=q.bi_valid&&(q.pending_buf[q.pending++]=255&q.bi_buf,q.bi_buf>>=8,q.bi_valid-=8)})(L)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(l,u){if(!l.setImmediate){var c,f,d,g,y=1,m={},x=!1,S=l.document,R=Object.getPrototypeOf&&Object.getPrototypeOf(l);R=R&&R.setTimeout?R:l,c={}.toString.call(l.process)==="[object process]"?function(N){jn.nextTick(function(){M(N)})}:(function(){if(l.postMessage&&!l.importScripts){var N=!0,$=l.onmessage;return l.onmessage=function(){N=!1},l.postMessage("","*"),l.onmessage=$,N}})()?(g="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",P,!1):l.attachEvent("onmessage",P),function(N){l.postMessage(g+N,"*")}):l.MessageChannel?((d=new MessageChannel).port1.onmessage=function(N){M(N.data)},function(N){d.port2.postMessage(N)}):S&&"onreadystatechange"in S.createElement("script")?(f=S.documentElement,function(N){var $=S.createElement("script");$.onreadystatechange=function(){M(N),$.onreadystatechange=null,f.removeChild($),$=null},f.appendChild($)}):function(N){setTimeout(M,0,N)},R.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var $=new Array(arguments.length-1),Q=0;Q<$.length;Q++)$[Q]=arguments[Q+1];var V={callback:N,args:$};return m[y]=V,c(y),y++},R.clearImmediate=E}function E(N){delete m[N]}function M(N){if(x)setTimeout(M,0,N);else{var $=m[N];if($){x=!0;try{(function(Q){var V=Q.callback,G=Q.args;switch(G.length){case 0:V();break;case 1:V(G[0]);break;case 2:V(G[0],G[1]);break;case 3:V(G[0],G[1],G[2]);break;default:V.apply(u,G)}})($)}finally{E(N),x=!1}}}}function P(N){N.source===l&&typeof N.data=="string"&&N.data.indexOf(g)===0&&M(+N.data.slice(g.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Il<"u"?Il:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(s2)),s2.exports}var _$=w$();const b$=Gw(_$);var Vd={exports:{}},o2,C4;function E$(){if(C4)return o2;C4=1;var t={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(n){return n&&n.replace?n.replace(/([&"<>'])/g,function(r,i){return t[i]}):n}return o2=e,o2}var N4;function A$(){if(N4)return Vd.exports;N4=1;var t=E$(),e=Qw().Stream,n="    ";function r(f,d){typeof d!="object"&&(d={indent:d});var g=d.stream?new e:null,y="",m=!1,x=d.indent?d.indent===!0?n:d.indent:"",S=!0;function R($){S?jn.nextTick($):$()}function E($,Q){if(Q!==void 0&&(y+=Q),$&&!m&&(g=g||new e,m=!0),$&&m){var V=y;R(function(){g.emit("data",V)}),y=""}}function M($,Q){u(E,l($,x,x?1:0),Q)}function P(){if(g){var $=y;R(function(){g.emit("data",$),g.emit("end"),g.readable=!1,g.emit("close")})}}function N($){var Q=$.encoding||"UTF-8",V={version:"1.0",encoding:Q};$.standalone&&(V.standalone=$.standalone),M({"?xml":{_attr:V}}),y=y.replace("/>","?>")}return R(function(){S=!1}),d.declaration&&N(d.declaration),f&&f.forEach?f.forEach(function($,Q){var V;Q+1===f.length&&(V=P),M($,V)}):M(f,P),g?(g.readable=!0,g):y}function i(){var f=Array.prototype.slice.call(arguments),d={_elem:l(f)};return d.push=function(g){if(!this.append)throw new Error("not assigned to a parent!");var y=this,m=this._elem.indent;u(this.append,l(g,m,this._elem.icount+(m?1:0)),function(){y.append(!0)})},d.close=function(g){g!==void 0&&this.push(g),this.end&&this.end()},d}function s(f,d){return new Array(d||0).join(f||"")}function l(f,d,g){g=g||0;var y=s(d,g),m,x=f,S=!1;if(typeof f=="object"){var R=Object.keys(f);if(m=R[0],x=f[m],x&&x._elem)return x._elem.name=m,x._elem.icount=g,x._elem.indent=d,x._elem.indents=y,x._elem.interrupt=x,x._elem}var E=[],M=[],P;function N($){var Q=Object.keys($);Q.forEach(function(V){E.push(c(V,$[V]))})}switch(typeof x){case"object":if(x===null)break;x._attr&&N(x._attr),x._cdata&&M.push(("<![CDATA["+x._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),x.forEach&&(P=!1,M.push(""),x.forEach(function($){if(typeof $=="object"){var Q=Object.keys($)[0];Q=="_attr"?N($._attr):M.push(l($,d,g+1))}else M.pop(),P=!0,M.push(t($))}),P||M.push(""));break;default:M.push(t(x))}return{name:m,interrupt:S,attributes:E,content:M,icount:g,indents:y,indent:d}}function u(f,d,g){if(typeof d!="object")return f(!1,d);var y=d.interrupt?1:d.content.length;function m(){for(;d.content.length;){var S=d.content.shift();if(S!==void 0){if(x(S))return;u(f,S)}}f(!1,(y>1?d.indents:"")+(d.name?"</"+d.name+">":"")+(d.indent&&!g?`
`:"")),g&&g()}function x(S){return S.interrupt?(S.interrupt.append=f,S.interrupt.end=m,S.interrupt=!1,f(!0),!0):!1}if(f(!1,d.indents+(d.name?"<"+d.name:"")+(d.attributes.length?" "+d.attributes.join(" "):"")+(y?d.name?">":"":d.name?"/>":"")+(d.indent&&y>1?`
`:"")),!y)return f(!1,d.indent?`
`:"");x(d)||m()}function c(f,d){return f+'="'+t(d)+'"'}return Vd.exports=r,Vd.exports.element=Vd.exports.Element=i,Vd.exports}var S$=A$();const Ri=Gw(S$),qd=0,a2=32,x$=32,T$=(t,e)=>{const n=e.replace(/-/g,"");if(n.length!==x$)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=n.replace(/(..)/g,"$1 ").trim().split(" ").map(c=>parseInt(c,16));i.reverse();const l=t.slice(qd,a2).map((c,f)=>c^i[f%i.length]),u=new Uint8Array(qd+l.length+Math.max(0,t.length-a2));return u.set(t.slice(0,qd)),u.set(l,qd),u.set(t.slice(a2),qd+l.length),u};class C${format(e,n={stack:[]}){const r=e.prepForXml(n);if(r)return r;throw Error("XMLComponent did not format correctly")}}class N${replace(e,n,r){let i=e;return n.forEach((s,l)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(r+l).toString())}),i}getMediaData(e,n){return n.Array.filter(r=>e.search(`{${r.fileName}}`)>0)}}class I${replace(e,n){let r=e;for(const i of n)r=r.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return r}}class R${constructor(){st(this,"formatter"),st(this,"imageReplacer"),st(this,"numberingReplacer"),this.formatter=new C$,this.imageReplacer=new N$,this.numberingReplacer=new I$}compile(e,n,r=[]){const i=new b$,s=this.xmlifyFile(e,n),l=new Map(Object.entries(s));for(const[,u]of l)if(Array.isArray(u))for(const c of u)i.file(c.path,c.data);else i.file(u.path,u.data);for(const u of r)i.file(u.path,u.data);for(const u of e.Media.Array)u.type!=="svg"?i.file(`word/media/${u.fileName}`,u.data):(i.file(`word/media/${u.fileName}`,u.data),i.file(`word/media/${u.fallback.fileName}`,u.fallback.data));for(const{data:u,name:c,fontKey:f}of e.FontTable.fontOptionsWithKey){const[d]=c.split(".");i.file(`word/fonts/${d}.odttf`,T$(u,f))}return i}xmlifyFile(e,n){const r=e.Document.Relationships.RelationshipCount+1,i=Ri(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=e.Comments.Relationships.RelationshipCount+1,l=Ri(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),u=this.imageReplacer.getMediaData(i,e.Media),c=this.imageReplacer.getMediaData(l,e.Media);return{Relationships:{data:(u.forEach((f,d)=>{e.Document.Relationships.createRelationship(r+d,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),Ri(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const f=this.imageReplacer.replace(i,u,r);return this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const f=Ri(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Ri(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Ri(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Ri(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((f,d)=>{const g=Ri(this.formatter.format(f.View,{viewWrapper:f,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(g,e.Media).forEach((m,x)=>{f.Relationships.createRelationship(x,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${m.fileName}`)}),{data:Ri(this.formatter.format(f.Relationships,{viewWrapper:f,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${d+1}.xml.rels`}}),FooterRelationships:e.Footers.map((f,d)=>{const g=Ri(this.formatter.format(f.View,{viewWrapper:f,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(g,e.Media).forEach((m,x)=>{f.Relationships.createRelationship(x,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${m.fileName}`)}),{data:Ri(this.formatter.format(f.Relationships,{viewWrapper:f,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${d+1}.xml.rels`}}),Headers:e.Headers.map((f,d)=>{const g=Ri(this.formatter.format(f.View,{viewWrapper:f,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),y=this.imageReplacer.getMediaData(g,e.Media),m=this.imageReplacer.replace(g,y,0);return{data:this.numberingReplacer.replace(m,e.Numbering.ConcreteNumbering),path:`word/header${d+1}.xml`}}),Footers:e.Footers.map((f,d)=>{const g=Ri(this.formatter.format(f.View,{viewWrapper:f,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),y=this.imageReplacer.getMediaData(g,e.Media),m=this.imageReplacer.replace(g,y,0);return{data:this.numberingReplacer.replace(m,e.Numbering.ConcreteNumbering),path:`word/footer${d+1}.xml`}}),ContentTypes:{data:Ri(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Ri(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Ri(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Ri(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Ri(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Ri(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const f=this.imageReplacer.replace(l,c,s);return this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(c.forEach((f,d)=>{e.Comments.Relationships.createRelationship(s+d,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),Ri(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:Ri(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Ri(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:n,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const k$={WITH_2_BLANKS:"  "},I4=t=>t===!0?k$.WITH_2_BLANKS:t===!1?void 0:t,V6=class ah{static pack(e,n,r){return zV(this,arguments,function*(i,s,l,u=[]){return this.compiler.compile(i,I4(l),u).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,n,r=[]){return ah.pack(e,"string",n,r)}static toBuffer(e,n,r=[]){return ah.pack(e,"nodebuffer",n,r)}static toBase64String(e,n,r=[]){return ah.pack(e,"base64",n,r)}static toBlob(e,n,r=[]){return ah.pack(e,"blob",n,r)}static toArrayBuffer(e,n,r=[]){return ah.pack(e,"arraybuffer",n,r)}static toStream(e,n,r=[]){const i=new v$.Stream;return this.compiler.compile(e,I4(n),r).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(l=>{i.emit("data",l),i.emit("end")}),i}};st(V6,"compiler",new R$);let L$=V6;const D$=()=>{};var R4={};const q6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},P$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],u=t[n++],c=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},z6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,u=l?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,d=s>>2,g=(s&3)<<4|u>>4;let y=(u&15)<<2|f>>6,m=f&63;c||(m=64,l||(y=64)),r.push(n[d],n[g],n[y],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(q6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):P$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||f==null||g==null)throw new M$;const y=s<<2|u>>4;if(r.push(y),f!==64){const m=u<<4&240|f>>2;if(r.push(m),g!==64){const x=f<<6&192|g;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class M$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O$=function(t){const e=q6(t);return z6.encodeByteArray(e,!0)},Rg=function(t){return O$(t).replace(/\./g,"")},F$=function(t){try{return z6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function U$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const B$=()=>U$().__FIREBASE_DEFAULTS__,V$=()=>{if(typeof process>"u"||typeof R4>"u")return;const t=R4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&F$(t[1]);return e&&JSON.parse(e)},a_=()=>{try{return D$()||B$()||V$()||q$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},z$=t=>a_()?.emulatorHosts?.[t],H$=t=>{const e=z$(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},H6=()=>a_()?.config;class G${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function l_(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function j$(t){return(await fetch(t,{credentials:"include"})).ok}function $$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Rg(JSON.stringify(n)),Rg(JSON.stringify(l)),""].join(".")}const Xd={};function W$(){const t={prod:[],emulator:[]};for(const e of Object.keys(Xd))Xd[e]?t.emulator.push(e):t.prod.push(e);return t}function K$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let k4=!1;function Y$(t,e){if(typeof window>"u"||typeof document>"u"||!l_(window.location.host)||Xd[t]===e||Xd[t]||k4)return;Xd[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=W$().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,m){y.setAttribute("width","24"),y.setAttribute("id",m),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{k4=!0,l()},y}function d(y,m){y.setAttribute("id",m),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=K$(r),m=n("text"),x=document.getElementById(m)||document.createElement("span"),S=n("learnmore"),R=document.getElementById(S)||document.createElement("a"),E=n("preprendIcon"),M=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const P=y.element;u(P),d(R,S);const N=f();c(M,E),P.append(M,x,R,N),document.body.appendChild(P)}s?(x.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function J$(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function X$(){const t=a_()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function G6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Q$(){return!X$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u_(){try{return typeof indexedDB=="object"}catch{return!1}}function c_(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function j6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Z$="FirebaseError";class Ac extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Z$,Object.setPrototypeOf(this,Ac.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o0.prototype.create)}}class o0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?eW(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Ac(i,u,r)}}function eW(t,e){return t.replace(tW,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const tW=/\{\$([^}]+)}/g;function sp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(L4(s)&&L4(l)){if(!sp(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function L4(t){return t!==null&&typeof t=="object"}const nW=1e3,rW=2,iW=14400*1e3,sW=.5;function D4(t,e=nW,n=rW){const r=e*Math.pow(n,t),i=Math.round(sW*r*(Math.random()-.5)*2);return Math.min(iW,r+i)}function fo(t){return t&&t._delegate?t._delegate:t}class yu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Kc="[DEFAULT]";class oW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new G$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lW(e))try{this.getOrInitializeService({instanceIdentifier:Kc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Kc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kc){return this.instances.has(e)}getOptions(e=Kc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Kc){return this.component?this.component.multipleInstances?e:Kc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aW(t){return t===Kc?void 0:t}function lW(t){return t.instantiationMode==="EAGER"}class uW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var fr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fr||(fr={}));const cW={debug:fr.DEBUG,verbose:fr.VERBOSE,info:fr.INFO,warn:fr.WARN,error:fr.ERROR,silent:fr.SILENT},fW=fr.INFO,hW={[fr.DEBUG]:"log",[fr.VERBOSE]:"log",[fr.INFO]:"info",[fr.WARN]:"warn",[fr.ERROR]:"error"},dW=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hW[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f_{constructor(e){this.name=e,this._logLevel=fW,this._logHandler=dW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fr.DEBUG,...e),this._logHandler(this,fr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fr.VERBOSE,...e),this._logHandler(this,fr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fr.INFO,...e),this._logHandler(this,fr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fr.WARN,...e),this._logHandler(this,fr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fr.ERROR,...e),this._logHandler(this,fr.ERROR,...e)}}const pW=(t,e)=>e.some(n=>t instanceof n);let P4,M4;function mW(){return P4||(P4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gW(){return M4||(M4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $6=new WeakMap,iw=new WeakMap,W6=new WeakMap,l2=new WeakMap,h_=new WeakMap;function yW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(oc(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&$6.set(n,t)}).catch(()=>{}),h_.set(e,t),e}function vW(t){if(iw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});iw.set(t,e)}let sw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return iw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||W6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wW(t){sw=t(sw)}function _W(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(u2(this),e,...n);return W6.set(r,e.sort?e.sort():[e]),oc(r)}:gW().includes(t)?function(...e){return t.apply(u2(this),e),oc($6.get(this))}:function(...e){return oc(t.apply(u2(this),e))}}function bW(t){return typeof t=="function"?_W(t):(t instanceof IDBTransaction&&vW(t),pW(t,mW())?new Proxy(t,sw):t)}function oc(t){if(t instanceof IDBRequest)return yW(t);if(l2.has(t))return l2.get(t);const e=bW(t);return e!==t&&(l2.set(t,e),h_.set(e,t)),e}const u2=t=>h_.get(t);function K6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),u=oc(l);return r&&l.addEventListener("upgradeneeded",c=>{r(oc(l.result),c.oldVersion,c.newVersion,oc(l.transaction),c)}),n&&l.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const EW=["get","getKey","getAll","getAllKeys","count"],AW=["put","add","delete","clear"],c2=new Map;function O4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(c2.get(e))return c2.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=AW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EW.includes(n)))return;const s=async function(l,...u){const c=this.transaction(l,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return c2.set(e,s),s}wW(t=>({...t,get:(e,n,r)=>O4(e,n)||t.get(e,n,r),has:(e,n)=>!!O4(e,n)||t.has(e,n)}));class SW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xW(t){return t.getComponent()?.type==="VERSION"}const ow="@firebase/app",F4="0.14.8";const vu=new f_("@firebase/app"),TW="@firebase/app-compat",CW="@firebase/analytics-compat",NW="@firebase/analytics",IW="@firebase/app-check-compat",RW="@firebase/app-check",kW="@firebase/auth",LW="@firebase/auth-compat",DW="@firebase/database",PW="@firebase/data-connect",MW="@firebase/database-compat",OW="@firebase/functions",FW="@firebase/functions-compat",UW="@firebase/installations",BW="@firebase/installations-compat",VW="@firebase/messaging",qW="@firebase/messaging-compat",zW="@firebase/performance",HW="@firebase/performance-compat",GW="@firebase/remote-config",jW="@firebase/remote-config-compat",$W="@firebase/storage",WW="@firebase/storage-compat",KW="@firebase/firestore",YW="@firebase/ai",JW="@firebase/firestore-compat",XW="firebase",QW="12.9.0";const aw="[DEFAULT]",ZW={[ow]:"fire-core",[TW]:"fire-core-compat",[NW]:"fire-analytics",[CW]:"fire-analytics-compat",[RW]:"fire-app-check",[IW]:"fire-app-check-compat",[kW]:"fire-auth",[LW]:"fire-auth-compat",[DW]:"fire-rtdb",[PW]:"fire-data-connect",[MW]:"fire-rtdb-compat",[OW]:"fire-fn",[FW]:"fire-fn-compat",[UW]:"fire-iid",[BW]:"fire-iid-compat",[VW]:"fire-fcm",[qW]:"fire-fcm-compat",[zW]:"fire-perf",[HW]:"fire-perf-compat",[GW]:"fire-rc",[jW]:"fire-rc-compat",[$W]:"fire-gcs",[WW]:"fire-gcs-compat",[KW]:"fire-fst",[JW]:"fire-fst-compat",[YW]:"fire-vertex","fire-js":"fire-js",[XW]:"fire-js-all"};const op=new Map,eK=new Map,lw=new Map;function U4(t,e){try{t.container.addComponent(e)}catch(n){vu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hc(t){const e=t.name;if(lw.has(e))return vu.debug(`There were multiple attempts to register component ${e}.`),!1;lw.set(e,t);for(const n of op.values())U4(n,t);for(const n of eK.values())U4(n,t);return!0}function Ep(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tK(t){return t==null?!1:t.settings!==void 0}const nK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ac=new o0("app","Firebase",nK);class rK{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ac.create("app-deleted",{appName:this._name})}}const iK=QW;function Y6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:aw,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ac.create("bad-app-name",{appName:String(i)});if(n||(n=H6()),!n)throw ac.create("no-options");const s=op.get(i);if(s){if(sp(n,s.options)&&sp(r,s.config))return s;throw ac.create("duplicate-app",{appName:i})}const l=new uW(i);for(const c of lw.values())l.addComponent(c);const u=new rK(n,r,l);return op.set(i,u),u}function d_(t=aw){const e=op.get(t);if(!e&&t===aw&&H6())return Y6();if(!e)throw ac.create("no-app",{appName:t});return e}function sK(){return Array.from(op.values())}function Rl(t,e,n){let r=ZW[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vu.warn(l.join(" "));return}hc(new yu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const oK="firebase-heartbeat-database",aK=1,ap="firebase-heartbeat-store";let f2=null;function J6(){return f2||(f2=K6(oK,aK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ap)}catch(n){console.warn(n)}}}}).catch(t=>{throw ac.create("idb-open",{originalErrorMessage:t.message})})),f2}async function lK(t){try{const n=(await J6()).transaction(ap),r=await n.objectStore(ap).get(X6(t));return await n.done,r}catch(e){if(e instanceof Ac)vu.warn(e.message);else{const n=ac.create("idb-get",{originalErrorMessage:e?.message});vu.warn(n.message)}}}async function B4(t,e){try{const r=(await J6()).transaction(ap,"readwrite");await r.objectStore(ap).put(e,X6(t)),await r.done}catch(n){if(n instanceof Ac)vu.warn(n.message);else{const r=ac.create("idb-set",{originalErrorMessage:n?.message});vu.warn(r.message)}}}function X6(t){return`${t.name}!${t.options.appId}`}const uK=1024,cK=30;class fK{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dK(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=V4();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>cK){const i=pK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vu.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=V4(),{heartbeatsToSend:n,unsentEntries:r}=hK(this._heartbeatsCache.heartbeats),i=Rg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return vu.warn(e),""}}}function V4(){return new Date().toISOString().substring(0,10)}function hK(t,e=uK){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),q4(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),q4(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u_()?c_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lK(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return B4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return B4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function q4(t){return Rg(JSON.stringify({version:2,heartbeats:t})).length}function pK(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function mK(t){hc(new yu("platform-logger",e=>new SW(e),"PRIVATE")),hc(new yu("heartbeat",e=>new fK(e),"PRIVATE")),Rl(ow,F4,t),Rl(ow,F4,"esm2020"),Rl("fire-js","")}mK("");var z4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lc,Q6;(function(){var t;function e(V,G){function C(){}C.prototype=G.prototype,V.F=G.prototype,V.prototype=new C,V.prototype.constructor=V,V.D=function(X,W,D){for(var B=Array(arguments.length-2),F=2;F<arguments.length;F++)B[F-2]=arguments[F];return G.prototype[W].apply(X,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,G,C){C||(C=0);const X=Array(16);if(typeof G=="string")for(var W=0;W<16;++W)X[W]=G.charCodeAt(C++)|G.charCodeAt(C++)<<8|G.charCodeAt(C++)<<16|G.charCodeAt(C++)<<24;else for(W=0;W<16;++W)X[W]=G[C++]|G[C++]<<8|G[C++]<<16|G[C++]<<24;G=V.g[0],C=V.g[1],W=V.g[2];let D=V.g[3],B;B=G+(D^C&(W^D))+X[0]+3614090360&4294967295,G=C+(B<<7&4294967295|B>>>25),B=D+(W^G&(C^W))+X[1]+3905402710&4294967295,D=G+(B<<12&4294967295|B>>>20),B=W+(C^D&(G^C))+X[2]+606105819&4294967295,W=D+(B<<17&4294967295|B>>>15),B=C+(G^W&(D^G))+X[3]+3250441966&4294967295,C=W+(B<<22&4294967295|B>>>10),B=G+(D^C&(W^D))+X[4]+4118548399&4294967295,G=C+(B<<7&4294967295|B>>>25),B=D+(W^G&(C^W))+X[5]+1200080426&4294967295,D=G+(B<<12&4294967295|B>>>20),B=W+(C^D&(G^C))+X[6]+2821735955&4294967295,W=D+(B<<17&4294967295|B>>>15),B=C+(G^W&(D^G))+X[7]+4249261313&4294967295,C=W+(B<<22&4294967295|B>>>10),B=G+(D^C&(W^D))+X[8]+1770035416&4294967295,G=C+(B<<7&4294967295|B>>>25),B=D+(W^G&(C^W))+X[9]+2336552879&4294967295,D=G+(B<<12&4294967295|B>>>20),B=W+(C^D&(G^C))+X[10]+4294925233&4294967295,W=D+(B<<17&4294967295|B>>>15),B=C+(G^W&(D^G))+X[11]+2304563134&4294967295,C=W+(B<<22&4294967295|B>>>10),B=G+(D^C&(W^D))+X[12]+1804603682&4294967295,G=C+(B<<7&4294967295|B>>>25),B=D+(W^G&(C^W))+X[13]+4254626195&4294967295,D=G+(B<<12&4294967295|B>>>20),B=W+(C^D&(G^C))+X[14]+2792965006&4294967295,W=D+(B<<17&4294967295|B>>>15),B=C+(G^W&(D^G))+X[15]+1236535329&4294967295,C=W+(B<<22&4294967295|B>>>10),B=G+(W^D&(C^W))+X[1]+4129170786&4294967295,G=C+(B<<5&4294967295|B>>>27),B=D+(C^W&(G^C))+X[6]+3225465664&4294967295,D=G+(B<<9&4294967295|B>>>23),B=W+(G^C&(D^G))+X[11]+643717713&4294967295,W=D+(B<<14&4294967295|B>>>18),B=C+(D^G&(W^D))+X[0]+3921069994&4294967295,C=W+(B<<20&4294967295|B>>>12),B=G+(W^D&(C^W))+X[5]+3593408605&4294967295,G=C+(B<<5&4294967295|B>>>27),B=D+(C^W&(G^C))+X[10]+38016083&4294967295,D=G+(B<<9&4294967295|B>>>23),B=W+(G^C&(D^G))+X[15]+3634488961&4294967295,W=D+(B<<14&4294967295|B>>>18),B=C+(D^G&(W^D))+X[4]+3889429448&4294967295,C=W+(B<<20&4294967295|B>>>12),B=G+(W^D&(C^W))+X[9]+568446438&4294967295,G=C+(B<<5&4294967295|B>>>27),B=D+(C^W&(G^C))+X[14]+3275163606&4294967295,D=G+(B<<9&4294967295|B>>>23),B=W+(G^C&(D^G))+X[3]+4107603335&4294967295,W=D+(B<<14&4294967295|B>>>18),B=C+(D^G&(W^D))+X[8]+1163531501&4294967295,C=W+(B<<20&4294967295|B>>>12),B=G+(W^D&(C^W))+X[13]+2850285829&4294967295,G=C+(B<<5&4294967295|B>>>27),B=D+(C^W&(G^C))+X[2]+4243563512&4294967295,D=G+(B<<9&4294967295|B>>>23),B=W+(G^C&(D^G))+X[7]+1735328473&4294967295,W=D+(B<<14&4294967295|B>>>18),B=C+(D^G&(W^D))+X[12]+2368359562&4294967295,C=W+(B<<20&4294967295|B>>>12),B=G+(C^W^D)+X[5]+4294588738&4294967295,G=C+(B<<4&4294967295|B>>>28),B=D+(G^C^W)+X[8]+2272392833&4294967295,D=G+(B<<11&4294967295|B>>>21),B=W+(D^G^C)+X[11]+1839030562&4294967295,W=D+(B<<16&4294967295|B>>>16),B=C+(W^D^G)+X[14]+4259657740&4294967295,C=W+(B<<23&4294967295|B>>>9),B=G+(C^W^D)+X[1]+2763975236&4294967295,G=C+(B<<4&4294967295|B>>>28),B=D+(G^C^W)+X[4]+1272893353&4294967295,D=G+(B<<11&4294967295|B>>>21),B=W+(D^G^C)+X[7]+4139469664&4294967295,W=D+(B<<16&4294967295|B>>>16),B=C+(W^D^G)+X[10]+3200236656&4294967295,C=W+(B<<23&4294967295|B>>>9),B=G+(C^W^D)+X[13]+681279174&4294967295,G=C+(B<<4&4294967295|B>>>28),B=D+(G^C^W)+X[0]+3936430074&4294967295,D=G+(B<<11&4294967295|B>>>21),B=W+(D^G^C)+X[3]+3572445317&4294967295,W=D+(B<<16&4294967295|B>>>16),B=C+(W^D^G)+X[6]+76029189&4294967295,C=W+(B<<23&4294967295|B>>>9),B=G+(C^W^D)+X[9]+3654602809&4294967295,G=C+(B<<4&4294967295|B>>>28),B=D+(G^C^W)+X[12]+3873151461&4294967295,D=G+(B<<11&4294967295|B>>>21),B=W+(D^G^C)+X[15]+530742520&4294967295,W=D+(B<<16&4294967295|B>>>16),B=C+(W^D^G)+X[2]+3299628645&4294967295,C=W+(B<<23&4294967295|B>>>9),B=G+(W^(C|~D))+X[0]+4096336452&4294967295,G=C+(B<<6&4294967295|B>>>26),B=D+(C^(G|~W))+X[7]+1126891415&4294967295,D=G+(B<<10&4294967295|B>>>22),B=W+(G^(D|~C))+X[14]+2878612391&4294967295,W=D+(B<<15&4294967295|B>>>17),B=C+(D^(W|~G))+X[5]+4237533241&4294967295,C=W+(B<<21&4294967295|B>>>11),B=G+(W^(C|~D))+X[12]+1700485571&4294967295,G=C+(B<<6&4294967295|B>>>26),B=D+(C^(G|~W))+X[3]+2399980690&4294967295,D=G+(B<<10&4294967295|B>>>22),B=W+(G^(D|~C))+X[10]+4293915773&4294967295,W=D+(B<<15&4294967295|B>>>17),B=C+(D^(W|~G))+X[1]+2240044497&4294967295,C=W+(B<<21&4294967295|B>>>11),B=G+(W^(C|~D))+X[8]+1873313359&4294967295,G=C+(B<<6&4294967295|B>>>26),B=D+(C^(G|~W))+X[15]+4264355552&4294967295,D=G+(B<<10&4294967295|B>>>22),B=W+(G^(D|~C))+X[6]+2734768916&4294967295,W=D+(B<<15&4294967295|B>>>17),B=C+(D^(W|~G))+X[13]+1309151649&4294967295,C=W+(B<<21&4294967295|B>>>11),B=G+(W^(C|~D))+X[4]+4149444226&4294967295,G=C+(B<<6&4294967295|B>>>26),B=D+(C^(G|~W))+X[11]+3174756917&4294967295,D=G+(B<<10&4294967295|B>>>22),B=W+(G^(D|~C))+X[2]+718787259&4294967295,W=D+(B<<15&4294967295|B>>>17),B=C+(D^(W|~G))+X[9]+3951481745&4294967295,V.g[0]=V.g[0]+G&4294967295,V.g[1]=V.g[1]+(W+(B<<21&4294967295|B>>>11))&4294967295,V.g[2]=V.g[2]+W&4294967295,V.g[3]=V.g[3]+D&4294967295}r.prototype.v=function(V,G){G===void 0&&(G=V.length);const C=G-this.blockSize,X=this.C;let W=this.h,D=0;for(;D<G;){if(W==0)for(;D<=C;)i(this,V,D),D+=this.blockSize;if(typeof V=="string"){for(;D<G;)if(X[W++]=V.charCodeAt(D++),W==this.blockSize){i(this,X),W=0;break}}else for(;D<G;)if(X[W++]=V[D++],W==this.blockSize){i(this,X),W=0;break}}this.h=W,this.o+=G},r.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var G=1;G<V.length-8;++G)V[G]=0;G=this.o*8;for(var C=V.length-8;C<V.length;++C)V[C]=G&255,G/=256;for(this.v(V),V=Array(16),G=0,C=0;C<4;++C)for(let X=0;X<32;X+=8)V[G++]=this.g[C]>>>X&255;return V};function s(V,G){var C=u;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=G(V)}function l(V,G){this.h=G;const C=[];let X=!0;for(let W=V.length-1;W>=0;W--){const D=V[W]|0;X&&D==G||(C[W]=D,X=!1)}this.g=C}var u={};function c(V){return-128<=V&&V<128?s(V,function(G){return new l([G|0],G<0?-1:0)}):new l([V|0],V<0?-1:0)}function f(V){if(isNaN(V)||!isFinite(V))return g;if(V<0)return R(f(-V));const G=[];let C=1;for(let X=0;V>=C;X++)G[X]=V/C|0,C*=4294967296;return new l(G,0)}function d(V,G){if(V.length==0)throw Error("number format error: empty string");if(G=G||10,G<2||36<G)throw Error("radix out of range: "+G);if(V.charAt(0)=="-")return R(d(V.substring(1),G));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=f(Math.pow(G,8));let X=g;for(let D=0;D<V.length;D+=8){var W=Math.min(8,V.length-D);const B=parseInt(V.substring(D,D+W),G);W<8?(W=f(Math.pow(G,W)),X=X.j(W).add(f(B))):(X=X.j(C),X=X.add(f(B)))}return X}var g=c(0),y=c(1),m=c(16777216);t=l.prototype,t.m=function(){if(S(this))return-R(this).m();let V=0,G=1;for(let C=0;C<this.g.length;C++){const X=this.i(C);V+=(X>=0?X:4294967296+X)*G,G*=4294967296}return V},t.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(x(this))return"0";if(S(this))return"-"+R(this).toString(V);const G=f(Math.pow(V,6));var C=this;let X="";for(;;){const W=N(C,G).g;C=E(C,W.j(G));let D=((C.g.length>0?C.g[0]:C.h)>>>0).toString(V);if(C=W,x(C))return D+X;for(;D.length<6;)D="0"+D;X=D+X}},t.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function x(V){if(V.h!=0)return!1;for(let G=0;G<V.g.length;G++)if(V.g[G]!=0)return!1;return!0}function S(V){return V.h==-1}t.l=function(V){return V=E(this,V),S(V)?-1:x(V)?0:1};function R(V){const G=V.g.length,C=[];for(let X=0;X<G;X++)C[X]=~V.g[X];return new l(C,~V.h).add(y)}t.abs=function(){return S(this)?R(this):this},t.add=function(V){const G=Math.max(this.g.length,V.g.length),C=[];let X=0;for(let W=0;W<=G;W++){let D=X+(this.i(W)&65535)+(V.i(W)&65535),B=(D>>>16)+(this.i(W)>>>16)+(V.i(W)>>>16);X=B>>>16,D&=65535,B&=65535,C[W]=B<<16|D}return new l(C,C[C.length-1]&-2147483648?-1:0)};function E(V,G){return V.add(R(G))}t.j=function(V){if(x(this)||x(V))return g;if(S(this))return S(V)?R(this).j(R(V)):R(R(this).j(V));if(S(V))return R(this.j(R(V)));if(this.l(m)<0&&V.l(m)<0)return f(this.m()*V.m());const G=this.g.length+V.g.length,C=[];for(var X=0;X<2*G;X++)C[X]=0;for(X=0;X<this.g.length;X++)for(let W=0;W<V.g.length;W++){const D=this.i(X)>>>16,B=this.i(X)&65535,F=V.i(W)>>>16,ve=V.i(W)&65535;C[2*X+2*W]+=B*ve,M(C,2*X+2*W),C[2*X+2*W+1]+=D*ve,M(C,2*X+2*W+1),C[2*X+2*W+1]+=B*F,M(C,2*X+2*W+1),C[2*X+2*W+2]+=D*F,M(C,2*X+2*W+2)}for(V=0;V<G;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=G;V<2*G;V++)C[V]=0;return new l(C,0)};function M(V,G){for(;(V[G]&65535)!=V[G];)V[G+1]+=V[G]>>>16,V[G]&=65535,G++}function P(V,G){this.g=V,this.h=G}function N(V,G){if(x(G))throw Error("division by zero");if(x(V))return new P(g,g);if(S(V))return G=N(R(V),G),new P(R(G.g),R(G.h));if(S(G))return G=N(V,R(G)),new P(R(G.g),G.h);if(V.g.length>30){if(S(V)||S(G))throw Error("slowDivide_ only works with positive integers.");for(var C=y,X=G;X.l(V)<=0;)C=$(C),X=$(X);var W=Q(C,1),D=Q(X,1);for(X=Q(X,2),C=Q(C,2);!x(X);){var B=D.add(X);B.l(V)<=0&&(W=W.add(C),D=B),X=Q(X,1),C=Q(C,1)}return G=E(V,W.j(G)),new P(W,G)}for(W=g;V.l(G)>=0;){for(C=Math.max(1,Math.floor(V.m()/G.m())),X=Math.ceil(Math.log(C)/Math.LN2),X=X<=48?1:Math.pow(2,X-48),D=f(C),B=D.j(G);S(B)||B.l(V)>0;)C-=X,D=f(C),B=D.j(G);x(D)&&(D=y),W=W.add(D),V=E(V,B)}return new P(W,V)}t.B=function(V){return N(this,V).h},t.and=function(V){const G=Math.max(this.g.length,V.g.length),C=[];for(let X=0;X<G;X++)C[X]=this.i(X)&V.i(X);return new l(C,this.h&V.h)},t.or=function(V){const G=Math.max(this.g.length,V.g.length),C=[];for(let X=0;X<G;X++)C[X]=this.i(X)|V.i(X);return new l(C,this.h|V.h)},t.xor=function(V){const G=Math.max(this.g.length,V.g.length),C=[];for(let X=0;X<G;X++)C[X]=this.i(X)^V.i(X);return new l(C,this.h^V.h)};function $(V){const G=V.g.length+1,C=[];for(let X=0;X<G;X++)C[X]=V.i(X)<<1|V.i(X-1)>>>31;return new l(C,V.h)}function Q(V,G){const C=G>>5;G%=32;const X=V.g.length-C,W=[];for(let D=0;D<X;D++)W[D]=G>0?V.i(D+C)>>>G|V.i(D+C+1)<<32-G:V.i(D+C);return new l(W,V.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Q6=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=d,lc=l}).apply(typeof z4<"u"?z4:typeof self<"u"?self:typeof window<"u"?window:{});var Km=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Z6,Gd,eI,hg,uw,tI,nI,rI;(function(){var t,e=Object.defineProperty;function n(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof Km=="object"&&Km];for(var J=0;J<b.length;++J){var oe=b[J];if(oe&&oe.Math==Math)return oe}throw Error("Cannot find global object")}var r=n(this);function i(b,J){if(J)e:{var oe=r;b=b.split(".");for(var Te=0;Te<b.length-1;Te++){var $e=b[Te];if(!($e in oe))break e;oe=oe[$e]}b=b[b.length-1],Te=oe[b],J=J(Te),J!=Te&&J!=null&&e(oe,b,{configurable:!0,writable:!0,value:J})}}i("Symbol.dispose",function(b){return b||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(b){return b||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(b){return b||function(J){var oe=[],Te;for(Te in J)Object.prototype.hasOwnProperty.call(J,Te)&&oe.push([Te,J[Te]]);return oe}});var s=s||{},l=this||self;function u(b){var J=typeof b;return J=="object"&&b!=null||J=="function"}function c(b,J,oe){return b.call.apply(b.bind,arguments)}function f(b,J,oe){return f=c,f.apply(null,arguments)}function d(b,J){var oe=Array.prototype.slice.call(arguments,1);return function(){var Te=oe.slice();return Te.push.apply(Te,arguments),b.apply(this,Te)}}function g(b,J){function oe(){}oe.prototype=J.prototype,b.Z=J.prototype,b.prototype=new oe,b.prototype.constructor=b,b.Ob=function(Te,$e,nt){for(var Rt=Array(arguments.length-2),An=2;An<arguments.length;An++)Rt[An-2]=arguments[An];return J.prototype[$e].apply(Te,Rt)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?b=>b&&AsyncContext.Snapshot.wrap(b):b=>b;function m(b){const J=b.length;if(J>0){const oe=Array(J);for(let Te=0;Te<J;Te++)oe[Te]=b[Te];return oe}return[]}function x(b,J){for(let Te=1;Te<arguments.length;Te++){const $e=arguments[Te];var oe=typeof $e;if(oe=oe!="object"?oe:$e?Array.isArray($e)?"array":oe:"null",oe=="array"||oe=="object"&&typeof $e.length=="number"){oe=b.length||0;const nt=$e.length||0;b.length=oe+nt;for(let Rt=0;Rt<nt;Rt++)b[oe+Rt]=$e[Rt]}else b.push($e)}}class S{constructor(J,oe){this.i=J,this.j=oe,this.h=0,this.g=null}get(){let J;return this.h>0?(this.h--,J=this.g,this.g=J.next,J.next=null):J=this.i(),J}}function R(b){l.setTimeout(()=>{throw b},0)}function E(){var b=V;let J=null;return b.g&&(J=b.g,b.g=b.g.next,b.g||(b.h=null),J.next=null),J}class M{constructor(){this.h=this.g=null}add(J,oe){const Te=P.get();Te.set(J,oe),this.h?this.h.next=Te:this.g=Te,this.h=Te}}var P=new S(()=>new N,b=>b.reset());class N{constructor(){this.next=this.g=this.h=null}set(J,oe){this.h=J,this.g=oe,this.next=null}reset(){this.next=this.g=this.h=null}}let $,Q=!1,V=new M,G=()=>{const b=Promise.resolve(void 0);$=()=>{b.then(C)}};function C(){for(var b;b=E();){try{b.h.call(b.g)}catch(oe){R(oe)}var J=P;J.j(b),J.h<100&&(J.h++,b.next=J.g,J.g=b)}Q=!1}function X(){this.u=this.u,this.C=this.C}X.prototype.u=!1,X.prototype.dispose=function(){this.u||(this.u=!0,this.N())},X.prototype[Symbol.dispose]=function(){this.dispose()},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(b,J){this.type=b,this.g=this.target=J,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var b=!1,J=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const oe=()=>{};l.addEventListener("test",oe,J),l.removeEventListener("test",oe,J)}catch{}return b})();function B(b){return/^[\s\xa0]*$/.test(b)}function F(b,J){W.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b&&this.init(b,J)}g(F,W),F.prototype.init=function(b,J){const oe=this.type=b.type,Te=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;this.target=b.target||b.srcElement,this.g=J,J=b.relatedTarget,J||(oe=="mouseover"?J=b.fromElement:oe=="mouseout"&&(J=b.toElement)),this.relatedTarget=J,Te?(this.clientX=Te.clientX!==void 0?Te.clientX:Te.pageX,this.clientY=Te.clientY!==void 0?Te.clientY:Te.pageY,this.screenX=Te.screenX||0,this.screenY=Te.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=b.pointerType,this.state=b.state,this.i=b,b.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),ce=0;function ae(b,J,oe,Te,$e){this.listener=b,this.proxy=null,this.src=J,this.type=oe,this.capture=!!Te,this.ha=$e,this.key=++ce,this.da=this.fa=!1}function _e(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function xe(b,J,oe){for(const Te in b)J.call(oe,b[Te],Te,b)}function Ue(b,J){for(const oe in b)J.call(void 0,b[oe],oe,b)}function re(b){const J={};for(const oe in b)J[oe]=b[oe];return J}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(b,J){let oe,Te;for(let $e=1;$e<arguments.length;$e++){Te=arguments[$e];for(oe in Te)b[oe]=Te[oe];for(let nt=0;nt<O.length;nt++)oe=O[nt],Object.prototype.hasOwnProperty.call(Te,oe)&&(b[oe]=Te[oe])}}function se(b){this.src=b,this.g={},this.h=0}se.prototype.add=function(b,J,oe,Te,$e){const nt=b.toString();b=this.g[nt],b||(b=this.g[nt]=[],this.h++);const Rt=ue(b,J,Te,$e);return Rt>-1?(J=b[Rt],oe||(J.fa=!1)):(J=new ae(J,this.src,nt,!!Te,$e),J.fa=oe,b.push(J)),J};function me(b,J){const oe=J.type;if(oe in b.g){var Te=b.g[oe],$e=Array.prototype.indexOf.call(Te,J,void 0),nt;(nt=$e>=0)&&Array.prototype.splice.call(Te,$e,1),nt&&(_e(J),b.g[oe].length==0&&(delete b.g[oe],b.h--))}}function ue(b,J,oe,Te){for(let $e=0;$e<b.length;++$e){const nt=b[$e];if(!nt.da&&nt.listener==J&&nt.capture==!!oe&&nt.ha==Te)return $e}return-1}var H="closure_lm_"+(Math.random()*1e6|0),j={};function ge(b,J,oe,Te,$e){if(Array.isArray(J)){for(let nt=0;nt<J.length;nt++)ge(b,J[nt],oe,Te,$e);return null}return oe=L(oe),b&&b[ve]?b.J(J,oe,u(Te)?!!Te.capture:!1,$e):he(b,J,oe,!1,Te,$e)}function he(b,J,oe,Te,$e,nt){if(!J)throw Error("Invalid event type");const Rt=u($e)?!!$e.capture:!!$e;let An=Y(b);if(An||(b[H]=An=new se(b)),oe=An.add(J,oe,Te,Rt,nt),oe.proxy)return oe;if(Te=le(),oe.proxy=Te,Te.src=b,Te.listener=oe,b.addEventListener)D||($e=Rt),$e===void 0&&($e=!1),b.addEventListener(J.toString(),Te,$e);else if(b.attachEvent)b.attachEvent(z(J.toString()),Te);else if(b.addListener&&b.removeListener)b.addListener(Te);else throw Error("addEventListener and attachEvent are unavailable.");return oe}function le(){function b(oe){return J.call(b.src,b.listener,oe)}const J=Z;return b}function pe(b,J,oe,Te,$e){if(Array.isArray(J))for(var nt=0;nt<J.length;nt++)pe(b,J[nt],oe,Te,$e);else Te=u(Te)?!!Te.capture:!!Te,oe=L(oe),b&&b[ve]?(b=b.i,nt=String(J).toString(),nt in b.g&&(J=b.g[nt],oe=ue(J,oe,Te,$e),oe>-1&&(_e(J[oe]),Array.prototype.splice.call(J,oe,1),J.length==0&&(delete b.g[nt],b.h--)))):b&&(b=Y(b))&&(J=b.g[J.toString()],b=-1,J&&(b=ue(J,oe,Te,$e)),(oe=b>-1?J[b]:null)&&De(oe))}function De(b){if(typeof b!="number"&&b&&!b.da){var J=b.src;if(J&&J[ve])me(J.i,b);else{var oe=b.type,Te=b.proxy;J.removeEventListener?J.removeEventListener(oe,Te,b.capture):J.detachEvent?J.detachEvent(z(oe),Te):J.addListener&&J.removeListener&&J.removeListener(Te),(oe=Y(J))?(me(oe,b),oe.h==0&&(oe.src=null,J[H]=null)):_e(b)}}}function z(b){return b in j?j[b]:j[b]="on"+b}function Z(b,J){if(b.da)b=!0;else{J=new F(J,this);const oe=b.listener,Te=b.ha||b.src;b.fa&&De(b),b=oe.call(Te,J)}return b}function Y(b){return b=b[H],b instanceof se?b:null}var I="__closure_events_fn_"+(Math.random()*1e9>>>0);function L(b){return typeof b=="function"?b:(b[I]||(b[I]=function(J){return b.handleEvent(J)}),b[I])}function q(){X.call(this),this.i=new se(this),this.M=this,this.G=null}g(q,X),q.prototype[ve]=!0,q.prototype.removeEventListener=function(b,J,oe,Te){pe(this,b,J,oe,Te)};function ye(b,J){var oe,Te=b.G;if(Te)for(oe=[];Te;Te=Te.G)oe.push(Te);if(b=b.M,Te=J.type||J,typeof J=="string")J=new W(J,b);else if(J instanceof W)J.target=J.target||b;else{var $e=J;J=new W(Te,b),ee(J,$e)}$e=!0;let nt,Rt;if(oe)for(Rt=oe.length-1;Rt>=0;Rt--)nt=J.g=oe[Rt],$e=Ce(nt,Te,!0,J)&&$e;if(nt=J.g=b,$e=Ce(nt,Te,!0,J)&&$e,$e=Ce(nt,Te,!1,J)&&$e,oe)for(Rt=0;Rt<oe.length;Rt++)nt=J.g=oe[Rt],$e=Ce(nt,Te,!1,J)&&$e}q.prototype.N=function(){if(q.Z.N.call(this),this.i){var b=this.i;for(const J in b.g){const oe=b.g[J];for(let Te=0;Te<oe.length;Te++)_e(oe[Te]);delete b.g[J],b.h--}}this.G=null},q.prototype.J=function(b,J,oe,Te){return this.i.add(String(b),J,!1,oe,Te)},q.prototype.K=function(b,J,oe,Te){return this.i.add(String(b),J,!0,oe,Te)};function Ce(b,J,oe,Te){if(J=b.i.g[String(J)],!J)return!0;J=J.concat();let $e=!0;for(let nt=0;nt<J.length;++nt){const Rt=J[nt];if(Rt&&!Rt.da&&Rt.capture==oe){const An=Rt.listener,Or=Rt.ha||Rt.src;Rt.fa&&me(b.i,Rt),$e=An.call(Or,Te)!==!1&&$e}}return $e&&!Te.defaultPrevented}function Ae(b,J){if(typeof b!="function")if(b&&typeof b.handleEvent=="function")b=f(b.handleEvent,b);else throw Error("Invalid listener argument");return Number(J)>2147483647?-1:l.setTimeout(b,J||0)}function Oe(b){b.g=Ae(()=>{b.g=null,b.i&&(b.i=!1,Oe(b))},b.l);const J=b.h;b.h=null,b.m.apply(null,J)}class We extends X{constructor(J,oe){super(),this.m=J,this.l=oe,this.h=null,this.i=!1,this.g=null}j(J){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function He(b){X.call(this),this.h=b,this.g={}}g(He,X);var Ze=[];function _t(b){xe(b.g,function(J,oe){this.g.hasOwnProperty(oe)&&De(J)},b),b.g={}}He.prototype.N=function(){He.Z.N.call(this),_t(this)},He.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xt=l.JSON.stringify,Nt=l.JSON.parse,Ft=class{stringify(b){return l.JSON.stringify(b,void 0)}parse(b){return l.JSON.parse(b,void 0)}};function Dt(){}function gn(){}var Mt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ot(){W.call(this,"d")}g(Ot,W);function tn(){W.call(this,"c")}g(tn,W);var sn={},zt=null;function Pn(){return zt=zt||new q}sn.Ia="serverreachability";function Kt(b){W.call(this,sn.Ia,b)}g(Kt,W);function on(b){const J=Pn();ye(J,new Kt(J))}sn.STAT_EVENT="statevent";function Hn(b,J){W.call(this,sn.STAT_EVENT,b),this.stat=J}g(Hn,W);function Ut(b){const J=Pn();ye(J,new Hn(J,b))}sn.Ja="timingevent";function qt(b,J){W.call(this,sn.Ja,b),this.size=J}g(qt,W);function Tn(b,J){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){b()},J)}function pi(){this.g=!0}pi.prototype.ua=function(){this.g=!1};function je(b,J,oe,Te,$e,nt){b.info(function(){if(b.g)if(nt){var Rt="",An=nt.split("&");for(let Vn=0;Vn<An.length;Vn++){var Or=An[Vn].split("=");if(Or.length>1){const gr=Or[0];Or=Or[1];const $i=gr.split("_");Rt=$i.length>=2&&$i[1]=="type"?Rt+(gr+"="+Or+"&"):Rt+(gr+"=redacted&")}}}else Rt=null;else Rt=nt;return"XMLHTTP REQ ("+Te+") [attempt "+$e+"]: "+J+`
`+oe+`
`+Rt})}function lt(b,J,oe,Te,$e,nt,Rt){b.info(function(){return"XMLHTTP RESP ("+Te+") [ attempt "+$e+"]: "+J+`
`+oe+`
`+nt+" "+Rt})}function Pe(b,J,oe,Te){b.info(function(){return"XMLHTTP TEXT ("+J+"): "+kt(b,oe)+(Te?" "+Te:"")})}function et(b,J){b.info(function(){return"TIMEOUT: "+J})}pi.prototype.info=function(){};function kt(b,J){if(!b.g)return J;if(!J)return null;try{const nt=JSON.parse(J);if(nt){for(b=0;b<nt.length;b++)if(Array.isArray(nt[b])){var oe=nt[b];if(!(oe.length<2)){var Te=oe[1];if(Array.isArray(Te)&&!(Te.length<1)){var $e=Te[0];if($e!="noop"&&$e!="stop"&&$e!="close")for(let Rt=1;Rt<Te.length;Rt++)Te[Rt]=""}}}}return xt(nt)}catch{return J}}var Yt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},un={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yn;function bn(){}g(bn,Dt),bn.prototype.g=function(){return new XMLHttpRequest},Yn=new bn;function yn(b){return encodeURIComponent(String(b))}function $n(b){var J=1;b=b.split(":");const oe=[];for(;J>0&&b.length;)oe.push(b.shift()),J--;return b.length&&oe.push(b.join(":")),oe}function Gn(b,J,oe,Te){this.j=b,this.i=J,this.l=oe,this.S=Te||1,this.V=new He(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ie}function Ie(){this.i=null,this.g="",this.h=!1}var rt={},vt={};function ut(b,J,oe){b.M=1,b.A=ta($r(J)),b.u=oe,b.R=!0,ht(b,null)}function ht(b,J){b.F=Date.now(),On(b),b.B=$r(b.A);var oe=b.B,Te=b.S;Array.isArray(Te)||(Te=[String(Te)]),nl(oe.i,"t",Te),b.C=0,oe=b.j.L,b.h=new Ie,b.g=jt(b.j,oe?J:null,!b.u),b.P>0&&(b.O=new We(f(b.Y,b,b.g),b.P)),J=b.V,oe=b.g,Te=b.ba;var $e="readystatechange";Array.isArray($e)||($e&&(Ze[0]=$e.toString()),$e=Ze);for(let nt=0;nt<$e.length;nt++){const Rt=ge(oe,$e[nt],Te||J.handleEvent,!1,J.h||J);if(!Rt)break;J.g[Rt.key]=Rt}J=b.J?re(b.J):{},b.u?(b.v||(b.v="POST"),J["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.B,b.v,b.u,J)):(b.v="GET",b.g.ea(b.B,b.v,null,J)),on(),je(b.i,b.v,b.B,b.l,b.S,b.u)}Gn.prototype.ba=function(b){b=b.target;const J=this.O;J&&Ts(b)==3?J.j():this.Y(b)},Gn.prototype.Y=function(b){try{if(b==this.g)e:{const An=Ts(this.g),Or=this.g.ya(),Vn=this.g.ca();if(!(An<3)&&(An!=3||this.g&&(this.h.h||this.g.la()||gi(this.g)))){this.K||An!=4||Or==7||(Or==8||Vn<=0?on(3):on(2)),Sr(this);var J=this.g.ca();this.X=J;var oe=gt(this);if(this.o=J==200,lt(this.i,this.v,this.B,this.l,this.S,An,J),this.o){if(this.U&&!this.L){t:{if(this.g){var Te,$e=this.g;if((Te=$e.g?$e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Te)){var nt=Te;break t}}nt=null}if(b=nt)Pe(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,b);else{this.o=!1,this.m=3,Ut(12),hr(this),xr(this);break e}}if(this.R){b=!0;let gr;for(;!this.K&&this.C<oe.length;)if(gr=En(this,oe),gr==vt){An==4&&(this.m=4,Ut(14),b=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}else if(gr==rt){this.m=4,Ut(15),Pe(this.i,this.l,oe,"[Invalid Chunk]"),b=!1;break}else Pe(this.i,this.l,gr,null),ei(this,gr);if(Ct(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),An!=4||oe.length!=0||this.h.h||(this.m=1,Ut(16),b=!1),this.o=this.o&&b,!b)Pe(this.i,this.l,oe,"[Invalid Chunked Response]"),hr(this),xr(this);else if(oe.length>0&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.aa&&!Rt.P&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),ol(Rt),Rt.P=!0,Ut(11))}}else Pe(this.i,this.l,oe,null),ei(this,oe);An==4&&hr(this),this.o&&!this.K&&(An==4?ke(this.j,this):(this.o=!1,On(this)))}else ho(this.g),J==400&&oe.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),hr(this),xr(this)}}}catch{}};function gt(b){if(!Ct(b))return b.g.la();const J=gi(b.g);if(J==="")return"";let oe="";const Te=J.length,$e=Ts(b.g)==4;if(!b.h.i){if(typeof TextDecoder>"u")return hr(b),xr(b),"";b.h.i=new l.TextDecoder}for(let nt=0;nt<Te;nt++)b.h.h=!0,oe+=b.h.i.decode(J[nt],{stream:!($e&&nt==Te-1)});return J.length=0,b.h.g+=oe,b.C=0,b.h.g}function Ct(b){return b.g?b.v=="GET"&&b.M!=2&&b.j.Aa:!1}function En(b,J){var oe=b.C,Te=J.indexOf(`
`,oe);return Te==-1?vt:(oe=Number(J.substring(oe,Te)),isNaN(oe)?rt:(Te+=1,Te+oe>J.length?vt:(J=J.slice(Te,Te+oe),b.C=Te+oe,J)))}Gn.prototype.cancel=function(){this.K=!0,hr(this)};function On(b){b.T=Date.now()+b.H,nn(b,b.H)}function nn(b,J){if(b.D!=null)throw Error("WatchDog timer not null");b.D=Tn(f(b.aa,b),J)}function Sr(b){b.D&&(l.clearTimeout(b.D),b.D=null)}Gn.prototype.aa=function(){this.D=null;const b=Date.now();b-this.T>=0?(et(this.i,this.B),this.M!=2&&(on(),Ut(17)),hr(this),this.m=2,xr(this)):nn(this,this.T-b)};function xr(b){b.j.I==0||b.K||ke(b.j,b)}function hr(b){Sr(b);var J=b.O;J&&typeof J.dispose=="function"&&J.dispose(),b.O=null,_t(b.V),b.g&&(J=b.g,b.g=null,J.abort(),J.dispose())}function ei(b,J){try{var oe=b.j;if(oe.I!=0&&(oe.g==b||fs(oe.h,b))){if(!b.L&&fs(oe.h,b)&&oe.I==3){try{var Te=oe.Ba.g.parse(J)}catch{Te=null}if(Array.isArray(Te)&&Te.length==3){var $e=Te;if($e[0]==0){e:if(!oe.v){if(oe.g)if(oe.g.F+3e3<b.F)fe(oe),mo(oe);else break e;no(oe),Ut(18)}}else oe.xa=$e[1],0<oe.xa-oe.K&&$e[2]<37500&&oe.F&&oe.A==0&&!oe.C&&(oe.C=Tn(f(oe.Va,oe),6e3));Zi(oe.h)<=1&&oe.ta&&(oe.ta=void 0)}else ze(oe,11)}else if((b.L||oe.g==b)&&fe(oe),!B(J))for($e=oe.Ba.g.parse(J),J=0;J<$e.length;J++){let Vn=$e[J];const gr=Vn[0];if(!(gr<=oe.K))if(oe.K=gr,Vn=Vn[1],oe.I==2)if(Vn[0]=="c"){oe.M=Vn[1],oe.ba=Vn[2];const $i=Vn[3];$i!=null&&(oe.ka=$i,oe.j.info("VER="+oe.ka));const ts=Vn[4];ts!=null&&(oe.za=ts,oe.j.info("SVER="+oe.za));const Nr=Vn[5];Nr!=null&&typeof Nr=="number"&&Nr>0&&(Te=1.5*Nr,oe.O=Te,oe.j.info("backChannelRequestTimeoutMs_="+Te)),Te=oe;const ns=b.g;if(ns){const ro=ns.g?ns.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ro){var nt=Te.h;nt.g||ro.indexOf("spdy")==-1&&ro.indexOf("quic")==-1&&ro.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&(Bn(nt,nt.h),nt.h=null))}if(Te.G){const oa=ns.g?ns.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(Te.wa=oa,Zn(Te.J,Te.G,oa))}}oe.I=3,oe.l&&oe.l.ra(),oe.aa&&(oe.T=Date.now()-b.F,oe.j.info("Handshake RTT: "+oe.T+"ms")),Te=oe;var Rt=b;if(Te.na=At(Te,Te.L?Te.ba:null,Te.W),Rt.L){jr(Te.h,Rt);var An=Rt,Or=Te.O;Or&&(An.H=Or),An.D&&(Sr(An),On(An)),Te.g=Rt}else zl(Te);oe.i.length>0&&Bs(oe)}else Vn[0]!="stop"&&Vn[0]!="close"||ze(oe,7);else oe.I==3&&(Vn[0]=="stop"||Vn[0]=="close"?Vn[0]=="stop"?ze(oe,7):sa(oe):Vn[0]!="noop"&&oe.l&&oe.l.qa(Vn),oe.A=0)}}on(4)}catch{}}var Gr=class{constructor(b,J){this.g=b,this.map=J}};function Bo(b){this.l=b||10,l.PerformanceNavigationTiming?(b=l.performance.getEntriesByType("navigation"),b=b.length>0&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Gi(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function Zi(b){return b.h?1:b.g?b.g.size:0}function fs(b,J){return b.h?b.h==J:b.g?b.g.has(J):!1}function Bn(b,J){b.g?b.g.add(J):b.h=J}function jr(b,J){b.h&&b.h==J?b.h=null:b.g&&b.g.has(J)&&b.g.delete(J)}Bo.prototype.cancel=function(){if(this.i=_r(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function _r(b){if(b.h!=null)return b.i.concat(b.h.G);if(b.g!=null&&b.g.size!==0){let J=b.i;for(const oe of b.g.values())J=J.concat(oe.G);return J}return m(b.i)}var ai=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qr(b,J){if(b){b=b.split("&");for(let oe=0;oe<b.length;oe++){const Te=b[oe].indexOf("=");let $e,nt=null;Te>=0?($e=b[oe].substring(0,Te),nt=b[oe].substring(Te+1)):$e=b[oe],J($e,nt?decodeURIComponent(nt.replace(/\+/g," ")):"")}}}function Ei(b){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let J;b instanceof Ei?(this.l=b.l,In(this,b.j),this.o=b.o,this.g=b.g,Zs(this,b.u),this.h=b.h,Us(this,rl(b.i)),this.m=b.m):b&&(J=String(b).match(ai))?(this.l=!1,In(this,J[1]||"",!0),this.o=mi(J[2]||""),this.g=mi(J[3]||"",!0),Zs(this,J[4]),this.h=mi(J[5]||"",!0),Us(this,J[6]||"",!0),this.m=mi(J[7]||"")):(this.l=!1,this.i=new Vo(null,this.l))}Ei.prototype.toString=function(){const b=[];var J=this.j;J&&b.push(Wr(J,xa,!0),":");var oe=this.g;return(oe||J=="file")&&(b.push("//"),(J=this.o)&&b.push(Wr(J,xa,!0),"@"),b.push(yn(oe).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),oe=this.u,oe!=null&&b.push(":",String(oe))),(oe=this.h)&&(this.g&&oe.charAt(0)!="/"&&b.push("/"),b.push(Wr(oe,oe.charAt(0)=="/"?Fl:Tu,!0))),(oe=this.i.toString())&&b.push("?",oe),(oe=this.m)&&b.push("#",Wr(oe,Ul)),b.join("")},Ei.prototype.resolve=function(b){const J=$r(this);let oe=!!b.j;oe?In(J,b.j):oe=!!b.o,oe?J.o=b.o:oe=!!b.g,oe?J.g=b.g:oe=b.u!=null;var Te=b.h;if(oe)Zs(J,b.u);else if(oe=!!b.h){if(Te.charAt(0)!="/")if(this.g&&!this.h)Te="/"+Te;else{var $e=J.h.lastIndexOf("/");$e!=-1&&(Te=J.h.slice(0,$e+1)+Te)}if($e=Te,$e==".."||$e==".")Te="";else if($e.indexOf("./")!=-1||$e.indexOf("/.")!=-1){Te=$e.lastIndexOf("/",0)==0,$e=$e.split("/");const nt=[];for(let Rt=0;Rt<$e.length;){const An=$e[Rt++];An=="."?Te&&Rt==$e.length&&nt.push(""):An==".."?((nt.length>1||nt.length==1&&nt[0]!="")&&nt.pop(),Te&&Rt==$e.length&&nt.push("")):(nt.push(An),Te=!0)}Te=nt.join("/")}else Te=$e}return oe?J.h=Te:oe=b.i.toString()!=="",oe?Us(J,rl(b.i)):oe=!!b.m,oe&&(J.m=b.m),J};function $r(b){return new Ei(b)}function In(b,J,oe){b.j=oe?mi(J,!0):J,b.j&&(b.j=b.j.replace(/:$/,""))}function Zs(b,J){if(J){if(J=Number(J),isNaN(J)||J<0)throw Error("Bad port number "+J);b.u=J}else b.u=null}function Us(b,J,oe){J instanceof Vo?(b.i=J,hs(b.i,b.l)):(oe||(J=Wr(J,es)),b.i=new Vo(J,b.l))}function Zn(b,J,oe){b.i.set(J,oe)}function ta(b){return Zn(b,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),b}function mi(b,J){return b?J?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function Wr(b,J,oe){return typeof b=="string"?(b=encodeURI(b).replace(J,li),oe&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function li(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var xa=/[#\/\?@]/g,Tu=/[#\?:]/g,Fl=/[#\?]/g,es=/[#\?@]/g,Ul=/#/g;function Vo(b,J){this.h=this.g=null,this.i=b||null,this.j=!!J}function Pi(b){b.g||(b.g=new Map,b.h=0,b.i&&Qr(b.i,function(J,oe){b.add(decodeURIComponent(J.replace(/\+/g," ")),oe)}))}t=Vo.prototype,t.add=function(b,J){Pi(this),this.i=null,b=qo(this,b);let oe=this.g.get(b);return oe||this.g.set(b,oe=[]),oe.push(J),this.h+=1,this};function na(b,J){Pi(b),J=qo(b,J),b.g.has(J)&&(b.i=null,b.h-=b.g.get(J).length,b.g.delete(J))}function Bl(b,J){return Pi(b),J=qo(b,J),b.g.has(J)}t.forEach=function(b,J){Pi(this),this.g.forEach(function(oe,Te){oe.forEach(function($e){b.call(J,$e,Te,this)},this)},this)};function Vl(b,J){Pi(b);let oe=[];if(typeof J=="string")Bl(b,J)&&(oe=oe.concat(b.g.get(qo(b,J))));else for(b=Array.from(b.g.values()),J=0;J<b.length;J++)oe=oe.concat(b[J]);return oe}t.set=function(b,J){return Pi(this),this.i=null,b=qo(this,b),Bl(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[J]),this.h+=1,this},t.get=function(b,J){return b?(b=Vl(this,b),b.length>0?String(b[0]):J):J};function nl(b,J,oe){na(b,J),oe.length>0&&(b.i=null,b.g.set(qo(b,J),m(oe)),b.h+=oe.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],J=Array.from(this.g.keys());for(let Te=0;Te<J.length;Te++){var oe=J[Te];const $e=yn(oe);oe=Vl(this,oe);for(let nt=0;nt<oe.length;nt++){let Rt=$e;oe[nt]!==""&&(Rt+="="+yn(oe[nt])),b.push(Rt)}}return this.i=b.join("&")};function rl(b){const J=new Vo;return J.i=b.i,b.g&&(J.g=new Map(b.g),J.h=b.h),J}function qo(b,J){return J=String(J),b.j&&(J=J.toLowerCase()),J}function hs(b,J){J&&!b.j&&(Pi(b),b.i=null,b.g.forEach(function(oe,Te){const $e=Te.toLowerCase();Te!=$e&&(na(this,Te),nl(this,$e,oe))},b)),b.j=J}function eo(b,J){const oe=new pi;if(l.Image){const Te=new Image;Te.onload=d(ds,oe,"TestLoadImage: loaded",!0,J,Te),Te.onerror=d(ds,oe,"TestLoadImage: error",!1,J,Te),Te.onabort=d(ds,oe,"TestLoadImage: abort",!1,J,Te),Te.ontimeout=d(ds,oe,"TestLoadImage: timeout",!1,J,Te),l.setTimeout(function(){Te.ontimeout&&Te.ontimeout()},1e4),Te.src=b}else J(!1)}function zo(b,J){const oe=new pi,Te=new AbortController,$e=setTimeout(()=>{Te.abort(),ds(oe,"TestPingServer: timeout",!1,J)},1e4);fetch(b,{signal:Te.signal}).then(nt=>{clearTimeout($e),nt.ok?ds(oe,"TestPingServer: ok",!0,J):ds(oe,"TestPingServer: server error",!1,J)}).catch(()=>{clearTimeout($e),ds(oe,"TestPingServer: error",!1,J)})}function ds(b,J,oe,Te,$e){try{$e&&($e.onload=null,$e.onerror=null,$e.onabort=null,$e.ontimeout=null),Te(oe)}catch{}}function ra(){this.g=new Ft}function cn(b){this.i=b.Sb||null,this.h=b.ab||!1}g(cn,Dt),cn.prototype.g=function(){return new Ta(this.i,this.h)};function Ta(b,J){q.call(this),this.H=b,this.o=J,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Ta,q),t=Ta.prototype,t.open=function(b,J){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=b,this.D=J,this.readyState=1,Mi(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const J={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};b&&(J.body=b),(this.H||l).fetch(new Request(this.D,J)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},t.Pa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;il(this)}else b.text().then(this.Oa.bind(this),this.ga.bind(this))};function il(b){b.j.read().then(b.Ma.bind(b)).catch(b.ga.bind(b))}t.Ma=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var J=b.value?b.value:new Uint8Array(0);(J=this.B.decode(J,{stream:!b.done}))&&(this.response=this.responseText+=J)}b.done?ia(this):Mi(this),this.readyState==3&&il(this)}},t.Oa=function(b){this.g&&(this.response=this.responseText=b,ia(this))},t.Na=function(b){this.g&&(this.response=b,ia(this))},t.ga=function(){this.g&&ia(this)};function ia(b){b.readyState=4,b.l=null,b.j=null,b.B=null,Mi(b)}t.setRequestHeader=function(b,J){this.A.append(b,J)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],J=this.h.entries();for(var oe=J.next();!oe.done;)oe=oe.value,b.push(oe[0]+": "+oe[1]),oe=J.next();return b.join(`\r
`)};function Mi(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function Ai(b){let J="";return xe(b,function(oe,Te){J+=Te,J+=":",J+=oe,J+=`\r
`}),J}function Ca(b,J,oe){e:{for(Te in oe){var Te=!1;break e}Te=!0}Te||(oe=Ai(oe),typeof b=="string"?oe!=null&&yn(oe):Zn(b,J,oe))}function mr(b){q.call(this),this.headers=new Map,this.L=b||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(mr,q);var Ss=/^https?$/i,Na=["POST","PUT"];t=mr.prototype,t.Fa=function(b){this.H=b},t.ea=function(b,J,oe,Te){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);J=J?J.toUpperCase():"GET",this.D=b,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yn.g(),this.g.onreadystatechange=y(f(this.Ca,this));try{this.B=!0,this.g.open(J,String(b),!0),this.B=!1}catch(nt){to(this,nt);return}if(b=oe||"",oe=new Map(this.headers),Te)if(Object.getPrototypeOf(Te)===Object.prototype)for(var $e in Te)oe.set($e,Te[$e]);else if(typeof Te.keys=="function"&&typeof Te.get=="function")for(const nt of Te.keys())oe.set(nt,Te.get(nt));else throw Error("Unknown input type for opt_headers: "+String(Te));Te=Array.from(oe.keys()).find(nt=>nt.toLowerCase()=="content-type"),$e=l.FormData&&b instanceof l.FormData,!(Array.prototype.indexOf.call(Na,J,void 0)>=0)||Te||$e||oe.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,Rt]of oe)this.g.setRequestHeader(nt,Rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(b),this.v=!1}catch(nt){to(this,nt)}};function to(b,J){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=J,b.o=5,ql(b),Ho(b)}function ql(b){b.A||(b.A=!0,ye(b,"complete"),ye(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=b||7,ye(this,"complete"),ye(this,"abort"),Ho(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ho(this,!0)),mr.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?xs(this):this.Xa())},t.Xa=function(){xs(this)};function xs(b){if(b.h&&typeof s<"u"){if(b.v&&Ts(b)==4)setTimeout(b.Ca.bind(b),0);else if(ye(b,"readystatechange"),Ts(b)==4){b.h=!1;try{const nt=b.ca();e:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var J=!0;break e;default:J=!1}var oe;if(!(oe=J)){var Te;if(Te=nt===0){let Rt=String(b.D).match(ai)[1]||null;!Rt&&l.self&&l.self.location&&(Rt=l.self.location.protocol.slice(0,-1)),Te=!Ss.test(Rt?Rt.toLowerCase():"")}oe=Te}if(oe)ye(b,"complete"),ye(b,"success");else{b.o=6;try{var $e=Ts(b)>2?b.g.statusText:""}catch{$e=""}b.l=$e+" ["+b.ca()+"]",ql(b)}}finally{Ho(b)}}}}function Ho(b,J){if(b.g){b.m&&(clearTimeout(b.m),b.m=null);const oe=b.g;b.g=null,J||ye(b,"ready");try{oe.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ts(b){return b.g?b.g.readyState:0}t.ca=function(){try{return Ts(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(b){if(this.g){var J=this.g.responseText;return b&&J.indexOf(b)==0&&(J=J.substring(b.length)),Nt(J)}};function gi(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.F){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function ho(b){const J={};b=(b.g&&Ts(b)>=2&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let Te=0;Te<b.length;Te++){if(B(b[Te]))continue;var oe=$n(b[Te]);const $e=oe[0];if(oe=oe[1],typeof oe!="string")continue;oe=oe.trim();const nt=J[$e]||[];J[$e]=nt,nt.push(oe)}Ue(J,function(Te){return Te.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(b,J,oe){return oe&&oe.internalChannelParams&&oe.internalChannelParams[b]||J}function po(b){this.za=0,this.i=[],this.j=new pi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,b),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,b),this.Za=ji("retryDelaySeedMs",1e4,b),this.Ta=ji("forwardChannelMaxRetries",2,b),this.va=ji("forwardChannelRequestTimeoutMs",2e4,b),this.ma=b&&b.xmlHttpFactory||void 0,this.Ua=b&&b.Rb||void 0,this.Aa=b&&b.useFetchStreams||!1,this.O=void 0,this.L=b&&b.supportsCrossDomainXhr||!1,this.M="",this.h=new Bo(b&&b.concurrentRequestLimit),this.Ba=new ra,this.S=b&&b.fastHandshake||!1,this.R=b&&b.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=b&&b.Pb||!1,b&&b.ua&&this.j.ua(),b&&b.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&b&&b.detectBufferingProxy||!1,this.ia=void 0,b&&b.longPollingTimeout&&b.longPollingTimeout>0&&(this.ia=b.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=po.prototype,t.ka=8,t.I=1,t.connect=function(b,J,oe,Te){Ut(0),this.W=b,this.H=J||{},oe&&Te!==void 0&&(this.H.OSID=oe,this.H.OAID=Te),this.F=this.X,this.J=At(this,null,this.W),Bs(this)};function sa(b){if(go(b),b.I==3){var J=b.V++,oe=$r(b.J);if(Zn(oe,"SID",b.M),Zn(oe,"RID",J),Zn(oe,"TYPE","terminate"),Cs(b,oe),J=new Gn(b,b.j,J),J.M=2,J.A=ta($r(oe)),oe=!1,l.navigator&&l.navigator.sendBeacon)try{oe=l.navigator.sendBeacon(J.A.toString(),"")}catch{}!oe&&l.Image&&(new Image().src=J.A,oe=!0),oe||(J.g=jt(J.j,null),J.g.ea(J.A)),J.F=Date.now(),On(J)}dt(b)}function mo(b){b.g&&(ol(b),b.g.cancel(),b.g=null)}function go(b){mo(b),b.v&&(l.clearTimeout(b.v),b.v=null),fe(b),b.h.cancel(),b.m&&(typeof b.m=="number"&&l.clearTimeout(b.m),b.m=null)}function Bs(b){if(!Gi(b.h)&&!b.m){b.m=!0;var J=b.Ea;$||G(),Q||($(),Q=!0),V.add(J,b),b.D=0}}function Ia(b,J){return Zi(b.h)>=b.h.j-(b.m?1:0)?!1:b.m?(b.i=J.G.concat(b.i),!0):b.I==1||b.I==2||b.D>=(b.Sa?0:b.Ta)?!1:(b.m=Tn(f(b.Ea,b,J),Fe(b,b.D)),b.D++,!0)}t.Ea=function(b){if(this.m)if(this.m=null,this.I==1){if(!b){this.V=Math.floor(Math.random()*1e5),b=this.V++;const $e=new Gn(this,this.j,b);let nt=this.o;if(this.U&&(nt?(nt=re(nt),ee(nt,this.U)):nt=this.U),this.u!==null||this.R||($e.J=nt,nt=null),this.S)e:{for(var J=0,oe=0;oe<this.i.length;oe++){t:{var Te=this.i[oe];if("__data__"in Te.map&&(Te=Te.map.__data__,typeof Te=="string")){Te=Te.length;break t}Te=void 0}if(Te===void 0)break;if(J+=Te,J>4096){J=oe;break e}if(J===4096||oe===this.i.length-1){J=oe+1;break e}}J=1e3}else J=1e3;J=yo(this,$e,J),oe=$r(this.J),Zn(oe,"RID",b),Zn(oe,"CVER",22),this.G&&Zn(oe,"X-HTTP-Session-Id",this.G),Cs(this,oe),nt&&(this.R?J="headers="+yn(Ai(nt))+"&"+J:this.u&&Ca(oe,this.u,nt)),Bn(this.h,$e),this.Ra&&Zn(oe,"TYPE","init"),this.S?(Zn(oe,"$req",J),Zn(oe,"SID","null"),$e.U=!0,ut($e,oe,null)):ut($e,oe,J),this.I=2}}else this.I==3&&(b?sl(this,b):this.i.length==0||Gi(this.h)||sl(this))};function sl(b,J){var oe;J?oe=J.l:oe=b.V++;const Te=$r(b.J);Zn(Te,"SID",b.M),Zn(Te,"RID",oe),Zn(Te,"AID",b.K),Cs(b,Te),b.u&&b.o&&Ca(Te,b.u,b.o),oe=new Gn(b,b.j,oe,b.D+1),b.u===null&&(oe.J=b.o),J&&(b.i=J.G.concat(b.i)),J=yo(b,oe,1e3),oe.H=Math.round(b.va*.5)+Math.round(b.va*.5*Math.random()),Bn(b.h,oe),ut(oe,Te,J)}function Cs(b,J){b.H&&xe(b.H,function(oe,Te){Zn(J,Te,oe)}),b.l&&xe({},function(oe,Te){Zn(J,Te,oe)})}function yo(b,J,oe){oe=Math.min(b.i.length,oe);const Te=b.l?f(b.l.Ka,b.l,b):null;e:{var $e=b.i;let An=-1;for(;;){const Or=["count="+oe];An==-1?oe>0?(An=$e[0].g,Or.push("ofs="+An)):An=0:Or.push("ofs="+An);let Vn=!0;for(let gr=0;gr<oe;gr++){var nt=$e[gr].g;const $i=$e[gr].map;if(nt-=An,nt<0)An=Math.max(0,$e[gr].g-100),Vn=!1;else try{nt="req"+nt+"_"||"";try{var Rt=$i instanceof Map?$i:Object.entries($i);for(const[ts,Nr]of Rt){let ns=Nr;u(Nr)&&(ns=xt(Nr)),Or.push(nt+ts+"="+encodeURIComponent(ns))}}catch(ts){throw Or.push(nt+"type="+encodeURIComponent("_badmap")),ts}}catch{Te&&Te($i)}}if(Vn){Rt=Or.join("&");break e}}Rt=void 0}return b=b.i.splice(0,oe),J.G=b,Rt}function zl(b){if(!b.g&&!b.v){b.Y=1;var J=b.Da;$||G(),Q||($(),Q=!0),V.add(J,b),b.A=0}}function no(b){return b.g||b.v||b.A>=3?!1:(b.Y++,b.v=Tn(f(b.Da,b),Fe(b,b.A)),b.A++,!0)}t.Da=function(){if(this.v=null,U(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var b=4*this.T;this.j.info("BP detection timer enabled: "+b),this.B=Tn(f(this.Wa,this),b)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),mo(this),U(this))};function ol(b){b.B!=null&&(l.clearTimeout(b.B),b.B=null)}function U(b){b.g=new Gn(b,b.j,"rpc",b.Y),b.u===null&&(b.g.J=b.o),b.g.P=0;var J=$r(b.na);Zn(J,"RID","rpc"),Zn(J,"SID",b.M),Zn(J,"AID",b.K),Zn(J,"CI",b.F?"0":"1"),!b.F&&b.ia&&Zn(J,"TO",b.ia),Zn(J,"TYPE","xmlhttp"),Cs(b,J),b.u&&b.o&&Ca(J,b.u,b.o),b.O&&(b.g.H=b.O);var oe=b.g;b=b.ba,oe.M=1,oe.A=ta($r(J)),oe.u=null,oe.R=!0,ht(oe,b)}t.Va=function(){this.C!=null&&(this.C=null,mo(this),no(this),Ut(19))};function fe(b){b.C!=null&&(l.clearTimeout(b.C),b.C=null)}function ke(b,J){var oe=null;if(b.g==J){fe(b),ol(b),b.g=null;var Te=2}else if(fs(b.h,J))oe=J.G,jr(b.h,J),Te=1;else return;if(b.I!=0){if(J.o)if(Te==1){oe=J.u?J.u.length:0,J=Date.now()-J.F;var $e=b.D;Te=Pn(),ye(Te,new qt(Te,oe)),Bs(b)}else zl(b);else if($e=J.m,$e==3||$e==0&&J.X>0||!(Te==1&&Ia(b,J)||Te==2&&no(b)))switch(oe&&oe.length>0&&(J=b.h,J.i=J.i.concat(oe)),$e){case 1:ze(b,5);break;case 4:ze(b,10);break;case 3:ze(b,6);break;default:ze(b,2)}}}function Fe(b,J){let oe=b.Qa+Math.floor(Math.random()*b.Za);return b.isActive()||(oe*=2),oe*J}function ze(b,J){if(b.j.info("Error code "+J),J==2){var oe=f(b.bb,b),Te=b.Ua;const $e=!Te;Te=new Ei(Te||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||In(Te,"https"),ta(Te),$e?eo(Te.toString(),oe):zo(Te.toString(),oe)}else Ut(2);b.I=0,b.l&&b.l.pa(J),dt(b),go(b)}t.bb=function(b){b?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function dt(b){if(b.I=0,b.ja=[],b.l){const J=_r(b.h);(J.length!=0||b.i.length!=0)&&(x(b.ja,J),x(b.ja,b.i),b.h.i.length=0,m(b.i),b.i.length=0),b.l.oa()}}function At(b,J,oe){var Te=oe instanceof Ei?$r(oe):new Ei(oe);if(Te.g!="")J&&(Te.g=J+"."+Te.g),Zs(Te,Te.u);else{var $e=l.location;Te=$e.protocol,J=J?J+"."+$e.hostname:$e.hostname,$e=+$e.port;const nt=new Ei(null);Te&&In(nt,Te),J&&(nt.g=J),$e&&Zs(nt,$e),oe&&(nt.h=oe),Te=nt}return oe=b.G,J=b.wa,oe&&J&&Zn(Te,oe,J),Zn(Te,"VER",b.ka),Cs(b,Te),Te}function jt(b,J,oe){if(J&&!b.L)throw Error("Can't create secondary domain capable XhrIo object.");return J=b.Aa&&!b.ma?new mr(new cn({ab:oe})):new mr(b.ma),J.Fa(b.L),J}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qt(){}t=Qt.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function hn(){}hn.prototype.g=function(b,J){return new an(b,J)};function an(b,J){q.call(this),this.g=new po(J),this.l=b,this.h=J&&J.messageUrlParams||null,b=J&&J.messageHeaders||null,J&&J.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=J&&J.initMessageHeaders||null,J&&J.messageContentType&&(b?b["X-WebChannel-Content-Type"]=J.messageContentType:b={"X-WebChannel-Content-Type":J.messageContentType}),J&&J.sa&&(b?b["X-WebChannel-Client-Profile"]=J.sa:b={"X-WebChannel-Client-Profile":J.sa}),this.g.U=b,(b=J&&J.Qb)&&!B(b)&&(this.g.u=b),this.A=J&&J.supportsCrossDomainXhr||!1,this.v=J&&J.sendRawJson||!1,(J=J&&J.httpSessionIdParam)&&!B(J)&&(this.g.G=J,b=this.h,b!==null&&J in b&&(b=this.h,J in b&&delete b[J])),this.j=new Tr(this)}g(an,q),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){sa(this.g)},an.prototype.o=function(b){var J=this.g;if(typeof b=="string"){var oe={};oe.__data__=b,b=oe}else this.v&&(oe={},oe.__data__=xt(b),b=oe);J.i.push(new Gr(J.Ya++,b)),J.I==3&&Bs(J)},an.prototype.N=function(){this.g.l=null,delete this.j,sa(this.g),delete this.g,an.Z.N.call(this)};function Wn(b){Ot.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var J=b.__sm__;if(J){e:{for(const oe in J){b=oe;break e}b=void 0}(this.i=b)&&(b=this.i,J=J!==null&&b in J?J[b]:void 0),this.data=J}else this.data=b}g(Wn,Ot);function Mr(){tn.call(this),this.status=1}g(Mr,tn);function Tr(b){this.g=b}g(Tr,Qt),Tr.prototype.ra=function(){ye(this.g,"a")},Tr.prototype.qa=function(b){ye(this.g,new Wn(b))},Tr.prototype.pa=function(b){ye(this.g,new Mr)},Tr.prototype.oa=function(){ye(this.g,"b")},hn.prototype.createWebChannel=hn.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,rI=function(){return new hn},nI=function(){return Pn()},tI=sn,uw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yt.NO_ERROR=0,Yt.TIMEOUT=8,Yt.HTTP_ERROR=6,hg=Yt,un.COMPLETE="complete",eI=un,gn.EventType=Mt,Mt.OPEN="a",Mt.CLOSE="b",Mt.ERROR="c",Mt.MESSAGE="d",q.prototype.listen=q.prototype.J,Gd=gn,mr.prototype.listenOnce=mr.prototype.K,mr.prototype.getLastError=mr.prototype.Ha,mr.prototype.getLastErrorCode=mr.prototype.ya,mr.prototype.getStatus=mr.prototype.ca,mr.prototype.getResponseJson=mr.prototype.La,mr.prototype.getResponseText=mr.prototype.la,mr.prototype.send=mr.prototype.ea,mr.prototype.setWithCredentials=mr.prototype.Fa,Z6=mr}).apply(typeof Km<"u"?Km:typeof self<"u"?self:typeof window<"u"?window:{});class Ys{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ys.UNAUTHENTICATED=new Ys(null),Ys.GOOGLE_CREDENTIALS=new Ys("google-credentials-uid"),Ys.FIRST_PARTY=new Ys("first-party-uid"),Ys.MOCK_USER=new Ys("mock-user");let jh="12.9.0";function gK(t){jh=t}const of=new f_("@firebase/firestore");function lh(){return of.logLevel}function $t(t,...e){if(of.logLevel<=fr.DEBUG){const n=e.map(p_);of.debug(`Firestore (${jh}): ${t}`,...n)}}function wu(t,...e){if(of.logLevel<=fr.ERROR){const n=e.map(p_);of.error(`Firestore (${jh}): ${t}`,...n)}}function af(t,...e){if(of.logLevel<=fr.WARN){const n=e.map(p_);of.warn(`Firestore (${jh}): ${t}`,...n)}}function p_(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function _n(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,iI(t,r,n)}function iI(t,e,n){let r=`FIRESTORE (${jh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw wu(r),new Error(r)}function Cr(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||iI(e,i,r)}function Dn(t,e){return t}const wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vt extends Ac{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class uc{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class sI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ys.UNAUTHENTICATED)))}shutdown(){}}class vK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class wK{constructor(e){this.t=e,this.currentUser=Ys.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Cr(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new uc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new uc,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},u=c=>{$t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):($t("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new uc)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?($t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Cr(typeof r.accessToken=="string",31837,{l:r}),new sI(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Cr(e===null||typeof e=="string",2055,{h:e}),new Ys(e)}}class _K{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ys.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class bK{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _K(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ys.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class H4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EK{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tK(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Cr(this.o===void 0,3512);const r=s=>{s.error!=null&&$t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,$t("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{$t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):$t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new H4(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Cr(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new H4(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function AK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class m_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=AK(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function nr(t,e){return t<e?-1:t>e?1:0}function cw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return h2(i)===h2(s)?nr(i,s):h2(i)?1:-1}return nr(t.length,e.length)}const SK=55296,xK=57343;function h2(t){const e=t.charCodeAt(0);return e>=SK&&e<=xK}function Ph(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const G4="__name__";class Cl{constructor(e,n,r){n===void 0?n=0:n>e.length&&_n(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_n(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cl?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Cl.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return nr(e.length,n.length)}static compareSegments(e,n){const r=Cl.isNumericId(e),i=Cl.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Cl.extractNumericId(e).compare(Cl.extractNumericId(n)):cw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lc.fromString(e.substring(4,e.length-2))}}class Zr extends Cl{construct(e,n,r){return new Zr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Vt(wt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Zr(n)}static emptyPath(){return new Zr([])}}const TK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Os extends Cl{construct(e,n,r){return new Os(e,n,r)}static isValidIdentifier(e){return TK.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Os.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G4}static keyField(){return new Os([G4])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Vt(wt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Vt(wt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Vt(wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new Vt(wt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Os(n)}static emptyPath(){return new Os([])}}class mn{constructor(e){this.path=e}static fromPath(e){return new mn(Zr.fromString(e))}static fromName(e){return new mn(Zr.fromString(e).popFirst(5))}static empty(){return new mn(Zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Zr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mn(new Zr(e.slice()))}}function oI(t,e,n){if(!n)throw new Vt(wt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CK(t,e,n,r){if(e===!0&&r===!0)throw new Vt(wt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function j4(t){if(!mn.isDocumentKey(t))throw new Vt(wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $4(t){if(mn.isDocumentKey(t))throw new Vt(wt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function aI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function a0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_n(12329,{type:typeof t})}function Ea(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Vt(wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=a0(t);throw new Vt(wt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Qi(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ap(t,e){if(!aI(t))throw new Vt(wt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Vt(wt.INVALID_ARGUMENT,n);return!0}const W4=-62135596800,K4=1e6;class si{static now(){return si.fromMillis(Date.now())}static fromDate(e){return si.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*K4);return new si(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Vt(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Vt(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<W4)throw new Vt(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Vt(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K4}_compareTo(e){return this.seconds===e.seconds?nr(this.nanoseconds,e.nanoseconds):nr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:si._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ap(e,si._jsonSchema))return new si(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-W4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}si._jsonSchemaVersion="firestore/timestamp/1.0",si._jsonSchema={type:Qi("string",si._jsonSchemaVersion),seconds:Qi("number"),nanoseconds:Qi("number")};class Nn{static fromTimestamp(e){return new Nn(e)}static min(){return new Nn(new si(0,0))}static max(){return new Nn(new si(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const lp=-1;function NK(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Nn.fromTimestamp(r===1e9?new si(n+1,0):new si(n,r));return new dc(i,mn.empty(),e)}function IK(t){return new dc(t.readTime,t.key,lp)}class dc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new dc(Nn.min(),mn.empty(),lp)}static max(){return new dc(Nn.max(),mn.empty(),lp)}}function RK(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=mn.comparator(t.documentKey,e.documentKey),n!==0?n:nr(t.largestBatchId,e.largestBatchId))}const kK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $h(t){if(t.code!==wt.FAILED_PRECONDITION||t.message!==kK)throw t;$t("LocalStore","Unexpectedly lost primary lease")}class St{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_n(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new St(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof St?n:St.resolve(n)}catch(n){return St.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):St.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):St.reject(n)}static resolve(e){return new St(((n,r)=>{n(e)}))}static reject(e){return new St(((n,r)=>{r(e)}))}static waitFor(e){return new St(((n,r)=>{let i=0,s=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++s,l&&s===i&&n()}),(c=>r(c)))})),l=!0,s===i&&n()}))}static or(e){let n=St.resolve(!1);for(const r of e)n=n.next((i=>i?St.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new St(((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let c=0;c<s;c++){const f=c;n(e[f]).next((d=>{l[f]=d,++u,u===s&&r(l)}),(d=>i(d)))}}))}static doWhile(e,n){return new St(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function DK(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wh(t){return t.name==="IndexedDbTransactionError"}class l0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}l0.ce=-1;const g_=-1;function u0(t){return t==null}function kg(t){return t===0&&1/t==-1/0}function PK(t){return typeof t=="number"&&Number.isInteger(t)&&!kg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const lI="";function MK(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Y4(e)),e=OK(t.get(n),e);return Y4(e)}function OK(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case lI:n+="";break;default:n+=s}}return n}function Y4(t){return t+lI+""}function J4(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class bi{constructor(e,n){this.comparator=e,this.root=n||Ps.EMPTY}insert(e,n){return new bi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ps.BLACK,null,null))}remove(e){return new bi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ps.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ym(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ym(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ym(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ym(this.root,e,this.comparator,!0)}}class Ym{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ps{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ps.RED,this.left=i??Ps.EMPTY,this.right=s??Ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ps(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ps.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ps.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _n(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _n(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _n(27949);return e+(this.isRed()?0:1)}}Ps.EMPTY=null,Ps.RED=!0,Ps.BLACK=!1;Ps.EMPTY=new class{constructor(){this.size=0}get key(){throw _n(57766)}get value(){throw _n(16141)}get color(){throw _n(16727)}get left(){throw _n(29726)}get right(){throw _n(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ps(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cs{constructor(e){this.comparator=e,this.data=new bi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new X4(this.data.getIterator())}getIteratorFrom(e){return new X4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof cs)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new cs(this.comparator);return n.data=e,n}}class X4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zo{constructor(e){this.fields=e,e.sort(Os.comparator)}static empty(){return new Zo([])}unionWith(e){let n=new cs(Os.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ph(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class cI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new cI("Invalid base64 string: "+s):s}})(e);return new Fs(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new Fs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fs.EMPTY_BYTE_STRING=new Fs("");const FK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pc(t){if(Cr(!!t,39018),typeof t=="string"){let e=0;const n=FK.exec(t);if(Cr(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ui(t.seconds),nanos:Ui(t.nanos)}}function Ui(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mc(t){return typeof t=="string"?Fs.fromBase64String(t):Fs.fromUint8Array(t)}const fI="server_timestamp",hI="__type__",dI="__previous_value__",pI="__local_write_time__";function y_(t){return(t?.mapValue?.fields||{})[hI]?.stringValue===fI}function c0(t){const e=t.mapValue.fields[dI];return y_(e)?c0(e):e}function up(t){const e=pc(t.mapValue.fields[pI].timestampValue);return new si(e.seconds,e.nanos)}class UK{constructor(e,n,r,i,s,l,u,c,f,d,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=d,this.apiKey=g}}const Lg="(default)";class cp{constructor(e,n){this.projectId=e,this.database=n||Lg}static empty(){return new cp("","")}get isDefaultDatabase(){return this.database===Lg}isEqual(e){return e instanceof cp&&e.projectId===this.projectId&&e.database===this.database}}function BK(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Vt(wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cp(t.options.projectId,e)}const mI="__type__",VK="__max__",Jm={mapValue:{}},gI="__vector__",Dg="value";function gc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?y_(t)?4:zK(t)?9007199254740991:qK(t)?10:11:_n(28295,{value:t})}function Pl(t,e){if(t===e)return!0;const n=gc(t);if(n!==gc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return up(t).isEqual(up(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=pc(i.timestampValue),u=pc(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return mc(i.bytesValue).isEqual(mc(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Ui(i.geoPointValue.latitude)===Ui(s.geoPointValue.latitude)&&Ui(i.geoPointValue.longitude)===Ui(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Ui(i.integerValue)===Ui(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Ui(i.doubleValue),u=Ui(s.doubleValue);return l===u?kg(l)===kg(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Ph(t.arrayValue.values||[],e.arrayValue.values||[],Pl);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(J4(l)!==J4(u))return!1;for(const c in l)if(l.hasOwnProperty(c)&&(u[c]===void 0||!Pl(l[c],u[c])))return!1;return!0})(t,e);default:return _n(52216,{left:t})}}function fp(t,e){return(t.values||[]).find((n=>Pl(n,e)))!==void 0}function Mh(t,e){if(t===e)return 0;const n=gc(t),r=gc(e);if(n!==r)return nr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nr(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const u=Ui(s.integerValue||s.doubleValue),c=Ui(l.integerValue||l.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(t,e);case 3:return Q4(t.timestampValue,e.timestampValue);case 4:return Q4(up(t),up(e));case 5:return cw(t.stringValue,e.stringValue);case 6:return(function(s,l){const u=mc(s),c=mc(l);return u.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const u=s.split("/"),c=l.split("/");for(let f=0;f<u.length&&f<c.length;f++){const d=nr(u[f],c[f]);if(d!==0)return d}return nr(u.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const u=nr(Ui(s.latitude),Ui(l.latitude));return u!==0?u:nr(Ui(s.longitude),Ui(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Z4(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const u=s.fields||{},c=l.fields||{},f=u[Dg]?.arrayValue,d=c[Dg]?.arrayValue,g=nr(f?.values?.length||0,d?.values?.length||0);return g!==0?g:Z4(f,d)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Jm.mapValue&&l===Jm.mapValue)return 0;if(s===Jm.mapValue)return 1;if(l===Jm.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),f=l.fields||{},d=Object.keys(f);c.sort(),d.sort();for(let g=0;g<c.length&&g<d.length;++g){const y=cw(c[g],d[g]);if(y!==0)return y;const m=Mh(u[c[g]],f[d[g]]);if(m!==0)return m}return nr(c.length,d.length)})(t.mapValue,e.mapValue);default:throw _n(23264,{he:n})}}function Q4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nr(t,e);const n=pc(t),r=pc(e),i=nr(n.seconds,r.seconds);return i!==0?i:nr(n.nanos,r.nanos)}function Z4(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Mh(n[i],r[i]);if(s)return s}return nr(n.length,r.length)}function Oh(t){return fw(t)}function fw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=pc(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return mc(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return mn.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=fw(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${fw(n.fields[l])}`;return i+"}"})(t.mapValue):_n(61005,{value:t})}function dg(t){switch(gc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=c0(t);return e?16+dg(e):16;case 5:return 2*t.stringValue.length;case 6:return mc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+dg(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Sc(r.fields,((s,l)=>{i+=s.length+dg(l)})),i})(t.mapValue);default:throw _n(13486,{value:t})}}function e3(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hw(t){return!!t&&"integerValue"in t}function v_(t){return!!t&&"arrayValue"in t}function t3(t){return!!t&&"nullValue"in t}function n3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pg(t){return!!t&&"mapValue"in t}function qK(t){return(t?.mapValue?.fields||{})[mI]?.stringValue===gI}function Qd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Sc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Qd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qd(t.arrayValue.values[n]);return e}return{...t}}function zK(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VK}class Oo{constructor(e){this.value=e}static empty(){return new Oo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qd(n)}setAll(e){let n=Os.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Qd(l):i.push(u.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());pg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Sc(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Oo(Qd(this.value))}}function yI(t){const e=[];return Sc(t.fields,((n,r)=>{const i=new Os([n]);if(pg(r)){const s=yI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new Zo(e)}class Js{constructor(e,n,r,i,s,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Js(e,0,Nn.min(),Nn.min(),Nn.min(),Oo.empty(),0)}static newFoundDocument(e,n,r,i){return new Js(e,1,n,Nn.min(),r,i,0)}static newNoDocument(e,n){return new Js(e,2,n,Nn.min(),Nn.min(),Oo.empty(),0)}static newUnknownDocument(e,n){return new Js(e,3,n,Nn.min(),Nn.min(),Oo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Nn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Js&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Js(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pg{constructor(e,n){this.position=e,this.inclusive=n}}function r3(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=mn.comparator(mn.fromName(l.referenceValue),n.key):r=Mh(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function i3(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Pl(t.position[n],e.position[n]))return!1;return!0}class hp{constructor(e,n="asc"){this.field=e,this.dir=n}}function HK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class vI{}class Xi extends vI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jK(e,n,r):n==="array-contains"?new KK(e,r):n==="in"?new YK(e,r):n==="not-in"?new JK(e,r):n==="array-contains-any"?new XK(e,r):new Xi(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $K(e,r):new WK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Mh(n,this.value)):n!==null&&gc(this.value)===gc(n)&&this.matchesComparison(Mh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _n(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qa extends vI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qa(e,n)}matches(e){return wI(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wI(t){return t.op==="and"}function _I(t){return GK(t)&&wI(t)}function GK(t){for(const e of t.filters)if(e instanceof Qa)return!1;return!0}function dw(t){if(t instanceof Xi)return t.field.canonicalString()+t.op.toString()+Oh(t.value);if(_I(t))return t.filters.map((e=>dw(e))).join(",");{const e=t.filters.map((n=>dw(n))).join(",");return`${t.op}(${e})`}}function bI(t,e){return t instanceof Xi?(function(r,i){return i instanceof Xi&&r.op===i.op&&r.field.isEqual(i.field)&&Pl(r.value,i.value)})(t,e):t instanceof Qa?(function(r,i){return i instanceof Qa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,u)=>s&&bI(l,i.filters[u])),!0):!1})(t,e):void _n(19439)}function EI(t){return t instanceof Xi?(function(n){return`${n.field.canonicalString()} ${n.op} ${Oh(n.value)}`})(t):t instanceof Qa?(function(n){return n.op.toString()+" {"+n.getFilters().map(EI).join(" ,")+"}"})(t):"Filter"}class jK extends Xi{constructor(e,n,r){super(e,n,r),this.key=mn.fromName(r.referenceValue)}matches(e){const n=mn.comparator(e.key,this.key);return this.matchesComparison(n)}}class $K extends Xi{constructor(e,n){super(e,"in",n),this.keys=AI("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class WK extends Xi{constructor(e,n){super(e,"not-in",n),this.keys=AI("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function AI(t,e){return(e.arrayValue?.values||[]).map((n=>mn.fromName(n.referenceValue)))}class KK extends Xi{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return v_(n)&&fp(n.arrayValue,this.value)}}class YK extends Xi{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fp(this.value.arrayValue,n)}}class JK extends Xi{constructor(e,n){super(e,"not-in",n)}matches(e){if(fp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fp(this.value.arrayValue,n)}}class XK extends Xi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!v_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>fp(this.value.arrayValue,r)))}}class QK{constructor(e,n=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.Te=null}}function s3(t,e=null,n=[],r=[],i=null,s=null,l=null){return new QK(t,e,n,r,i,s,l)}function w_(t){const e=Dn(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>dw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),u0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Oh(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Oh(r))).join(",")),e.Te=n}return e.Te}function __(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!i3(t.startAt,e.startAt)&&i3(t.endAt,e.endAt)}function pw(t){return mn.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Kh{constructor(e,n=null,r=[],i=[],s=null,l="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ZK(t,e,n,r,i,s,l,u){return new Kh(t,e,n,r,i,s,l,u)}function f0(t){return new Kh(t)}function o3(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eY(t){return mn.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function SI(t){return t.collectionGroup!==null}function Zd(t){const e=Dn(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new cs(Os.comparator);return l.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new hp(s,r))})),n.has(Os.keyField().canonicalString())||e.Ie.push(new hp(Os.keyField(),r))}return e.Ie}function kl(t){const e=Dn(t);return e.Ee||(e.Ee=tY(e,Zd(t))),e.Ee}function tY(t,e){if(t.limitType==="F")return s3(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new hp(i.field,s)}));const n=t.endAt?new Pg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pg(t.startAt.position,t.startAt.inclusive):null;return s3(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mw(t,e){const n=t.filters.concat([e]);return new Kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nY(t,e){const n=t.explicitOrderBy.concat([e]);return new Kh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function gw(t,e,n){return new Kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function h0(t,e){return __(kl(t),kl(e))&&t.limitType===e.limitType}function xI(t){return`${w_(kl(t))}|lt:${t.limitType}`}function uh(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>EI(i))).join(", ")}]`),u0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Oh(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Oh(i))).join(",")),`Target(${r})`})(kl(t))}; limitType=${t.limitType})`}function d0(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):mn.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Zd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,c){const f=r3(l,u,c);return l.inclusive?f<=0:f<0})(r.startAt,Zd(r),i)||r.endAt&&!(function(l,u,c){const f=r3(l,u,c);return l.inclusive?f>=0:f>0})(r.endAt,Zd(r),i))})(t,e)}function rY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TI(t){return(e,n)=>{let r=!1;for(const i of Zd(t)){const s=iY(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function iY(t,e,n){const r=t.field.isKeyField()?mn.comparator(e.key,n.key):(function(s,l,u){const c=l.data.field(s),f=u.data.field(s);return c!==null&&f!==null?Mh(c,f):_n(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _n(19790,{direction:t.dir})}}class gf{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sc(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return uI(this.inner)}size(){return this.innerSize}}const sY=new bi(mn.comparator);function _u(){return sY}const CI=new bi(mn.comparator);function jd(...t){let e=CI;for(const n of t)e=e.insert(n.key,n);return e}function NI(t){let e=CI;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Qc(){return ep()}function II(){return ep()}function ep(){return new gf((t=>t.toString()),((t,e)=>t.isEqual(e)))}const oY=new bi(mn.comparator),aY=new cs(mn.comparator);function rr(...t){let e=aY;for(const n of t)e=e.add(n);return e}const lY=new cs(nr);function uY(){return lY}function b_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kg(e)?"-0":e}}function RI(t){return{integerValue:""+t}}function cY(t,e){return PK(e)?RI(e):b_(t,e)}class p0{constructor(){this._=void 0}}function fY(t,e,n){return t instanceof dp?(function(i,s){const l={fields:{[hI]:{stringValue:fI},[pI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&y_(s)&&(s=c0(s)),s&&(l.fields[dI]=s),{mapValue:l}})(n,e):t instanceof pp?LI(t,e):t instanceof mp?DI(t,e):(function(i,s){const l=kI(i,s),u=a3(l)+a3(i.Ae);return hw(l)&&hw(i.Ae)?RI(u):b_(i.serializer,u)})(t,e)}function hY(t,e,n){return t instanceof pp?LI(t,e):t instanceof mp?DI(t,e):n}function kI(t,e){return t instanceof Mg?(function(r){return hw(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class dp extends p0{}class pp extends p0{constructor(e){super(),this.elements=e}}function LI(t,e){const n=PI(e);for(const r of t.elements)n.some((i=>Pl(i,r)))||n.push(r);return{arrayValue:{values:n}}}class mp extends p0{constructor(e){super(),this.elements=e}}function DI(t,e){let n=PI(e);for(const r of t.elements)n=n.filter((i=>!Pl(i,r)));return{arrayValue:{values:n}}}class Mg extends p0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function a3(t){return Ui(t.integerValue||t.doubleValue)}function PI(t){return v_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class dY{constructor(e,n){this.field=e,this.transform=n}}function pY(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof pp&&i instanceof pp||r instanceof mp&&i instanceof mp?Ph(r.elements,i.elements,Pl):r instanceof Mg&&i instanceof Mg?Pl(r.Ae,i.Ae):r instanceof dp&&i instanceof dp})(t.transform,e.transform)}class mY{constructor(e,n){this.version=e,this.transformResults=n}}class Fo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fo}static exists(e){return new Fo(void 0,e)}static updateTime(e){return new Fo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class m0{}function MI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new g0(t.key,Fo.none()):new Sp(t.key,t.data,Fo.none());{const n=t.data,r=Oo.empty();let i=new cs(Os.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new xc(t.key,r,new Zo(i.toArray()),Fo.none())}}function gY(t,e,n){t instanceof Sp?(function(i,s,l){const u=i.value.clone(),c=u3(i.fieldTransforms,s,l.transformResults);u.setAll(c),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof xc?(function(i,s,l){if(!mg(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=u3(i.fieldTransforms,s,l.transformResults),c=s.data;c.setAll(OI(i)),c.setAll(u),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function tp(t,e,n,r){return t instanceof Sp?(function(s,l,u,c){if(!mg(s.precondition,l))return u;const f=s.value.clone(),d=c3(s.fieldTransforms,c,l);return f.setAll(d),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof xc?(function(s,l,u,c){if(!mg(s.precondition,l))return u;const f=c3(s.fieldTransforms,c,l),d=l.data;return d.setAll(OI(s)),d.setAll(f),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,l,u){return mg(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function yY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=kI(r.transform,i||null);s!=null&&(n===null&&(n=Oo.empty()),n.set(r.field,s))}return n||null}function l3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ph(r,i,((s,l)=>pY(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sp extends m0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xc extends m0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function OI(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function u3(t,e,n){const r=new Map;Cr(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,hY(l,u,n[i]))}return r}function c3(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,fY(s,l,e))}return r}class g0 extends m0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vY extends m0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wY{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gY(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=tp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=tp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=II();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=n.has(i.key)?null:u;const c=MI(l,u);c!==null&&r.set(i.key,c),l.isValidDocument()||l.convertToNoDocument(Nn.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),rr())}isEqual(e){return this.batchId===e.batchId&&Ph(this.mutations,e.mutations,((n,r)=>l3(n,r)))&&Ph(this.baseMutations,e.baseMutations,((n,r)=>l3(n,r)))}}class E_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Cr(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return oY})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new E_(e,n,r,i)}}class _Y{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class bY{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ji,ur;function EY(t){switch(t){case wt.OK:return _n(64938);case wt.CANCELLED:case wt.UNKNOWN:case wt.DEADLINE_EXCEEDED:case wt.RESOURCE_EXHAUSTED:case wt.INTERNAL:case wt.UNAVAILABLE:case wt.UNAUTHENTICATED:return!1;case wt.INVALID_ARGUMENT:case wt.NOT_FOUND:case wt.ALREADY_EXISTS:case wt.PERMISSION_DENIED:case wt.FAILED_PRECONDITION:case wt.ABORTED:case wt.OUT_OF_RANGE:case wt.UNIMPLEMENTED:case wt.DATA_LOSS:return!0;default:return _n(15467,{code:t})}}function FI(t){if(t===void 0)return wu("GRPC error has no .code"),wt.UNKNOWN;switch(t){case Ji.OK:return wt.OK;case Ji.CANCELLED:return wt.CANCELLED;case Ji.UNKNOWN:return wt.UNKNOWN;case Ji.DEADLINE_EXCEEDED:return wt.DEADLINE_EXCEEDED;case Ji.RESOURCE_EXHAUSTED:return wt.RESOURCE_EXHAUSTED;case Ji.INTERNAL:return wt.INTERNAL;case Ji.UNAVAILABLE:return wt.UNAVAILABLE;case Ji.UNAUTHENTICATED:return wt.UNAUTHENTICATED;case Ji.INVALID_ARGUMENT:return wt.INVALID_ARGUMENT;case Ji.NOT_FOUND:return wt.NOT_FOUND;case Ji.ALREADY_EXISTS:return wt.ALREADY_EXISTS;case Ji.PERMISSION_DENIED:return wt.PERMISSION_DENIED;case Ji.FAILED_PRECONDITION:return wt.FAILED_PRECONDITION;case Ji.ABORTED:return wt.ABORTED;case Ji.OUT_OF_RANGE:return wt.OUT_OF_RANGE;case Ji.UNIMPLEMENTED:return wt.UNIMPLEMENTED;case Ji.DATA_LOSS:return wt.DATA_LOSS;default:return _n(39323,{code:t})}}(ur=Ji||(Ji={}))[ur.OK=0]="OK",ur[ur.CANCELLED=1]="CANCELLED",ur[ur.UNKNOWN=2]="UNKNOWN",ur[ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ur[ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ur[ur.NOT_FOUND=5]="NOT_FOUND",ur[ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",ur[ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",ur[ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",ur[ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ur[ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ur[ur.ABORTED=10]="ABORTED",ur[ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",ur[ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",ur[ur.INTERNAL=13]="INTERNAL",ur[ur.UNAVAILABLE=14]="UNAVAILABLE",ur[ur.DATA_LOSS=15]="DATA_LOSS";function AY(){return new TextEncoder}const SY=new lc([4294967295,4294967295],0);function f3(t){const e=AY().encode(t),n=new Q6;return n.update(e),new Uint8Array(n.digest())}function h3(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new lc([n,r],0),new lc([i,s],0)]}class A_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $d(`Invalid padding: ${n}`);if(r<0)throw new $d(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $d(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $d(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=lc.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(lc.fromNumber(r)));return i.compare(SY)===1&&(i=new lc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=f3(e),[r,i]=h3(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new A_(s,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=f3(e),[r,i]=h3(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.be(l)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $d extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class y0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new y0(Nn.min(),i,new bi(nr),_u(),rr())}}class xp{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xp(r,n,rr(),rr(),rr())}}class gg{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class UI{constructor(e,n){this.targetId=e,this.Ce=n}}class BI{constructor(e,n,r=Fs.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class d3{constructor(){this.ve=0,this.Fe=p3(),this.Me=Fs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rr(),n=rr(),r=rr();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_n(38017,{changeType:s})}})),new xp(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=p3()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Cr(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class xY{constructor(e){this.Ge=e,this.ze=new Map,this.je=_u(),this.He=Xm(),this.Je=Xm(),this.Ze=new bi(nr)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_n(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(pw(s))if(r===0){const l=new mn(s.path);this.et(n,l,Js.newNoDocument(l,Nn.min()))}else Cr(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),c=u?this.ct(u,e,l):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,u;try{l=mc(r).toUint8Array()}catch(c){if(c instanceof cI)return af("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new A_(l,i,s)}catch(c){return af(c instanceof $d?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const u=this.ot(l);if(u){if(s.current&&pw(u.target)){const c=new mn(u.target.path);this.It(c).has(l)||this.Et(l,c)||this.et(l,c,Js.newNoDocument(c,e))}s.Be&&(n.set(l,s.ke()),s.Ke())}}));let r=rr();this.Je.forEach(((s,l)=>{let u=!0;l.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new y0(e,n,this.Ze,this.je,r);return this.je=_u(),this.He=Xm(),this.Je=Xm(),this.Ze=new bi(nr),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new d3,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new cs(nr),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new cs(nr),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||$t("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new d3),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xm(){return new bi(mn.comparator)}function p3(){return new bi(mn.comparator)}const TY={asc:"ASCENDING",desc:"DESCENDING"},CY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NY={and:"AND",or:"OR"};class IY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yw(t,e){return t.useProto3Json||u0(e)?e:{value:e}}function Og(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function RY(t,e){return Og(t,e.toTimestamp())}function Ll(t){return Cr(!!t,49232),Nn.fromTimestamp((function(n){const r=pc(n);return new si(r.seconds,r.nanos)})(t))}function S_(t,e){return vw(t,e).canonicalString()}function vw(t,e){const n=(function(i){return new Zr(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function qI(t){const e=Zr.fromString(t);return Cr($I(e),10190,{key:e.toString()}),e}function ww(t,e){return S_(t.databaseId,e.path)}function d2(t,e){const n=qI(e);if(n.get(1)!==t.databaseId.projectId)throw new Vt(wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Vt(wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new mn(HI(n))}function zI(t,e){return S_(t.databaseId,e)}function kY(t){const e=qI(t);return e.length===4?Zr.emptyPath():HI(e)}function _w(t){return new Zr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HI(t){return Cr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function m3(t,e,n){return{name:ww(t,e),fields:n.value.mapValue.fields}}function LY(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:_n(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,d){return f.useProto3Json?(Cr(d===void 0||typeof d=="string",58123),Fs.fromBase64String(d||"")):(Cr(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Fs.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(f){const d=f.code===void 0?wt.UNKNOWN:FI(f.code);return new Vt(d,f.message||"")})(l);n=new BI(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=d2(t,r.document.name),s=Ll(r.document.updateTime),l=r.document.createTime?Ll(r.document.createTime):Nn.min(),u=new Oo({mapValue:{fields:r.document.fields}}),c=Js.newFoundDocument(i,s,l,u),f=r.targetIds||[],d=r.removedTargetIds||[];n=new gg(f,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=d2(t,r.document),s=r.readTime?Ll(r.readTime):Nn.min(),l=Js.newNoDocument(i,s),u=r.removedTargetIds||[];n=new gg([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=d2(t,r.document),s=r.removedTargetIds||[];n=new gg([],s,i,null)}else{if(!("filter"in e))return _n(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new bY(i,s),u=r.targetId;n=new UI(u,l)}}return n}function DY(t,e){let n;if(e instanceof Sp)n={update:m3(t,e.key,e.value)};else if(e instanceof g0)n={delete:ww(t,e.key)};else if(e instanceof xc)n={update:m3(t,e.key,e.data),updateMask:zY(e.fieldMask)};else{if(!(e instanceof vY))return _n(16599,{dt:e.type});n={verify:ww(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const u=l.transform;if(u instanceof dp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof pp)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof mp)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Mg)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw _n(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:RY(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:_n(27497)})(t,e.precondition)),n}function PY(t,e){return t&&t.length>0?(Cr(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Ll(i.updateTime):Ll(s);return l.isEqual(Nn.min())&&(l=Ll(s)),new mY(l,i.transformResults||[])})(n,e)))):[]}function MY(t,e){return{documents:[zI(t,e.path)]}}function OY(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zI(t,i);const s=(function(f){if(f.length!==0)return jI(Qa.create(f,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(f){if(f.length!==0)return f.map((d=>(function(y){return{field:ch(y.field),direction:BY(y.dir)}})(d)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=yw(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function FY(t){let e=kY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Cr(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=(function(g){const y=GI(g);return y instanceof Qa&&_I(y)?y.getFilters():[y]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((y=>(function(x){return new hp(fh(x.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(y)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let y;return y=typeof g=="object"?g.value:g,u0(y)?null:y})(n.limit));let c=null;n.startAt&&(c=(function(g){const y=!!g.before,m=g.values||[];return new Pg(m,y)})(n.startAt));let f=null;return n.endAt&&(f=(function(g){const y=!g.before,m=g.values||[];return new Pg(m,y)})(n.endAt)),ZK(e,i,l,s,u,"F",c,f)}function UY(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _n(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fh(n.unaryFilter.field);return Xi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fh(n.unaryFilter.field);return Xi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fh(n.unaryFilter.field);return Xi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=fh(n.unaryFilter.field);return Xi.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _n(61313);default:return _n(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Xi.create(fh(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _n(58110);default:return _n(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Qa.create(n.compositeFilter.filters.map((r=>GI(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _n(1026)}})(n.compositeFilter.op))})(t):_n(30097,{filter:t})}function BY(t){return TY[t]}function VY(t){return CY[t]}function qY(t){return NY[t]}function ch(t){return{fieldPath:t.canonicalString()}}function fh(t){return Os.fromServerFormat(t.fieldPath)}function jI(t){return t instanceof Xi?(function(n){if(n.op==="=="){if(n3(n.value))return{unaryFilter:{field:ch(n.field),op:"IS_NAN"}};if(t3(n.value))return{unaryFilter:{field:ch(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(n3(n.value))return{unaryFilter:{field:ch(n.field),op:"IS_NOT_NAN"}};if(t3(n.value))return{unaryFilter:{field:ch(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ch(n.field),op:VY(n.op),value:n.value}}})(t):t instanceof Qa?(function(n){const r=n.getFilters().map((i=>jI(i)));return r.length===1?r[0]:{compositeFilter:{op:qY(n.op),filters:r}}})(t):_n(54877,{filter:t})}function zY(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function $I(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function WI(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class sc{constructor(e,n,r,i,s=Nn.min(),l=Nn.min(),u=Fs.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new sc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class HY{constructor(e){this.yt=e}}function GY(t){const e=FY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gw(e,e.limit,"L"):e}class jY{constructor(){this.Sn=new $Y}addToCollectionParentIndex(e,n){return this.Sn.add(n),St.resolve()}getCollectionParents(e,n){return St.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return St.resolve()}deleteFieldIndex(e,n){return St.resolve()}deleteAllFieldIndexes(e){return St.resolve()}createTargetIndexes(e,n){return St.resolve()}getDocumentsMatchingTarget(e,n){return St.resolve(null)}getIndexType(e,n){return St.resolve(0)}getFieldIndexes(e,n){return St.resolve([])}getNextCollectionGroupToUpdate(e){return St.resolve(null)}getMinOffset(e,n){return St.resolve(dc.min())}getMinOffsetFromCollectionGroup(e,n){return St.resolve(dc.min())}updateCollectionGroup(e,n,r){return St.resolve()}updateIndexEntries(e,n){return St.resolve()}}class $Y{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new cs(Zr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new cs(Zr.comparator)).toArray()}}const g3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KI=41943040;class Mo{static withCacheSize(e){return new Mo(e,Mo.DEFAULT_COLLECTION_PERCENTILE,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Mo.DEFAULT_COLLECTION_PERCENTILE=10,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mo.DEFAULT=new Mo(KI,Mo.DEFAULT_COLLECTION_PERCENTILE,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mo.DISABLED=new Mo(-1,0,0);class Fh{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Fh(0)}static ar(){return new Fh(-1)}}const y3="LruGarbageCollector",WY=1048576;function v3([t,e],[n,r]){const i=nr(t,n);return i===0?nr(e,r):i}class KY{constructor(e){this.Pr=e,this.buffer=new cs(v3),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();v3(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YY{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){$t(y3,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wh(n)?$t(y3,"Ignoring IndexedDB error during garbage collection: ",n):await $h(n)}await this.Ar(3e5)}))}}class JY{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return St.resolve(l0.ce);const r=new KY(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($t("LruGarbageCollector","Garbage collection skipped; disabled"),St.resolve(g3)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?($t("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g3):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,l,u,c,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?($t("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(f=Date.now(),lh()<=fr.DEBUG&&$t("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-d}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(c-u)+`ms
	Removed ${g} documents in `+(f-c)+`ms
Total Duration: ${f-d}ms`),St.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function XY(t,e){return new JY(t,e)}class QY{constructor(){this.changes=new gf((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Js.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?St.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class eJ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&tp(r.mutation,i,Zo.empty(),si.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,rr()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=rr()){const i=Qc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=jd();return s.forEach(((u,c)=>{l=l.insert(u,c.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Qc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,rr())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let s=_u();const l=ep(),u=(function(){return ep()})();return n.forEach(((c,f)=>{const d=r.get(f.key);i.has(f.key)&&(d===void 0||d.mutation instanceof xc)?s=s.insert(f.key,f):d!==void 0?(l.set(f.key,d.mutation.getFieldMask()),tp(d.mutation,f,d.mutation.getFieldMask(),si.now())):l.set(f.key,Zo.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((f,d)=>l.set(f,d))),n.forEach(((f,d)=>u.set(f,new ZY(d,l.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=ep();let i=new bi(((l,u)=>l-u)),s=rr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let d=r.get(c)||Zo.empty();d=u.applyToLocalView(f,d),r.set(c,d);const g=(i.get(u.batchId)||rr()).add(c);i=i.insert(u.batchId,g)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,d=c.value,g=II();d.forEach((y=>{if(!s.has(y)){const m=MI(n.get(y),r.get(y));m!==null&&g.set(y,m),s=s.add(y)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,g))}return St.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return eY(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):St.resolve(Qc());let u=lp,c=s;return l.next((f=>St.forEach(f,((d,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(d)?St.resolve():this.remoteDocumentCache.getEntry(e,d).next((y=>{c=c.insert(d,y)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,c,f,rr()))).next((d=>({batchId:u,changes:NI(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new mn(n)).next((r=>{let i=jd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=jd();return this.indexManager.getCollectionParents(e,s).next((u=>St.forEach(u,(c=>{const f=(function(g,y){return new Kh(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((d=>{d.forEach(((g,y)=>{l=l.insert(g,y)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((c,f)=>{const d=f.getKey();l.get(d)===null&&(l=l.insert(d,Js.newInvalidDocument(d)))}));let u=jd();return l.forEach(((c,f)=>{const d=s.get(c);d!==void 0&&tp(d.mutation,f,Zo.empty(),si.now()),d0(n,f)&&(u=u.insert(c,f))})),u}))}}class tJ{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return St.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ll(i.createTime)}})(n)),St.resolve()}getNamedQuery(e,n){return St.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:GY(i.bundledQuery),readTime:Ll(i.readTime)}})(n)),St.resolve()}}class nJ{constructor(){this.overlays=new bi(mn.comparator),this.Lr=new Map}getOverlay(e,n){return St.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qc();return St.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.bt(e,n,s)})),St.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Lr.delete(r)),St.resolve()}getOverlaysForCollection(e,n,r){const i=Qc(),s=n.length+1,l=new mn(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return St.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new bi(((f,d)=>f-d));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let d=s.get(f.largestBatchId);d===null&&(d=Qc(),s=s.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const u=Qc(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,d)=>u.set(f,d))),!(u.size()>=i)););return St.resolve(u)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new _Y(n,r));let s=this.Lr.get(n);s===void 0&&(s=rr(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}class rJ{constructor(){this.sessionToken=Fs.EMPTY_BYTE_STRING}getSessionToken(e){return St.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,St.resolve()}}class x_{constructor(){this.kr=new cs(bs.Kr),this.qr=new cs(bs.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new bs(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new bs(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new mn(new Zr([])),r=new bs(n,e),i=new bs(n,e+1),s=[];return this.qr.forEachInRange([r,i],(l=>{this.Wr(l),s.push(l.key)})),s}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new mn(new Zr([])),r=new bs(n,e),i=new bs(n,e+1);let s=rr();return this.qr.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new bs(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bs{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return mn.comparator(e.key,n.key)||nr(e.Hr,n.Hr)}static Ur(e,n){return nr(e.Hr,n.Hr)||mn.comparator(e.key,n.key)}}class iJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new cs(bs.Kr)}checkEmpty(e){return St.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new wY(s,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Jr=this.Jr.add(new bs(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return St.resolve(l)}lookupMutationBatch(e,n){return St.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return St.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return St.resolve(this.mutationQueue.length===0?g_:this.Yn-1)}getAllMutationBatches(e){return St.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bs(n,0),i=new bs(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],(l=>{const u=this.Zr(l.Hr);s.push(u)})),St.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new cs(nr);return n.forEach((i=>{const s=new bs(i,0),l=new bs(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,l],(u=>{r=r.add(u.Hr)}))})),St.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;mn.isDocumentKey(s)||(s=s.child(""));const l=new bs(new mn(s),0);let u=new cs(nr);return this.Jr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.Hr)),!0)}),l),St.resolve(this.Yr(u))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Cr(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return St.forEach(n.mutations,(i=>{const s=new bs(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new bs(n,0),i=this.Jr.firstAfterOrEqual(r);return St.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,St.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class sJ{constructor(e){this.ti=e,this.docs=(function(){return new bi(mn.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return St.resolve(r?r.document.mutableCopy():Js.newInvalidDocument(n))}getEntries(e,n){let r=_u();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Js.newInvalidDocument(i))})),St.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=_u();const l=n.path,u=new mn(l.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:d}}=c.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||RK(IK(d),r)<=0||(i.has(d.key)||d0(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return St.resolve(s)}getAllFromCollectionGroup(e,n,r,i){_n(9500)}ni(e,n){return St.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new oJ(this)}getSize(e){return St.resolve(this.size)}}class oJ extends QY{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),St.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class aJ{constructor(e){this.persistence=e,this.ri=new gf((n=>w_(n)),__),this.lastRemoteSnapshotVersion=Nn.min(),this.highestTargetId=0,this.ii=0,this.si=new x_,this.targetCount=0,this.oi=Fh._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),St.resolve()}getLastRemoteSnapshotVersion(e){return St.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return St.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),St.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),St.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Fh(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,St.resolve()}updateTargetData(e,n){return this.lr(n),St.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,St.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ri.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),St.waitFor(s).next((()=>i))}getTargetCount(e){return St.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return St.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),St.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),St.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),St.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return St.resolve(r)}containsKey(e,n){return St.resolve(this.si.containsKey(n))}}class YI{constructor(e,n){this._i={},this.overlays={},this.ai=new l0(0),this.ui=!1,this.ui=!0,this.ci=new rJ,this.referenceDelegate=e(this),this.li=new aJ(this),this.indexManager=new jY,this.remoteDocumentCache=(function(i){return new sJ(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new HY(n),this.Pi=new tJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new iJ(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){$t("MemoryPersistence","Starting transaction:",e);const i=new lJ(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((s=>this.referenceDelegate.Ii(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ei(e,n){return St.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class lJ extends LK{constructor(e){super(),this.currentSequenceNumber=e}}class T_{constructor(e){this.persistence=e,this.Ri=new x_,this.Ai=null}static Vi(e){return new T_(e)}get di(){if(this.Ai)return this.Ai;throw _n(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),St.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),St.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),St.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.di.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return St.forEach(this.di,(r=>{const i=mn.fromPath(r);return this.mi(e,i).next((s=>{s||n.removeEntry(i,Nn.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return St.or([()=>St.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Fg{constructor(e,n){this.persistence=e,this.fi=new gf((r=>MK(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=XY(this,n)}static Vi(e,n){return new Fg(e,n)}Ti(){}Ii(e){return St.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return St.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((s=>s?St.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,(l=>this.wr(e,l,n).next((u=>{u||(r++,s.removeEntry(l,Nn.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),St.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),St.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),St.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),St.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dg(e.data.value)),n}wr(e,n,r){return St.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return St.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class C_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=rr(),i=rr();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new C_(e,n.fromCache,r,i)}}class uJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class cJ{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Q$()?8:DK(J$())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ps(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new uJ;return this.ys(e,n,l).next((u=>{if(s.result=u,this.As)return this.ws(e,n,l,u.size)}))})).next((()=>s.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(lh()<=fr.DEBUG&&$t("QueryEngine","SDK will not create cache indexes for query:",uh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),St.resolve()):(lh()<=fr.DEBUG&&$t("QueryEngine","Query:",uh(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(lh()<=fr.DEBUG&&$t("QueryEngine","The SDK decides to create cache indexes for query:",uh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kl(n))):St.resolve())}gs(e,n){if(o3(n))return St.resolve(null);let r=kl(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=gw(n,null,"F"),r=kl(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=rr(...s);return this.fs.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.bs(n,u);return this.Ss(n,f,l,c.readTime)?this.gs(e,gw(n,null,"F")):this.Ds(e,f,n,c)}))))})))))}ps(e,n,r,i){return o3(n)||i.isEqual(Nn.min())?St.resolve(null):this.fs.getDocuments(e,r).next((s=>{const l=this.bs(n,s);return this.Ss(n,l,r,i)?St.resolve(null):(lh()<=fr.DEBUG&&$t("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uh(n)),this.Ds(e,l,n,NK(i,lp)).next((u=>u)))}))}bs(e,n){let r=new cs(TI(e));return n.forEach(((i,s)=>{d0(e,s)&&(r=r.add(s))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return lh()<=fr.DEBUG&&$t("QueryEngine","Using full collection scan to execute query:",uh(n)),this.fs.getDocumentsMatchingQuery(e,n,dc.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const N_="LocalStore",fJ=3e8;class hJ{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new bi(nr),this.Fs=new gf((s=>w_(s)),__),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eJ(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function dJ(t,e,n,r){return new hJ(t,e,n,r)}async function JI(t,e){const n=Dn(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],u=[];let c=rr();for(const f of i){l.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}for(const f of s){u.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ns:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function pJ(t,e){const n=Dn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return(function(u,c,f,d){const g=f.batch,y=g.keys();let m=St.resolve();return y.forEach((x=>{m=m.next((()=>d.getEntry(c,x))).next((S=>{const R=f.docVersions.get(x);Cr(R!==null,48541),S.version.compareTo(R)<0&&(g.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),d.addEntry(S)))}))})),m.next((()=>u.mutationQueue.removeMutationBatch(c,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let c=rr();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function XI(t){const e=Dn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function mJ(t,e){const n=Dn(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const u=[];e.targetChanges.forEach(((d,g)=>{const y=i.get(g);if(!y)return;u.push(n.li.removeMatchingKeys(s,d.removedDocuments,g).next((()=>n.li.addMatchingKeys(s,d.addedDocuments,g))));let m=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?m=m.withResumeToken(Fs.EMPTY_BYTE_STRING,Nn.min()).withLastLimboFreeSnapshotVersion(Nn.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(g,m),(function(S,R,E){return S.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=fJ?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(y,m,d)&&u.push(n.li.updateTargetData(s,m))}));let c=_u(),f=rr();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))})),u.push(gJ(s,l,e.documentUpdates).next((d=>{c=d.Bs,f=d.Ls}))),!r.isEqual(Nn.min())){const d=n.li.getLastRemoteSnapshotVersion(s).next((g=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(d)}return St.waitFor(u).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,c,f))).next((()=>c))})).then((s=>(n.vs=i,s)))}function gJ(t,e,n){let r=rr(),i=rr();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=_u();return n.forEach(((u,c)=>{const f=s.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Nn.min())?(e.removeEntry(u,c.readTime),l=l.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),l=l.insert(u,c)):$t(N_,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)})),{Bs:l,Ls:i}}))}function yJ(t,e){const n=Dn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=g_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function vJ(t,e){const n=Dn(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((s=>s?(i=s,St.resolve(i)):n.li.allocateTargetId(r).next((l=>(i=new sc(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function bw(t,e,n){const r=Dn(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Wh(l))throw l;$t(N_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function w3(t,e,n){const r=Dn(t);let i=Nn.min(),s=rr();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(c,f,d){const g=Dn(c),y=g.Fs.get(d);return y!==void 0?St.resolve(g.vs.get(y)):g.li.getTargetData(f,d)})(r,l,kl(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,u.targetId).next((c=>{s=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,n?i:Nn.min(),n?s:rr()))).next((u=>(wJ(r,rY(e),u),{documents:u,ks:s})))))}function wJ(t,e,n){let r=t.Ms.get(e)||Nn.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Ms.set(e,r)}class _3{constructor(){this.activeTargetIds=uY()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _J{constructor(){this.vo=new _3,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new _3,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bJ{Mo(e){}shutdown(){}}const b3="ConnectivityMonitor";class E3{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){$t(b3,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){$t(b3,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qm=null;function Ew(){return Qm===null?Qm=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qm++,"0x"+Qm.toString(16)}const p2="RestConnection",EJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class AJ{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Lg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const l=Ew(),u=this.Qo(e,n.toUriEncodedString());$t(p2,`Sending RPC '${e}' ${l}:`,u,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,s);const{host:f}=new URL(u),d=l_(f);return this.zo(e,u,c,r,d).then((g=>($t(p2,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw af(p2,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g}))}jo(e,n,r,i,s,l){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}Qo(e,n){const r=EJ[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class SJ{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Ks="WebChannelConnection",zd=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class xh extends AJ{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!xh.c_){const e=nI();zd(e,tI.STAT_EVENT,(n=>{n.stat===uw.PROXY?$t(Ks,"STAT_EVENT: detected buffering proxy"):n.stat===uw.NOPROXY&&$t(Ks,"STAT_EVENT: detected no buffering proxy")})),xh.c_=!0}}zo(e,n,r,i,s){const l=Ew();return new Promise(((u,c)=>{const f=new Z6;f.setWithCredentials(!0),f.listenOnce(eI.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case hg.NO_ERROR:const g=f.getResponseJson();$t(Ks,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case hg.TIMEOUT:$t(Ks,`RPC '${e}' ${l} timed out`),c(new Vt(wt.DEADLINE_EXCEEDED,"Request time out"));break;case hg.HTTP_ERROR:const y=f.getStatus();if($t(Ks,`RPC '${e}' ${l} failed with status:`,y,"response text:",f.getResponseText()),y>0){let m=f.getResponseJson();Array.isArray(m)&&(m=m[0]);const x=m?.error;if(x&&x.status&&x.message){const S=(function(E){const M=E.toLowerCase().replace(/_/g,"-");return Object.values(wt).indexOf(M)>=0?M:wt.UNKNOWN})(x.status);c(new Vt(S,x.message))}else c(new Vt(wt.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Vt(wt.UNAVAILABLE,"Connection failed."));break;default:_n(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{$t(Ks,`RPC '${e}' ${l} completed.`)}}));const d=JSON.stringify(i);$t(Ks,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",d,r,15)}))}T_(e,n,r){const i=Ew(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");$t(Ks,`Creating RPC '${e}' stream ${i}: ${f}`,u);const d=l.createWebChannel(f,u);this.I_(d);let g=!1,y=!1;const m=new SJ({Ho:x=>{y?$t(Ks,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(g||($t(Ks,`Opening RPC '${e}' stream ${i} transport.`),d.open(),g=!0),$t(Ks,`RPC '${e}' stream ${i} sending:`,x),d.send(x))},Jo:()=>d.close()});return zd(d,Gd.EventType.OPEN,(()=>{y||($t(Ks,`RPC '${e}' stream ${i} transport opened.`),m.i_())})),zd(d,Gd.EventType.CLOSE,(()=>{y||(y=!0,$t(Ks,`RPC '${e}' stream ${i} transport closed`),m.o_(),this.E_(d))})),zd(d,Gd.EventType.ERROR,(x=>{y||(y=!0,af(Ks,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),m.o_(new Vt(wt.UNAVAILABLE,"The operation could not be completed")))})),zd(d,Gd.EventType.MESSAGE,(x=>{if(!y){const S=x.data[0];Cr(!!S,16349);const R=S,E=R?.error||R[0]?.error;if(E){$t(Ks,`RPC '${e}' stream ${i} received error:`,E);const M=E.status;let P=(function(Q){const V=Ji[Q];if(V!==void 0)return FI(V)})(M),N=E.message;M==="NOT_FOUND"&&N.includes("database")&&N.includes("does not exist")&&N.includes(this.databaseId.database)&&af(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),P===void 0&&(P=wt.INTERNAL,N="Unknown error status: "+M+" with message "+E.message),y=!0,m.o_(new Vt(P,N)),d.close()}else $t(Ks,`RPC '${e}' stream ${i} received:`,S),m.__(S)}})),xh.u_(),setTimeout((()=>{m.s_()}),0),m}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return rI()}}function xJ(t){return new xh(t)}function m2(){return typeof document<"u"?document:null}function v0(t){return new IY(t,!0)}xh.c_=!1;class QI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&$t("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const A3="PersistentStream";class ZI{constructor(e,n,r,i,s,l,u,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===wt.RESOURCE_EXHAUSTED?(wu(n.toString()),wu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===wt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Vt(wt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return $t(A3,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():($t(A3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TJ extends ZI{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=LY(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Nn.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Nn.min():l.readTime?Ll(l.readTime):Nn.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=_w(this.serializer),n.addTarget=(function(s,l){let u;const c=l.target;if(u=pw(c)?{documents:MY(s,c)}:{query:OY(s,c).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=VI(s,l.resumeToken);const f=yw(s,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Nn.min())>0){u.readTime=Og(s,l.snapshotVersion.toTimestamp());const f=yw(s,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=UY(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=_w(this.serializer),n.removeTarget=e,this.K_(n)}}class CJ extends ZI{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Cr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Cr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Cr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=PY(e.writeResults,e.commitTime),r=Ll(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=_w(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>DY(this.serializer,r)))};this.K_(n)}}class NJ{}class IJ extends NJ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Vt(wt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Wo(e,vw(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Vt(wt.UNKNOWN,s.toString())}))}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.jo(e,vw(n,r),i,l,u,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Vt(wt.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function RJ(t,e,n,r){return new IJ(t,e,n,r)}class kJ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wu(n),this.aa=!1):$t("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const lf="RemoteStore";class LJ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{yf(this)&&($t(lf,"Restarting streams for network reachability change."),await(async function(c){const f=Dn(c);f.Ea.add(4),await Tp(f),f.Va.set("Unknown"),f.Ea.delete(4),await w0(f)})(this))}))})),this.Va=new kJ(r,i)}}async function w0(t){if(yf(t))for(const e of t.Ra)await e(!0)}async function Tp(t){for(const e of t.Ra)await e(!1)}function eR(t,e){const n=Dn(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),L_(n)?k_(n):Yh(n).O_()&&R_(n,e))}function I_(t,e){const n=Dn(t),r=Yh(n);n.Ia.delete(e),r.O_()&&tR(n,e),n.Ia.size===0&&(r.O_()?r.L_():yf(n)&&n.Va.set("Unknown"))}function R_(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yh(t).Z_(e)}function tR(t,e){t.da.$e(e),Yh(t).X_(e)}function k_(t){t.da=new xY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Yh(t).start(),t.Va.ua()}function L_(t){return yf(t)&&!Yh(t).x_()&&t.Ia.size>0}function yf(t){return Dn(t).Ea.size===0}function nR(t){t.da=void 0}async function DJ(t){t.Va.set("Online")}async function PJ(t){t.Ia.forEach(((e,n)=>{R_(t,e)}))}async function MJ(t,e){nR(t),L_(t)?(t.Va.ha(e),k_(t)):t.Va.set("Unknown")}async function OJ(t,e,n){if(t.Va.set("Online"),e instanceof BI&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.da.removeTarget(u))})(t,e)}catch(r){$t(lf,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ug(t,r)}else if(e instanceof gg?t.da.Xe(e):e instanceof UI?t.da.st(e):t.da.tt(e),!n.isEqual(Nn.min()))try{const r=await XI(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const u=s.da.Tt(l);return u.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.Ia.get(f);d&&s.Ia.set(f,d.withResumeToken(c.resumeToken,l))}})),u.targetMismatches.forEach(((c,f)=>{const d=s.Ia.get(c);if(!d)return;s.Ia.set(c,d.withResumeToken(Fs.EMPTY_BYTE_STRING,d.snapshotVersion)),tR(s,c);const g=new sc(d.target,c,f,d.sequenceNumber);R_(s,g)})),s.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){$t(lf,"Failed to raise snapshot:",r),await Ug(t,r)}}async function Ug(t,e,n){if(!Wh(e))throw e;t.Ea.add(1),await Tp(t),t.Va.set("Offline"),n||(n=()=>XI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{$t(lf,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await w0(t)}))}function rR(t,e){return e().catch((n=>Ug(t,n,e)))}async function _0(t){const e=Dn(t),n=yc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:g_;for(;FJ(e);)try{const i=await yJ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,UJ(e,i)}catch(i){await Ug(e,i)}iR(e)&&sR(e)}function FJ(t){return yf(t)&&t.Ta.length<10}function UJ(t,e){t.Ta.push(e);const n=yc(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function iR(t){return yf(t)&&!yc(t).x_()&&t.Ta.length>0}function sR(t){yc(t).start()}async function BJ(t){yc(t).ra()}async function VJ(t){const e=yc(t);for(const n of t.Ta)e.ea(n.mutations)}async function qJ(t,e,n){const r=t.Ta.shift(),i=E_.from(r,e,n);await rR(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await _0(t)}async function zJ(t,e){e&&yc(t).Y_&&await(async function(r,i){if((function(l){return EY(l)&&l!==wt.ABORTED})(i.code)){const s=r.Ta.shift();yc(r).B_(),await rR(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await _0(r)}})(t,e),iR(t)&&sR(t)}async function S3(t,e){const n=Dn(t);n.asyncQueue.verifyOperationInProgress(),$t(lf,"RemoteStore received new credentials");const r=yf(n);n.Ea.add(3),await Tp(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await w0(n)}async function HJ(t,e){const n=Dn(t);e?(n.Ea.delete(2),await w0(n)):e||(n.Ea.add(2),await Tp(n),n.Va.set("Unknown"))}function Yh(t){return t.ma||(t.ma=(function(n,r,i){const s=Dn(n);return s.sa(),new TJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:DJ.bind(null,t),Yo:PJ.bind(null,t),t_:MJ.bind(null,t),J_:OJ.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),L_(t)?k_(t):t.Va.set("Unknown")):(await t.ma.stop(),nR(t))}))),t.ma}function yc(t){return t.fa||(t.fa=(function(n,r,i){const s=Dn(n);return s.sa(),new CJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:BJ.bind(null,t),t_:zJ.bind(null,t),ta:VJ.bind(null,t),na:qJ.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await _0(t)):(await t.fa.stop(),t.Ta.length>0&&($t(lf,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class D_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new uc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,u=new D_(e,n,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Vt(wt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P_(t,e){if(wu("AsyncQueue",`${e}: ${t}`),Wh(t))return new Vt(wt.UNAVAILABLE,`${e}: ${t}`);throw t}class Th{static emptySet(e){return new Th(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||mn.comparator(n.key,r.key):(n,r)=>mn.comparator(n.key,r.key),this.keyedMap=jd(),this.sortedSet=new bi(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Th)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Th;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class x3{constructor(){this.ga=new bi(mn.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_n(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Uh{constructor(e,n,r,i,s,l,u,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Uh(e,n,Th.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&h0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class GJ{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class jJ{constructor(){this.queries=T3(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Dn(n),s=i.queries;i.queries=T3(),s.forEach(((l,u)=>{for(const c of u.ba)c.onError(r)}))})(this,new Vt(wt.ABORTED,"Firestore shutting down"))}}function T3(){return new gf((t=>xI(t)),h0)}async function oR(t,e){const n=Dn(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new GJ,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=P_(l,`Initialization of query '${uh(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&M_(n)}async function aR(t,e){const n=Dn(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.ba.indexOf(e);l>=0&&(s.ba.splice(l,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $J(t,e){const n=Dn(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const u of l.ba)u.Fa(i)&&(r=!0);l.wa=i}}r&&M_(n)}function WJ(t,e,n){const r=Dn(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function M_(t){t.Ca.forEach((e=>{e.next()}))}var Aw,C3;(C3=Aw||(Aw={})).Ma="default",C3.Cache="cache";class lR{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Uh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Uh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Aw.Cache}}class uR{constructor(e){this.key=e}}class cR{constructor(e){this.key=e}}class KJ{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=rr(),this.mutatedKeys=rr(),this.eu=TI(e),this.tu=new Th(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new x3,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,g)=>{const y=i.get(d),m=d0(this.query,g)?g:null,x=!!y&&this.mutatedKeys.has(y.key),S=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let R=!1;y&&m?y.data.isEqual(m.data)?x!==S&&(r.track({type:3,doc:m}),R=!0):this.su(y,m)||(r.track({type:2,doc:m}),R=!0,(c&&this.eu(m,c)>0||f&&this.eu(m,f)<0)&&(u=!0)):!y&&m?(r.track({type:0,doc:m}),R=!0):y&&!m&&(r.track({type:1,doc:y}),R=!0,(c||f)&&(u=!0)),R&&(m?(l=l.add(m),s=S?s.add(d):s.delete(d)):(l=l.delete(d),s=s.delete(d)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const d=this.query.limitType==="F"?l.last():l.first();l=l.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:l,iu:r,Ss:u,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((d,g)=>(function(m,x){const S=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _n(20277,{Vt:R})}};return S(m)-S(x)})(d.type,g.type)||this.eu(d.doc,g.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,f=c!==this.Xa;return this.Xa=c,l.length!==0||f?{snapshot:new Uh(this.query,e.tu,s,l,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new x3,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=rr(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new cR(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new uR(r))})),n}cu(e){this.Za=e.ks,this.Ya=rr();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Uh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const O_="SyncEngine";class YJ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JJ{constructor(e){this.key=e,this.hu=!1}}class XJ{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new gf((u=>xI(u)),h0),this.Iu=new Map,this.Eu=new Set,this.Ru=new bi(mn.comparator),this.Au=new Map,this.Vu=new x_,this.du={},this.mu=new Map,this.fu=Fh.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QJ(t,e,n=!0){const r=gR(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await fR(r,e,n,!0),i}async function ZJ(t,e){const n=gR(t);await fR(n,e,!0,!1)}async function fR(t,e,n,r){const i=await vJ(t.localStore,kl(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await eX(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&eR(t.remoteStore,i),u}async function eX(t,e,n,r,i){t.pu=(g,y,m)=>(async function(S,R,E,M){let P=R.view.ru(E);P.Ss&&(P=await w3(S.localStore,R.query,!1).then((({documents:V})=>R.view.ru(V,P))));const N=M&&M.targetChanges.get(R.targetId),$=M&&M.targetMismatches.get(R.targetId)!=null,Q=R.view.applyChanges(P,S.isPrimaryClient,N,$);return I3(S,R.targetId,Q.au),Q.snapshot})(t,g,y,m);const s=await w3(t.localStore,e,!0),l=new KJ(e,s.ks),u=l.ru(s.documents),c=xp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(u,t.isPrimaryClient,c);I3(t,n,f.au);const d=new YJ(e,n,l);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function tX(t,e,n){const r=Dn(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!h0(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bw(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&I_(r.remoteStore,i.targetId),Sw(r,i.targetId)})).catch($h)):(Sw(r,i.targetId),await bw(r.localStore,i.targetId,!0))}async function nX(t,e){const n=Dn(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),I_(n.remoteStore,r.targetId))}async function rX(t,e,n){const r=cX(t);try{const i=await(function(l,u){const c=Dn(l),f=si.now(),d=u.reduce(((m,x)=>m.add(x.key)),rr());let g,y;return c.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let x=_u(),S=rr();return c.xs.getEntries(m,d).next((R=>{x=R,x.forEach(((E,M)=>{M.isValidDocument()||(S=S.add(E))}))})).next((()=>c.localDocuments.getOverlayedDocuments(m,x))).next((R=>{g=R;const E=[];for(const M of u){const P=yY(M,g.get(M.key).overlayedDocument);P!=null&&E.push(new xc(M.key,P,yI(P.value.mapValue),Fo.exists(!0)))}return c.mutationQueue.addMutationBatch(m,f,E,u)})).next((R=>{y=R;const E=R.applyToLocalDocumentSet(g,S);return c.documentOverlayCache.saveOverlays(m,R.batchId,E)}))})).then((()=>({batchId:y.batchId,changes:NI(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,c){let f=l.du[l.currentUser.toKey()];f||(f=new bi(nr)),f=f.insert(u,c),l.du[l.currentUser.toKey()]=f})(r,i.batchId,n),await Cp(r,i.changes),await _0(r.remoteStore)}catch(i){const s=P_(i,"Failed to persist write");n.reject(s)}}async function hR(t,e){const n=Dn(t);try{const r=await mJ(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(Cr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Cr(l.hu,14607):i.removedDocuments.size>0&&(Cr(l.hu,42227),l.hu=!1))})),await Cp(n,r,e)}catch(r){await $h(r)}}function N3(t,e,n){const r=Dn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const c=Dn(l);c.onlineState=u;let f=!1;c.queries.forEach(((d,g)=>{for(const y of g.ba)y.va(u)&&(f=!0)})),f&&M_(c)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iX(t,e,n){const r=Dn(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new bi(mn.comparator);l=l.insert(s,Js.newNoDocument(s,Nn.min()));const u=rr().add(s),c=new y0(Nn.min(),new Map,new bi(nr),l,u);await hR(r,c),r.Ru=r.Ru.remove(s),r.Au.delete(e),F_(r)}else await bw(r.localStore,e,!1).then((()=>Sw(r,e,n))).catch($h)}async function sX(t,e){const n=Dn(t),r=e.batch.batchId;try{const i=await pJ(n.localStore,e);pR(n,r,null),dR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cp(n,i)}catch(i){await $h(i)}}async function oX(t,e,n){const r=Dn(t);try{const i=await(function(l,u){const c=Dn(l);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let d;return c.mutationQueue.lookupMutationBatch(f,u).next((g=>(Cr(g!==null,37113),d=g.keys(),c.mutationQueue.removeMutationBatch(f,g)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,d,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d))).next((()=>c.localDocuments.getDocuments(f,d)))}))})(r.localStore,e);pR(r,e,n),dR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cp(r,i)}catch(i){await $h(i)}}function dR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function pR(t,e,n){const r=Dn(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function Sw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||mR(t,r)}))}function mR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(I_(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),F_(t))}function I3(t,e,n){for(const r of n)r instanceof uR?(t.Vu.addReference(r.key,e),aX(t,r)):r instanceof cR?($t(O_,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||mR(t,r.key)):_n(19791,{wu:r})}function aX(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||($t(O_,"New document in limbo: "+n),t.Eu.add(r),F_(t))}function F_(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new mn(Zr.fromString(e)),r=t.fu.next();t.Au.set(r,new JJ(n)),t.Ru=t.Ru.insert(n,r),eR(t.remoteStore,new sc(kl(f0(n.path)),r,"TargetPurposeLimboResolution",l0.ce))}}async function Cp(t,e,n){const r=Dn(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{l.push(r.pu(c,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const d=f?!f.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(f){i.push(f);const d=C_.Es(c.targetId,f);s.push(d)}})))})),await Promise.all(l),r.Pu.J_(i),await(async function(c,f){const d=Dn(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>St.forEach(f,(y=>St.forEach(y.Ts,(m=>d.persistence.referenceDelegate.addReference(g,y.targetId,m))).next((()=>St.forEach(y.Is,(m=>d.persistence.referenceDelegate.removeReference(g,y.targetId,m)))))))))}catch(g){if(!Wh(g))throw g;$t(N_,"Failed to update sequence numbers: "+g)}for(const g of f){const y=g.targetId;if(!g.fromCache){const m=d.vs.get(y),x=m.snapshotVersion,S=m.withLastLimboFreeSnapshotVersion(x);d.vs=d.vs.insert(y,S)}}})(r.localStore,s))}async function lX(t,e){const n=Dn(t);if(!n.currentUser.isEqual(e)){$t(O_,"User change. New user:",e.toKey());const r=await JI(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((u=>{u.forEach((c=>{c.reject(new Vt(wt.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cp(n,r.Ns)}}function uX(t,e){const n=Dn(t),r=n.Au.get(e);if(r&&r.hu)return rr().add(r.key);{let i=rr();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function gR(t){const e=Dn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iX.bind(null,e),e.Pu.J_=$J.bind(null,e.eventManager),e.Pu.yu=WJ.bind(null,e.eventManager),e}function cX(t){const e=Dn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oX.bind(null,e),e}class Bg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=v0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return dJ(this.persistence,new cJ,e.initialUser,this.serializer)}Cu(e){return new YI(T_.Vi,this.serializer)}Du(e){return new _J}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bg.provider={build:()=>new Bg};class fX extends Bg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Cr(this.persistence.referenceDelegate instanceof Fg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new YY(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mo.withCacheSize(this.cacheSizeBytes):Mo.DEFAULT;return new YI((r=>Fg.Vi(r,n)),this.serializer)}}class xw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>N3(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lX.bind(null,this.syncEngine),await HJ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jJ})()}createDatastore(e){const n=v0(e.databaseInfo.databaseId),r=xJ(e.databaseInfo);return RJ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,u){return new LJ(r,i,s,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>N3(this.syncEngine,n,0)),(function(){return E3.v()?new E3:new bJ})())}createSyncEngine(e,n){return(function(i,s,l,u,c,f,d){const g=new XJ(i,s,l,u,c,f);return d&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Dn(n);$t(lf,"RemoteStore shutting down."),r.Ea.add(5),await Tp(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xw.provider={build:()=>new xw};class yR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const vc="FirestoreClient";class hX{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Ys.UNAUTHENTICATED,this.clientId=m_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{$t(vc,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>($t(vc,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new uc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=P_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function g2(t,e){t.asyncQueue.verifyOperationInProgress(),$t(vc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await JI(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function R3(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dX(t);$t(vc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>S3(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>S3(e.remoteStore,i))),t._onlineComponents=e}async function dX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$t(vc,"Using user provided OfflineComponentProvider");try{await g2(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===wt.FAILED_PRECONDITION||i.code===wt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;af("Error using user provided cache. Falling back to memory cache: "+n),await g2(t,new Bg)}}else $t(vc,"Using default OfflineComponentProvider"),await g2(t,new fX(void 0));return t._offlineComponents}async function vR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($t(vc,"Using user provided OnlineComponentProvider"),await R3(t,t._uninitializedComponentsProvider._online)):($t(vc,"Using default OnlineComponentProvider"),await R3(t,new xw))),t._onlineComponents}function pX(t){return vR(t).then((e=>e.syncEngine))}async function Tw(t){const e=await vR(t),n=e.eventManager;return n.onListen=QJ.bind(null,e.syncEngine),n.onUnlisten=tX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZJ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nX.bind(null,e.syncEngine),n}function mX(t,e,n,r){const i=new yR(r),s=new lR(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>oR(await Tw(t),s))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>aR(await Tw(t),s)))}}function gX(t,e,n={}){const r=new uc;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,c,f){const d=new yR({next:y=>{d.Nu(),l.enqueueAndForget((()=>aR(s,g)));const m=y.docs.has(u);!m&&y.fromCache?f.reject(new Vt(wt.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&y.fromCache&&c&&c.source==="server"?f.reject(new Vt(wt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),g=new lR(f0(u.path),d,{includeMetadataChanges:!0,Ka:!0});return oR(s,g)})(await Tw(t),t.asyncQueue,e,n,r))),r.promise}function yX(t,e){const n=new uc;return t.asyncQueue.enqueueAndForget((async()=>rX(await pX(t),e,n))),n.promise}function wR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const vX="ComponentProvider",k3=new Map;function wX(t,e,n,r,i){return new UK(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,wR(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const _R="firestore.googleapis.com",L3=!0;class D3{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Vt(wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_R,this.ssl=L3}else this.host=e.host,this.ssl=e.ssl??L3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=KI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WY)throw new Vt(wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Vt(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Vt(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Vt(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class b0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Vt(wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Vt(wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new yK;switch(r.type){case"firstParty":return new bK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Vt(wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=k3.get(n);r&&($t(vX,"Removing Datastore"),k3.delete(n),r.terminate())})(this),Promise.resolve()}}function _X(t,e,n,r={}){t=Ea(t,b0);const i=l_(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(j$(`https://${u}`),Y$("Firestore",!0)),s.host!==_R&&s.host!==u&&af("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:u,ssl:i,emulatorOptions:r};if(!sp(c,l)&&(t._setSettings(c),r.mockUserToken)){let f,d;if(typeof r.mockUserToken=="string")f=r.mockUserToken,d=Ys.MOCK_USER;else{f=$$(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Vt(wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Ys(g)}t._authCredentials=new vK(new sI(f,d))}}class vf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vf(this.firestore,e,this._query)}}class Li{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Li(this.firestore,e,this._key)}toJSON(){return{type:Li._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ap(n,Li._jsonSchema))return new Li(e,r||null,new mn(Zr.fromString(n.referencePath)))}}Li._jsonSchemaVersion="firestore/documentReference/1.0",Li._jsonSchema={type:Qi("string",Li._jsonSchemaVersion),referencePath:Qi("string")};class cc extends vf{constructor(e,n,r){super(e,n,f0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Li(this.firestore,null,new mn(e))}withConverter(e){return new cc(this.firestore,e,this._path)}}function Zm(t,e,...n){if(t=fo(t),oI("collection","path",e),t instanceof b0){const r=Zr.fromString(e,...n);return $4(r),new cc(t,null,r)}{if(!(t instanceof Li||t instanceof cc))throw new Vt(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Zr.fromString(e,...n));return $4(r),new cc(t.firestore,null,r)}}function Po(t,e,...n){if(t=fo(t),arguments.length===1&&(e=m_.newId()),oI("doc","path",e),t instanceof b0){const r=Zr.fromString(e,...n);return j4(r),new Li(t,null,new mn(r))}{if(!(t instanceof Li||t instanceof cc))throw new Vt(wt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Zr.fromString(e,...n));return j4(r),new Li(t.firestore,t instanceof cc?t.converter:null,new mn(r))}}const P3="AsyncQueue";class M3{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QI(this,"async_queue_retry"),this._c=()=>{const r=m2();r&&$t(P3,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=m2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=m2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new uc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Wh(e))throw e;$t(P3,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,wu("INTERNAL UNHANDLED ERROR: ",O3(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=D_.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&_n(47125,{Pc:O3(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function O3(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class wc extends b0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new M3,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M3(e),this._firestoreClient=void 0,await e}}}function bX(t,e){const n=typeof t=="object"?t:d_(),r=typeof t=="string"?t:Lg,i=Ep(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=H$("firestore");s&&_X(i,...s)}return i}function E0(t){if(t._terminated)throw new Vt(wt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||EX(t),t._firestoreClient}function EX(t){const e=t._freezeSettings(),n=wX(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new hX(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class _a{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _a(Fs.fromBase64String(e))}catch(n){throw new Vt(wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _a(Fs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_a._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ap(e,_a._jsonSchema))return _a.fromBase64String(e.bytes)}}_a._jsonSchemaVersion="firestore/bytes/1.0",_a._jsonSchema={type:Qi("string",_a._jsonSchemaVersion),bytes:Qi("string")};class A0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Vt(wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Os(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class S0{constructor(e){this._methodName=e}}class Dl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Vt(wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Vt(wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nr(this._lat,e._lat)||nr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dl._jsonSchemaVersion}}static fromJSON(e){if(Ap(e,Dl._jsonSchema))return new Dl(e.latitude,e.longitude)}}Dl._jsonSchemaVersion="firestore/geoPoint/1.0",Dl._jsonSchema={type:Qi("string",Dl._jsonSchemaVersion),latitude:Qi("number"),longitude:Qi("number")};class Ja{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ja._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ap(e,Ja._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ja(e.vectorValues);throw new Vt(wt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ja._jsonSchemaVersion="firestore/vectorValue/1.0",Ja._jsonSchema={type:Qi("string",Ja._jsonSchemaVersion),vectorValues:Qi("object")};const AX=/^__.*__$/;class SX{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sp(e,this.data,n,this.fieldTransforms)}}class bR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ER(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _n(40011,{dataSource:t})}}class U_{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new U_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Vg(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(ER(this.dataSource)&&AX.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class xX{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||v0(e)}createContext(e,n,r,i=!1){return new U_({dataSource:e,methodName:n,targetDoc:r,path:Os.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function x0(t){const e=t._freezeSettings(),n=v0(t._databaseId);return new xX(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AR(t,e,n,r,i,s={}){const l=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);V_("Data must be an object, but it was:",l,r);const u=TR(r,l);let c,f;if(s.merge)c=new Zo(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const y=Bh(e,g,n);if(!l.contains(y))throw new Vt(wt.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);IR(d,y)||d.push(y)}c=new Zo(d),f=l.fieldTransforms.filter((g=>c.covers(g.field)))}else c=null,f=l.fieldTransforms;return new SX(new Oo(u),c,f)}class Np extends S0{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Np}}class B_ extends S0{_toFieldTransform(e){return new dY(e.path,new dp)}isEqual(e){return e instanceof B_}}function SR(t,e,n,r){const i=t.createContext(1,e,n);V_("Data must be an object, but it was:",i,r);const s=[],l=Oo.empty();Sc(r,((c,f)=>{const d=NR(e,c,n);f=fo(f);const g=i.childContextForFieldPath(d);if(f instanceof Np)s.push(d);else{const y=Ip(f,g);y!=null&&(s.push(d),l.set(d,y))}}));const u=new Zo(s);return new bR(l,u,i.fieldTransforms)}function xR(t,e,n,r,i,s){const l=t.createContext(1,e,n),u=[Bh(e,r,n)],c=[i];if(s.length%2!=0)throw new Vt(wt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)u.push(Bh(e,s[y])),c.push(s[y+1]);const f=[],d=Oo.empty();for(let y=u.length-1;y>=0;--y)if(!IR(f,u[y])){const m=u[y];let x=c[y];x=fo(x);const S=l.childContextForFieldPath(m);if(x instanceof Np)f.push(m);else{const R=Ip(x,S);R!=null&&(f.push(m),d.set(m,R))}}const g=new Zo(f);return new bR(d,g,l.fieldTransforms)}function TX(t,e,n,r=!1){return Ip(n,t.createContext(r?4:3,e))}function Ip(t,e){if(CR(t=fo(t)))return V_("Unsupported field value:",e,t),TR(t,e);if(t instanceof S0)return(function(r,i){if(!ER(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const u of r){let c=Ip(u,i.childContextForArray(l));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=fo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cY(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=si.fromDate(r);return{timestampValue:Og(i.serializer,s)}}if(r instanceof si){const s=new si(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Og(i.serializer,s)}}if(r instanceof Dl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _a)return{bytesValue:VI(i.serializer,r._byteString)};if(r instanceof Li){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:S_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ja)return(function(l,u){const c=l instanceof Ja?l.toArray():l;return{mapValue:{fields:{[mI]:{stringValue:gI},[Dg]:{arrayValue:{values:c.map((d=>{if(typeof d!="number")throw u.createError("VectorValues must only contain numeric values.");return b_(u.serializer,d)}))}}}}}})(r,i);if(WI(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${a0(r)}`)})(t,e)}function TR(t,e){const n={};return uI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sc(t,((r,i)=>{const s=Ip(i,e.childContextForField(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function CR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof si||t instanceof Dl||t instanceof _a||t instanceof Li||t instanceof S0||t instanceof Ja||WI(t))}function V_(t,e,n){if(!CR(n)||!aI(n)){const r=a0(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Bh(t,e,n){if((e=fo(e))instanceof A0)return e._internalPath;if(typeof e=="string")return NR(t,e);throw Vg("Field path arguments must be of type string or ",t,!1,void 0,n)}const CX=new RegExp("[~\\*/\\[\\]]");function NR(t,e,n){if(e.search(CX)>=0)throw Vg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new A0(...e.split("."))._internalPath}catch{throw Vg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vg(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||l)&&(c+=" (found",s&&(c+=` in field ${r}`),l&&(c+=` in document ${i}`),c+=")"),new Vt(wt.INVALID_ARGUMENT,u+t+c)}function IR(t,e){return t.some((n=>n.isEqual(e)))}class NX{convertValue(e,n="none"){switch(gc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ui(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _n(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Sc(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Dg].arrayValue?.values?.map((r=>Ui(r.doubleValue)));return new Ja(n)}convertGeoPoint(e){return new Dl(Ui(e.latitude),Ui(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=c0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(up(e));default:return null}}convertTimestamp(e){const n=pc(e);return new si(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Zr.fromString(e);Cr($I(r),9688,{name:e});const i=new cp(r.get(1),r.get(3)),s=new mn(r.popFirst(5));return i.isEqual(n)||wu(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class RR extends NX{constructor(e){super(),this.firestore=e}convertBytes(e){return new _a(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Li(this.firestore,null,n)}}function F3(){return new Np("deleteField")}function _s(){return new B_("serverTimestamp")}const U3="@firebase/firestore",B3="4.11.0";function V3(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class kR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Li(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Bh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IX extends kR{data(){return super.data()}}function RX(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Vt(wt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q_{}class LR extends q_{}function q3(t,e,...n){let r=[];e instanceof q_&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((c=>c instanceof H_)).length,u=s.filter((c=>c instanceof z_)).length;if(l>1||l>0&&u>0)throw new Vt(wt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class z_ extends LR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new z_(e,n,r)}_apply(e){const n=this._parse(e);return DR(e._query,n),new vf(e.firestore,e.converter,mw(e._query,n))}_parse(e){const n=x0(e.firestore);return(function(s,l,u,c,f,d,g){let y;if(f.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Vt(wt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){G3(g,d);const x=[];for(const S of g)x.push(H3(c,s,S));y={arrayValue:{values:x}}}else y=H3(c,s,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||G3(g,d),y=TX(u,l,g,d==="in"||d==="not-in");return Xi.create(f,d,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class H_ extends q_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new H_(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Qa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const u=s.getFlattenedFilters();for(const c of u)DR(l,c),l=mw(l,c)})(e._query,n),new vf(e.firestore,e.converter,mw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class G_ extends LR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new G_(e,n)}_apply(e){const n=(function(i,s,l){if(i.startAt!==null)throw new Vt(wt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Vt(wt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hp(s,l)})(e._query,this._field,this._direction);return new vf(e.firestore,e.converter,nY(e._query,n))}}function z3(t,e="asc"){const n=e,r=Bh("orderBy",t);return G_._create(r,n)}function H3(t,e,n){if(typeof(n=fo(n))=="string"){if(n==="")throw new Vt(wt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SI(e)&&n.indexOf("/")!==-1)throw new Vt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Zr.fromString(n));if(!mn.isDocumentKey(r))throw new Vt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return e3(t,new mn(r))}if(n instanceof Li)return e3(t,n._key);throw new Vt(wt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${a0(n)}.`)}function G3(t,e){if(!Array.isArray(t)||t.length===0)throw new Vt(wt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DR(t,e){const n=(function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Vt(wt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Vt(wt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function PR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Wd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nf extends kR{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Vt(wt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=nf._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}nf._jsonSchemaVersion="firestore/documentSnapshot/1.0",nf._jsonSchema={type:Qi("string",nf._jsonSchemaVersion),bundleSource:Qi("string","DocumentSnapshot"),bundleName:Qi("string"),bundle:Qi("string")};class yg extends nf{data(e={}){return super.data(e)}}class Ch{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new yg(this._firestore,this._userDataWriter,r.key,r,new Wd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Vt(wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const c=new yg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Wd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const c=new yg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Wd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,d=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),d=l.indexOf(u.doc.key)),{type:kX(u.type),doc:c,oldIndex:f,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Vt(wt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ch._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=m_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _n(61501,{type:t})}}Ch._jsonSchemaVersion="firestore/querySnapshot/1.0",Ch._jsonSchema={type:Qi("string",Ch._jsonSchemaVersion),bundleSource:Qi("string","QuerySnapshot"),bundleName:Qi("string"),bundle:Qi("string")};class LX{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=x0(e)}set(e,n,r){this._verifyNotCommitted();const i=y2(e,this._firestore),s=PR(i.converter,n,r),l=AR(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Fo.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=y2(e,this._firestore);let l;return l=typeof(n=fo(n))=="string"||n instanceof A0?xR(this._dataReader,"WriteBatch.update",s._key,n,r,i):SR(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(l.toMutation(s._key,Fo.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=y2(e,this._firestore);return this._mutations=this._mutations.concat(new g0(n._key,Fo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Vt(wt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function y2(t,e){if((t=fo(t)).firestore!==e)throw new Vt(wt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function eg(t){t=Ea(t,Li);const e=Ea(t.firestore,wc),n=E0(e);return gX(n,t._key).then((r=>OR(e,t,r)))}function tg(t,e,n){t=Ea(t,Li);const r=Ea(t.firestore,wc),i=PR(t.converter,e,n),s=x0(r);return T0(r,[AR(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Fo.none())])}function MR(t,e,n,...r){t=Ea(t,Li);const i=Ea(t.firestore,wc),s=x0(i);let l;return l=typeof(e=fo(e))=="string"||e instanceof A0?xR(s,"updateDoc",t._key,e,n,r):SR(s,"updateDoc",t._key,e),T0(i,[l.toMutation(t._key,Fo.exists(!0))])}function DX(t){return T0(Ea(t.firestore,wc),[new g0(t._key,Fo.none())])}function ng(t,...e){t=fo(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||V3(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(V3(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let s,l,u;if(t instanceof Li)l=Ea(t.firestore,wc),u=f0(t._key.path),s={next:f=>{e[r]&&e[r](OR(l,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Ea(t,vf);l=Ea(f.firestore,wc),u=f._query;const d=new RR(l);s={next:g=>{e[r]&&e[r](new Ch(l,d,f,g))},error:e[r+1],complete:e[r+2]},RX(t._query)}const c=E0(l);return mX(c,u,i,s)}function T0(t,e){const n=E0(t);return yX(n,e)}function OR(t,e,n){const r=n.docs.get(e._key),i=new RR(t);return new nf(t,i,e._key,r,new Wd(n.hasPendingWrites,n.fromCache),e.converter)}function v2(t){return t=Ea(t,wc),E0(t),new LX(t,(e=>T0(t,e)))}(function(e,n=!0){gK(iK),hc(new yu("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new wc(new wK(r.getProvider("auth-internal")),new EK(l,r.getProvider("app-check-internal")),BK(l,i),l);return s={useFetchStreams:n,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),Rl(U3,B3,e),Rl(U3,B3,"esm2020")})();var PX="firebase",MX="12.9.0";Rl(PX,MX,"app");const FR="@firebase/installations",j_="0.6.19";const UR=1e4,BR=`w:${j_}`,VR="FIS_v2",OX="https://firebaseinstallations.googleapis.com/v1",FX=3600*1e3,UX="installations",BX="Installations";const VX={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},uf=new o0(UX,BX,VX);function qR(t){return t instanceof Ac&&t.code.includes("request-failed")}function zR({projectId:t}){return`${OX}/projects/${t}/installations`}function HR(t){return{token:t.token,requestStatus:2,expiresIn:zX(t.expiresIn),creationTime:Date.now()}}async function GR(t,e){const r=(await e.json()).error;return uf.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function jR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function qX(t,{refreshToken:e}){const n=jR(t);return n.append("Authorization",HX(e)),n}async function $R(t){const e=await t();return e.status>=500&&e.status<600?t():e}function zX(t){return Number(t.replace("s","000"))}function HX(t){return`${VR} ${t}`}async function GX({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=zR(t),i=jR(t),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const l={fid:n,authVersion:VR,appId:t.appId,sdkVersion:BR},u={method:"POST",headers:i,body:JSON.stringify(l)},c=await $R(()=>fetch(r,u));if(c.ok){const f=await c.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:HR(f.authToken)}}else throw await GR("Create Installation",c)}function WR(t){return new Promise(e=>{setTimeout(e,t)})}function jX(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const $X=/^[cdef][\w-]{21}$/,Cw="";function WX(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=KX(t);return $X.test(n)?n:Cw}catch{return Cw}}function KX(t){return jX(t).substr(0,22)}function C0(t){return`${t.appName}!${t.appId}`}const KR=new Map;function YR(t,e){const n=C0(t);JR(n,e),YX(n,e)}function JR(t,e){const n=KR.get(t);if(n)for(const r of n)r(e)}function YX(t,e){const n=JX();n&&n.postMessage({key:t,fid:e}),XX()}let Zc=null;function JX(){return!Zc&&"BroadcastChannel"in self&&(Zc=new BroadcastChannel("[Firebase] FID Change"),Zc.onmessage=t=>{JR(t.data.key,t.data.fid)}),Zc}function XX(){KR.size===0&&Zc&&(Zc.close(),Zc=null)}const QX="firebase-installations-database",ZX=1,cf="firebase-installations-store";let w2=null;function $_(){return w2||(w2=K6(QX,ZX,{upgrade:(t,e)=>{e===0&&t.createObjectStore(cf)}})),w2}async function qg(t,e){const n=C0(t),i=(await $_()).transaction(cf,"readwrite"),s=i.objectStore(cf),l=await s.get(n);return await s.put(e,n),await i.done,(!l||l.fid!==e.fid)&&YR(t,e.fid),e}async function XR(t){const e=C0(t),r=(await $_()).transaction(cf,"readwrite");await r.objectStore(cf).delete(e),await r.done}async function N0(t,e){const n=C0(t),i=(await $_()).transaction(cf,"readwrite"),s=i.objectStore(cf),l=await s.get(n),u=e(l);return u===void 0?await s.delete(n):await s.put(u,n),await i.done,u&&(!l||l.fid!==u.fid)&&YR(t,u.fid),u}async function W_(t){let e;const n=await N0(t.appConfig,r=>{const i=eQ(r),s=tQ(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Cw?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function eQ(t){const e=t||{fid:WX(),registrationStatus:0};return QR(e)}function tQ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(uf.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=nQ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:rQ(t)}:{installationEntry:e}}async function nQ(t,e){try{const n=await GX(t,e);return qg(t.appConfig,n)}catch(n){throw qR(n)&&n.customData.serverCode===409?await XR(t.appConfig):await qg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function rQ(t){let e=await j3(t.appConfig);for(;e.registrationStatus===1;)await WR(100),e=await j3(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await W_(t);return r||n}return e}function j3(t){return N0(t,e=>{if(!e)throw uf.create("installation-not-found");return QR(e)})}function QR(t){return iQ(t)?{fid:t.fid,registrationStatus:0}:t}function iQ(t){return t.registrationStatus===1&&t.registrationTime+UR<Date.now()}async function sQ({appConfig:t,heartbeatServiceProvider:e},n){const r=oQ(t,n),i=qX(t,n),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const l={installation:{sdkVersion:BR,appId:t.appId}},u={method:"POST",headers:i,body:JSON.stringify(l)},c=await $R(()=>fetch(r,u));if(c.ok){const f=await c.json();return HR(f)}else throw await GR("Generate Auth Token",c)}function oQ(t,{fid:e}){return`${zR(t)}/${e}/authTokens:generate`}async function K_(t,e=!1){let n;const r=await N0(t.appConfig,s=>{if(!ZR(s))throw uf.create("not-registered");const l=s.authToken;if(!e&&uQ(l))return s;if(l.requestStatus===1)return n=aQ(t,e),s;{if(!navigator.onLine)throw uf.create("app-offline");const u=fQ(s);return n=lQ(t,u),u}});return n?await n:r.authToken}async function aQ(t,e){let n=await $3(t.appConfig);for(;n.authToken.requestStatus===1;)await WR(100),n=await $3(t.appConfig);const r=n.authToken;return r.requestStatus===0?K_(t,e):r}function $3(t){return N0(t,e=>{if(!ZR(e))throw uf.create("not-registered");const n=e.authToken;return hQ(n)?{...e,authToken:{requestStatus:0}}:e})}async function lQ(t,e){try{const n=await sQ(t,e),r={...e,authToken:n};return await qg(t.appConfig,r),n}catch(n){if(qR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await XR(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await qg(t.appConfig,r)}throw n}}function ZR(t){return t!==void 0&&t.registrationStatus===2}function uQ(t){return t.requestStatus===2&&!cQ(t)}function cQ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+FX}function fQ(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function hQ(t){return t.requestStatus===1&&t.requestTime+UR<Date.now()}async function dQ(t){const e=t,{installationEntry:n,registrationPromise:r}=await W_(e);return r?r.catch(console.error):K_(e).catch(console.error),n.fid}async function pQ(t,e=!1){const n=t;return await mQ(n),(await K_(n,e)).token}async function mQ(t){const{registrationPromise:e}=await W_(t);e&&await e}function gQ(t){if(!t||!t.options)throw _2("App Configuration");if(!t.name)throw _2("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw _2(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function _2(t){return uf.create("missing-app-config-values",{valueName:t})}const e8="installations",yQ="installations-internal",vQ=t=>{const e=t.getProvider("app").getImmediate(),n=gQ(e),r=Ep(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},wQ=t=>{const e=t.getProvider("app").getImmediate(),n=Ep(e,e8).getImmediate();return{getId:()=>dQ(n),getToken:i=>pQ(n,i)}};function _Q(){hc(new yu(e8,vQ,"PUBLIC")),hc(new yu(yQ,wQ,"PRIVATE"))}_Q();Rl(FR,j_);Rl(FR,j_,"esm2020");const zg="analytics",bQ="firebase_id",EQ="origin",AQ=60*1e3,SQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Y_="https://www.googletagmanager.com/gtag/js";const uo=new f_("@firebase/analytics");const xQ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ea=new o0("analytics","Analytics",xQ);function TQ(t){if(!t.startsWith(Y_)){const e=ea.create("invalid-gtag-resource",{gtagURL:t});return uo.warn(e.message),""}return t}function t8(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function CQ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function NQ(t,e){const n=CQ("firebase-js-sdk-policy",{createScriptURL:TQ}),r=document.createElement("script"),i=`${Y_}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function IQ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function RQ(t,e,n,r,i,s){const l=r[i];try{if(l)await e[l];else{const c=(await t8(n)).find(f=>f.measurementId===i);c&&await e[c.appId]}}catch(u){uo.error(u)}t("config",i,s)}async function kQ(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const u=await t8(n);for(const c of l){const f=u.find(g=>g.measurementId===c),d=f&&e[f.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){uo.error(s)}}function LQ(t,e,n,r){async function i(s,...l){try{if(s==="event"){const[u,c]=l;await kQ(t,e,n,u,c)}else if(s==="config"){const[u,c]=l;await RQ(t,e,n,r,u,c)}else if(s==="consent"){const[u,c]=l;t("consent",u,c)}else if(s==="get"){const[u,c,f]=l;t("get",u,c,f)}else if(s==="set"){const[u]=l;t("set",u)}else t(s,...l)}catch(u){uo.error(u)}}return i}function DQ(t,e,n,r,i){let s=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=LQ(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function PQ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Y_)&&n.src.includes(t))return n;return null}const MQ=30,OQ=1e3;class FQ{constructor(e={},n=OQ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const n8=new FQ;function UQ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function BQ(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:UQ(n)},i=SQ.replace("{app-id}",e),s=await fetch(i,r);if(s.status!==200&&s.status!==304){let l="";try{const u=await s.json();u.error?.message&&(l=u.error.message)}catch{}throw ea.create("config-fetch-failed",{httpStatus:s.status,responseMessage:l})}return s.json()}async function VQ(t,e=n8,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw ea.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ea.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new HQ;return setTimeout(async()=>{u.abort()},AQ),r8({appId:r,apiKey:i,measurementId:s},l,u,e)}async function r8(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=n8){const{appId:s,measurementId:l}=t;try{await qQ(r,e)}catch(u){if(l)return uo.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:l};throw u}try{const u=await BQ(t);return i.deleteThrottleMetadata(s),u}catch(u){const c=u;if(!zQ(c)){if(i.deleteThrottleMetadata(s),l)return uo.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:l};throw u}const f=Number(c?.customData?.httpStatus)===503?D4(n,i.intervalMillis,MQ):D4(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return i.setThrottleMetadata(s,d),uo.debug(`Calling attemptFetch again in ${f} millis`),r8(t,d,r,i)}}function qQ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(ea.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function zQ(t){if(!(t instanceof Ac)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class HQ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function GQ(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,l={...r,send_to:s};t("event",n,l)}}async function jQ(t,e,n,r){if(r&&r.global){const i={};for(const s of Object.keys(n))i[`user_properties.${s}`]=n[s];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}async function $Q(){if(u_())try{await c_()}catch(t){return uo.warn(ea.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return uo.warn(ea.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function WQ(t,e,n,r,i,s,l){const u=VQ(t);u.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&uo.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>uo.error(y)),e.push(u);const c=$Q().then(y=>{if(y)return r.getId()}),[f,d]=await Promise.all([u,c]);PQ(s)||NQ(s,f.measurementId),i("js",new Date);const g=l?.config??{};return g[EQ]="firebase",g.update=!0,d!=null&&(g[bQ]=d),i("config",f.measurementId,g),f.measurementId}class KQ{constructor(e){this.app=e}_delete(){return delete Nh[this.app.options.appId],Promise.resolve()}}let Nh={},W3=[];const K3={};let b2="dataLayer",YQ="gtag",Y3,J_,J3=!1;function JQ(){const t=[];if(G6()&&t.push("This is a browser extension environment."),j6()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ea.create("invalid-analytics-context",{errorInfo:e});uo.warn(n.message)}}function XQ(t,e,n){JQ();const r=t.options.appId;if(!r)throw ea.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)uo.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ea.create("no-api-key");if(Nh[r]!=null)throw ea.create("already-exists",{id:r});if(!J3){IQ(b2);const{wrappedGtag:s,gtagCore:l}=DQ(Nh,W3,K3,b2,YQ);J_=s,Y3=l,J3=!0}return Nh[r]=WQ(t,W3,K3,e,Y3,b2,n),new KQ(t)}function QQ(t=d_()){t=fo(t);const e=Ep(t,zg);return e.isInitialized()?e.getImmediate():ZQ(t)}function ZQ(t,e={}){const n=Ep(t,zg);if(n.isInitialized()){const i=n.getImmediate();if(sp(e,n.getOptions()))return i;throw ea.create("already-initialized")}return n.initialize({options:e})}async function eZ(){if(G6()||!j6()||!u_())return!1;try{return await c_()}catch{return!1}}function tZ(t,e,n){t=fo(t),jQ(J_,Nh[t.app.options.appId],e,n).catch(r=>uo.error(r))}function nZ(t,e,n,r){t=fo(t),GQ(J_,Nh[t.app.options.appId],e,n,r).catch(i=>uo.error(i))}const X3="@firebase/analytics",Q3="0.10.19";function rZ(){hc(new yu(zg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return XQ(r,i,n)},"PUBLIC")),hc(new yu("analytics-internal",t,"PRIVATE")),Rl(X3,Q3),Rl(X3,Q3,"esm2020");function t(e){try{const n=e.getProvider(zg).getImmediate();return{logEvent:(r,i,s)=>nZ(n,r,i,s),setUserProperties:(r,i)=>tZ(n,r,i)}}catch(n){throw ea.create("interop-component-reg-failed",{reason:n})}}}rZ();const iZ={apiKey:"AIzaSyCZtsOztWFKY35xZaudyKSGKy13IknU_lw",authDomain:"wildscan-487110.firebaseapp.com",projectId:"wildscan-487110",storageBucket:"wildscan-487110.firebasestorage.app",messagingSenderId:"1098649222627",appId:"1:1098649222627:web:9dff78d524b6f067b274d6",measurementId:"G-YZ21Q43Q52"},i8=sK().length===0?Y6(iZ):d_();let Un=null;try{Un=bX(i8)}catch(t){console.warn("Firestore service is not available.",t)}eZ().then(t=>t?QQ(i8):null).catch(t=>(console.warn("Analytics is not available.",t),null));const sZ=({detection:t,allDetections:e=[],onStatusChange:n})=>{const[r,i]=tt.useState(!1),[s,l]=tt.useState([]),[u,c]=tt.useState(!1),[f,d]=tt.useState(null),[g,y]=tt.useState(null),[m,x]=tt.useState(!1),[S,R]=tt.useState(!0),[E,M]=tt.useState(null),[P,N]=tt.useState(null),[$,Q]=tt.useState(!1),[V,G]=tt.useState(null),[C,X]=tt.useState({}),[W,D]=tt.useState(!1),[B,F]=tt.useState(null),[ve,ce]=tt.useState(!1),[ae,_e]=tt.useState(null),[xe,Ue]=tt.useState(!1),[re,O]=tt.useState(!1),[ee,se]=tt.useState([]),[me,ue]=tt.useState([]),[H,j]=tt.useState(!1),[ge,he]=tt.useState(null),[le,pe]=tt.useState({}),[De,z]=tt.useState([]),[Z,Y]=tt.useState(t?.status),[I,L]=tt.useState(null),[q,ye]=tt.useState(!1),[Ce,Ae]=tt.useState(!1),[Oe]=tt.useState(()=>dL()),We=Ie=>{if(!Ie)return"N/A";if(typeof Ie=="object"&&Ie!==null&&"toDate"in Ie){const vt=Ie.toDate?.();if(vt instanceof Date&&Number.isFinite(vt.getTime()))return vt.toLocaleString()}const rt=new Date(Ie);return Number.isFinite(rt.getTime())?rt.toLocaleString():"N/A"},He=Ie=>{if(!Ie)return"N/A";const rt=new Date(Ie);return Number.isFinite(rt.getTime())?rt.toLocaleString():"N/A"},Ze=tt.useMemo(()=>t?t.evidence_images&&t.evidence_images.length>0?t.evidence_images:t.image_url?[{id:`fallback-${t.id}`,caseId:t.id,fileUrl:t.image_url,platformSource:t.platform_source||t.source,aiSummary:t.reason_summary||t.description}]:[]:[],[t]),_t=Ze[0],xt=tt.useMemo(()=>{const Ie=new Map;return(e||[]).forEach(rt=>{(rt.evidence_images&&rt.evidence_images.length>0?rt.evidence_images:rt.evidence_hash?[{id:rt.id,caseId:rt.id,fileUrl:rt.image_url,hash:rt.evidence_hash}]:[]).forEach(ut=>{if(!ut.hash)return;const ht=Ie.get(ut.hash)||new Set;ht.add(rt.id),Ie.set(ut.hash,ht)})}),Ie},[e]),Nt=Ie=>C[Ie.id]?.hash||Ie.hash||null,Ft=Ie=>{if(!Ie||!t)return 0;const rt=xt.get(Ie);return rt?rt.size-(rt.has(t.id)?1:0):0},Dt=()=>{if(!t)return"";const Ie=[];return Ie.push(`Case Details for Case ID ${t.id}`),Ie.push(`Species: ${t.animal_type}`),Ie.push(`Priority Level: ${t.priority}`),Ie.push(`Location: ${t.location_name||"Unknown"}`),Ie.push(`Coordinates: ${t.lat.toFixed(4)}, ${t.lng.toFixed(4)}`),Ie.push(`Confidence: ${(t.confidence*100).toFixed(1)} percent`),Ie.push(`Source: ${t.source}`),Ie.push(`Status: ${t.status||"Not set"}`),Ie.push(`Timestamp: ${We(t.timestamp)}`),t.description&&Ie.push(`Description: ${t.description}`),Ie.join(". ")};tt.useEffect(()=>{if(t&&Ce&&Oe){const Ie=Dt();TE(Ie)}return()=>{Ce&&hL()}},[t,Ce,Oe]),tt.useEffect(()=>{if(t&&Oe){const Ie=`${t.animal_type} case detected`;TE(Ie)}},[t?.id,Oe]);const gn=async Ie=>{const rt=await fetch(Ie,{mode:"cors"});if(!rt.ok)throw new Error("Unable to load image.");const vt=await rt.blob();return await new Promise((ut,ht)=>{const gt=new FileReader;gt.onload=()=>ut(gt.result),gt.onerror=()=>ht(new Error("Unable to read image.")),gt.readAsDataURL(vt)})},Mt=async Ie=>{if(typeof Ie=="string")return Ie;if(Ie&&typeof Ie=="object"){const rt=Ie.candidates;if(Array.isArray(rt)&&rt.length>0){const ht=rt[0]?.content?.parts?.[0]?.text;if(typeof ht=="string")return ht}const vt=Ie.text;if(typeof vt=="string")return vt;if(typeof vt=="function"){const ut=vt.call(Ie);if(typeof ut=="string")return ut;if(ut&&typeof ut.then=="function")return await ut}}return null},Ot=()=>{if(!t)return"";const Ie=`${t.lat.toFixed(6)}, ${t.lng.toFixed(6)}`,rt=t.location_name||"Unknown location",vt=`https://www.google.com/maps?q=${t.lat},${t.lng}`;return["WILDSCAN CASE ALERT",`Case ID: ${t.id}`,`Species: ${t.animal_type}`,`Location/State: ${rt}`,`Coordinates: ${Ie}`,`Map: ${vt}`,`Description: ${t.description||"N/A"}`,`Evidence Image: ${t.image_url||"N/A"}`].join(`
`)},tn=()=>{if(typeof window>"u")return;const Ie=Ot();if(!Ie)return;const rt=`https://wa.me/?text=${encodeURIComponent(Ie)}`;window.open(rt,"_blank","noopener,noreferrer")},sn=()=>{if(typeof window>"u")return;const Ie=Ot();if(!Ie)return;const rt=`Case ${t?.id} | ${t?.animal_type} | ${t?.location_name||"Unknown location"}`,vt=`https://mail.google.com/mail/?view=cm&fs=1&tf=1&to=&su=${encodeURIComponent(rt)}&body=${encodeURIComponent(Ie)}`;window.open(vt,"_blank","noopener,noreferrer")},zt=Ie=>{const rt=Math.round(Ie.confidence*100),vt=Ie.trust_score??0,ut=Ie.priority==="High"?2:Ie.priority==="Medium"?1:0,ht=Ie.confidence>=.85?2:Ie.confidence>=.7?1:0,gt=vt>=3?1:0,Ct=ut+ht+gt,En=Ct>=4?"High":Ct>=2?"Medium":"Low",On=[`Priority ${Ie.priority}`,`AI confidence ${rt}%`,Ie.source?`Source ${Ie.source}`:null,Ie.location_name?`Location ${Ie.location_name}`:null,vt?`Trust score ${vt}`:null].filter(Boolean),nn=`Risk level: ${En}. Key signals: ${On.join(", ")}.`;return{riskLevel:En,signals:On,summary:nn}},Pn=Ie=>g||(m?"Gemini analysis pending. Please retry in a moment.":Ie),Kt=()=>{if(!t)return[];const Ie=t.animal_type.toLowerCase().trim(),rt=t.location_name.toLowerCase().trim();return e.filter(vt=>{if(vt.id===t.id)return!1;const ut=vt.animal_type.toLowerCase().trim(),ht=vt.location_name.toLowerCase().trim();return ut===Ie&&ht===rt})},on=async()=>{if(t){ce(!0);try{const Ie="AIzaSyDsYXxNrLpzniaFWzs0Po7W8aXvWq9EBns",rt=Kt(),vt=t.trust_score??0,ut=`Explain in 2-3 sentences why a Trust Score of ${vt} is important for wildlife enforcement. 
The Trust Score represents ${vt} total report(s) of "${t.animal_type}" in "${t.location_name}".
${rt.length>0?`There are ${rt.length} other matching cases.`:"This is the only report with this combination."}

Focus on: Why multiple reports in the same location increase credibility, and what action officers should take.`,ht=await Ut(Ie,ut);F(ht||"Trust Score indicates the number of similar detections for the same species and location, helping validate the authenticity of reports.")}catch(Ie){console.error("Trust score explanation error:",Ie),F("Trust Score represents the count of similar reports (same species + location). Higher scores indicate stronger community validation and increased likelihood of genuine incidents.")}finally{ce(!1)}}},Hn=async()=>{if(t){Ue(!0);try{const Ie="AIzaSyDsYXxNrLpzniaFWzs0Po7W8aXvWq9EBns";if(!Ie||Ie.trim()===""){console.error(" TRUST SCORE RECOMMENDATIONS: Gemini API key not configured"),_e(" Error: Gemini API key not configured. Cannot generate recommendations."),Ue(!1);return}console.log(" Analyzing trust score recommendations with Gemini API...");const rt=Kt(),ut={currentScore:t.trust_score??0,animalType:t.animal_type,location:t.location_name,confidence:(t.confidence*100).toFixed(1),source:t.source,priority:t.priority,status:t.status,matchingCasesCount:rt.length,matchingCasesSummary:rt.map(Ct=>({confidence:(Ct.confidence*100).toFixed(0),priority:Ct.priority,daysAgo:Math.floor((Date.now()-new Date(Ct.timestamp).getTime())/(1e3*60*60*24))}))},ht=`You are a wildlife enforcement AI analyst. Analyze this case and provide trust score recommendations:

CURRENT CASE DATA:
- Animal Type: ${ut.animalType}
- Location: ${ut.location}
- Current Trust Score: ${ut.currentScore}
- Detection Confidence: ${ut.confidence}%
- Report Source: ${ut.source}
- Priority Level: ${ut.priority}
- Status: ${ut.status}
- Matching Cases Found: ${ut.matchingCasesCount}

MATCHING CASES PROFILE:
${ut.matchingCasesSummary.length>0?ut.matchingCasesSummary.map((Ct,En)=>`  Case ${En+1}: Confidence ${Ct.confidence}%, Priority ${Ct.priority}, ${Ct.daysAgo} days ago`).join(`
`):"  No matching cases (unique report)"}

PROVIDE RECOMMENDATIONS on 2-3 key points:
1. Should the Trust Score be adjusted? If yes, suggest a new score and why.
2. What confidence factors support or undermine this score?
3. What investigation actions should officers take based on this trust profile?

Respond as actionable recommendations for wildlife enforcement officers.`;console.log(" Sending trust score analysis request to Gemini...");const gt=await Ut(Ie,ht);gt?(console.log(" Successfully received trust score recommendations from Gemini"),_e(gt)):(console.error(" Gemini API returned empty response"),_e(" Error: Gemini API returned no recommendations. Please try again."))}catch(Ie){const rt=Ie instanceof Error?Ie.message:String(Ie);console.error(" Trust score recommendations error:",rt),_e(` Error: ${rt}. Could not generate recommendations from Gemini API.`)}finally{Ue(!1)}}},Ut=async(Ie,rt)=>{if(Ie.trim().length===0)throw new Error("API key is empty or undefined");Ie.startsWith("AIza")||console.warn(" API key doesn't match expected Gemini format (should start with 'AIza')");const vt="gemini-2.5-flash",ut=`https://generativelanguage.googleapis.com/v1beta/models/${vt}:generateContent?key=${Ie}`;try{console.log(" Gemini API Request:"),console.log(`   Endpoint: generativelanguage.googleapis.com/v1beta/models/${vt}:generateContent`),console.log(`   API Key: ${Ie.substring(0,20)}... (length: ${Ie.length})`),console.log(`   Model: ${vt}`),console.log(`   Prompt length: ${rt.length} characters`);const ht={contents:[{parts:[{text:rt}]}]};console.log(" Sending request to Gemini API...");const gt=await fetch(ut,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ht)});if(console.log(` Received HTTP ${gt.status} response from Gemini API`),!gt.ok){const On=await gt.text();console.error(` Gemini API HTTP Error ${gt.status}:`),console.error(`   Response: ${On.substring(0,300)}`);let nn=`Gemini API Error (HTTP ${gt.status})`;throw gt.status===401?nn="Invalid or expired Gemini API key":gt.status===403?nn="Gemini API access forbidden - check key permissions":gt.status===429?nn="Gemini API rate limit exceeded":gt.status===500&&(nn="Gemini API server error"),new Error(nn)}const Ct=await gt.json();console.log(" Successfully parsed Gemini API JSON response");const En=await Mt(Ct);if(!En)throw new Error("Gemini API returned no text in response");return console.log(" Extracted text content from response"),console.log(`   Content length: ${En.length} characters`),En}catch(ht){const gt=ht instanceof Error?ht.message:String(ht);throw console.error(" Gemini API Connection/Processing Error:",gt),console.error("   Full error:",ht),new Error(`Gemini API Failed: ${gt}`)}},qt=async Ie=>{const rt=Ie||E;if(!rt||!t)return;const vt=xt.get(rt)||new Set,ut=(e||[]).filter(Ct=>Ct.id!==t.id&&vt.has(Ct.id)),ht=[];(e||[]).forEach(Ct=>{(Ct.evidence_images&&Ct.evidence_images.length>0?Ct.evidence_images:Ct.evidence_hash?[{id:Ct.id,caseId:Ct.id,fileUrl:Ct.image_url,hash:Ct.evidence_hash}]:[]).forEach(On=>{On.hash===rt&&ht.push({caseId:Ct.id,caseName:Ct.case_name,animalType:Ct.animal_type,locationName:Ct.location_name,timestamp:Ct.timestamp,imageUrl:On.fileUrl||Ct.image_url,hash:rt})})}),he(rt),se(ut),ue([]),z(ht),O(!0);const gt=Array.from(new Set(ht.map(Ct=>Ct.caseId)));if(t.id&&I&&pe(Ct=>({...Ct,[t.id]:I})),Un&&gt.length>0){const Ct=gt.filter(En=>!le[En]);if(Ct.length>0){const En=await Promise.all(Ct.map(async nn=>({caseId:nn,address:await je(nn)}))),On={};En.forEach(nn=>{nn.address&&(On[nn.caseId]=nn.address)}),Object.keys(On).length>0&&pe(nn=>({...nn,...On}))}}await Tn(ut)},Tn=async Ie=>{j(!0),ue([]),console.log(" Starting Gemini AI analysis for duplicate reasons...");try{const rt="AIzaSyDsYXxNrLpzniaFWzs0Po7W8aXvWq9EBns";if(!rt||rt.trim()===""){const nn=" GEMINI API KEY NOT CONFIGURED - Cannot analyze duplicate reasons. Please configure VITE_GEMINI_API_KEY in .env file.";console.error(nn),ue([nn]),j(!1);return}if(console.log(" Gemini API key found. Key format: ",rt.substring(0,20)+"..."),!t||!Ie||Ie.length===0){console.error(" Missing detection data or duplicates"),ue(["Error: Missing case or duplicate data"]),j(!1);return}const vt=Ie.map(nn=>`Case ${nn.id}: ${nn.animal_type} at ${nn.location_name} (${new Date(nn.timestamp).toLocaleDateString()})`).join(`
`),ut=`You are a wildlife enforcement AI investigator. Analyze why identical evidence images appear in multiple cases.

CURRENT CASE:
- Species: ${t.animal_type}
- Location: ${t.location_name}
- Case ID: ${t.id}

DUPLICATE CASES WITH SAME EVIDENCE:
${vt}

TASK: Provide 4-5 possible reasons why the EXACT SAME evidence image appears in multiple cases. Focus on reasons that indicate:
1. Illegal activities or fraud
2. Evidence tampering
3. Report manipulation
4. Chain of custody violations
5. Suspicious patterns

IMPORTANT: Each reason should be specific, professional, and investigation-relevant.

RESPONSE FORMAT: Return ONLY a valid JSON array of strings, no additional text.
Example: ["Reason 1", "Reason 2", "Reason 3"]`;console.log(" Sending request to Gemini API...");const ht="gemini-2.5-flash";console.log(`   Endpoint: generativelanguage.googleapis.com/v1beta/models/${ht}:generateContent`),console.log(`   Model: ${ht}`),console.log("   Duplicate cases: ",Ie.length);const gt=await Ut(rt,ut);if(!gt)throw new Error("Empty response from Gemini API");console.log(" Received response from Gemini API"),console.log("   Response length:",gt.length);const Ct=gt.match(/\[[\s\S]*\]/);if(!Ct)throw new Error(`JSON array not found in response: ${gt.substring(0,200)}`);const En=JSON.parse(Ct[0]);if(!Array.isArray(En))throw new Error("Response is not a JSON array");if(En.length===0)throw new Error("Gemini returned empty array of reasons");const On=En.filter(nn=>typeof nn=="string");if(On.length===0)throw new Error("No valid string reasons extracted from response");console.log(" Successfully parsed Gemini AI reasons:"),On.forEach((nn,Sr)=>console.log(`   ${Sr+1}. ${nn}`)),ue(On)}catch(rt){const vt=rt instanceof Error?rt.message:String(rt);console.error(" Gemini API analysis failed:",vt),console.log("Error details:",rt),ue([` AI Analysis Error: ${vt}`,"This could be due to: Invalid API key, API rate limit, network issues, or Gemini service unavailable.","Please check the browser console for details or try again later."])}finally{j(!1),console.log(" Analysis attempt complete")}},pi=Ie=>{if(Ie.includes("")||Ie.includes("Error:"))return Ie;const rt={illegal:"Evidence of illegal activity or unauthorized reuse",fraud:"Indicates fraudulent or deceptive practices",manipulate:"Evidence of intentional manipulation or tampering",false:"False or fabricated information",duplicate:"Unauthorized duplication across cases",reuse:"Same evidence improperly reused",screenshot:"Image reposted or recaptured",tampering:"Chain of custody violation or tampering",conspiracy:"Possible coordination between multiple parties",evidence:"Evidence integrity concerns"};for(const[ut,ht]of Object.entries(rt))if(Ie.toLowerCase().includes(ut.toLowerCase()))return`${ht}. ${Ie}`;return{"Illegal evidence reuse":"Same image used across multiple cases to fabricate false reports or evidence chains. This is a serious criminal offense in wildlife enforcement.","Fraudulent duplicate reports":"Multiple false reports using identical evidence to manipulate statistics or hide actual violations. Indicates deliberate system abuse.","Copy-paste image manipulation":"Evidence deliberately transferred between unrelated cases to create false connections or hide original source.","Screenshot reposting":"Image re-captured and reposted, potentially losing chain-of-custody metadata and evidence integrity markers.","Image sharing platform cross-posting":"Same wildlife image shared across multiple reports from different social media sources without proper verification.","Unknown reason":"The duplicate was detected but the AI could not determine a specific reason. Manual investigation recommended."}[Ie]||`Investigation Finding: ${Ie}`},je=async Ie=>{if(!Un)return null;try{let rt=Po(Un,"cases",Ie),vt=await eg(rt);if(vt.exists()||(rt=Po(Un,"detections",Ie),vt=await eg(rt)),!vt.exists())return null;const ut=vt.data();return ut?.location?.fullAddress||ut?.fullAddress||null}catch(rt){return console.error("Failed to fetch duplicate case address:",rt),null}};if(tt.useEffect(()=>{if(!t)return;let Ie=!1;const rt=zt(t);return y(null),x(!0),(async()=>{try{const ut="AIzaSyDsYXxNrLpzniaFWzs0Po7W8aXvWq9EBns",ht=`Analyze this wildlife trade detection for enforcement officers.
Species: ${t.animal_type}
Source Platform: ${t.source}
Description: ${t.description||"N/A"}
Location: ${t.location_name}

Return 2-3 sentences that include a clear risk level (High/Medium/Low), a brief legality or conservation concern, and recommended next-step action.`;let gt=null;try{const nn=await new GF({apiKey:ut}).models.generateContent({model:"gemini-2.5-flash",contents:ht});gt=await Mt(nn)}catch{gt=await Ut(ut,ht)}const Ct=gt?.trim();if(!Ct)throw new Error("Empty Gemini response");Ie||y(Ct)}catch(ut){console.error("Gemini analysis failed:",ut),Ie||y(`${rt.summary} Gemini verification offline; rely on metadata screening.`)}finally{Ie||x(!1)}})(),()=>{Ie=!0}},[t]),tt.useEffect(()=>{Y(t?.status)},[t?.id,t?.status]),tt.useEffect(()=>{let Ie=!1;const rt=async ht=>{const gt=await fetch(ht,{mode:"cors"});if(!gt.ok)throw new Error("Unable to fetch evidence image.");const Ct=await gt.arrayBuffer(),En=await window.crypto.subtle.digest("SHA-256",Ct);return Array.from(new Uint8Array(En)).map(nn=>nn.toString(16).padStart(2,"0")).join("")},vt=async(ht,gt)=>{if(Un&&!ht.startsWith("fallback-"))try{await MR(Po(Un,"evidence",ht),{hash:gt,hashCalculatedAt:_s(),updatedAt:_s()})}catch(Ct){console.error("Failed to save evidence hash to Firestore:",Ct)}};return(async()=>{if(M(null),N(null),Ze.length===0){Q(!1),X({});return}if(!window.crypto?.subtle){N("SHA-256 not available in this browser."),Q(!1);return}const ht={};Ze.forEach(gt=>{gt.hash?ht[gt.id]={hash:gt.hash,error:void 0,isHashing:!1}:gt.fileUrl?ht[gt.id]={hash:void 0,error:void 0,isHashing:!0}:ht[gt.id]={hash:void 0,error:"Evidence image unavailable.",isHashing:!1}}),X(ht),_t?.hash?(M(_t.hash),Q(!1)):_t?.fileUrl?Q(!0):Q(!1);for(const gt of Ze){if(Ie)return;if(gt.hash||!gt.fileUrl){gt.id===_t?.id&&gt.hash&&(M(gt.hash),Q(!1));continue}try{const Ct=await rt(gt.fileUrl);if(Ie)return;X(En=>({...En,[gt.id]:{hash:Ct,error:void 0,isHashing:!1}})),gt.id===_t?.id&&(M(Ct),N(null),Q(!1)),await vt(gt.id,Ct)}catch{Ie||(X(En=>({...En,[gt.id]:{hash:void 0,error:"Hash unavailable for this evidence.",isHashing:!1}})),gt.id===_t?.id&&(N("Hash unavailable for this evidence."),Q(!1)))}}})(),()=>{Ie=!0}},[Ze,_t?.id,Un]),tt.useEffect(()=>{r||l([])},[r]),tt.useEffect(()=>{c(!1),d(null)},[t?.id]),tt.useEffect(()=>{if(!E||!t){G(null);return}const Ie=xt.get(E),rt=Ie?Ie.size-(Ie.has(t.id)?1:0):0;G(rt===0)},[E,t,xt]),tt.useEffect(()=>{if(!t||!Un){L(null);return}let Ie=!1;return(async()=>{try{let vt=Po(Un,"cases",t.id),ut=await eg(vt);if(ut.exists()||(vt=Po(Un,"detections",t.id),ut=await eg(vt)),!Ie&&ut?.exists()){const ht=ut.data(),gt=ht?.location?.fullAddress||ht?.fullAddress||null;L(gt),console.log(" Fetched fullAddress from Firebase:",gt)}else Ie||(L(null),console.warn(" Case document not found in Firebase"))}catch(vt){console.error("Failed to fetch fullAddress from Firebase:",vt),Ie||L(null)}})(),()=>{Ie=!0}},[t?.id]),!t)return ne.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-green-700 p-8 text-center bg-white/40",children:[ne.jsx(SE,{size:48,className:"mb-4 opacity-10"}),ne.jsx("p",{className:"text-xs font-mono uppercase tracking-[0.2em] opacity-40",children:"Awaiting Target Selection"})]});const lt=We(t.timestamp),Pe=t.created_at?We(t.created_at):lt,et=t.ai_scanned_at?We(t.ai_scanned_at):"N/A",kt={High:"bg-red-500/10 border-red-500 text-red-500",Medium:"bg-amber-500/10 border-amber-500 text-amber-400",Low:"bg-lime-200/60 border-lime-400 text-lime-700"},Yt=zt(t),un=()=>{const Ie=zt(t),rt=Pn(Ie.summary),vt=t.confidence>=.9?"Very High":t.confidence>=.75?"High":t.confidence>=.5?"Medium":"Low",ut=(e||[]).filter(Ct=>Ct.evidence_hash&&Ct.evidence_hash===E&&Ct.id!==t.id),ht=ut.length>0,gt=["WILDSCAN Evidence Report","========================",`Case ID: ${t.id}`,`Case Name: ${t.case_name||"N/A"}`,`Species: ${t.animal_type}`,`Status: ${t.status||"Pending"}`,`Trust Score: ${t.trust_score??0}`,`Priority: ${t.priority}`,`Risk Level: ${Ie.riskLevel}`,`Confidence: ${(t.confidence*100).toFixed(2)}% (${vt})`,`Source/Market: ${t.source}`,`Location: ${t.location_name}`,`Coordinates: ${t.lat.toFixed(6)}, ${t.lng.toFixed(6)}`,`Detected At: ${lt}`,`User Handle: ${t.user_handle||"N/A"}`,`Post URL: ${t.post_url||"N/A"}`,`Image URL: ${t.image_url||"N/A"}`,`Evidence Hash (SHA-256): ${E||"N/A"}`,`Hash Status: ${ht?" DUPLICATE DETECTED":" Unique Evidence"}`,"","Case Highlights:",`- Priority level indicates enforcement urgency (${t.priority}).`,`- Risk level assessment: ${Ie.riskLevel}.`,`- Confidence level suggests ${vt.toLowerCase()} model certainty.`,`- Source platform flagged for monitored listings: ${t.source}.`,`- Location clustered within monitoring region: ${t.location_name}.`,`- Trust Score (${t.trust_score??0}) indicates ${t.trust_score&&t.trust_score>1?"multiple matching reports":"single report"} for this species/location.`,"","Description:",t.description||"N/A",""];return ht&&(gt.push(" DUPLICATE EVIDENCE HASH ALERT:","=================================",`Identical evidence hash found in ${ut.length} other case(s).`,"This indicates the EXACT SAME image is being used in multiple cases.","","Matching Cases:"),ut.forEach((Ct,En)=>{gt.push(`${En+1}. Case ID: ${Ct.id}`,`   Species: ${Ct.animal_type}`,`   Location: ${Ct.location_name}`,`   Detected: ${new Date(Ct.timestamp).toLocaleString()}`,`   Priority: ${Ct.priority}`,`   Source: ${Ct.source}`,"")}),gt.push("Possible Reasons for Duplicate Evidence:","- Illegal evidence reuse across multiple false reports","- Fraudulent duplicate submissions to manipulate data","- Copy-paste image manipulation","- Screenshot reposting from social media platforms","- Evidence tampering or chain-of-custody compromise",""," CRITICAL WARNING: Duplicate evidence hashes severely compromise prosecution integrity.","Malaysian courts require verified chain of custody and authentic evidence.","IMMEDIATE INVESTIGATION RECOMMENDED to determine which case contains original evidence.","")),gt.push("Operational Notes:","- Preserve digital evidence and timestamps for chain of custody.","- Verify listing persistence and capture screenshots where possible.","- Cross-check with existing watchlists and repeat offenders.",ht?"-  PRIORITY: Investigate duplicate evidence hash immediately.":"","","Evidence Integrity:","- SHA-256 fingerprint stored to prove evidence has not been altered for Malaysian courts.",ht?"-  ALERT: Evidence integrity compromised due to duplicate hash detection.":"-  Evidence hash is unique - no duplicates detected.","","Evidence Timeline:","1) Detection recorded and cataloged in monitoring queue.","2) Verification and risk assessment completed.","3) Case packaged for enforcement review and archival.",ht?"4)  Duplicate hash detected - investigation required.":"","","Local Risk Summary:",Ie.summary,`Key Signals: ${Ie.signals.join(", ")}.`,"","Gemini Risk Assessment:",rt),gt.filter(Ct=>Ct!=="").join(`
`)},Yn=()=>{const Ie=zt(t),rt=Pn(Ie.summary),vt=t.confidence>=.9?"Very High":t.confidence>=.75?"High":t.confidence>=.5?"Medium":"Low",ut=(e||[]).filter(gt=>gt.evidence_hash&&gt.evidence_hash===E&&gt.id!==t.id),ht=ut.length>0;return`<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>WILDSCAN Evidence Report</title>
  <style>
    body { font-family: "Inter", "Arial", sans-serif; color: #0f172a; background: #f8fafc; padding: 24px; }
    h1 { font-size: 22px; margin: 0 0 6px; }
    h2 { font-size: 14px; margin: 18px 0 8px; text-transform: uppercase; letter-spacing: 0.08em; color: #475569; }
    .card { border: 1px solid #e2e8f0; padding: 16px; border-radius: 10px; background: #ffffff; box-shadow: 0 8px 18px rgba(15, 23, 42, 0.06); }
    .meta { font-size: 12px; line-height: 1.8; display: grid; grid-template-columns: 1fr 1fr; gap: 4px 16px; }
    .meta div { background: #f8fafc; padding: 6px 8px; border-radius: 6px; }
    .section { margin-top: 14px; }
    .label { font-weight: 700; color: #0f172a; }
    .badge { display: inline-block; padding: 4px 8px; border-radius: 999px; font-size: 11px; background: #ecfdf3; color: #047857; border: 1px solid #a7f3d0; }
    .box { border: 1px solid #e2e8f0; padding: 12px; border-radius: 8px; background: #f1f5f9; }
    .warning-box { border: 2px solid #dc2626; padding: 12px; border-radius: 8px; background: #fee2e2; }
    ul { margin: 0; padding-left: 18px; }
    li { margin: 4px 0; }
    .unique-badge { background: #d1fae5; color: #065f46; border: 1px solid #059669; }
    .duplicate-badge { background: #fee2e2; color: #991b1b; border: 1px solid #dc2626; }
  </style>
</head>
<body>
  <h1>WILDSCAN Evidence Report</h1>
  <div class="card">
    <div class="badge">${t.priority} Priority</div>
    <div class="meta">
      <div><span class="label">Case ID:</span> ${t.id}</div>
      <div><span class="label">Case Name:</span> ${t.case_name||"N/A"}</div>
      <div><span class="label">Species:</span> ${t.animal_type}</div>
      <div><span class="label">Status:</span> ${t.status||"Pending"}</div>
      <div><span class="label">Trust Score:</span> ${t.trust_score??0}</div>
      <div><span class="label">Risk Level:</span> ${Ie.riskLevel}</div>
      <div><span class="label">Confidence:</span> ${(t.confidence*100).toFixed(2)}% (${vt})</div>
      <div><span class="label">Source/Market:</span> ${t.source}</div>
      <div><span class="label">Location:</span> ${t.location_name}</div>
      <div><span class="label">Coordinates:</span> ${t.lat.toFixed(6)}, ${t.lng.toFixed(6)}</div>
      <div><span class="label">Detected At:</span> ${lt}</div>
      <div><span class="label">User Handle:</span> ${t.user_handle||"N/A"}</div>
      <div><span class="label">Post URL:</span> ${t.post_url?`<a href="${t.post_url}" target="_blank">${t.post_url}</a>`:"N/A"}</div>
      <div><span class="label">Image URL:</span> ${t.image_url?`<a href="${t.image_url}" target="_blank">View Image</a>`:"N/A"}</div>
      <div style="grid-column: 1 / -1;"><span class="label">Evidence Hash (SHA-256):</span> ${E||"N/A"}</div>
      <div style="grid-column: 1 / -1;">
        <span class="label">Hash Status:</span> 
        <span class="badge ${ht?"duplicate-badge":"unique-badge"}">
          ${ht?" DUPLICATE DETECTED":" Unique Evidence"}
        </span>
      </div>
    </div>
  </div>

  <div class="section">
    <h2>Case Highlights</h2>
    <div class="box">
      <ul>
        <li>Priority level indicates enforcement urgency (${t.priority}).</li>
        <li>Risk level assessment: ${Ie.riskLevel}.</li>
        <li>Confidence level suggests ${vt.toLowerCase()} model certainty.</li>
        <li>Source platform flagged for monitored listings: ${t.source}.</li>
        <li>Location clustered within monitoring region: ${t.location_name}.</li>
        <li>Trust Score (${t.trust_score??0}) indicates ${t.trust_score&&t.trust_score>1?"multiple matching reports":"single report"} for this species/location.</li>
      </ul>
    </div>
  </div>

  <div class="section">
    <h2>Description</h2>
    <div class="box">${t.description||"N/A"}</div>
  </div>

  <div class="section">
    <h2>Evidence Image</h2>
    <div class="box">
      ${t.image_url?`<img src="${t.image_url}" alt="Evidence" style="width: 100%; border-radius: 8px;" />`:"N/A"}
    </div>
  </div>

  ${ht?`
  <div class="section">
    <h2 style="color: #dc2626;"> DUPLICATE EVIDENCE HASH ALERT</h2>
    <div class="warning-box">
      <p><strong>Identical evidence hash found in ${ut.length} other case(s).</strong></p>
      <p>This indicates the EXACT SAME image is being used in multiple cases.</p>
      
      <h3 style="margin-top: 12px;">Matching Cases:</h3>
      <ul>
        ${ut.map((gt,Ct)=>`
          <li>
            <strong>Case ${Ct+1}:</strong> ${gt.id}<br/>
            Species: ${gt.animal_type}<br/>
            Location: ${gt.location_name}<br/>
            Detected: ${new Date(gt.timestamp).toLocaleString()}<br/>
            Priority: ${gt.priority}, Source: ${gt.source}
          </li>
        `).join("")}
      </ul>
      
      <h3 style="margin-top: 12px;">Possible Reasons for Duplicate Evidence:</h3>
      <ul>
        <li>Illegal evidence reuse across multiple false reports</li>
        <li>Fraudulent duplicate submissions to manipulate data</li>
        <li>Copy-paste image manipulation</li>
        <li>Screenshot reposting from social media platforms</li>
        <li>Evidence tampering or chain-of-custody compromise</li>
      </ul>
      
      <p style="margin-top: 12px; font-weight: bold; color: #991b1b;">
         CRITICAL WARNING: Duplicate evidence hashes severely compromise prosecution integrity.
        Malaysian courts require verified chain of custody and authentic evidence.
        IMMEDIATE INVESTIGATION RECOMMENDED to determine which case contains original evidence.
      </p>
    </div>
  </div>
  `:""}

  <div class="section">
    <h2>Operational Notes</h2>
    <div class="box">
      <ul>
        <li>Preserve digital evidence and timestamps for chain of custody.</li>
        <li>Verify listing persistence and capture screenshots where possible.</li>
        <li>Cross-check with existing watchlists and repeat offenders.</li>
        ${ht?'<li style="color: #dc2626; font-weight: bold;"> PRIORITY: Investigate duplicate evidence hash immediately.</li>':""}
      </ul>
    </div>
  </div>

  <div class="section">
    <h2>Evidence Integrity</h2>
    <div class="box">
      <p><strong>SHA-256 Fingerprint:</strong> ${E||"N/A"}</p>
      <p>Hashing ensures the evidence remains tamper-proof for Malaysian courts.</p>
      ${ht?'<p style="color: #dc2626; font-weight: bold;"> ALERT: Evidence integrity compromised due to duplicate hash detection.</p>':'<p style="color: #059669; font-weight: bold;"> Evidence hash is unique - no duplicates detected.</p>'}
    </div>
  </div>

  <div class="section">
    <h2>Evidence Timeline</h2>
    <div class="box">
      <ol>
        <li>Detection recorded and cataloged in monitoring queue.</li>
        <li>Verification and risk assessment completed.</li>
        <li>Case packaged for enforcement review and archival.</li>
        ${ht?'<li style="color: #dc2626; font-weight: bold;"> Duplicate hash detected - investigation required.</li>':""}
      </ol>
  </div>

  <div class="section">
    <h2>Local Risk Summary</h2>
    <div class="box">
      <p>${Ie.summary}</p>
      <p><strong>Key Signals:</strong> ${Ie.signals.join(", ")}.</p>
    </div>
  </div>

  <div class="section">
    <h2>Gemini Risk Assessment</h2>
    <div class="box">${rt}</div>
  </div>
</body>
</html>`},bn=(Ie,rt)=>{const vt=document.createElement("a");vt.href=URL.createObjectURL(Ie),vt.download=rt,document.body.appendChild(vt),vt.click(),vt.remove(),URL.revokeObjectURL(vt.href)},yn=async()=>{if(!f)return;const Ie=zt(t),rt=Pn(Ie.summary),vt=t.confidence>=.9?"Very High":t.confidence>=.75?"High":t.confidence>=.5?"Medium":"Low",ut=(e||[]).filter(gt=>gt.evidence_hash&&gt.evidence_hash===E&&gt.id!==t.id),ht=ut.length>0;try{let gt=null;if(t.image_url)try{const nn=await fetch(t.image_url,{mode:"cors"});nn.ok&&(gt=await nn.arrayBuffer())}catch(nn){console.warn("Could not load image for Word document:",nn)}const Ct=[];Ct.push(new Pt({text:"WILDSCAN EVIDENCE REPORT",heading:Wa.HEADING_1,alignment:Do.CENTER,spacing:{after:200}}),new Pt({children:[new Hr({text:`Case ID: ${t.id}`,bold:!0})],alignment:Do.CENTER,spacing:{after:200}}),new Pt({children:[new Hr({text:`Generated: ${new Date().toLocaleString()}`,size:18,color:"666666"})],alignment:Do.CENTER,spacing:{after:400}})),Ct.push(new Pt({text:"CASE SUMMARY",heading:Wa.HEADING_2,spacing:{before:200,after:200}}),new jG({width:{size:100,type:Sh.PERCENTAGE},rows:[new Ws({children:[new cr({children:[new Pt({children:[new Hr({text:"Case ID:",bold:!0})]})],width:{size:30,type:Sh.PERCENTAGE}}),new cr({children:[new Pt(t.id)],width:{size:70,type:Sh.PERCENTAGE}})]}),new Ws({children:[new cr({children:[new Pt({children:[new Hr({text:"Case Name:",bold:!0})]})]}),new cr({children:[new Pt(t.case_name||"N/A")]})]}),new Ws({children:[new cr({children:[new Pt({children:[new Hr({text:"Species:",bold:!0})]})]}),new cr({children:[new Pt(t.animal_type)]})]}),new Ws({children:[new cr({children:[new Pt({children:[new Hr({text:"Status:",bold:!0})]})]}),new cr({children:[new Pt(t.status||"Pending")]})]}),new Ws({children:[new cr({children:[new Pt({children:[new Hr({text:"Priority:",bold:!0})]})]}),new cr({children:[new Pt(t.priority)]})]}),new Ws({children:[new cr({children:[new Pt({children:[new Hr({text:"Risk Level:",bold:!0})]})]}),new cr({children:[new Pt(Ie.riskLevel)]})]}),new Ws({children:[new cr({children:[new Pt({children:[new Hr({text:"Confidence:",bold:!0})]})]}),new cr({children:[new Pt(`${(t.confidence*100).toFixed(2)}% (${vt})`)]})]}),new Ws({children:[new cr({children:[new Pt({children:[new Hr({text:"Trust Score:",bold:!0})]})]}),new cr({children:[new Pt(`${t.trust_score??0}`)]})]}),new Ws({children:[new cr({children:[new Pt({children:[new Hr({text:"Source/Market:",bold:!0})]})]}),new cr({children:[new Pt(t.source)]})]}),new Ws({children:[new cr({children:[new Pt({children:[new Hr({text:"Location:",bold:!0})]})]}),new cr({children:[new Pt(t.location_name)]})]}),new Ws({children:[new cr({children:[new Pt({children:[new Hr({text:"Coordinates:",bold:!0})]})]}),new cr({children:[new Pt(`${t.lat.toFixed(6)}, ${t.lng.toFixed(6)}`)]})]}),new Ws({children:[new cr({children:[new Pt({children:[new Hr({text:"Detected At:",bold:!0})]})]}),new cr({children:[new Pt(lt)]})]}),new Ws({children:[new cr({children:[new Pt({children:[new Hr({text:"User Handle:",bold:!0})]})]}),new cr({children:[new Pt(t.user_handle||"N/A")]})]}),new Ws({children:[new cr({children:[new Pt({children:[new Hr({text:"Post URL:",bold:!0})]})]}),new cr({children:[new Pt(t.post_url||"N/A")]})]}),new Ws({children:[new cr({children:[new Pt({children:[new Hr({text:"Evidence Hash:",bold:!0})]})]}),new cr({children:[new Pt(E||"N/A")]})]}),new Ws({children:[new cr({children:[new Pt({children:[new Hr({text:"Hash Status:",bold:!0})]})]}),new cr({children:[new Pt({children:[new Hr({text:ht?" DUPLICATE DETECTED":" Unique Evidence",bold:!0,color:ht?"DC2626":"059669"})]})]})]})]}),new Pt({text:"",spacing:{after:200}})),Ct.push(new Pt({text:"EVIDENCE IMAGE",heading:Wa.HEADING_2,spacing:{before:200,after:200}})),gt?Ct.push(new Pt({children:[new FH({data:gt,transformation:{width:500,height:350},type:"jpg"})],alignment:Do.CENTER,spacing:{after:200}})):Ct.push(new Pt({children:[new Hr({text:"Evidence image unavailable",italics:!0,color:"666666"})],spacing:{after:200}})),Ct.push(new Pt({text:"CASE HIGHLIGHTS",heading:Wa.HEADING_2,spacing:{before:200,after:200}}),new Pt({text:` Priority level indicates enforcement urgency (${t.priority}).`,spacing:{after:100}}),new Pt({text:` Risk level assessment: ${Ie.riskLevel}.`,spacing:{after:100}}),new Pt({text:` Confidence level suggests ${vt.toLowerCase()} model certainty.`,spacing:{after:100}}),new Pt({text:` Source platform flagged for monitored listings: ${t.source}.`,spacing:{after:100}}),new Pt({text:` Location clustered within monitoring region: ${t.location_name}.`,spacing:{after:100}}),new Pt({text:` Trust Score (${t.trust_score??0}) indicates ${t.trust_score&&t.trust_score>1?"multiple matching reports":"single report"} for this species/location.`,spacing:{after:200}})),Ct.push(new Pt({text:"DESCRIPTION",heading:Wa.HEADING_2,spacing:{before:200,after:200}}),new Pt({text:t.description||"N/A",spacing:{after:200}})),ht&&(Ct.push(new Pt({text:" DUPLICATE EVIDENCE HASH ALERT",heading:Wa.HEADING_2,spacing:{before:200,after:200}}),new Pt({children:[new Hr({text:`Identical evidence hash found in ${ut.length} other case(s). This indicates the EXACT SAME image is being used in multiple cases.`,bold:!0,color:"DC2626"})],spacing:{after:200}}),new Pt({children:[new Hr({text:"Matching Cases:",bold:!0})],spacing:{after:100}})),ut.forEach((nn,Sr)=>{Ct.push(new Pt({text:`${Sr+1}. Case ID: ${nn.id} - ${nn.animal_type}`,spacing:{after:50}}),new Pt({text:`   Location: ${nn.location_name}, Priority: ${nn.priority}`,spacing:{after:50}}),new Pt({text:`   Detected: ${new Date(nn.timestamp).toLocaleString()}`,spacing:{after:100}}))}),Ct.push(new Pt({children:[new Hr({text:" CRITICAL WARNING: Duplicate evidence hashes severely compromise prosecution integrity. Malaysian courts require verified chain of custody and authentic evidence. IMMEDIATE INVESTIGATION RECOMMENDED.",bold:!0,color:"DC2626"})],spacing:{after:200}}))),Ct.push(new Pt({text:"OPERATIONAL NOTES",heading:Wa.HEADING_2,spacing:{before:200,after:200}}),new Pt({text:" Preserve digital evidence and timestamps for chain of custody.",spacing:{after:100}}),new Pt({text:" Verify listing persistence and capture screenshots where possible.",spacing:{after:100}}),new Pt({text:" Cross-check with existing watchlists and repeat offenders.",spacing:{after:ht?100:200}})),ht&&Ct.push(new Pt({children:[new Hr({text:"  PRIORITY: Investigate duplicate evidence hash immediately.",bold:!0,color:"DC2626"})],spacing:{after:200}})),Ct.push(new Pt({text:"EVIDENCE INTEGRITY",heading:Wa.HEADING_2,spacing:{before:200,after:200}}),new Pt({text:`SHA-256 Fingerprint: ${E||"N/A"}`,spacing:{after:100}}),new Pt({text:"Hashing ensures the evidence remains tamper-proof for Malaysian courts.",spacing:{after:100}}),new Pt({children:[new Hr({text:ht?" ALERT: Evidence integrity compromised due to duplicate hash detection.":" Evidence hash is unique - no duplicates detected.",bold:!0,color:ht?"DC2626":"059669"})],spacing:{after:200}})),Ct.push(new Pt({text:"EVIDENCE TIMELINE",heading:Wa.HEADING_2,spacing:{before:200,after:200}}),new Pt({text:"1) Detection recorded and cataloged in monitoring queue.",spacing:{after:100}}),new Pt({text:"2) Verification and risk assessment completed.",spacing:{after:100}}),new Pt({text:"3) Case packaged for enforcement review and archival.",spacing:{after:ht?100:200}})),ht&&Ct.push(new Pt({children:[new Hr({text:"4)  Duplicate hash detected - investigation required.",bold:!0,color:"DC2626"})],spacing:{after:200}})),Ct.push(new Pt({text:"LOCAL RISK SUMMARY",heading:Wa.HEADING_2,spacing:{before:200,after:200}}),new Pt({text:Ie.summary,spacing:{after:100}}),new Pt({text:`Key Signals: ${Ie.signals.join(", ")}.`,spacing:{after:200}}),new Pt({text:"GEMINI RISK ASSESSMENT",heading:Wa.HEADING_2,spacing:{before:200,after:200}}),new Pt({text:rt,spacing:{after:200}}));const En=new y$({sections:[{properties:{},children:Ct}]}),On=await L$.toBlob(En);bn(On,`${f.filename}.docx`)}catch(gt){console.error("Error generating Word document:",gt);const Ct=new Blob([f.html],{type:"application/msword"});bn(Ct,`${f.filename}.doc`)}},$n=async()=>{if(!f)return;const Ie=new ln({unit:"pt",format:"a4"}),rt=Ie.internal.pageSize.getWidth(),vt=Ie.internal.pageSize.getHeight(),ut=40;let ht=72;const gt=zt(t),Ct=Pn(gt.summary),En=t.confidence>=.9?"Very High":t.confidence>=.75?"High":t.confidence>=.5?"Medium":"Low",On=(e||[]).filter(Bn=>Bn.evidence_hash&&Bn.evidence_hash===E&&Bn.id!==t.id),nn=On.length>0,Sr=Bn=>{ht+Bn>vt-ut&&(Ie.addPage(),ht=ut)},xr=Bn=>{Sr(35),Ie.setFont("helvetica","bold"),Ie.setFontSize(13),Ie.setTextColor(30,41,59),Ie.text(Bn,ut,ht),ht+=20,Ie.setDrawColor(203,213,225),Ie.line(ut,ht,rt-ut,ht),ht+=16},hr=(Bn,jr=10,_r=[15,23,42])=>{Ie.setFont("helvetica","normal"),Ie.setFontSize(jr),Ie.setTextColor(_r[0],_r[1],_r[2]);const ai=Ie.splitTextToSize(Bn,rt-ut*2),Qr=jr+5;Sr(ai.length*Qr),Ie.text(ai,ut,ht),ht+=ai.length*Qr+6},ei=(Bn,jr=10,_r=[15,23,42])=>{Ie.setFont("helvetica","bold"),Ie.setFontSize(jr),Ie.setTextColor(_r[0],_r[1],_r[2]);const ai=Ie.splitTextToSize(Bn,rt-ut*2),Qr=jr+5;Sr(ai.length*Qr),Ie.text(ai,ut,ht),ht+=ai.length*Qr+6},Gr=async(Bn,jr)=>{if(xr(Bn),!jr){hr("Evidence image unavailable.",10,[100,116,139]);return}try{const _r=await gn(jr),ai=Ie.getImageProperties(_r),Qr=rt-ut*2,Ei=ai.height/ai.width,$r=Qr,In=Math.min(300,Qr*Ei);Sr(In+16),Ie.setDrawColor(203,213,225),Ie.setLineWidth(1),Ie.rect(ut-2,ht-2,$r+4,In+4);const Zs=_r.startsWith("data:image/png")?"PNG":"JPEG";Ie.addImage(_r,Zs,ut,ht,$r,In),ht+=In+20}catch{hr("Image could not be loaded.",10,[239,68,68])}},Bo=Bn=>{Bn.forEach(jr=>{hr(` ${jr}`,10)})},Gi=(Bn,jr,_r=!1)=>{Sr(22),Ie.setFillColor(248,250,252),Ie.rect(ut,ht,rt-ut*2,22,"F"),Ie.setFont("helvetica","bold"),Ie.setFontSize(9),Ie.setTextColor(71,85,105),Ie.text(Bn,ut+8,ht+14),Ie.setFont("helvetica","normal"),Ie.setTextColor(15,23,42);const ai=Ie.splitTextToSize(jr,(rt-ut*2)/2);Ie.text(ai,ut+150,ht+14),_r||(Ie.setDrawColor(226,232,240),Ie.line(ut,ht+22,rt-ut,ht+22)),ht+=22};Ie.setFillColor(15,23,42),Ie.rect(0,0,rt,60,"F"),Ie.setFont("helvetica","bold"),Ie.setFontSize(18),Ie.setTextColor(255,255,255),Ie.text("WILDSCAN EVIDENCE REPORT",ut,38),Ie.setFontSize(10),Ie.setFont("helvetica","normal"),Ie.text(`Generated: ${new Date().toLocaleString()}`,rt-ut,38,{align:"right"}),Ie.setFontSize(11),Ie.setTextColor(203,213,225),Ie.text(`Case ID: ${t.id}`,ut,52),ht=80,xr("CASE SUMMARY"),Sr(360);const Zi=[["Case ID",t.id],["Case Name",t.case_name||"N/A"],["Species",t.animal_type],["Status",t.status||"Pending"],["Priority",t.priority],["Risk Level",gt.riskLevel],["Confidence",`${(t.confidence*100).toFixed(2)}% (${En})`],["Trust Score",`${t.trust_score??0}`],["Source/Market",t.source],["Location",t.location_name],["Coordinates",`${t.lat.toFixed(6)}, ${t.lng.toFixed(6)}`],["Detected At",lt],["User Handle",t.user_handle||"N/A"],["Post URL",t.post_url?t.post_url.length>50?t.post_url.substring(0,50)+"...":t.post_url:"N/A"],["Evidence Hash",E?E.length>30?E.substring(0,30)+"...":E:"N/A"]];if(Zi.forEach((Bn,jr)=>{Gi(Bn[0],Bn[1],jr===Zi.length-1)}),ht+=10,Sr(25),Ie.setFont("helvetica","bold"),Ie.setFontSize(9),nn?(Ie.setFillColor(220,38,38),Ie.setTextColor(255,255,255),Ie.roundedRect(ut,ht,155,22,3,3,"F"),Ie.text(" DUPLICATE DETECTED",ut+10,ht+14)):(Ie.setFillColor(5,150,105),Ie.setTextColor(255,255,255),Ie.roundedRect(ut,ht,140,22,3,3,"F"),Ie.text(" Unique Evidence",ut+10,ht+14)),ht+=35,Ie.setTextColor(15,23,42),await Gr("EVIDENCE IMAGE",t.image_url||""),xr("CASE HIGHLIGHTS"),Bo([`Priority level indicates enforcement urgency (${t.priority}).`,`Risk level assessment: ${gt.riskLevel}.`,`Confidence level suggests ${En.toLowerCase()} model certainty.`,`Source platform flagged for monitored listings: ${t.source}.`,`Location clustered within monitoring region: ${t.location_name}.`,`Trust Score (${t.trust_score??0}) indicates ${t.trust_score&&t.trust_score>1?"multiple matching reports":"single report"} for this species/location.`]),xr("DESCRIPTION"),hr(t.description||"N/A"),nn){xr(" DUPLICATE EVIDENCE HASH ALERT"),Sr(100),Ie.setFillColor(254,226,226),Ie.setDrawColor(220,38,38),Ie.setLineWidth(2);const Bn=ht;ei(`Identical evidence hash found in ${On.length} other case(s).`,10,[153,27,27]),ei("This indicates the EXACT SAME image is being used in multiple cases.",10,[153,27,27]),ht+=8,ei("Matching Cases:",10,[15,23,42]),Ie.setFont("helvetica","normal"),On.forEach((_r,ai)=>{hr(`${ai+1}. Case ID: ${_r.id} - ${_r.animal_type}`,9),hr(`   Location: ${_r.location_name}, Priority: ${_r.priority}`,9),hr(`   Detected: ${new Date(_r.timestamp).toLocaleString()}`,9)}),ht+=8,ei(" CRITICAL WARNING: Duplicate evidence hashes severely compromise prosecution integrity.",10,[153,27,27]),ei("IMMEDIATE INVESTIGATION RECOMMENDED.",10,[153,27,27]);const jr=ht-Bn;Ie.rect(ut-5,Bn-5,rt-ut*2+10,jr+10),Ie.setTextColor(15,23,42),Ie.setLineWidth(.5)}xr("OPERATIONAL NOTES"),Bo(["Preserve digital evidence and timestamps for chain of custody.","Verify listing persistence and capture screenshots where possible.","Cross-check with existing watchlists and repeat offenders.",...nn?[" PRIORITY: Investigate duplicate evidence hash immediately."]:[]]),xr("EVIDENCE INTEGRITY"),hr(`SHA-256 Fingerprint: ${E||"N/A"}`),hr("Hashing ensures the evidence remains tamper-proof for Malaysian courts."),nn?ei(" ALERT: Evidence integrity compromised due to duplicate hash detection.",10,[220,38,38]):ei(" Evidence hash is unique - no duplicates detected.",10,[5,150,105]),xr("EVIDENCE TIMELINE"),hr("1. Detection recorded and cataloged in monitoring queue."),hr("2. Verification and risk assessment completed."),hr("3. Case packaged for enforcement review and archival."),nn&&ei("4.  Duplicate hash detected - investigation required.",10,[220,38,38]),xr("LOCAL RISK SUMMARY"),hr(gt.summary),hr(`Key Signals: ${gt.signals.join(", ")}.`),xr("GEMINI RISK ASSESSMENT"),hr(Ct);const fs=Ie.internal.pages.length-1;for(let Bn=1;Bn<=fs;Bn++)Ie.setPage(Bn),Ie.setFontSize(8),Ie.setTextColor(100,116,139),Ie.text(`Page ${Bn} of ${fs}`,rt/2,vt-20,{align:"center"}),Ie.text("WILDSCAN Wildlife Enforcement Dashboard",rt-ut,vt-20,{align:"right"});Ie.save(`${f.filename}.pdf`)},Gn=()=>{i(!0),c(!1);const Ie=["Initializing secure connection...","Fetching Firestore document ID: "+t.id,"Downloading high-res imagery...","Extracting EXIF metadata...","Geo-tagging location: "+t.location_name,"Performing Gemini AI final re-verification...","Compiling digital evidence signature...","Finalizing report package..."];Ie.forEach((rt,vt)=>{setTimeout(()=>{l(ut=>[...ut,`[${new Date().toLocaleTimeString()}] ${rt}`]),vt===Ie.length-1&&setTimeout(()=>{const ut=`WILDSCAN_${t.id}`,ht=un(),gt=Yn();d({text:ht,html:gt,filename:ut}),i(!1),c(!0)},1e3)},vt*600)})};return ne.jsxs("div",{className:"flex flex-col h-full relative",children:[(r||u)&&ne.jsxs("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-8 font-mono overflow-hidden",children:[ne.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-lime-50/90 via-lime-100/80 to-white/90 backdrop-blur-xl"}),ne.jsxs("div",{className:"relative w-full max-w-3xl bg-white/40 backdrop-blur-2xl border border-lime-400/50 rounded-2xl shadow-[0_8px_32px_0_rgba(132,204,22,0.2)] p-8 overflow-hidden",children:[ne.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-lime-500 to-transparent opacity-50"}),ne.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-lime-500 to-transparent opacity-50"}),u&&ne.jsx("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 z-20 p-2 rounded-lg bg-lime-200/70 backdrop-blur-sm border border-lime-300/50 text-green-800 hover:text-lime-700 hover:bg-lime-200/70 hover:border-lime-400/50 transition-all duration-200 group","aria-label":"Close",children:ne.jsx(fL,{size:18,className:"group-hover:rotate-90 transition-transform duration-200"})}),ne.jsxs("div",{className:"relative z-10",children:[ne.jsxs("div",{className:"flex items-center gap-2 text-lime-700 mb-6",children:[ne.jsx(Sl,{size:20,className:"animate-pulse"}),ne.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest",children:u?"Prosecution Report Ready":"Generating Prosecution Report"})]}),u?ne.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[ne.jsxs("div",{className:"text-xs text-green-900 leading-relaxed bg-gradient-to-br from-lime-500/10 via-lime-100/60 to-lime-50/60 backdrop-blur-md border border-lime-400/50 p-6 rounded-xl shadow-[0_4px_16px_0_rgba(132,204,22,0.18)]",children:[ne.jsx("div",{className:"text-[11px] uppercase tracking-widest text-lime-700 font-mono font-bold",children:"Report Summary"}),ne.jsxs("div",{className:"mt-2 text-green-900",children:["Case ",t.id," prepared with evidence highlights and AI risk assessment."]}),ne.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-[10px]",children:[ne.jsxs("div",{className:"bg-white/60 backdrop-blur-sm border border-lime-300/50 rounded-lg px-3 py-2 shadow-sm",children:[ne.jsx("span",{className:"text-green-800",children:"Priority:"})," ",ne.jsx("span",{className:"text-lime-800 font-semibold",children:t.priority})]}),ne.jsxs("div",{className:"bg-white/60 backdrop-blur-sm border border-lime-300/50 rounded-lg px-3 py-2 shadow-sm",children:[ne.jsx("span",{className:"text-green-800",children:"Confidence:"})," ",ne.jsxs("span",{className:"text-lime-800 font-semibold",children:[(t.confidence*100).toFixed(0),"%"]})]}),ne.jsxs("div",{className:"bg-white/60 backdrop-blur-sm border border-lime-300/50 rounded-lg px-3 py-2 shadow-sm",children:[ne.jsx("span",{className:"text-green-800",children:"Location:"})," ",ne.jsx("span",{className:"text-lime-800 font-semibold",children:t.location_name})]}),ne.jsxs("div",{className:"bg-white/60 backdrop-blur-sm border border-lime-300/50 rounded-lg px-3 py-2 shadow-sm",children:[ne.jsx("span",{className:"text-green-800",children:"Source:"})," ",ne.jsx("span",{className:"text-lime-800 font-semibold",children:t.source})]})]})]}),ne.jsxs("div",{className:"flex items-center gap-3",children:[ne.jsxs("button",{onClick:$n,className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-lime-500 to-lime-700 hover:from-lime-400 hover:to-lime-600 text-green-950 font-bold text-xs shadow-[0_4px_16px_0_rgba(132,204,22,0.32)] hover:shadow-[0_6px_20px_0_rgba(132,204,22,0.4)] transition-all duration-200 active:scale-95",children:[ne.jsx(AE,{size:14}),"Download PDF"]}),ne.jsxs("button",{onClick:yn,className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-lime-200/70 backdrop-blur-sm text-green-950 font-bold text-xs border border-lime-300/50 hover:bg-lime-200/70 hover:border-lime-400 shadow-sm hover:shadow-md transition-all duration-200 active:scale-95",children:[ne.jsx(AE,{size:14}),"Download Word"]}),ne.jsx("button",{onClick:()=>c(!1),className:"ml-auto text-[10px] uppercase tracking-widest text-green-800 hover:text-lime-700 transition-colors px-4 py-2 rounded-lg hover:bg-lime-200/30 backdrop-blur-sm",children:"Close"})]})]}):ne.jsxs(ne.Fragment,{children:[ne.jsx("div",{className:"flex-1 space-y-2 text-[10px] text-lime-700/80 overflow-y-auto max-h-96 bg-lime-200/30 backdrop-blur-sm rounded-lg p-4 border border-lime-300/60",children:s.map((Ie,rt)=>ne.jsx("div",{className:"animate-in slide-in-from-left duration-300 py-1",children:Ie},rt))}),ne.jsx("div",{className:"mt-4 pt-4 border-t border-lime-400/40",children:ne.jsx("div",{className:"w-full h-2 bg-white/60 backdrop-blur-sm rounded-full overflow-hidden border border-lime-400/40",children:ne.jsx("div",{className:"h-full bg-gradient-to-r from-lime-500 via-lime-400 to-lime-500 animate-[progress_5s_linear_infinite] shadow-[0_0_10px_rgba(132,204,22,0.5)]"})})})]})]})]})]}),ne.jsxs("div",{className:"p-6 border-b border-lime-400/40",children:[ne.jsxs("div",{className:"flex items-start justify-between mb-2",children:[ne.jsxs("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-widest border ${kt[t.priority]}`,children:[t.priority," Priority Case"]}),ne.jsxs("div",{className:"text-[10px] text-green-700 font-mono",children:["ID: ",t.id]})]}),ne.jsx("h2",{className:"text-2xl font-bold text-green-950",children:t.animal_type}),ne.jsxs("div",{className:"flex items-center gap-2 text-lime-700/70 text-xs font-mono mt-1",children:[ne.jsx(Fk,{size:12}),ne.jsxs("span",{children:["Detected ",lt]})]})]}),ne.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[re&&ee.length>0&&ne.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:ne.jsxs("div",{className:"bg-white border border-red-500/50 rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto p-6 space-y-4",children:[ne.jsxs("div",{className:"flex items-start justify-between",children:[ne.jsxs("div",{children:[ne.jsx("h2",{className:"text-lg font-mono text-red-400 uppercase tracking-wider",children:" Duplicate Evidence Hash"}),ne.jsxs("p",{className:"text-xs text-green-800 mt-1",children:["Hash: ",ge?.substring(0,16),"... (appears in ",ee.length+1," case",ee.length>0?"s":"",")"]})]}),ne.jsx("button",{onClick:()=>O(!1),className:"text-green-800 hover:text-green-900 text-xl font-bold",children:""})]}),ne.jsxs("div",{className:"bg-white/60 border border-lime-300 rounded p-3 space-y-2",children:[ne.jsx("p",{className:"text-[10px] uppercase text-green-700 font-mono",children:" Matching Cases with Same Hash:"}),ee.map(Ie=>ne.jsxs("div",{className:"text-xs border-l-2 border-red-500/50 pl-3 py-2",children:[ne.jsx("div",{className:"text-green-900",children:ne.jsx("strong",{children:Ie.animal_type})}),ne.jsxs("div",{className:"text-green-700 text-[10px]",children:["State: ",Ie.location_name||"N/A"]}),ne.jsxs("div",{className:"text-green-700 text-[10px]",children:["Address: ",le[Ie.id]||"N/A"]}),ne.jsxs("div",{className:"text-green-700 text-[10px]",children:[" ",new Date(Ie.timestamp).toLocaleString()]})]},Ie.id))]}),ne.jsxs("div",{className:"bg-white/60 border border-lime-300 rounded p-3 space-y-2",children:[ne.jsx("p",{className:"text-[10px] uppercase text-green-700 font-mono",children:" Matching Evidence Images:"}),De.length>0?ne.jsx("div",{className:"space-y-3",children:De.map((Ie,rt)=>ne.jsxs("div",{className:"flex gap-3 border border-lime-300/50 rounded-lg p-3 bg-white/80",children:[ne.jsx("div",{className:"w-20 h-16 rounded-md overflow-hidden border border-lime-300/50 bg-lime-100",children:Ie.imageUrl?ne.jsx("img",{src:Ie.imageUrl,alt:`Evidence for case ${Ie.caseId}`,className:"w-full h-full object-cover"}):ne.jsx("div",{className:"w-full h-full flex items-center justify-center text-[9px] text-green-700 font-mono",children:"No image"})}),ne.jsxs("div",{className:"text-xs text-green-800 space-y-1",children:[ne.jsx("div",{className:"text-green-900 font-semibold",children:Ie.animalType}),ne.jsxs("div",{className:"text-[10px]",children:["Case ID: ",Ie.caseId]}),ne.jsxs("div",{className:"text-[10px]",children:["State: ",Ie.locationName||"N/A"]}),ne.jsxs("div",{className:"text-[10px]",children:["Address: ",le[Ie.caseId]||"N/A"]}),ne.jsxs("div",{className:"text-[10px]",children:["Detected: ",new Date(Ie.timestamp).toLocaleString()]}),ne.jsxs("div",{className:"text-[10px]",children:["Hash: ",Ie.hash.slice(0,16),"..."]})]})]},`${Ie.caseId}-${rt}`))}):ne.jsx("div",{className:"text-[10px] text-green-700",children:"No matching evidence images found."})]}),ne.jsxs("div",{className:"bg-amber-950/30 border border-amber-700/50 rounded p-4 space-y-2",children:[ne.jsx("p",{className:"text-[10px] uppercase text-amber-400 font-mono font-bold",children:" Why This Matters:"}),ne.jsx("p",{className:"text-xs text-green-900 leading-relaxed",children:"Identical evidence hash across multiple cases indicates potential evidence tampering, unauthorized reuse, or fraudulent reporting. This affects prosecution integrity and court admissibility - Malaysian courts require verified chain of custody and evidence authenticity."})]}),ne.jsxs("div",{className:"space-y-3 bg-lime-200/40 border border-lime-300 rounded p-4",children:[ne.jsxs("div",{className:"flex items-center justify-between",children:[ne.jsx("p",{className:"text-[10px] uppercase text-lime-700 font-mono font-bold",children:" Gemini Analysis - Possible Reasons:"}),ne.jsx("span",{className:"text-[8px] px-2 py-1 rounded bg-lime-600 text-white font-semibold",children:"Auto Scanning"})]}),H?ne.jsxs("div",{className:"flex items-center gap-2 text-lime-700 text-xs animate-pulse bg-white/50 p-4 rounded",children:[ne.jsx(Sl,{size:14,className:"animate-spin"}),ne.jsx("span",{children:"Connecting to Gemini AI to analyze possible reasons..."})]}):me.length>0?ne.jsx("div",{className:"space-y-3",children:me.map((Ie,rt)=>ne.jsx("div",{className:"bg-gradient-to-r from-white/95 to-lime-50/90 border-l-4 border-l-lime-500 border border-lime-200 rounded-r-lg p-4 hover:shadow-md transition-all hover:border-lime-400",children:ne.jsxs("div",{className:"flex items-start gap-3",children:[ne.jsx("span",{className:"flex-shrink-0 text-lime-600 font-bold text-sm bg-lime-100 rounded-full w-7 h-7 flex items-center justify-center",children:rt+1}),ne.jsxs("div",{className:"flex-1 min-w-0",children:[ne.jsx("p",{className:"text-sm text-lime-800 font-semibold leading-snug mb-2",children:Ie}),ne.jsxs("p",{className:"text-xs text-green-700 leading-relaxed bg-white/60 p-2 rounded border border-green-200/50 italic",children:[" ",pi(Ie)]})]})]})},rt))}):ne.jsx("div",{className:"text-sm text-lime-700 bg-white/60 p-4 rounded text-center font-medium",children:"Waiting for Gemini AI analysis..."})]}),ne.jsx("div",{className:"flex justify-end pt-2",children:ne.jsx("button",{onClick:()=>O(!1),className:"px-4 py-2 rounded border border-lime-300 text-xs font-mono uppercase text-green-800 hover:bg-lime-200/50 transition-all",children:"Close & Review"})})]})}),ne.jsxs("div",{className:"space-y-2",children:[ne.jsxs("div",{className:"flex items-center justify-between",children:[ne.jsx("label",{className:"text-[10px] uppercase font-mono text-green-700 tracking-widest",children:"Visual Evidence"}),ne.jsxs("div",{className:"flex items-center gap-3",children:[Oe&&ne.jsx("button",{type:"button",onClick:()=>Ae(!Ce),className:`text-[10px] uppercase font-mono tracking-widest transition-all flex items-center gap-1 ${Ce?"text-lime-700 hover:text-lime-800":"text-green-700 hover:text-lime-700"}`,title:Ce?"Stop reading case details":"Read case details aloud","aria-label":Ce?"Stop reading case details":"Read case details aloud",children:Ce||pL()?ne.jsxs(ne.Fragment,{children:[ne.jsx(uL,{size:14})," Reading"]}):ne.jsxs(ne.Fragment,{children:[ne.jsx(aL,{size:14})," Read"]})}),ne.jsx("button",{type:"button",onClick:()=>R(Ie=>!Ie),className:"text-[10px] uppercase font-mono tracking-widest text-lime-700 hover:text-lime-800 transition-colors",children:S?"Fill":"Fit"})]})]}),ne.jsxs("div",{className:"aspect-video w-full rounded-lg overflow-hidden border border-lime-300/50 bg-lime-200 relative group hover:border-lime-400/50 transition-colors duration-300",children:[t.image_url?ne.jsx("img",{src:t.image_url,alt:"Evidence",className:`w-full h-full ${S?"object-contain":"object-cover"} grayscale-[0.3] group-hover:grayscale-0 transition-all duration-500`}):ne.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-green-700 font-mono",children:"Evidence image unavailable"}),ne.jsxs("div",{className:"absolute bottom-4 right-4 bg-white/70 backdrop-blur-sm px-3 py-2 rounded-lg text-[10px] font-mono text-green-900 border border-lime-300/50 flex items-center gap-1",children:["Confidence: ",(t.confidence*100).toFixed(1),"%"]})]})]}),Ze.length>0&&ne.jsxs("div",{className:"space-y-3",children:[ne.jsxs("div",{className:"flex items-center justify-between",children:[ne.jsx("label",{className:"text-[10px] uppercase font-mono text-green-700 tracking-widest",children:"Evidence Images"}),ne.jsxs("span",{className:"text-[10px] text-green-700 font-mono",children:[Ze.length," item",Ze.length===1?"":"s"]})]}),ne.jsx("div",{className:"space-y-3",children:Ze.map((Ie,rt)=>{const vt=Nt(Ie),ut=C[Ie.id],ht=Ft(vt),gt=ht>0;return ne.jsx("div",{className:"bg-lime-200/60 border border-lime-300/50 hover:border-lime-400/50 p-3 rounded-lg transition-colors duration-200",children:ne.jsxs("div",{className:"flex gap-3",children:[ne.jsx("div",{className:"w-28 h-20 rounded-md overflow-hidden border border-lime-300/50 bg-lime-100",children:Ie.fileUrl?ne.jsx("img",{src:Ie.fileUrl,alt:`Evidence ${rt+1}`,className:"w-full h-full object-cover"}):ne.jsx("div",{className:"w-full h-full flex items-center justify-center text-[9px] text-green-700 font-mono",children:"No image"})}),ne.jsxs("div",{className:"flex-1 space-y-1",children:[ne.jsxs("div",{className:"flex items-center justify-between",children:[ne.jsxs("span",{className:"text-[9px] text-green-800 font-mono uppercase tracking-wider font-semibold",children:["Evidence ",rt+1]}),ne.jsx("span",{className:`text-[9px] font-mono uppercase tracking-wider ${gt?"text-red-500":"text-lime-700"}`,children:gt?` Duplicate (${ht})`:" Unique"})]}),ne.jsxs("div",{className:"text-[10px] text-green-800",children:["Platform: ",Ie.platformSource||t.platform_source||t.source||"N/A"]}),ne.jsxs("div",{className:"text-[10px] text-green-800",children:["Captured: ",He(Ie.uploadedAt)]}),ne.jsxs("div",{className:"text-[10px] text-green-800",children:["AI Confidence: ",(t.confidence*100).toFixed(1),"%"]}),Ie.aiSummary&&ne.jsxs("div",{className:"text-[10px] text-green-800 leading-relaxed",children:["AI Summary: ",Ie.aiSummary]}),ne.jsxs("div",{className:"text-[10px] text-green-800",children:["SHA-256: ",ut?.isHashing?"Calculating...":vt?`${vt.slice(0,16)}...`:"N/A"]}),ut?.error&&ne.jsx("div",{className:"text-[10px] text-red-500",children:ut.error}),gt&&vt&&ne.jsx("button",{type:"button",onClick:()=>qt(vt),className:"inline-flex items-center px-2 py-1 rounded-full text-[9px] font-mono uppercase tracking-wider bg-red-500/10 text-red-600 border border-red-500/40 hover:bg-red-500/20 hover:text-red-700 transition-colors",children:"View duplicates"})]})]})},Ie.id)})})]}),ne.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[ne.jsxs("div",{className:"bg-lime-200/60 border border-lime-300/50 hover:border-lime-400/50 p-3 rounded-lg transition-colors duration-200",children:[ne.jsx("p",{className:"text-[9px] text-green-800 font-mono uppercase mb-2 font-semibold tracking-wider",children:"Marketplace"}),ne.jsxs("div",{className:"flex items-center gap-2",children:[ne.jsx(Xk,{size:16,className:"text-green-800"}),ne.jsx("span",{className:"text-sm font-semibold truncate text-green-950",children:t.platform_source||t.source})]})]}),ne.jsxs("button",{type:"button",onClick:()=>ye(!0),className:"bg-lime-200/60 border border-lime-300/50 hover:border-lime-400/50 p-3 rounded-lg transition-colors duration-200 cursor-pointer text-left",children:[ne.jsx("p",{className:"text-[9px] text-green-800 font-mono uppercase mb-2 font-semibold tracking-wider",children:"Geo-Location"}),ne.jsxs("div",{className:"flex items-center gap-2",children:[ne.jsx(mh,{size:16,className:"text-green-800"}),ne.jsx("span",{className:"text-sm font-semibold truncate text-green-950",children:t.location_name})]})]}),ne.jsxs("button",{type:"button",onClick:()=>{D(!0),B||on()},className:"bg-lime-200/60 border border-lime-300/50 hover:border-lime-400/50 p-3 rounded-lg transition-colors duration-200 cursor-pointer text-left col-span-2",children:[ne.jsx("p",{className:"text-[9px] text-green-800 font-mono uppercase mb-2 font-semibold tracking-wider",children:"Trust Score - Matching Reports"}),ne.jsxs("div",{className:"flex items-center justify-between",children:[ne.jsxs("div",{className:"flex items-center gap-2",children:[ne.jsx(Sl,{size:16,className:"text-green-800"}),ne.jsxs("span",{className:"text-sm font-semibold text-green-950",children:[t.trust_score??0," similar reports"]})]}),ne.jsx("span",{className:"text-[10px] text-green-700",children:"Click to view"})]})]})]}),ne.jsxs("div",{className:"bg-lime-200/60 border border-lime-300/50 p-4 rounded-lg",children:[ne.jsxs("div",{className:"flex items-center justify-between mb-3",children:[ne.jsx("p",{className:"text-[9px] text-green-800 font-mono uppercase tracking-wider font-semibold",children:"Quick Action"}),ne.jsx("span",{className:"text-[9px] text-green-700 font-mono uppercase tracking-wider",children:"Send to Ranger"})]}),ne.jsxs("div",{className:"flex flex-wrap gap-2",children:[ne.jsx("button",{type:"button",onClick:tn,className:"px-4 py-2.5 rounded-lg bg-lime-300/40 border border-lime-400/50 text-lime-800 text-[10px] font-mono uppercase tracking-widest hover:bg-lime-300/50 hover:border-lime-400/50 transition-colors duration-200",children:"WhatsApp"}),ne.jsx("button",{type:"button",onClick:sn,className:"px-4 py-2.5 rounded-lg bg-lime-200/60 border border-lime-400/50 text-green-900 text-[10px] font-mono uppercase tracking-widest hover:bg-lime-200/70 hover:border-lime-400 transition-colors duration-200",children:"Email"})]}),ne.jsx("p",{className:"text-[10px] text-green-700 mt-3",children:"Prefilled with case ID, species, and coordinates."})]}),ne.jsxs("div",{className:"bg-lime-200/60 border border-lime-300/50 p-4 rounded-lg",children:[ne.jsx("p",{className:"text-[9px] text-green-800 font-mono uppercase mb-3 tracking-wider font-semibold",children:"Case Status"}),ne.jsx("div",{className:"flex items-center gap-2 text-[10px] font-mono uppercase tracking-widest",children:["Pending","Investigating","Resolved"].map(Ie=>ne.jsx("button",{type:"button",onClick:()=>{if(!t)return;const rt=Z===Ie?void 0:Ie;Y(rt),n?.(t.id,rt)},className:`px-3 py-2 rounded-lg border transition-all duration-200 ${Z===Ie?"bg-lime-300/50 border-lime-400/50 text-lime-900":"bg-lime-200/60 border-lime-400/50 text-green-800 hover:bg-lime-200/70 hover:border-lime-400"}`,children:Ie},Ie))})]}),ne.jsxs("div",{className:"bg-white/40 border border-lime-300/50 p-4 rounded-lg",children:[ne.jsxs("div",{className:"mb-3 pb-3 border-b border-lime-300/30",children:[ne.jsx("p",{className:"text-[9px] text-green-800 font-mono uppercase tracking-wider font-semibold",children:"Case Information"}),ne.jsx("p",{className:"text-[8px] text-green-700 mt-1",children:"Detection metadata and evidence details"})]}),ne.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[ne.jsxs("div",{className:"rounded-lg bg-lime-200/60 border border-lime-300/50 hover:border-lime-400/50 p-3 transition-colors duration-200",children:[ne.jsx("span",{className:"text-[9px] text-green-800 font-mono uppercase tracking-wider font-semibold",children:"Detected Species"}),ne.jsx("div",{className:"mt-2 text-green-950 font-medium",children:t.species_detected||t.detected_species_name||t.animal_type||"N/A"})]}),ne.jsxs("div",{className:"rounded-lg bg-lime-200/60 border border-lime-300/50 hover:border-lime-400/50 p-3 transition-colors duration-200",children:[ne.jsx("span",{className:"text-[9px] text-green-800 font-mono uppercase tracking-wider font-semibold",children:"Platform Source"}),ne.jsx("div",{className:"mt-2 text-green-950 font-medium",children:t.platform_source||t.source||"N/A"})]}),ne.jsxs("div",{className:"rounded-lg bg-lime-200/60 border border-lime-300/50 hover:border-lime-400/50 p-3 transition-colors duration-200",children:[ne.jsx("span",{className:"text-[9px] text-green-800 font-mono uppercase tracking-wider font-semibold",children:"Location (State)"}),ne.jsx("div",{className:"mt-2 text-green-950 font-medium",children:t.location_name||"Unknown"})]}),ne.jsxs("div",{className:"rounded-lg bg-lime-200/60 border border-lime-300/50 hover:border-lime-400/50 p-3 transition-colors duration-200 col-span-2",children:[ne.jsx("span",{className:"text-[9px] text-green-800 font-mono uppercase tracking-wider font-semibold",children:"Full Address"}),ne.jsx("div",{className:"mt-2 text-green-950 leading-relaxed break-words",children:I||"N/A"})]}),ne.jsxs("div",{className:"rounded-lg bg-lime-200/60 border border-lime-300/50 hover:border-lime-400/50 p-3 transition-colors duration-200",children:[ne.jsx("span",{className:"text-[9px] text-green-800 font-mono uppercase tracking-wider font-semibold",children:"Priority"}),ne.jsx("div",{className:"mt-2",children:ne.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-mono uppercase border ${kt[t.priority]}`,children:t.priority})})]}),ne.jsxs("div",{className:"rounded-lg bg-lime-200/60 border border-lime-300/50 hover:border-lime-400/50 p-3 transition-colors duration-200",children:[ne.jsx("span",{className:"text-[9px] text-green-800 font-mono uppercase tracking-wider font-semibold",children:"AI Scanned At"}),ne.jsx("div",{className:"mt-2 text-green-950",children:et})]}),ne.jsxs("div",{className:"rounded-lg bg-lime-200/60 border border-lime-300/50 hover:border-lime-400/50 p-3 transition-colors duration-200",children:[ne.jsx("span",{className:"text-[9px] text-green-800 font-mono uppercase tracking-wider font-semibold",children:"Created At"}),ne.jsx("div",{className:"mt-2 text-green-950",children:Pe})]}),ne.jsxs("div",{className:"rounded-lg bg-lime-200/60 border border-lime-300/50 hover:border-lime-400/50 p-3 transition-colors duration-200",children:[ne.jsx("span",{className:"text-[9px] text-green-800 font-mono uppercase tracking-wider font-semibold",children:"Confidence Score"}),ne.jsxs("div",{className:"mt-2 text-green-950 font-medium",children:[((t.confidence_score??t.confidence)*100).toFixed(0),"%"]})]}),ne.jsxs("div",{className:"rounded-lg bg-lime-200/60 border border-lime-300/50 hover:border-lime-400/50 p-3 transition-colors duration-200",children:[ne.jsx("span",{className:"text-[9px] text-green-800 font-mono uppercase tracking-wider font-semibold",children:"Risk Score"}),ne.jsx("div",{className:"mt-2 text-green-950 font-medium",children:typeof t.risk_score=="number"?t.risk_score.toFixed(2):"N/A"})]}),ne.jsxs("div",{className:"rounded-lg bg-lime-200/60 border border-lime-300/50 hover:border-lime-400/50 p-3 transition-colors duration-200",children:[ne.jsx("span",{className:"text-[9px] text-green-800 font-mono uppercase tracking-wider font-semibold",children:"Detected Illegal Product"}),ne.jsx("div",{className:"mt-2 text-green-950",children:t.detected_illegal_product||"Unknown"})]}),ne.jsxs("div",{className:"rounded-lg bg-lime-200/60 border border-lime-300/50 hover:border-lime-400/50 p-3 transition-colors duration-200",children:[ne.jsx("span",{className:"text-[9px] text-green-800 font-mono uppercase tracking-wider font-semibold",children:"Source"}),ne.jsx("div",{className:"mt-2 text-green-950",children:t.source||"N/A"})]}),ne.jsxs("div",{className:"rounded-lg bg-lime-200/60 border border-lime-300/50 hover:border-lime-400/50 p-3 transition-colors duration-200",children:[ne.jsx("span",{className:"text-[9px] text-green-800 font-mono uppercase tracking-wider font-semibold",children:"Evidence Summary"}),ne.jsx("div",{className:"mt-2 text-green-950",children:t.reason_summary||"N/A"})]}),ne.jsxs("div",{className:"rounded-lg bg-lime-200/60 border border-lime-300/50 hover:border-lime-400/50 p-3 transition-colors duration-200 col-span-2",children:[ne.jsx("span",{className:"text-[9px] text-green-800 font-mono uppercase tracking-wider font-semibold",children:"Reason"}),ne.jsx("div",{className:"mt-2 text-green-950 leading-relaxed break-words",children:t.reason||"N/A"})]})]})]}),ne.jsxs("div",{className:"hidden space-y-3",children:[ne.jsx("div",{className:"flex items-center justify-between",children:ne.jsx("label",{className:"text-[10px] uppercase font-mono text-green-700 tracking-widest",children:"Gemini AI Verification Intel"})}),ne.jsxs("div",{className:"space-y-2 text-xs text-green-800 bg-white/80 p-4 rounded-lg border border-lime-300 group",children:[ne.jsxs("div",{className:"flex justify-between border-b border-lime-300/50 pb-2",children:[ne.jsx("span",{className:"text-green-700",children:"Coordinates:"}),ne.jsxs("span",{className:"text-green-900 font-mono",children:[t.lat.toFixed(6),", ",t.lng.toFixed(6)]})]}),ne.jsxs("div",{className:"flex justify-between border-b border-lime-300/50 pb-2",children:[ne.jsx("span",{className:"text-green-700",children:"Risk Level:"}),ne.jsx("span",{className:`font-mono ${Yt.riskLevel==="High"?"text-red-400":Yt.riskLevel==="Medium"?"text-amber-400":"text-lime-700"}`,children:Yt.riskLevel})]}),ne.jsxs("div",{className:"flex flex-col gap-1 border-b border-lime-300/50 pb-2",children:[ne.jsxs("div",{className:"flex justify-between items-start gap-2",children:[ne.jsx("span",{className:"text-green-700",children:"Evidence Hash:"}),ne.jsxs("div",{className:"flex flex-col items-end gap-1",children:[ne.jsx("span",{className:"text-lime-700 font-mono break-all text-xs",children:$?"Calculating...":E||"N/A"}),E&&ne.jsx("button",{onClick:()=>!V&&qt(),disabled:V===null||V,className:`text-[10px] font-mono px-2 py-0.5 rounded cursor-pointer transition-all ${V===null?"bg-lime-200 text-green-800":V?"bg-lime-300/40 text-lime-700 border border-lime-400/50 cursor-default":"bg-red-500/20 text-red-400 border border-red-500/50 hover:bg-red-500/30 hover:border-red-500 active:bg-red-400/20"}`,children:V===null?"Checking...":V?" Unique Evidence":" Duplicate Found"})]})]}),ne.jsx("div",{className:"text-[10px] text-green-700",children:P||"SHA-256 fingerprint keeps evidence tamper-proof for Malaysian courts."})]}),ne.jsxs("div",{className:"pt-2",children:[ne.jsxs("p",{className:"mb-2 text-green-700 flex items-center gap-2",children:[ne.jsx(S2,{size:12,className:"text-red-500"})," Gemini Risk Assessment:"]}),ne.jsx("div",{className:"italic text-green-900 leading-relaxed bg-white/50 p-3 rounded border-l-2 border-lime-400 min-h-[60px] flex items-center",children:m?ne.jsxs("div",{className:"flex items-center gap-2 text-lime-700 animate-pulse font-mono text-[10px]",children:[ne.jsx(Sl,{size:14}),ne.jsx("span",{children:"Processing live satellite and marketplace data via Gemini..."})]}):ne.jsxs("p",{children:['"',Pn(Yt.summary),'"']})})]})]})]})]}),ne.jsx("div",{className:"p-6 bg-lime-200 border-t border-lime-400/40",children:ne.jsxs("button",{onClick:Gn,className:"w-full flex items-center justify-center gap-2 py-3.5 bg-lime-600 text-green-950 rounded-xl font-black text-sm transition-all shadow-[0_0_20px_rgba(132,204,22,0.35)] hover:shadow-[0_0_30px_rgba(132,204,22,0.5)] hover:bg-white0 active:scale-[0.98]",children:[ne.jsx(Vk,{size:18}),"GENERATE PROSECUTION REPORT"]})}),W&&t&&ne.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>D(!1),children:ne.jsxs("div",{className:"bg-white border border-lime-400/50 rounded-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto shadow-2xl",onClick:Ie=>Ie.stopPropagation(),children:[ne.jsxs("div",{className:"sticky top-0 bg-white border-b border-lime-400/40 p-4 flex justify-between items-center",children:[ne.jsxs("div",{children:[ne.jsxs("h3",{className:"text-lg font-bold text-lime-700 flex items-center gap-2",children:[ne.jsx(Sl,{size:20}),"Trust Score Analysis"]}),ne.jsxs("p",{className:"text-xs text-green-700 font-mono mt-1",children:[t.animal_type,"  ",t.location_name]})]}),ne.jsx("button",{onClick:()=>D(!1),className:"text-green-800 hover:text-green-900 transition-colors",children:ne.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ne.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),ne.jsxs("div",{className:"p-6 space-y-6",children:[ne.jsxs("div",{className:"bg-lime-200/50 border border-lime-400/40 rounded-lg p-4",children:[ne.jsxs("h4",{className:"text-sm font-bold text-green-900 mb-2 flex items-center gap-2",children:[ne.jsx(SE,{size:16,className:"text-lime-700"}),"Current Trust Score: ",t.trust_score??0]}),ve?ne.jsxs("div",{className:"flex items-center gap-2 text-lime-700 animate-pulse font-mono text-xs",children:[ne.jsx(Sl,{size:14}),ne.jsx("span",{children:"Generating AI explanation..."})]}):ne.jsx("p",{className:"text-sm text-green-900 leading-relaxed",children:B||"Trust Score represents the number of similar reports (same species + location). Higher scores indicate stronger community validation."})]}),ne.jsxs("div",{children:[ne.jsxs("h4",{className:"text-sm font-bold text-green-900 mb-3 flex items-center gap-2",children:[ne.jsx(S2,{size:16,className:"text-amber-400"}),"Matching Cases (",Kt().length,")"]}),Kt().length===0?ne.jsxs("div",{className:"bg-lime-200/30 border border-lime-300 rounded-lg p-4 text-center",children:[ne.jsxs("p",{className:"text-sm text-green-700",children:["This is the only report for ",ne.jsx("span",{className:"text-lime-700 font-semibold",children:t.animal_type})," in ",ne.jsx("span",{className:"text-lime-700 font-semibold",children:t.location_name})]}),ne.jsx("p",{className:"text-xs text-green-800 mt-2",children:"Monitor for additional reports to increase trust score"})]}):ne.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:Kt().map(Ie=>ne.jsxs("div",{className:"bg-lime-200/30 border border-lime-300 hover:border-lime-400/50 rounded-lg p-3 transition-colors",children:[ne.jsxs("div",{className:"flex justify-between items-start mb-2",children:[ne.jsxs("div",{className:"flex-1",children:[ne.jsxs("p",{className:"text-xs font-mono text-lime-700",children:["Case ID: ",Ie.id]}),ne.jsx("p",{className:"text-sm font-semibold text-green-900 mt-1",children:Ie.animal_type})]}),ne.jsx("span",{className:`text-xs px-2 py-1 rounded border ${Ie.priority==="High"?"bg-red-500/20 border-red-500 text-red-300":Ie.priority==="Medium"?"bg-amber-500/20 border-amber-500 text-amber-300":"bg-lime-300/40 border-lime-400 text-lime-800"}`,children:Ie.priority})]}),ne.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[ne.jsxs("div",{children:[ne.jsx("span",{className:"text-green-700",children:"Location:"}),ne.jsx("p",{className:"text-green-900 font-mono",children:Ie.location_name})]}),ne.jsxs("div",{children:[ne.jsx("span",{className:"text-green-700",children:"Source:"}),ne.jsx("p",{className:"text-green-900 font-mono",children:Ie.source})]}),ne.jsxs("div",{children:[ne.jsx("span",{className:"text-green-700",children:"Confidence:"}),ne.jsxs("p",{className:"text-green-900 font-mono",children:[(Ie.confidence*100).toFixed(0),"%"]})]}),ne.jsxs("div",{children:[ne.jsx("span",{className:"text-green-700",children:"Detected:"}),ne.jsx("p",{className:"text-green-900 font-mono",children:new Date(Ie.timestamp).toLocaleDateString()})]})]}),Ie.description&&ne.jsx("p",{className:"text-xs text-green-800 mt-2 line-clamp-2",children:Ie.description})]},Ie.id))})]}),ne.jsxs("div",{className:"bg-lime-200/60 border border-lime-400/50 rounded-lg p-4",children:[ne.jsx("h4",{className:"text-sm font-bold text-lime-700 mb-2",children:"Recommendation"}),ne.jsx("p",{className:"text-sm text-green-900",children:Kt().length>0?`Multiple reports detected. Cross-reference these ${Kt().length+1} cases to identify patterns, verify authenticity, and prioritize enforcement action.`:"Single report detected. Monitor for additional reports in this location. Consider investigating if other signals (high confidence, verified source) support action."})]}),ne.jsxs("div",{className:"bg-purple-200/50 border border-purple-400/50 rounded-lg p-4",children:[ne.jsxs("div",{className:"flex justify-between items-center mb-3",children:[ne.jsxs("h4",{className:"text-sm font-bold text-purple-900 flex items-center gap-2",children:[ne.jsx(xE,{size:16,className:"text-purple-600"}),"AI Trust Score Recommendations"]}),ne.jsx("button",{onClick:Hn,disabled:xe,className:"px-3 py-1 text-xs font-semibold bg-purple-600 text-white rounded hover:bg-purple-700 disabled:bg-purple-400 disabled:cursor-not-allowed transition-colors flex items-center gap-1",children:xe?ne.jsxs(ne.Fragment,{children:[ne.jsx(Sl,{size:12,className:"animate-spin"}),"Analyzing..."]}):ne.jsxs(ne.Fragment,{children:[ne.jsx(xE,{size:12}),"Get Recommendations"]})})]}),xe?ne.jsxs("div",{className:"flex items-center gap-2 text-purple-700 animate-pulse font-mono text-xs",children:[ne.jsx(Sl,{size:14}),ne.jsx("span",{children:"Analyzing with Gemini API..."})]}):ae?ne.jsx("div",{className:"text-sm text-purple-900 bg-white/50 rounded p-4 border border-purple-200 space-y-4",children:ae.startsWith("")?ne.jsx("p",{className:"text-red-700 font-semibold",children:ae}):ne.jsx("div",{className:"space-y-4",children:ae.split(`

`).map((Ie,rt)=>{const vt=Ie.trim();if(!vt)return null;const ut=vt.match(/^(\d+[\.\)])\s+(.+)/);if(ut){const ht=ut[1],gt=ut[2];return ne.jsxs("div",{className:"flex gap-3",children:[ne.jsx("span",{className:"flex-shrink-0 font-bold text-purple-700 bg-purple-100 rounded-full w-6 h-6 flex items-center justify-center text-xs",children:ht.replace(/[.\)]/,"")}),ne.jsx("p",{className:"flex-1 leading-relaxed text-purple-900",children:gt})]},rt)}return ne.jsx("p",{className:"leading-relaxed text-purple-900",children:vt},rt)}).filter(Boolean)})}):ne.jsx("p",{className:"text-sm text-purple-800 italic",children:'Click "Get Recommendations" to analyze this case with Gemini AI and receive actionable trust score insights.'})]})]})]})}),q&&t&&ne.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>ye(!1),children:ne.jsxs("div",{className:"bg-white border border-lime-400/50 rounded-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto shadow-2xl",onClick:Ie=>Ie.stopPropagation(),children:[ne.jsxs("div",{className:"sticky top-0 bg-white border-b border-lime-400/40 p-4 flex justify-between items-center",children:[ne.jsxs("div",{children:[ne.jsxs("h3",{className:"text-lg font-bold text-lime-700 flex items-center gap-2",children:[ne.jsx(mh,{size:20}),"Location Details"]}),ne.jsxs("p",{className:"text-xs text-green-700 font-mono mt-1",children:[t.animal_type,"  ",t.source]})]}),ne.jsx("button",{onClick:()=>ye(!1),className:"text-green-800 hover:text-green-900 transition-colors",children:ne.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ne.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),ne.jsxs("div",{className:"p-6 space-y-6",children:[ne.jsxs("div",{className:"bg-lime-200/50 border border-lime-400/40 rounded-lg p-4",children:[ne.jsxs("h4",{className:"text-sm font-bold text-green-900 mb-2 flex items-center gap-2",children:[ne.jsx(mh,{size:16,className:"text-lime-700"}),"State/Location"]}),ne.jsx("p",{className:"text-sm text-green-900 font-mono",children:t.location_name||"Unknown"})]}),I&&ne.jsxs("div",{className:"bg-lime-200/60 border border-lime-400/50 rounded-lg p-4",children:[ne.jsx("h4",{className:"text-sm font-bold text-lime-700 mb-2",children:"Full Address"}),ne.jsx("p",{className:"text-sm text-green-900 leading-relaxed break-words",children:I})]}),ne.jsxs("div",{className:"bg-lime-200/50 border border-lime-400/40 rounded-lg p-4",children:[ne.jsx("h4",{className:"text-sm font-bold text-green-900 mb-2",children:"Coordinates"}),ne.jsxs("p",{className:"text-sm text-green-900 font-mono",children:[t.lat.toFixed(6),", ",t.lng.toFixed(6)]})]})]})]})}),ne.jsx("style",{children:`
        @keyframes progress {
          from { transform: translateX(-100%); }
          to { transform: translateX(100%); }
        }
      `})]})},oZ=["Facebook Marketplace","Instagram","Telegram Channel","WhatsApp Groups","TikTok","Twitter/X","YouTube","WeChat","Mudah.my","Shopee","Lazada","Dark Web Forum","Unknown","Others"],aZ=["Kuala Lumpur","Selangor","Johor Bahru","Penang","Pahang","Kedah","Perak","Terengganu","Kelantan","Kota Bharu","Ipoh","Shah Alam","Subang Jaya","Petaling Jaya","Cyberjaya","Putrajaya","Labuan","Sabah","Sarawak","Online/Unknown","Others"];new Date().toISOString(),new Date(Date.now()-36e5).toISOString(),new Date(Date.now()-72e5).toISOString(),new Date(Date.now()-864e5).toISOString(),new Date(Date.now()-1296e5).toISOString();const E2={High:"bg-red-500/10 border-red-500 text-red-400",Medium:"bg-amber-500/10 border-amber-500 text-amber-400",Low:"bg-lime-200/60 border-lime-400 text-lime-700"},lZ=({severityFilter:t,sourceFilter:e,locationFilter:n,minConfidence:r,onToggleSeverity:i,onSelectAllSeverities:s,onSourceChange:l,onLocationChange:u,onMinConfidenceChange:c,onReset:f})=>{const[d,g]=tt.useState(!1),[y,m]=tt.useState(""),[x,S]=tt.useState(!1),[R,E]=tt.useState(""),M=Object.keys(E2).every(V=>t.includes(V)),P=V=>{V==="Others"?g(!0):(g(!1),m(""),l(V))},N=()=>{y.trim()&&(l(y.trim()),g(!1))},$=V=>{V==="Others"?S(!0):(S(!1),E(""),u(V))},Q=()=>{R.trim()&&(u(R.trim()),S(!1))};return ne.jsxs("div",{className:"bg-white/80 border-b border-lime-400/40 px-6 py-3 flex flex-wrap items-center gap-3",children:[ne.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-lime-700 font-mono uppercase tracking-widest",children:[ne.jsx(Gk,{size:12}),"Active Filters"]}),ne.jsxs("div",{className:"flex items-center gap-2",children:[ne.jsx("button",{onClick:s,className:`px-2 py-1 rounded border text-[10px] font-mono uppercase tracking-widest transition-all ${M?"bg-lime-200/60 border-lime-400 text-lime-800":"bg-white border-lime-300 text-green-700 hover:border-lime-400"}`,children:"All"}),Object.keys(E2).map(V=>{const G=!M&&t.includes(V);return ne.jsx("button",{onClick:()=>i(V),className:`px-2 py-1 rounded border text-[10px] font-mono uppercase tracking-widest transition-all ${G?E2[V]:"bg-white border-lime-300 text-green-700 hover:border-lime-400"}`,children:V},V)})]}),ne.jsxs("div",{className:"flex items-center gap-2",children:[ne.jsx("span",{className:"text-[10px] text-green-700 font-mono uppercase",children:"Source"}),d?ne.jsxs("div",{className:"flex items-center gap-1",children:[ne.jsx("input",{type:"text",value:y,onChange:V=>m(V.target.value),onKeyPress:V=>{V.key==="Enter"&&N()},placeholder:"Enter source...",className:"bg-lime-200 border border-lime-400/50 text-green-900 text-xs rounded px-2 py-1 focus:outline-none focus:border-lime-400/80",autoFocus:!0}),ne.jsx("button",{onClick:N,className:"px-2 py-1 rounded bg-lime-300/40 border border-lime-400/50 text-lime-700 hover:bg-lime-300/50 text-xs font-mono",children:"+"})]}):ne.jsxs("select",{value:e,onChange:V=>P(V.target.value),className:"bg-white border border-lime-300 text-green-900 text-xs rounded px-2 py-1 focus:outline-none focus:border-lime-400/50",children:[ne.jsx("option",{value:"All",children:"All"}),oZ.map(V=>ne.jsx("option",{value:V,children:V},V))]})]}),ne.jsxs("div",{className:"flex items-center gap-2",children:[ne.jsx("span",{className:"text-[10px] text-green-700 font-mono uppercase",children:"Location"}),x?ne.jsxs("div",{className:"flex items-center gap-1",children:[ne.jsx("input",{type:"text",value:R,onChange:V=>E(V.target.value),onKeyPress:V=>{V.key==="Enter"&&Q()},placeholder:"Enter location...",className:"bg-lime-200 border border-lime-400/50 text-green-900 text-xs rounded px-2 py-1 focus:outline-none focus:border-lime-400/80",autoFocus:!0}),ne.jsx("button",{onClick:Q,className:"px-2 py-1 rounded bg-lime-300/40 border border-lime-400/50 text-lime-700 hover:bg-lime-300/50 text-xs font-mono",children:"+"})]}):ne.jsxs("select",{value:n,onChange:V=>$(V.target.value),className:"bg-white border border-lime-300 text-green-900 text-xs rounded px-2 py-1 focus:outline-none focus:border-lime-400/50",children:[ne.jsx("option",{value:"All",children:"All"}),aZ.map(V=>ne.jsx("option",{value:V,children:V},V))]})]}),ne.jsxs("div",{className:"flex items-center gap-2",children:[ne.jsx(nL,{size:12,className:"text-lime-700"}),ne.jsx("span",{className:"text-[10px] text-green-700 font-mono uppercase",children:"Min Conf"}),ne.jsx("input",{type:"range",min:0,max:100,value:Math.round(r*100),onChange:V=>c(Number(V.target.value)/100),className:"w-28 accent-lime-600"}),ne.jsxs("span",{className:"text-[10px] text-green-900 font-mono",children:[Math.round(r*100),"%"]})]}),ne.jsxs("button",{onClick:f,className:"ml-auto flex items-center gap-1 px-2 py-1 rounded border border-lime-300 text-[10px] font-mono uppercase tracking-widest text-green-800 hover:border-lime-500/60 hover:text-lime-700 transition-colors",children:[ne.jsx(zk,{size:12}),"Reset"]})]})},uZ=({total:t,highCount:e,mediumCount:n,lowCount:r,avgConfidence:i,lastUpdated:s,activitySeries:l})=>{const u=Math.max(1,...l);return ne.jsxs("div",{className:"bg-white/70 border-b border-lime-300/60 px-6 py-3 grid grid-cols-2 md:grid-cols-4 gap-3",children:[ne.jsxs("div",{className:"bg-white/60 border border-lime-300 rounded-lg px-3 py-2",children:[ne.jsxs("div",{className:"flex items-center justify-between text-[10px] text-green-700 font-mono uppercase",children:["Total Cases",ne.jsx(Sl,{size:12,className:"text-lime-700"})]}),ne.jsx("div",{className:"text-2xl font-bold text-green-950 mt-1",children:t}),ne.jsxs("div",{className:"text-[10px] text-green-700 mt-1",children:["High ",e,"  Med ",n,"  Low ",r]})]}),ne.jsxs("div",{className:"bg-white/60 border border-lime-300 rounded-lg px-3 py-2",children:[ne.jsxs("div",{className:"flex items-center justify-between text-[10px] text-green-700 font-mono uppercase",children:["Avg Confidence",ne.jsx(sL,{size:12,className:"text-lime-700"})]}),ne.jsxs("div",{className:"text-2xl font-bold text-green-950 mt-1",children:[Math.round(i*100),"%"]}),ne.jsx("div",{className:"mt-2 flex items-end gap-1 h-6",children:l.map((c,f)=>ne.jsx("span",{className:"w-2 rounded bg-lime-600/60",style:{height:`${Math.max(3,c/u*24)}px`}},f))})]}),ne.jsxs("div",{className:"bg-white/60 border border-lime-300 rounded-lg px-3 py-2",children:[ne.jsxs("div",{className:"flex items-center justify-between text-[10px] text-green-700 font-mono uppercase",children:["Priority Focus",ne.jsx(Zk,{size:12,className:"text-red-400"})]}),ne.jsx("div",{className:"text-2xl font-bold text-green-950 mt-1",children:e}),ne.jsx("div",{className:"text-[10px] text-green-700 mt-1",children:"High priority open alerts"})]})]})},cZ=({expectedEmail:t,expectedPassword:e,expectedKey:n,onLoginSuccess:r})=>{const[i,s]=tt.useState(""),[l,u]=tt.useState(""),[c,f]=tt.useState(""),[d,g]=tt.useState(!1),[y,m]=tt.useState(null),x=S=>{if(S.preventDefault(),m(null),!t||!e||!n){m("Login is not configured. Please set the env values.");return}const R=i.trim().toLowerCase(),E=t.trim().toLowerCase(),M=c.trim(),P=n.trim();if(R===E&&l===e&&M===P){r();return}m("Invalid email, password, or access key.")};return ne.jsx("div",{className:"min-h-screen bg-lime-200 text-green-950 flex items-center justify-center px-6",children:ne.jsxs("div",{className:"w-full max-w-md border border-lime-400/40 bg-white/70 backdrop-blur-md shadow-2xl rounded-2xl p-8",children:[ne.jsx("div",{className:"text-xs uppercase tracking-[0.35em] text-lime-700 font-mono",children:"Wildscan Secure Access"}),ne.jsx("h1",{className:"mt-3 text-2xl font-semibold text-green-950",children:"Enforcement Login"}),ne.jsx("p",{className:"mt-2 text-sm text-green-800",children:"Use the fixed credentials and access key to continue."}),ne.jsxs("form",{className:"mt-6 space-y-4",onSubmit:x,children:[ne.jsxs("div",{className:"space-y-1",children:[ne.jsx("label",{className:"text-xs uppercase tracking-widest text-green-800",children:"Email"}),ne.jsx("input",{type:"email",value:i,onChange:S=>s(S.target.value),className:"w-full rounded-lg border border-lime-300 bg-white/80 px-3 py-2 text-sm text-green-950 outline-none focus:border-lime-400/70",placeholder:"xxxx@gmail.com",required:!0})]}),ne.jsxs("div",{className:"space-y-1",children:[ne.jsx("label",{className:"text-xs uppercase tracking-widest text-green-800",children:"Password"}),ne.jsxs("div",{className:"relative",children:[ne.jsx("input",{type:d?"text":"password",value:l,onChange:S=>u(S.target.value),className:"w-full rounded-lg border border-lime-300 bg-white/80 px-3 py-2 pr-16 text-sm text-green-950 outline-none focus:border-lime-400/70",placeholder:"Enter your password",required:!0}),ne.jsx("button",{type:"button",onClick:()=>g(S=>!S),className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs uppercase tracking-widest text-lime-700 hover:text-lime-800",children:d?"Hide":"Show"})]})]}),ne.jsxs("div",{className:"space-y-1",children:[ne.jsx("label",{className:"text-xs uppercase tracking-widest text-green-800",children:"Access Key"}),ne.jsx("input",{type:"text",value:c,onChange:S=>f(S.target.value),className:"w-full rounded-lg border border-lime-300 bg-white/80 px-3 py-2 text-sm text-green-950 outline-none focus:border-lime-400/70",placeholder:"WILD-ACCESS-XXXX",required:!0})]}),y&&ne.jsx("div",{className:"rounded-lg border border-rose-500/40 bg-rose-500/10 px-3 py-2 text-xs text-rose-200",children:y}),ne.jsx("button",{type:"submit",className:"w-full rounded-lg bg-lime-600/90 px-4 py-2 text-sm font-semibold text-green-950 transition hover:bg-white0",children:"Login"})]})]})})},A2="wildscan_dashboard_auth",Z3={lat:4.2105,lng:101.9758},fZ=()=>{const t="wildscan111@gmail.com",e="Wildscan@#111",n="WILD-ACCESS-8J4M7K",[r,i]=tt.useState(()=>typeof window>"u"?!1:window.localStorage.getItem(A2)==="true"),[s,l]=tt.useState([]),[u,c]=tt.useState([]),[f,d]=tt.useState(""),[g,y]=tt.useState(null),m=["High","Medium","Low"],[x,S]=tt.useState(m),[R,E]=tt.useState("All"),[M,P]=tt.useState("All"),[N,$]=tt.useState(0),[Q,V]=tt.useState([]),G=tt.useRef(new Set),C=tt.useRef(!1),X=tt.useRef(!1),[W,D]=tt.useState(!1),[B,F]=tt.useState(!1),[ve,ce]=tt.useState("connecting"),[ae,_e]=tt.useState(null),[xe,Ue]=tt.useState({}),[re,O]=tt.useState({}),[ee,se]=tt.useState({}),[me,ue]=tt.useState({}),[H,j]=tt.useState([]),ge=tt.useRef(new Set),he=je=>{const lt=je?.toLowerCase();return lt==="high"?"High":lt==="medium"?"Medium":"Low"},le=je=>{const lt=je?.toLowerCase();if(lt==="resolved"||lt==="successful")return"Resolved";if(lt==="investigating"||lt==="under investigation")return"Investigating";if(lt==="pending")return"Pending"},pe=je=>{if(typeof je?.location=="string")return je.location;const lt=je?.location??{},Pe=lt.name||je.location_name||je.locationName||je.state||je.location_state||je.locationState;if(Pe)return Pe;const et=[lt.city,lt.district,lt.state,lt.state_name,lt.stateName,lt.region,lt.region_name,lt.regionName,lt.province,lt.country].filter(kt=>typeof kt=="string"&&kt.trim().length>0);return et.length>0?et.join(", "):""},De=je=>je?.detectedSpecies||je?.detected_species||je?.speciesDetected||je?.species_detected||je?.detectedSpeciesName||je?.detected_species_name||je?.animal_type||je?.caseName||je?.case_name||"Unknown case",z=je=>je?.description||je?.summary||je?.reasonSummary||je?.reason_summary||je?.status||"Case updated.",Z=je=>pe(je)||"Unknown location",Y=je=>{if(!je)return!0;const lt=je.trim().toLowerCase();return lt.length===0||lt==="unknown"||lt==="unknown location"||lt==="n/a"},I=je=>{const lt=je?.address_components;if(!Array.isArray(lt))return"";const Pe=lt.find(et=>Array.isArray(et?.types)&&et.types.includes("administrative_area_level_1"));return Pe?.long_name?Pe.long_name:""},L=je=>{if(je){if(typeof je=="string")return je;if(typeof je?.toDate=="function")return je.toDate().toISOString();if(je instanceof Date)return je.toISOString();if(typeof je=="number")return new Date(je).toISOString()}},q=je=>{if(typeof je=="number"&&Number.isFinite(je))return je;if(typeof je=="string"){const lt=Number(je);return Number.isFinite(lt)?lt:void 0}},ye=je=>{const lt=(je?.detectedSpecies||je?.detected_species||je?.speciesDetected||je?.species_detected||je?.detectedSpeciesName||je?.detected_species_name||je?.animal_type||je?.caseName||je?.case_name||"").toString().trim().toLowerCase(),Pe=pe(je).toString().trim().toLowerCase();return!lt&&!Pe?"":`${lt}||${Pe}`},Ce=tt.useMemo(()=>{const je={};return s.forEach(lt=>{const Pe=ye(lt.data);Pe&&(je[Pe]=(je[Pe]||0)+1)}),je},[s]),Ae=(je,lt=[])=>{const Pe=je.data??{},et=Pe.location??{},kt=Pe.createdAt??Pe.createAt??Pe.created_at??Pe.timestamp??Pe.detectedAt??Pe.updatedAt,Yt=Pe.aiScannedAt??Pe.ai_scanned_at??Pe.aiScanAt??Pe.ai_scan_at??Pe.scannedAt??Pe.scanned_at,un=L(kt)??new Date().toISOString(),Yn=L(Yt),bn=typeof Pe.confidenceScore=="number"?Pe.confidenceScore:typeof Pe.confidence_score=="number"?Pe.confidence_score:typeof Pe.confidence=="number"?Pe.confidence:0,yn=re[je.id]||le(Pe.status),$n=ye(Pe),Gn=$n&&Ce[$n]||0,Ie=me[je.id],rt=q(et.lat)??q(et.latitude)??q(et._lat)??q(et.lat_value)??q(et?.geopoint?.latitude)??q(Pe.lat)??q(Pe.latitude)??q(Pe.location?.latitude)??q(Pe.location?.lat)??q(Pe.lat_value)??Z3.lat,vt=q(et.lng)??q(et.longitude)??q(et.long)??q(et.lon)??q(et._long)??q(et.lng_value)??q(et?.geopoint?.longitude)??q(Pe.lng)??q(Pe.longitude)??q(Pe.long)??q(Pe.lon)??q(Pe.location?.longitude)??q(Pe.location?.lng)??q(Pe.location?.long)??q(Pe.location?.lon)??q(Pe.lng_value)??Z3.lng,ut=lt[0];return{id:je.id,animal_type:Pe.detectedSpecies||Pe.detected_species||Pe.speciesDetected||Pe.species_detected||Pe.detectedSpeciesName||Pe.detected_species_name||Pe.animal_type||Pe.caseName||Pe.case_name||"",case_name:Pe.caseName||Pe.case_name||"",source:Pe.source||Pe.platformSource||Pe.platform_source||ut?.platformSource||"",platform_source:Pe.platformSource||Pe.platform_source||ut?.platformSource||Pe.source||"",image_url:ut?.fileUrl||Pe.image_url||Pe.imageUrl||"",lat:rt,lng:vt,timestamp:un,priority:he(Pe.priority),confidence:bn,confidence_score:bn,location_name:Ie||pe(Pe),species_detected:Pe.detectedSpecies||Pe.detected_species||Pe.speciesDetected||Pe.species_detected||Pe.detectedSpeciesName||Pe.detected_species_name||"",detected_species_name:Pe.detectedSpeciesName||Pe.detected_species_name||Pe.detectedSpecies||Pe.detected_species||Pe.speciesDetected||Pe.species_detected||"",detected_illegal_product:Pe.detectedIllegalProduct||Pe.detected_illegal_product||Pe.illegalProduct||Pe.illegal_product||"",ai_scanned_at:Yn,created_at:un,reason_summary:Pe.reasonSummary||Pe.reason_summary||Pe.summary_reason||"",reason:Pe.reason||Pe.reasons||Pe.reasonText||"",risk_score:typeof Pe.riskScore=="number"?Pe.riskScore:typeof Pe.risk_score=="number"?Pe.risk_score:void 0,user_handle:Pe.user_handle,post_url:Pe.post_url,description:Pe.description||Pe.summary||Pe.reasonSummary||Pe.reason_summary||ut?.aiSummary||Pe.status||"",status:yn,evidence_hash:ut?.hash||"",trust_score:Gn,evidence_images:lt}},Oe="caseStatus",We="notificationState",He="notifications";tt.useEffect(()=>{if(!r)return()=>{};let je=()=>{};try{if(!Un)return console.warn("Firestore not available. Falling back to mock data."),ce("offline"),_e("Firestore not available in this environment."),()=>{};ce("connecting");const lt=q3(Zm(Un,"cases"),z3("createdAt","desc"));je=ng(lt,Pe=>{if(Pe.empty){l([]),ce("connected"),_e(null),X.current=!0;return}const et=Pe.docChanges();if(X.current){const Yt=et.filter(un=>un.type==="modified").map(un=>({id:un.doc.id,data:un.doc.data()}));Yt.length>0&&j(un=>[...un,...Yt])}X.current=!0;const kt=Pe.docs.map(Yt=>({id:Yt.id,data:Yt.data()}));l(kt),ce("connected"),_e(null)},Pe=>{console.error("Firestore listening error: ",Pe),ce("error"),_e(Pe?.message||"Firestore connection failed.")})}catch(lt){console.warn("Firestore service initialization failed. Ensure API key and permissions are correct.",lt),ce("error"),_e("Firestore initialization failed.")}return()=>je()},[r]),tt.useEffect(()=>{if(!r)return()=>{};if(!Un)return()=>{};const je=Zm(Un,We),lt=ng(je,Pe=>{const et={};Pe.docs.forEach(kt=>{kt.data()?.read&&(et[kt.id]=!0)}),se(et)});return()=>lt()},[r]),tt.useEffect(()=>{if(!r)return()=>{};let je=()=>{};if(!Un)return()=>{};const lt=q3(Zm(Un,"evidence"),z3("uploadedAt","desc"));return je=ng(lt,Pe=>{if(Pe.empty){Ue({});return}const et={};Pe.docs.forEach(kt=>{const Yt=kt.data(),un=Yt.caseId,Yn=Yt.fileUrl,bn=Yt.platformSource,yn=Yt.aiSummary,$n=Yt.hash;if(!un||!Yn)return;let Gn=Yt.uploadedAt;Gn&&typeof Gn.toDate=="function"&&(Gn=Gn.toDate().toISOString());const Ie={id:kt.id,caseId:un,fileUrl:Yn,platformSource:bn,aiSummary:yn,hash:$n,uploadedAt:Gn};if(!et[un]){et[un]=[Ie];return}et[un].push(Ie)}),Object.values(et).forEach(kt=>{kt.sort((Yt,un)=>(un.uploadedAt||"").localeCompare(Yt.uploadedAt||""))}),Ue(et)}),()=>je()},[r]),tt.useEffect(()=>{if(!r)return()=>{};if(!Un)return()=>{};const je=Zm(Un,Oe),lt=ng(je,Pe=>{const et={};Pe.docs.forEach(kt=>{const un=kt.data()?.status;un&&(et[kt.id]=un)}),O(et)});return()=>lt()},[r]),tt.useEffect(()=>{const je=s.map(lt=>Ae(lt,xe[lt.id]));c(je)},[s,xe,re,me]),tt.useEffect(()=>{if(!r||!Un)return;const je="AIzaSyD04MCoHQ_n0U7ODku5-bY5uKeU237_o0k",lt=s.filter(Pe=>{const et=Pe.data??{},kt=pe(et),Yt=!!me[Pe.id];if(!Y(kt)||Yt)return!1;const un=et.location??{},Yn=typeof un.lat=="number"?un.lat:typeof et.lat=="number"?et.lat:null,bn=typeof un.lng=="number"?un.lng:typeof et.lng=="number"?et.lng:null;return!(typeof Yn!="number"||typeof bn!="number"||!Number.isFinite(Yn)||!Number.isFinite(bn)||ge.current.has(Pe.id))});lt.length!==0&&lt.forEach(async Pe=>{ge.current.add(Pe.id);const et=Pe.data??{},kt=et.location??{},Yt=typeof kt.lat=="number"?kt.lat:typeof et.lat=="number"?et.lat:null,un=typeof kt.lng=="number"?kt.lng:typeof et.lng=="number"?et.lng:null;if(typeof Yt!="number"||typeof un!="number"){ge.current.delete(Pe.id);return}try{const Yn=`https://maps.googleapis.com/maps/api/geocode/json?latlng=${Yt},${un}&key=${je}`,bn=await fetch(Yn);if(!bn.ok)throw new Error(`Geocoding HTTP ${bn.status}`);const yn=await bn.json(),$n=Array.isArray(yn?.results)?yn.results[0]:null,Gn=I($n);if(!Gn){ge.current.delete(Pe.id);return}ue(Ie=>({...Ie,[Pe.id]:Gn})),await tg(Po(Un,"cases",Pe.id),{location_name:Gn,locationState:Gn,state:Gn,geoResolvedAt:_s(),geoResolvedSource:"google_maps_reverse_geocode",updatedAt:_s()},{merge:!0})}catch(Yn){console.error("Failed to reverse geocode location:",Yn)}finally{ge.current.delete(Pe.id)}})},[s,Un,r,me]);const Ze=tt.useMemo(()=>Array.from(new Set(u.map(je=>je.source))).sort(),[u]),_t=tt.useMemo(()=>Array.from(new Set(u.map(je=>je.location_name).filter(je=>je&&je.trim()))).sort(),[u]),xt=tt.useMemo(()=>{const je=[];return Object.values(xe).forEach(lt=>{lt.forEach(Pe=>{!Pe.hash&&Pe.fileUrl&&je.push(Pe)})}),je},[xe]),Nt=tt.useMemo(()=>{const je=(Pe,et)=>{if(et==="All")return!0;if(!Pe)return!1;const kt=Pe.toLowerCase(),Yt=et.toLowerCase();return!!(kt===Yt||kt.includes(Yt)||Yt.includes(kt))},lt=(Pe,et)=>{if(et==="All")return!0;if(!Pe)return!1;const kt=Pe.toLowerCase(),Yt=et.toLowerCase();return!!(kt===Yt||kt.includes(Yt)||Yt.includes(kt))};return u.filter(Pe=>(Pe.animal_type?.toLowerCase().includes(f.toLowerCase())||Pe.case_name?.toLowerCase().includes(f.toLowerCase())||Pe.location_name?.toLowerCase().includes(f.toLowerCase())||Pe.source?.toLowerCase().includes(f.toLowerCase())||Pe.id?.toLowerCase().includes(f.toLowerCase()))&&x.includes(Pe.priority)&&je(Pe.source,R)&&lt(Pe.location_name,M)&&Pe.confidence>=N)},[u,N,f,x,R,M]);tt.useEffect(()=>{if(xt.length===0||!Un||!window.crypto?.subtle)return;(async()=>{for(const lt of xt)if(lt.fileUrl)try{const Pe=await fetch(lt.fileUrl,{mode:"cors"});if(!Pe.ok)continue;const et=await Pe.arrayBuffer(),kt=await window.crypto.subtle.digest("SHA-256",et),un=Array.from(new Uint8Array(kt)).map(Yn=>Yn.toString(16).padStart(2,"0")).join("");await MR(Po(Un,"evidence",lt.id),{hash:un,hashCalculatedAt:_s(),updatedAt:_s()}),console.log(` Hash calculated and saved for case ${lt.caseId}`)}catch(Pe){console.warn(`Failed to calculate hash for case ${lt.caseId}:`,Pe)}})()},[xt,Un]);const Ft=tt.useMemo(()=>{const je=Nt.length,lt=Nt.filter(yn=>yn.priority==="High").length,Pe=Nt.filter(yn=>yn.priority==="Medium").length,et=Nt.filter(yn=>yn.priority==="Low").length,kt=je>0?Nt.reduce((yn,$n)=>yn+$n.confidence,0)/je:0,Yt=Date.now(),un=3600*1e3,Yn=Array.from({length:7},()=>0);Nt.forEach(yn=>{const $n=new Date(yn.timestamp).getTime(),Gn=Yt-$n;if(Number.isFinite($n)&&Gn>=0&&Gn<=un*7){const Ie=Math.min(6,Math.floor(Gn/un));Yn[6-Ie]+=1}});const bn=Nt.map(yn=>new Date(yn.timestamp).getTime()).filter(yn=>Number.isFinite(yn)).sort((yn,$n)=>$n-yn)[0];return{total:je,highCount:lt,mediumCount:Pe,lowCount:et,avgConfidence:kt,activitySeries:Yn,lastUpdated:bn?new Date(bn).toLocaleTimeString():"N/A"}},[Nt]);g&&{High:"text-red-400",Medium:"text-amber-400",Low:"text-lime-700"}[g.priority];const gn=tt.useCallback((je,lt,Pe)=>{if(!(typeof window>"u"||!("Notification"in window))){if(Notification.permission==="granted"){const et=new Notification(je,{body:lt});Pe&&(et.onclick=()=>Pe());return}Notification.permission!=="denied"&&!C.current&&(C.current=!0,Notification.requestPermission().then(et=>{if(et==="granted"){const kt=new Notification(je,{body:lt});Pe&&(kt.onclick=()=>Pe())}}))}},[]),Mt=tt.useCallback(je=>{if(!Un||je.length===0)return;const lt=v2(Un);je.forEach(Pe=>{ee[Pe]||(lt.set(Po(Un,We,Pe),{caseId:Pe,read:!0,readAt:_s(),updatedAt:_s()},{merge:!0}),lt.set(Po(Un,He,Pe),{read:!0,readAt:_s(),updatedAt:_s()},{merge:!0}))}),lt.commit().catch(Pe=>{console.error("Failed to mark notifications as read:",Pe)})},[Un,ee]),Ot=tt.useCallback(je=>{const lt=u.find(Pe=>Pe.id===je);lt&&y(lt)},[u]);tt.useEffect(()=>{if(!r||!Un||H.length===0)return;const je=H.map((Pe,et)=>{const kt=De(Pe.data),Yt=z(Pe.data);return{id:`case-update-${Pe.id}-${Date.now()}-${et}`,caseId:Pe.id,title:kt,description:Yt,time:new Date().toLocaleTimeString()}}),lt=v2(Un);je.forEach(Pe=>{const et=H.find(Yt=>Yt.id===Pe.caseId),kt=et?Z(et.data):"Unknown location";lt.set(Po(Un,He,Pe.caseId),{caseId:Pe.caseId,title:Pe.title,location:kt,updatedAt:_s(),read:!1,type:"update"},{merge:!0}),lt.set(Po(Un,We,Pe.caseId),{caseId:Pe.caseId,read:!1,updatedAt:_s()},{merge:!0})}),lt.commit().catch(Pe=>{console.error("Failed to update notification records:",Pe)}),V(Pe=>[...je,...Pe].slice(0,3)),je.forEach(Pe=>{setTimeout(()=>{V(et=>et.filter(kt=>kt.id!==Pe.id))},6e3)}),je.forEach(Pe=>{gn(`Case updated: ${Pe.title}`,Pe.description,()=>Ot(Pe.caseId))}),j([])},[H,Un,z,Z,De,Ot,r,gn]);const tn=tt.useCallback(je=>{Ot(je),Mt([je]),D(!1)},[Ot,Mt]),sn=tt.useCallback(()=>{D(je=>!je)},[]);tt.useEffect(()=>{if(u.length===0)return;const je=G.current,lt=u.filter(Pe=>!je.has(Pe.id));if(je.size===0){u.forEach(Pe=>je.add(Pe.id));return}if(lt.length>0){lt.forEach(et=>je.add(et.id));const Pe=lt.map((et,kt)=>({id:`case-${et.id}-${Date.now()}-${kt}`,caseId:et.id,title:et.animal_type,description:et.description||"No description provided.",time:new Date().toLocaleTimeString()}));if(Un){const et=v2(Un);lt.forEach(kt=>{et.set(Po(Un,He,kt.id),{caseId:kt.id,title:kt.animal_type||kt.case_name||"Unknown case",location:kt.location_name||"Unknown location",createdAt:_s(),read:!1},{merge:!0})}),et.commit().catch(kt=>{console.error("Failed to create notification records:",kt)})}V(et=>[...Pe,...et].slice(0,3)),Pe.forEach(et=>{setTimeout(()=>{V(kt=>kt.filter(Yt=>Yt.id!==et.id))},6e3)}),lt.forEach(et=>{gn(et.animal_type,et.description||"No description provided.",()=>Ot(et.id))})}},[u,Ot,gn]),tt.useEffect(()=>{if(u.length===0){F(!1);return}const je=u.some(lt=>!ee[lt.id]);F(je)},[u,ee]),tt.useEffect(()=>{if(Nt.length>0){const je=Nt.find(lt=>lt.id===g?.id);g&&!je&&y(null)}else y(null)},[Nt,g?.id]);const zt=tt.useCallback(je=>{S([je])},[m]),Pn=tt.useCallback(()=>{S(m)},[m]),Kt=tt.useCallback(()=>{S(m),E("All"),P("All"),$(0)},[m]),on=tt.useCallback(()=>{i(!0),typeof window<"u"&&window.localStorage.setItem(A2,"true")},[]),Hn=tt.useCallback(()=>{i(!1),typeof window<"u"&&window.localStorage.removeItem(A2)},[]),Ut=tt.useCallback((je,lt)=>{if(O(kt=>{if(!lt){const{[je]:Yt,...un}=kt;return un}return{...kt,[je]:lt}}),!Un)return;const Pe=Po(Un,Oe,je),et=Po(Un,"cases",je);if(!lt){DX(Pe).catch(kt=>{console.error("Failed to clear case status:",kt)}),tg(et,{status:F3(),statusDate:F3(),updatedAt:_s()},{merge:!0}).catch(kt=>{console.error("Failed to reset case status on case:",kt)});return}tg(Pe,{caseId:je,status:lt,statusDate:_s(),updatedAt:_s()},{merge:!0}).catch(kt=>{console.error("Failed to save case status:",kt)}),tg(et,{status:lt,statusDate:_s(),updatedAt:_s()},{merge:!0}).catch(kt=>{console.error("Failed to update case status on case:",kt)})},[]),qt=tt.useCallback(je=>{y(je)},[]),Tn=tt.useCallback(je=>{y(je);const lt=["Pending","Investigating","Resolved"],Pe=je.status&&lt.includes(je.status)?je.status:"Pending",et=lt.indexOf(Pe),kt=et>=0?et+1:0,Yt=lt[kt%lt.length];Ut(je.id,Yt)},[Ut]);if(!r)return ne.jsx(cZ,{expectedEmail:t,expectedPassword:e,expectedKey:n,onLoginSuccess:on});const pi=tt.useMemo(()=>[...u].sort((lt,Pe)=>{const et=new Date(lt.timestamp).getTime(),kt=new Date(Pe.timestamp).getTime();return!Number.isFinite(et)&&!Number.isFinite(kt)?0:Number.isFinite(et)?Number.isFinite(kt)?kt-et:-1:1}).map(lt=>({id:`notice-${lt.id}`,caseId:lt.id,title:lt.animal_type||lt.case_name||"Unknown case",description:lt.description||"No description provided.",time:new Date(lt.timestamp).toLocaleString(),location:lt.location_name||"Unknown location",status:lt.status||"Pending",isRead:!!ee[lt.id]})),[u,ee]);return ne.jsxs("div",{className:"min-h-screen bg-lime-200 text-green-950 overflow-y-auto font-sans",dir:"rtl",children:[ne.jsxs("div",{className:"flex min-h-screen",dir:"ltr",children:[ne.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-lime-300/40 z-50 overflow-hidden",children:ne.jsx("div",{className:"h-full bg-lime-600 w-1/3 animate-[loading_3s_infinite]"})}),ne.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden relative",children:[ne.jsx(yL,{onSearch:d,notificationCases:pi,isNotificationsOpen:W,hasUnreadNotifications:B,onToggleNotifications:sn,onNotificationClick:tn,onLogout:Hn,firestoreStatus:ve,firestoreError:ae}),ne.jsx(lZ,{severityFilter:x,sourceFilter:R,locationFilter:M,minConfidence:N,availableSources:Ze,availableLocations:_t,onToggleSeverity:zt,onSelectAllSeverities:Pn,onSourceChange:E,onLocationChange:P,onMinConfidenceChange:$,onReset:Kt}),ne.jsx(uZ,{total:Ft.total,highCount:Ft.highCount,mediumCount:Ft.mediumCount,lowCount:Ft.lowCount,avgConfidence:Ft.avgConfidence,lastUpdated:Ft.lastUpdated,activitySeries:Ft.activitySeries}),ne.jsxs("main",{className:"flex flex-1 overflow-hidden relative",children:[Q.length>0&&ne.jsx("div",{className:"absolute top-4 right-6 z-40 space-y-2",children:Q.map(je=>ne.jsxs("button",{onClick:()=>Ot(je.caseId),className:"bg-white/90 border border-lime-400/50 shadow-xl rounded-lg px-4 py-3 text-left text-xs text-green-900 w-72 hover:border-lime-600/60 hover:bg-white/90 transition-colors",children:[ne.jsx("div",{className:"text-[10px] uppercase tracking-widest text-lime-700 font-mono",children:je.title}),ne.jsx("div",{className:"mt-1 text-green-950 line-clamp-3",children:je.description}),ne.jsx("div",{className:"mt-1 text-[10px] text-green-700 font-mono",children:je.time})]},je.id))}),ne.jsxs("div",{className:"flex flex-col flex-1 overflow-y-auto overflow-x-hidden",children:[ne.jsxs("div",{className:"h-48 border-b border-lime-400/40 bg-white/50 backdrop-blur-sm z-10 flex-shrink-0",children:[ne.jsxs("div",{className:"px-6 py-2 flex justify-between items-center bg-white/60 border-b border-lime-300/60",children:[ne.jsxs("div",{className:"flex items-center gap-2 text-lime-700 text-xs font-mono uppercase tracking-widest",children:[ne.jsx(Sl,{size:14,className:"animate-pulse"}),ne.jsxs("span",{children:["Live Detection Stream (",Nt.length,")"]})]}),ne.jsx("div",{className:"text-[10px] text-green-700 uppercase tracking-tighter",children:"Status: Secure Monitoring Active"})]}),ne.jsx(vL,{detections:Nt,onSelect:qt,selectedId:g?.id})]}),ne.jsxs("div",{className:"flex-1 min-h-[600px] relative bg-white flex-shrink-0",children:[ne.jsx(wL,{detections:u,selectedDetection:g,onMarkerClick:Tn}),ne.jsx("div",{className:"absolute bottom-4 left-4 z-10 flex flex-col gap-2 pointer-events-none",children:ne.jsxs("div",{className:"bg-white/80 backdrop-blur-md border border-lime-400/50 p-3 rounded-lg shadow-2xl",children:[ne.jsx("h3",{className:"text-lime-700 text-[10px] uppercase font-mono mb-2",children:"Location Priority"}),ne.jsx("div",{className:"flex flex-col gap-2 text-[10px] text-green-900 font-mono",children:ne.jsxs("div",{className:"flex items-center gap-2",children:[ne.jsxs("div",{className:"flex items-center gap-1",children:[ne.jsx(mh,{size:12,className:"text-red-400"}),ne.jsx("span",{children:"High"})]}),ne.jsxs("div",{className:"flex items-center gap-1",children:[ne.jsx(mh,{size:12,className:"text-amber-400"}),ne.jsx("span",{children:"Medium"})]}),ne.jsxs("div",{className:"flex items-center gap-1",children:[ne.jsx(mh,{size:12,className:"text-lime-700"}),ne.jsx("span",{children:"Low"})]})]})})]})})]})]}),ne.jsx("aside",{className:"w-96 border-l border-lime-400/40 bg-white/80 backdrop-blur-md transition-all duration-300 overflow-hidden flex flex-col shadow-2xl",children:ne.jsx(sZ,{detection:g,allDetections:u,onStatusChange:Ut})})]})]})]}),ne.jsx("style",{children:`
        @keyframes loading {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(300%); }
        }
      `})]})},s8=document.getElementById("root");if(!s8)throw new Error("Could not find root element to mount to");const hZ=Sk.createRoot(s8);hZ.render(ne.jsx(gk.StrictMode,{children:ne.jsx(fZ,{})}));export{Dr as _,dZ as c,eC as g};
